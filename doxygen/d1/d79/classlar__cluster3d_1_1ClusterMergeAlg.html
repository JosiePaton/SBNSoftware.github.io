<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>lar_cluster3d::ClusterMergeAlg Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../de/d87/namespacelar__cluster3d.html">lar_cluster3d</a></li><li class="navelem"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html">ClusterMergeAlg</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d2/dd0/classlar__cluster3d_1_1ClusterMergeAlg-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">lar_cluster3d::ClusterMergeAlg Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for lar_cluster3d::ClusterMergeAlg:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.png" usemap="#lar_cluster3d::ClusterMergeAlg_map" alt=""/>
  <map id="lar_cluster3d::ClusterMergeAlg_map" name="lar_cluster3d::ClusterMergeAlg_map">
<area href="../../d3/d11/classlar__cluster3d_1_1IClusterModAlg.html" title="IClusterModAlg interface class definiton. " alt="lar_cluster3d::IClusterModAlg" shape="rect" coords="0,0,188,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a23086fe3424afe3e2933a76b3084f526"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a23086fe3424afe3e2933a76b3084f526">ClusterMergeAlg</a> (const fhicl::ParameterSet &amp;)</td></tr>
<tr class="memdesc:a23086fe3424afe3e2933a76b3084f526"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a23086fe3424afe3e2933a76b3084f526">More...</a><br/></td></tr>
<tr class="separator:a23086fe3424afe3e2933a76b3084f526"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bc913653ce85d7d124db318d2eb6892"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a0bc913653ce85d7d124db318d2eb6892">~ClusterMergeAlg</a> ()</td></tr>
<tr class="memdesc:a0bc913653ce85d7d124db318d2eb6892"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a0bc913653ce85d7d124db318d2eb6892">More...</a><br/></td></tr>
<tr class="separator:a0bc913653ce85d7d124db318d2eb6892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0612974e57c0128efb5ce4486cff07f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a0612974e57c0128efb5ce4486cff07f6">configure</a> (fhicl::ParameterSet const &amp;pset) override</td></tr>
<tr class="memdesc:a0612974e57c0128efb5ce4486cff07f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface for configuring the particular algorithm tool.  <a href="#a0612974e57c0128efb5ce4486cff07f6">More...</a><br/></td></tr>
<tr class="separator:a0612974e57c0128efb5ce4486cff07f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a033ab071bf0440e40aca920f32999a5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a033ab071bf0440e40aca920f32999a5b">initializeHistograms</a> (art::TFileDirectory &amp;) override</td></tr>
<tr class="memdesc:a033ab071bf0440e40aca920f32999a5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface for initializing histograms if they are desired Note that the idea is to put hisgtograms in a subfolder.  <a href="#a033ab071bf0440e40aca920f32999a5b">More...</a><br/></td></tr>
<tr class="separator:a033ab071bf0440e40aca920f32999a5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa03a1b2c8b8b72ea49d47447b61d1a47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#aa03a1b2c8b8b72ea49d47447b61d1a47">ModifyClusters</a> (<a class="el" href="../../d1/d57/namespacereco.html#a648503bdb2a1c43233004aeeb1ef737d">reco::ClusterParametersList</a> &amp;) const override</td></tr>
<tr class="memdesc:aa03a1b2c8b8b72ea49d47447b61d1a47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan an input collection of clusters and modify those according to the specific implementing algorithm.  <a href="#aa03a1b2c8b8b72ea49d47447b61d1a47">More...</a><br/></td></tr>
<tr class="separator:aa03a1b2c8b8b72ea49d47447b61d1a47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae48c32904af2da51ea02d8ad1a02974a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#ae48c32904af2da51ea02d8ad1a02974a">getTimeToExecute</a> () const override</td></tr>
<tr class="memdesc:ae48c32904af2da51ea02d8ad1a02974a"><td class="mdescLeft">&#160;</td><td class="mdescRight">If monitoring, recover the time to execute a particular function.  <a href="#ae48c32904af2da51ea02d8ad1a02974a">More...</a><br/></td></tr>
<tr class="separator:ae48c32904af2da51ea02d8ad1a02974a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classlar__cluster3d_1_1IClusterModAlg"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classlar__cluster3d_1_1IClusterModAlg')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d3/d11/classlar__cluster3d_1_1IClusterModAlg.html">lar_cluster3d::IClusterModAlg</a></td></tr>
<tr class="memitem:aae16c54266e76636dfe73ed0e221aab3 inherit pub_methods_classlar__cluster3d_1_1IClusterModAlg"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d11/classlar__cluster3d_1_1IClusterModAlg.html#aae16c54266e76636dfe73ed0e221aab3">~IClusterModAlg</a> () noexcept=<a class="el" href="../../de/d36/crtt0matchingalg__sbnd_8fcl.html#a6c2384a9e3f7a8c21ae6f762a8ee0ece">default</a></td></tr>
<tr class="memdesc:aae16c54266e76636dfe73ed0e221aab3 inherit pub_methods_classlar__cluster3d_1_1IClusterModAlg"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual Destructor.  <a href="#aae16c54266e76636dfe73ed0e221aab3">More...</a><br/></td></tr>
<tr class="separator:aae16c54266e76636dfe73ed0e221aab3 inherit pub_methods_classlar__cluster3d_1_1IClusterModAlg"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ab253caf68ec6980cca596754a485ec46"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#ab253caf68ec6980cca596754a485ec46">linearClusters</a> (<a class="el" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a> &amp;, <a class="el" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a> &amp;) const </td></tr>
<tr class="separator:ab253caf68ec6980cca596754a485ec46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1621d12991fc680905edb862af1860b7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1621d12991fc680905edb862af1860b7">mergeClusters</a> (<a class="el" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a> &amp;, <a class="el" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a> &amp;) const </td></tr>
<tr class="separator:a1621d12991fc680905edb862af1860b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16fc98b4b1a6cff8e4d357d2426e8ced"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a16fc98b4b1a6cff8e4d357d2426e8ced">closestApproach</a> (const Eigen::Vector3f &amp;, const Eigen::Vector3f &amp;, const Eigen::Vector3f &amp;, const Eigen::Vector3f &amp;, Eigen::Vector3f &amp;, Eigen::Vector3f &amp;, Eigen::Vector3f &amp;) const </td></tr>
<tr class="separator:a16fc98b4b1a6cff8e4d357d2426e8ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73ac7152010c6ebd41b9c3c6ac211635"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../df/d06/classreco_1_1ClusterHit3D.html">reco::ClusterHit3D</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a73ac7152010c6ebd41b9c3c6ac211635">findClosestHit3D</a> (const Eigen::Vector3f &amp;, const Eigen::Vector3f &amp;, const <a class="el" href="../../d1/d57/namespacereco.html#ad2e55059e696dd652ce2edaccbb18b66">reco::HitPairListPtr</a> &amp;) const </td></tr>
<tr class="separator:a73ac7152010c6ebd41b9c3c6ac211635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aba095d6d848d02e1594cc65a04695b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../df/d06/classreco_1_1ClusterHit3D.html">reco::ClusterHit3D</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a9aba095d6d848d02e1594cc65a04695b">findFurthestHit3D</a> (const Eigen::Vector3f &amp;, const Eigen::Vector3f &amp;, const <a class="el" href="../../d1/d57/namespacereco.html#ad2e55059e696dd652ce2edaccbb18b66">reco::HitPairListPtr</a> &amp;) const </td></tr>
<tr class="separator:a9aba095d6d848d02e1594cc65a04695b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a337c192bde3880fc55865d95d4020614"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a337c192bde3880fc55865d95d4020614">fEnableMonitoring</a></td></tr>
<tr class="memdesc:a337c192bde3880fc55865d95d4020614"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d4/ddc/structData.html">Data</a> members to follow.  <a href="#a337c192bde3880fc55865d95d4020614">More...</a><br/></td></tr>
<tr class="separator:a337c192bde3880fc55865d95d4020614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbec4f204bf72cbb16d7f5eff1d82204"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#abbec4f204bf72cbb16d7f5eff1d82204">fMinTransEigenVal</a></td></tr>
<tr class="memdesc:abbec4f204bf72cbb16d7f5eff1d82204"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a mininum allowed value for the transverse eigen values.  <a href="#abbec4f204bf72cbb16d7f5eff1d82204">More...</a><br/></td></tr>
<tr class="separator:abbec4f204bf72cbb16d7f5eff1d82204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f6d6ec92da17e817e3e080b6b1afeff"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1f6d6ec92da17e817e3e080b6b1afeff">fMinEigenToProcess</a></td></tr>
<tr class="memdesc:a1f6d6ec92da17e817e3e080b6b1afeff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Don't look anymore at clusters below this size.  <a href="#a1f6d6ec92da17e817e3e080b6b1afeff">More...</a><br/></td></tr>
<tr class="separator:a1f6d6ec92da17e817e3e080b6b1afeff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b73492bd18dd9aecad325648c15ad6c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a9b73492bd18dd9aecad325648c15ad6c">fOutputHistograms</a></td></tr>
<tr class="memdesc:a9b73492bd18dd9aecad325648c15ad6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take the time to create and fill some histograms for diagnostics.  <a href="#a9b73492bd18dd9aecad325648c15ad6c">More...</a><br/></td></tr>
<tr class="separator:a9b73492bd18dd9aecad325648c15ad6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6c5de48ae8040bfc8f755e5f877bbff"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#aa6c5de48ae8040bfc8f755e5f877bbff">fTimeToProcess</a></td></tr>
<tr class="memdesc:aa6c5de48ae8040bfc8f755e5f877bbff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keep track of how long it took to run this algorithm.  <a href="#aa6c5de48ae8040bfc8f755e5f877bbff">More...</a><br/></td></tr>
<tr class="separator:aa6c5de48ae8040bfc8f755e5f877bbff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3100bb166d8451ee3b312f9a0f968974"><td class="memItemLeft" align="right" valign="top">std::vector&lt; TH1F * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a3100bb166d8451ee3b312f9a0f968974">fFirstEigenValueHists</a></td></tr>
<tr class="memdesc:a3100bb166d8451ee3b312f9a0f968974"><td class="mdescLeft">&#160;</td><td class="mdescRight">First Cluster eigen value.  <a href="#a3100bb166d8451ee3b312f9a0f968974">More...</a><br/></td></tr>
<tr class="separator:a3100bb166d8451ee3b312f9a0f968974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d929fc684de2bf8313ae2ced0e52e65"><td class="memItemLeft" align="right" valign="top">std::vector&lt; TH1F * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a0d929fc684de2bf8313ae2ced0e52e65">fNextEigenValueHists</a></td></tr>
<tr class="memdesc:a0d929fc684de2bf8313ae2ced0e52e65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Next Cluster eigen value.  <a href="#a0d929fc684de2bf8313ae2ced0e52e65">More...</a><br/></td></tr>
<tr class="separator:a0d929fc684de2bf8313ae2ced0e52e65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39bc7574d64c4e9870b361c04be20939"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a39bc7574d64c4e9870b361c04be20939">fNumMergedClusters</a></td></tr>
<tr class="memdesc:a39bc7574d64c4e9870b361c04be20939"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many clusters were merged?  <a href="#a39bc7574d64c4e9870b361c04be20939">More...</a><br/></td></tr>
<tr class="separator:a39bc7574d64c4e9870b361c04be20939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a174d0adf3c5b8b721b8efb3ce5f6da20"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a174d0adf3c5b8b721b8efb3ce5f6da20">f1stTo2ndPosLenHist</a></td></tr>
<tr class="memdesc:a174d0adf3c5b8b721b8efb3ce5f6da20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distance between cluster centers.  <a href="#a174d0adf3c5b8b721b8efb3ce5f6da20">More...</a><br/></td></tr>
<tr class="separator:a174d0adf3c5b8b721b8efb3ce5f6da20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d88efd57504ba688951b4ec420e4c0f"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1d88efd57504ba688951b4ec420e4c0f">fRMaxFirstHist</a></td></tr>
<tr class="memdesc:a1d88efd57504ba688951b4ec420e4c0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">radius of "cylinder" first cluster  <a href="#a1d88efd57504ba688951b4ec420e4c0f">More...</a><br/></td></tr>
<tr class="separator:a1d88efd57504ba688951b4ec420e4c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d5c7f8ce938f1d21df46405235973bc"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1d5c7f8ce938f1d21df46405235973bc">fCosMaxFirstHist</a></td></tr>
<tr class="memdesc:a1d5c7f8ce938f1d21df46405235973bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cos angle beteeen cylinder axis and edge.  <a href="#a1d5c7f8ce938f1d21df46405235973bc">More...</a><br/></td></tr>
<tr class="separator:a1d5c7f8ce938f1d21df46405235973bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adacc43c0be7688cc720906eac8be1f5c"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#adacc43c0be7688cc720906eac8be1f5c">fCosFirstAxisHist</a></td></tr>
<tr class="memdesc:adacc43c0be7688cc720906eac8be1f5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cos angle between vector between centers and first axis.  <a href="#adacc43c0be7688cc720906eac8be1f5c">More...</a><br/></td></tr>
<tr class="separator:adacc43c0be7688cc720906eac8be1f5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6c6ce80f7709e511f7a25c3f4e2b087"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#ac6c6ce80f7709e511f7a25c3f4e2b087">f1stTo2ndProjEigenHist</a></td></tr>
<tr class="memdesc:ac6c6ce80f7709e511f7a25c3f4e2b087"><td class="mdescLeft">&#160;</td><td class="mdescRight">arc length along vector between centers from first center to cylinder  <a href="#ac6c6ce80f7709e511f7a25c3f4e2b087">More...</a><br/></td></tr>
<tr class="separator:ac6c6ce80f7709e511f7a25c3f4e2b087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ad999752bb9a30bdccf3ad76c1d38d"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a44ad999752bb9a30bdccf3ad76c1d38d">fRMaxNextHist</a></td></tr>
<tr class="memdesc:a44ad999752bb9a30bdccf3ad76c1d38d"><td class="mdescLeft">&#160;</td><td class="mdescRight">radius of "cylinder" next cluster  <a href="#a44ad999752bb9a30bdccf3ad76c1d38d">More...</a><br/></td></tr>
<tr class="separator:a44ad999752bb9a30bdccf3ad76c1d38d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88856ede897c69ad406efb0ba703c6cf"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a88856ede897c69ad406efb0ba703c6cf">fCosMaxNextHist</a></td></tr>
<tr class="memdesc:a88856ede897c69ad406efb0ba703c6cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cos angle beteeen cylinder axis and edge.  <a href="#a88856ede897c69ad406efb0ba703c6cf">More...</a><br/></td></tr>
<tr class="separator:a88856ede897c69ad406efb0ba703c6cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a828804bb3da00b872289ae18c71394ce"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a828804bb3da00b872289ae18c71394ce">fCosNextAxisHist</a></td></tr>
<tr class="memdesc:a828804bb3da00b872289ae18c71394ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cos angle between vector between centers and next axis.  <a href="#a828804bb3da00b872289ae18c71394ce">More...</a><br/></td></tr>
<tr class="separator:a828804bb3da00b872289ae18c71394ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4952f1d908a1b55190c44bebabd5c03b"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a4952f1d908a1b55190c44bebabd5c03b">f2ndTo1stProjEigenHist</a></td></tr>
<tr class="memdesc:a4952f1d908a1b55190c44bebabd5c03b"><td class="mdescLeft">&#160;</td><td class="mdescRight">arc length along vector between centers from next center to cylinder  <a href="#a4952f1d908a1b55190c44bebabd5c03b">More...</a><br/></td></tr>
<tr class="separator:a4952f1d908a1b55190c44bebabd5c03b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a164dc27c0bdf678167f78a504e684d81"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a164dc27c0bdf678167f78a504e684d81">fGapBetweenClusHist</a></td></tr>
<tr class="memdesc:a164dc27c0bdf678167f78a504e684d81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gap between clusters.  <a href="#a164dc27c0bdf678167f78a504e684d81">More...</a><br/></td></tr>
<tr class="separator:a164dc27c0bdf678167f78a504e684d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a283450f3a2b345b23713f9c57f4dc8ac"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a283450f3a2b345b23713f9c57f4dc8ac">fGapRatToLenHist</a></td></tr>
<tr class="memdesc:a283450f3a2b345b23713f9c57f4dc8ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ratio of gap to distance between centers.  <a href="#a283450f3a2b345b23713f9c57f4dc8ac">More...</a><br/></td></tr>
<tr class="separator:a283450f3a2b345b23713f9c57f4dc8ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71bbbd7e7af23b8ca4880481f9d5baec"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a71bbbd7e7af23b8ca4880481f9d5baec">fProjEndPointLenHist</a></td></tr>
<tr class="memdesc:a71bbbd7e7af23b8ca4880481f9d5baec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Projection of vector between the endpoints.  <a href="#a71bbbd7e7af23b8ca4880481f9d5baec">More...</a><br/></td></tr>
<tr class="separator:a71bbbd7e7af23b8ca4880481f9d5baec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addbe997e4e0ed0ce20bbd6036ddb72ea"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#addbe997e4e0ed0ce20bbd6036ddb72ea">fProjEndPointRatHist</a></td></tr>
<tr class="memdesc:addbe997e4e0ed0ce20bbd6036ddb72ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ratio of projection to vector length.  <a href="#addbe997e4e0ed0ce20bbd6036ddb72ea">More...</a><br/></td></tr>
<tr class="separator:addbe997e4e0ed0ce20bbd6036ddb72ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a545997d61cd08fb84984d6c9fcdf177b"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a545997d61cd08fb84984d6c9fcdf177b">fAxesDocaHist</a></td></tr>
<tr class="memdesc:a545997d61cd08fb84984d6c9fcdf177b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closest distance between two primary axes.  <a href="#a545997d61cd08fb84984d6c9fcdf177b">More...</a><br/></td></tr>
<tr class="separator:a545997d61cd08fb84984d6c9fcdf177b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1411b2cfb720f519408e79934f95118c"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1411b2cfb720f519408e79934f95118c">f1stDocaArcLRatHist</a></td></tr>
<tr class="memdesc:a1411b2cfb720f519408e79934f95118c"><td class="mdescLeft">&#160;</td><td class="mdescRight">arc length to POCA for DOCA first cluster  <a href="#a1411b2cfb720f519408e79934f95118c">More...</a><br/></td></tr>
<tr class="separator:a1411b2cfb720f519408e79934f95118c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a038c43f62528bad5f76e1688e8b9a7fc"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a038c43f62528bad5f76e1688e8b9a7fc">f2ndDocaArcLRatHist</a></td></tr>
<tr class="memdesc:a038c43f62528bad5f76e1688e8b9a7fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">arc length to POCA for DOCA second cluster  <a href="#a038c43f62528bad5f76e1688e8b9a7fc">More...</a><br/></td></tr>
<tr class="separator:a038c43f62528bad5f76e1688e8b9a7fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abea8863b3dadbd7d051ac0c28105d3fa"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#abea8863b3dadbd7d051ac0c28105d3fa">f1stTo2ndPosLenRatHist</a></td></tr>
<tr class="memdesc:abea8863b3dadbd7d051ac0c28105d3fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ratio of distance between centers and first proj eigen.  <a href="#abea8863b3dadbd7d051ac0c28105d3fa">More...</a><br/></td></tr>
<tr class="separator:abea8863b3dadbd7d051ac0c28105d3fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26e6d59a544e6b558a9c68d317400e02"><td class="memItemLeft" align="right" valign="top">TH1F *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a26e6d59a544e6b558a9c68d317400e02">fGapRatHist</a></td></tr>
<tr class="memdesc:a26e6d59a544e6b558a9c68d317400e02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ratio of gap and next proj eigen.  <a href="#a26e6d59a544e6b558a9c68d317400e02">More...</a><br/></td></tr>
<tr class="separator:a26e6d59a544e6b558a9c68d317400e02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa28bca7751c3aee645704ffcbfded36b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d48/classlar__cluster3d_1_1PrincipalComponentsAlg.html">PrincipalComponentsAlg</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#aa28bca7751c3aee645704ffcbfded36b">fPCAAlg</a></td></tr>
<tr class="separator:aa28bca7751c3aee645704ffcbfded36b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00034">34</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a23086fe3424afe3e2933a76b3084f526"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lar_cluster3d::ClusterMergeAlg::ClusterMergeAlg </td>
          <td>(</td>
          <td class="paramtype">const fhicl::ParameterSet &amp;&#160;</td>
          <td class="paramname"><em>pset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pset</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00126">126</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                                                              :</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#aa28bca7751c3aee645704ffcbfded36b">fPCAAlg</a>(pset.get&lt;fhicl::ParameterSet&gt;(<span class="stringliteral">&quot;PrincipalComponentsAlg&quot;</span>))</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    this-&gt;<a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a0612974e57c0128efb5ce4486cff07f6">configure</a>(pset);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a0612974e57c0128efb5ce4486cff07f6"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a0612974e57c0128efb5ce4486cff07f6">lar_cluster3d::ClusterMergeAlg::configure</a></div><div class="ttdeci">void configure(fhicl::ParameterSet const &amp;pset) override</div><div class="ttdoc">Interface for configuring the particular algorithm tool. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00140">ClusterMergeAlg_tool.cc:140</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_aa28bca7751c3aee645704ffcbfded36b"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#aa28bca7751c3aee645704ffcbfded36b">lar_cluster3d::ClusterMergeAlg::fPCAAlg</a></div><div class="ttdeci">PrincipalComponentsAlg fPCAAlg</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00123">ClusterMergeAlg_tool.cc:123</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0bc913653ce85d7d124db318d2eb6892"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lar_cluster3d::ClusterMergeAlg::~ClusterMergeAlg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00134">134</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;{</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a16fc98b4b1a6cff8e4d357d2426e8ced"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_cluster3d::ClusterMergeAlg::closestApproach </td>
          <td>(</td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>P0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>u0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>P1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>u1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>poca0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>poca1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>firstNextUnit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00580">580</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;{</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="comment">// Technique is to compute the arclength to each point of closest approach</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    Eigen::Vector3f w0 = <a class="code" href="../../db/d3d/icaruscode_2fcl_2gen_2single_2prodsingle__electron__pi_09__bnblike__forward_8fcl.html#ab8808e8ced8feb61cde92c2860d432b4">P0</a> - P1;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a>(1.);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordtype">float</span> b(u0.dot(u1));</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordtype">float</span> c(1.);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordtype">float</span> d(u0.dot(w0));</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a>(u1.dot(w0));</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordtype">float</span> den(<a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a> * c - b * b);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="comment">// Make sure lines are not colinear</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(den) &gt; 10. * std::numeric_limits&lt;float&gt;::epsilon())</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordtype">float</span> arcLen0 = (b * <a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a> - c * d) / den;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordtype">float</span> arcLen1 = (<a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a> * <a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a> - b * d) / den;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        poca0 = <a class="code" href="../../db/d3d/icaruscode_2fcl_2gen_2single_2prodsingle__electron__pi_09__bnblike__forward_8fcl.html#ab8808e8ced8feb61cde92c2860d432b4">P0</a> + arcLen0 * u0;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        poca1 = P1 + arcLen1 * u1;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="comment">// Otherwise, take the poca to be the distance to the line at the second point</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordtype">float</span> arcLenToNextPoint = w0.dot(u0);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        poca0 = <a class="code" href="../../db/d3d/icaruscode_2fcl_2gen_2single_2prodsingle__electron__pi_09__bnblike__forward_8fcl.html#ab8808e8ced8feb61cde92c2860d432b4">P0</a> + arcLenToNextPoint * u0;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        poca1 = P1;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    firstNextUnit = poca1 - poca0;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordtype">float</span> docaDist = firstNextUnit.norm();</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    firstNextUnit = firstNextUnit.normalized();</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">return</span> docaDist;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;}</div>
<div class="ttc" id="decode__signalprocess__icarus_8fcl_html_a2a105cb669129f9c63eb7a4c15bf2d9b"><div class="ttname"><a href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a></div><div class="ttdeci">process_name gaushit a</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8f/decode__signalprocess__icarus_8fcl_source.html#l00037">decode_signalprocess_icarus.fcl:37</a></div></div>
<div class="ttc" id="sparse__vector__test_8cc_html_a39f16bf854ba527dee7eba5bbbd93f3f"><div class="ttname"><a href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a></div><div class="ttdeci">T abs(T value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d59/sparse__vector__test_8cc_source.html#l00030">sparse_vector_test.cc:30</a></div></div>
<div class="ttc" id="updateVersionList_8sh_html_a067a8c1534d6da9b2c501a6cf4ef89bd"><div class="ttname"><a href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a></div><div class="ttdeci">do i e</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dca/updateVersionList_8sh_source.html#l00068">updateVersionList.sh:68</a></div></div>
<div class="ttc" id="icaruscode_2fcl_2gen_2single_2prodsingle__electron__pi_09__bnblike__forward_8fcl_html_ab8808e8ced8feb61cde92c2860d432b4"><div class="ttname"><a href="../../db/d3d/icaruscode_2fcl_2gen_2single_2prodsingle__electron__pi_09__bnblike__forward_8fcl.html#ab8808e8ced8feb61cde92c2860d432b4">P0</a></div><div class="ttdeci">process_name physics producers generator hPHist_pi physics producers generator P0</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3d/icaruscode_2fcl_2gen_2single_2prodsingle__electron__pi_09__bnblike__forward_8fcl_source.html#l00010">icaruscode/fcl/gen/single/prodsingle_electron_pi+_bnblike_forward.fcl:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0612974e57c0128efb5ce4486cff07f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_cluster3d::ClusterMergeAlg::configure </td>
          <td>(</td>
          <td class="paramtype">fhicl::ParameterSet const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interface for configuring the particular algorithm tool. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ParameterSet</td><td>The input set of parameters for configuration </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d3/d11/classlar__cluster3d_1_1IClusterModAlg.html#a5ddf95487185c1e363c3dd63a68ceabc">lar_cluster3d::IClusterModAlg</a>.</p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00140">140</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a337c192bde3880fc55865d95d4020614">fEnableMonitoring</a>     = pset.get&lt;<span class="keywordtype">bool</span>&gt; (<span class="stringliteral">&quot;EnableMonitoring&quot;</span>,     <a class="code" href="../../df/d43/crtt0matchingalg__icarus_8fcl.html#af8bc618309fb2d0f55f7f5ae0760b466">true</a>  );</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#abbec4f204bf72cbb16d7f5eff1d82204">fMinTransEigenVal</a>     = pset.get&lt;<span class="keywordtype">float</span>&gt;(<span class="stringliteral">&quot;MinTransEigenVal&quot;</span>,     0.09  );</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1f6d6ec92da17e817e3e080b6b1afeff">fMinEigenToProcess</a>    = pset.get&lt;<span class="keywordtype">float</span>&gt;(<span class="stringliteral">&quot;MinEigenToProcess&quot;</span>,    2.0   );</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a9b73492bd18dd9aecad325648c15ad6c">fOutputHistograms</a>     = pset.get&lt;<span class="keywordtype">bool</span>&gt; (<span class="stringliteral">&quot;OutputHistograms&quot;</span>,     <a class="code" href="../../d7/d6f/namespacelarg4.html#a7eeba60c219f2d1b4094606a12d28d18">false</a> );</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#aa6c5de48ae8040bfc8f755e5f877bbff">fTimeToProcess</a> = 0.;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">// If asked, define some histograms</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">if</span> (fOutputHistograms)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="comment">// Access ART&#39;s TFileService, which will handle creating and writing</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="comment">// histograms and n-tuples for us.</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        art::ServiceHandle&lt;art::TFileService&gt; <a class="code" href="../../dd/d33/NuVertexChargeTree__module_8cc.html#aa8ae0901ab0cec47d6c9bf9c22af764f">tfs</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="comment">// Make a directory for these histograms</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        art::TFileDirectory <a class="code" href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dir</a> = tfs-&gt;mkdir(<span class="stringliteral">&quot;MergeClusters&quot;</span>);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a3100bb166d8451ee3b312f9a0f968974">fFirstEigenValueHists</a>.resize(3,<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a0d929fc684de2bf8313ae2ced0e52e65">fNextEigenValueHists</a>.resize(3,<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        std::vector&lt;float&gt; maxValsVec = {20., 50., 250.};</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> idx : {0, 1, 2})</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a3100bb166d8451ee3b312f9a0f968974">fFirstEigenValueHists</a>[idx] = dir.make&lt;TH1F&gt;(Form(<span class="stringliteral">&quot;FEigen1st%1zu&quot;</span>,idx),<span class="stringliteral">&quot;Eigen Val&quot;</span>, 200, 0., maxValsVec[idx]);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a0d929fc684de2bf8313ae2ced0e52e65">fNextEigenValueHists</a>[idx]  = dir.make&lt;TH1F&gt;(Form(<span class="stringliteral">&quot;FEigen2nd%1zu&quot;</span>,idx),<span class="stringliteral">&quot;Eigen Val&quot;</span>, 200, 0., maxValsVec[idx]);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a39bc7574d64c4e9870b361c04be20939">fNumMergedClusters</a>      = dir.make&lt;TH1F&gt;(<span class="stringliteral">&quot;NumMergedClus&quot;</span>,      <span class="stringliteral">&quot;Number Merged&quot;</span>,             200,    0., 1000.);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a174d0adf3c5b8b721b8efb3ce5f6da20">f1stTo2ndPosLenHist</a>     = dir.make&lt;TH1F&gt;(<span class="stringliteral">&quot;1stTo2ndPosLen&quot;</span>,     <span class="stringliteral">&quot;Distance between Clusters&quot;</span>, 250,    0., 1000.);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1d88efd57504ba688951b4ec420e4c0f">fRMaxFirstHist</a>          = dir.make&lt;TH1F&gt;(<span class="stringliteral">&quot;rMaxFirst&quot;</span>,          <span class="stringliteral">&quot;Radius of First Cluster&quot;</span>,   200,    0., 100.);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1d5c7f8ce938f1d21df46405235973bc">fCosMaxFirstHist</a>        = dir.make&lt;TH1F&gt;(<span class="stringliteral">&quot;CosMaxFirst&quot;</span>,        <span class="stringliteral">&quot;Cos Angle First Cyl/Axis&quot;</span>,  200,    0., 1.  );</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#adacc43c0be7688cc720906eac8be1f5c">fCosFirstAxisHist</a>       = dir.make&lt;TH1F&gt;(<span class="stringliteral">&quot;CosFirstAxis&quot;</span>,       <span class="stringliteral">&quot;Cos Angle First Next/Axis&quot;</span>, 200,    0., 1.  );</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#ac6c6ce80f7709e511f7a25c3f4e2b087">f1stTo2ndProjEigenHist</a>  = dir.make&lt;TH1F&gt;(<span class="stringliteral">&quot;1stTo2ndProjEigen&quot;</span>,  <span class="stringliteral">&quot;Projected Distance First&quot;</span>,  200,    0., 200.);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a44ad999752bb9a30bdccf3ad76c1d38d">fRMaxNextHist</a>           = dir.make&lt;TH1F&gt;(<span class="stringliteral">&quot;rMaxNext&quot;</span>,           <span class="stringliteral">&quot;Radius of Next Cluster&quot;</span>,    200,    0., 100.);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a88856ede897c69ad406efb0ba703c6cf">fCosMaxNextHist</a>         = <a class="code" href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dir</a>.make&lt;TH1F&gt;(<span class="stringliteral">&quot;CosMaxNext&quot;</span>,         <span class="stringliteral">&quot;Cos Angle Next Cyl/Axis&quot;</span>,   200,    0., 1.  );</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a828804bb3da00b872289ae18c71394ce">fCosNextAxisHist</a>        = <a class="code" href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dir</a>.make&lt;TH1F&gt;(<span class="stringliteral">&quot;CosNextAxis&quot;</span>,        <span class="stringliteral">&quot;Cos Angle Next Next/Axis&quot;</span>,  200,    0., 1.  );</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a4952f1d908a1b55190c44bebabd5c03b">f2ndTo1stProjEigenHist</a>  = <a class="code" href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dir</a>.make&lt;TH1F&gt;(<span class="stringliteral">&quot;2ndTo1stProjEigen&quot;</span>,  <span class="stringliteral">&quot;Projected Distance Next&quot;</span>,   200,    0., 200.);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a164dc27c0bdf678167f78a504e684d81">fGapBetweenClusHist</a>     = <a class="code" href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dir</a>.make&lt;TH1F&gt;(<span class="stringliteral">&quot;ClusterGap&quot;</span>,         <span class="stringliteral">&quot;Gap Between Clusters&quot;</span>,      400, -200., 200.);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a283450f3a2b345b23713f9c57f4dc8ac">fGapRatToLenHist</a>        = <a class="code" href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dir</a>.make&lt;TH1F&gt;(<span class="stringliteral">&quot;GapRatToLen&quot;</span>,        <span class="stringliteral">&quot;Ratio Gap to Distance&quot;</span>,     100,   -8.,   2.);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a71bbbd7e7af23b8ca4880481f9d5baec">fProjEndPointLenHist</a>    = <a class="code" href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dir</a>.make&lt;TH1F&gt;(<span class="stringliteral">&quot;ProjEndPointLen&quot;</span>,    <span class="stringliteral">&quot;Projected End Point Len&quot;</span>,   200, -100., 100.);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#addbe997e4e0ed0ce20bbd6036ddb72ea">fProjEndPointRatHist</a>    = <a class="code" href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dir</a>.make&lt;TH1F&gt;(<span class="stringliteral">&quot;ProjEndPointRat&quot;</span>,    <span class="stringliteral">&quot;Projected End Point Ratio&quot;</span>, 100,    0.,   1.);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a545997d61cd08fb84984d6c9fcdf177b">fAxesDocaHist</a>           = <a class="code" href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dir</a>.make&lt;TH1F&gt;(<span class="stringliteral">&quot;AxesDocaHist&quot;</span>,       <span class="stringliteral">&quot;DOCA&quot;</span>,                      200,    0.,  25.);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1411b2cfb720f519408e79934f95118c">f1stDocaArcLRatHist</a>     = <a class="code" href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dir</a>.make&lt;TH1F&gt;(<span class="stringliteral">&quot;ALenPOCA1Hist&quot;</span>,      <span class="stringliteral">&quot;Arc Len to POCA 1&quot;</span>,         400,  -50.,  50.);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a038c43f62528bad5f76e1688e8b9a7fc">f2ndDocaArcLRatHist</a>     = <a class="code" href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dir</a>.make&lt;TH1F&gt;(<span class="stringliteral">&quot;ALenPOCA2Hist&quot;</span>,      <span class="stringliteral">&quot;Arc Len to POCA 2&quot;</span>,         400,  -50.,  50.);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#abea8863b3dadbd7d051ac0c28105d3fa">f1stTo2ndPosLenRatHist</a>  = <a class="code" href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dir</a>.make&lt;TH1F&gt;(<span class="stringliteral">&quot;1stTo2ndPosLenRat&quot;</span>,  <span class="stringliteral">&quot;Ratio clus dist to eigen&quot;</span>,  200.,   0.,  20.);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a26e6d59a544e6b558a9c68d317400e02">fGapRatHist</a>             = <a class="code" href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dir</a>.make&lt;TH1F&gt;(<span class="stringliteral">&quot;GapRat&quot;</span>,             <span class="stringliteral">&quot;Ratio Gap to Next Eigen&quot;</span>,   400,  -20.,  20.);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a0d929fc684de2bf8313ae2ced0e52e65"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a0d929fc684de2bf8313ae2ced0e52e65">lar_cluster3d::ClusterMergeAlg::fNextEigenValueHists</a></div><div class="ttdeci">std::vector&lt; TH1F * &gt; fNextEigenValueHists</div><div class="ttdoc">Next Cluster eigen value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00096">ClusterMergeAlg_tool.cc:96</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a3100bb166d8451ee3b312f9a0f968974"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a3100bb166d8451ee3b312f9a0f968974">lar_cluster3d::ClusterMergeAlg::fFirstEigenValueHists</a></div><div class="ttdeci">std::vector&lt; TH1F * &gt; fFirstEigenValueHists</div><div class="ttdoc">First Cluster eigen value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00095">ClusterMergeAlg_tool.cc:95</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a1d5c7f8ce938f1d21df46405235973bc"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1d5c7f8ce938f1d21df46405235973bc">lar_cluster3d::ClusterMergeAlg::fCosMaxFirstHist</a></div><div class="ttdeci">TH1F * fCosMaxFirstHist</div><div class="ttdoc">Cos angle beteeen cylinder axis and edge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00102">ClusterMergeAlg_tool.cc:102</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_aa6c5de48ae8040bfc8f755e5f877bbff"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#aa6c5de48ae8040bfc8f755e5f877bbff">lar_cluster3d::ClusterMergeAlg::fTimeToProcess</a></div><div class="ttdeci">float fTimeToProcess</div><div class="ttdoc">Keep track of how long it took to run this algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00093">ClusterMergeAlg_tool.cc:93</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a038c43f62528bad5f76e1688e8b9a7fc"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a038c43f62528bad5f76e1688e8b9a7fc">lar_cluster3d::ClusterMergeAlg::f2ndDocaArcLRatHist</a></div><div class="ttdeci">TH1F * f2ndDocaArcLRatHist</div><div class="ttdoc">arc length to POCA for DOCA second cluster </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00118">ClusterMergeAlg_tool.cc:118</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a9b73492bd18dd9aecad325648c15ad6c"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a9b73492bd18dd9aecad325648c15ad6c">lar_cluster3d::ClusterMergeAlg::fOutputHistograms</a></div><div class="ttdeci">bool fOutputHistograms</div><div class="ttdoc">Take the time to create and fill some histograms for diagnostics. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00090">ClusterMergeAlg_tool.cc:90</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a1d88efd57504ba688951b4ec420e4c0f"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1d88efd57504ba688951b4ec420e4c0f">lar_cluster3d::ClusterMergeAlg::fRMaxFirstHist</a></div><div class="ttdeci">TH1F * fRMaxFirstHist</div><div class="ttdoc">radius of &amp;quot;cylinder&amp;quot; first cluster </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00101">ClusterMergeAlg_tool.cc:101</a></div></div>
<div class="ttc" id="namespacelarg4_html_a7eeba60c219f2d1b4094606a12d28d18"><div class="ttname"><a href="../../d7/d6f/namespacelarg4.html#a7eeba60c219f2d1b4094606a12d28d18">larg4::false</a></div><div class="ttdeci">return false</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8a/OpFastScintillation_8hh_source.html#l00592">OpFastScintillation.hh:592</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a26e6d59a544e6b558a9c68d317400e02"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a26e6d59a544e6b558a9c68d317400e02">lar_cluster3d::ClusterMergeAlg::fGapRatHist</a></div><div class="ttdeci">TH1F * fGapRatHist</div><div class="ttdoc">Ratio of gap and next proj eigen. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00121">ClusterMergeAlg_tool.cc:121</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_adacc43c0be7688cc720906eac8be1f5c"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#adacc43c0be7688cc720906eac8be1f5c">lar_cluster3d::ClusterMergeAlg::fCosFirstAxisHist</a></div><div class="ttdeci">TH1F * fCosFirstAxisHist</div><div class="ttdoc">Cos angle between vector between centers and first axis. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00103">ClusterMergeAlg_tool.cc:103</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_addbe997e4e0ed0ce20bbd6036ddb72ea"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#addbe997e4e0ed0ce20bbd6036ddb72ea">lar_cluster3d::ClusterMergeAlg::fProjEndPointRatHist</a></div><div class="ttdeci">TH1F * fProjEndPointRatHist</div><div class="ttdoc">Ratio of projection to vector length. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00114">ClusterMergeAlg_tool.cc:114</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a1f6d6ec92da17e817e3e080b6b1afeff"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1f6d6ec92da17e817e3e080b6b1afeff">lar_cluster3d::ClusterMergeAlg::fMinEigenToProcess</a></div><div class="ttdeci">float fMinEigenToProcess</div><div class="ttdoc">Don&amp;#39;t look anymore at clusters below this size. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00089">ClusterMergeAlg_tool.cc:89</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a828804bb3da00b872289ae18c71394ce"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a828804bb3da00b872289ae18c71394ce">lar_cluster3d::ClusterMergeAlg::fCosNextAxisHist</a></div><div class="ttdeci">TH1F * fCosNextAxisHist</div><div class="ttdoc">Cos angle between vector between centers and next axis. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00108">ClusterMergeAlg_tool.cc:108</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a4952f1d908a1b55190c44bebabd5c03b"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a4952f1d908a1b55190c44bebabd5c03b">lar_cluster3d::ClusterMergeAlg::f2ndTo1stProjEigenHist</a></div><div class="ttdeci">TH1F * f2ndTo1stProjEigenHist</div><div class="ttdoc">arc length along vector between centers from next center to cylinder </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00109">ClusterMergeAlg_tool.cc:109</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_abea8863b3dadbd7d051ac0c28105d3fa"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#abea8863b3dadbd7d051ac0c28105d3fa">lar_cluster3d::ClusterMergeAlg::f1stTo2ndPosLenRatHist</a></div><div class="ttdeci">TH1F * f1stTo2ndPosLenRatHist</div><div class="ttdoc">Ratio of distance between centers and first proj eigen. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00120">ClusterMergeAlg_tool.cc:120</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a44ad999752bb9a30bdccf3ad76c1d38d"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a44ad999752bb9a30bdccf3ad76c1d38d">lar_cluster3d::ClusterMergeAlg::fRMaxNextHist</a></div><div class="ttdeci">TH1F * fRMaxNextHist</div><div class="ttdoc">radius of &amp;quot;cylinder&amp;quot; next cluster </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00106">ClusterMergeAlg_tool.cc:106</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a337c192bde3880fc55865d95d4020614"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a337c192bde3880fc55865d95d4020614">lar_cluster3d::ClusterMergeAlg::fEnableMonitoring</a></div><div class="ttdeci">bool fEnableMonitoring</div><div class="ttdoc">Data members to follow. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00087">ClusterMergeAlg_tool.cc:87</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_ac6c6ce80f7709e511f7a25c3f4e2b087"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#ac6c6ce80f7709e511f7a25c3f4e2b087">lar_cluster3d::ClusterMergeAlg::f1stTo2ndProjEigenHist</a></div><div class="ttdeci">TH1F * f1stTo2ndProjEigenHist</div><div class="ttdoc">arc length along vector between centers from first center to cylinder </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00104">ClusterMergeAlg_tool.cc:104</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a39bc7574d64c4e9870b361c04be20939"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a39bc7574d64c4e9870b361c04be20939">lar_cluster3d::ClusterMergeAlg::fNumMergedClusters</a></div><div class="ttdeci">TH1F * fNumMergedClusters</div><div class="ttdoc">How many clusters were merged? </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00097">ClusterMergeAlg_tool.cc:97</a></div></div>
<div class="ttc" id="namespacedropbox_html_a407b5b895ba9265893768748aaa73825"><div class="ttname"><a href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dropbox.dir</a></div><div class="ttdeci">tuple dir</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d81/dropbox_8py_source.html#l00028">dropbox.py:28</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a71bbbd7e7af23b8ca4880481f9d5baec"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a71bbbd7e7af23b8ca4880481f9d5baec">lar_cluster3d::ClusterMergeAlg::fProjEndPointLenHist</a></div><div class="ttdeci">TH1F * fProjEndPointLenHist</div><div class="ttdoc">Projection of vector between the endpoints. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00113">ClusterMergeAlg_tool.cc:113</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_abbec4f204bf72cbb16d7f5eff1d82204"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#abbec4f204bf72cbb16d7f5eff1d82204">lar_cluster3d::ClusterMergeAlg::fMinTransEigenVal</a></div><div class="ttdeci">float fMinTransEigenVal</div><div class="ttdoc">Set a mininum allowed value for the transverse eigen values. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00088">ClusterMergeAlg_tool.cc:88</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a545997d61cd08fb84984d6c9fcdf177b"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a545997d61cd08fb84984d6c9fcdf177b">lar_cluster3d::ClusterMergeAlg::fAxesDocaHist</a></div><div class="ttdeci">TH1F * fAxesDocaHist</div><div class="ttdoc">Closest distance between two primary axes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00116">ClusterMergeAlg_tool.cc:116</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a283450f3a2b345b23713f9c57f4dc8ac"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a283450f3a2b345b23713f9c57f4dc8ac">lar_cluster3d::ClusterMergeAlg::fGapRatToLenHist</a></div><div class="ttdeci">TH1F * fGapRatToLenHist</div><div class="ttdoc">Ratio of gap to distance between centers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00112">ClusterMergeAlg_tool.cc:112</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a88856ede897c69ad406efb0ba703c6cf"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a88856ede897c69ad406efb0ba703c6cf">lar_cluster3d::ClusterMergeAlg::fCosMaxNextHist</a></div><div class="ttdeci">TH1F * fCosMaxNextHist</div><div class="ttdoc">Cos angle beteeen cylinder axis and edge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00107">ClusterMergeAlg_tool.cc:107</a></div></div>
<div class="ttc" id="NuVertexChargeTree__module_8cc_html_aa8ae0901ab0cec47d6c9bf9c22af764f"><div class="ttname"><a href="../../dd/d33/NuVertexChargeTree__module_8cc.html#aa8ae0901ab0cec47d6c9bf9c22af764f">tfs</a></div><div class="ttdeci">art::ServiceHandle&lt; art::TFileService &gt; tfs</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d33/NuVertexChargeTree__module_8cc_source.html#l00253">NuVertexChargeTree_module.cc:253</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a164dc27c0bdf678167f78a504e684d81"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a164dc27c0bdf678167f78a504e684d81">lar_cluster3d::ClusterMergeAlg::fGapBetweenClusHist</a></div><div class="ttdeci">TH1F * fGapBetweenClusHist</div><div class="ttdoc">Gap between clusters. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00111">ClusterMergeAlg_tool.cc:111</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a1411b2cfb720f519408e79934f95118c"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1411b2cfb720f519408e79934f95118c">lar_cluster3d::ClusterMergeAlg::f1stDocaArcLRatHist</a></div><div class="ttdeci">TH1F * f1stDocaArcLRatHist</div><div class="ttdoc">arc length to POCA for DOCA first cluster </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00117">ClusterMergeAlg_tool.cc:117</a></div></div>
<div class="ttc" id="crtt0matchingalg__icarus_8fcl_html_af8bc618309fb2d0f55f7f5ae0760b466"><div class="ttname"><a href="../../df/d43/crtt0matchingalg__icarus_8fcl.html#af8bc618309fb2d0f55f7f5ae0760b466">true</a></div><div class="ttdeci">BEGIN_PROLOG don t mess with this true</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d43/crtt0matchingalg__icarus_8fcl_source.html#l00014">crtt0matchingalg_icarus.fcl:14</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a174d0adf3c5b8b721b8efb3ce5f6da20"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a174d0adf3c5b8b721b8efb3ce5f6da20">lar_cluster3d::ClusterMergeAlg::f1stTo2ndPosLenHist</a></div><div class="ttdeci">TH1F * f1stTo2ndPosLenHist</div><div class="ttdoc">Distance between cluster centers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00099">ClusterMergeAlg_tool.cc:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a73ac7152010c6ebd41b9c3c6ac211635"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../df/d06/classreco_1_1ClusterHit3D.html">reco::ClusterHit3D</a> * lar_cluster3d::ClusterMergeAlg::findClosestHit3D </td>
          <td>(</td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>refPoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>refVector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/d57/namespacereco.html#ad2e55059e696dd652ce2edaccbb18b66">reco::HitPairListPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>hitList</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00622">622</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;{</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html">reco::ClusterHit3D</a>* nearestHit3D(hitList.front());</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordtype">float</span>                     closest(std::numeric_limits&lt;float&gt;::max());</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; hit3D : hitList)</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        Eigen::Vector3f refToHitVec = hit3D-&gt;getPosition() - refPoint;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="keywordtype">float</span>           arcLenToHit = refToHitVec.dot(refVector);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="keywordflow">if</span> (arcLenToHit &lt; closest)</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            nearestHit3D = hit3D;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            closest      = arcLenToHit;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">return</span> nearestHit3D;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;}</div>
<div class="ttc" id="classreco_1_1ClusterHit3D_html"><div class="ttname"><a href="../../df/d06/classreco_1_1ClusterHit3D.html">reco::ClusterHit3D</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00094">Cluster3D.h:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9aba095d6d848d02e1594cc65a04695b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../df/d06/classreco_1_1ClusterHit3D.html">reco::ClusterHit3D</a> * lar_cluster3d::ClusterMergeAlg::findFurthestHit3D </td>
          <td>(</td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>refPoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>refVector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/d57/namespacereco.html#ad2e55059e696dd652ce2edaccbb18b66">reco::HitPairListPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>hitList</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00642">642</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;{</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html">reco::ClusterHit3D</a>* nearestHit3D(hitList.front());</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordtype">float</span>                     furthest(-std::numeric_limits&lt;float&gt;::max());</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; hit3D : hitList)</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        Eigen::Vector3f refToHitVec = hit3D-&gt;getPosition() - refPoint;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="keywordtype">float</span>           arcLenToHit = refToHitVec.dot(refVector);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keywordflow">if</span> (arcLenToHit &gt; furthest)</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            nearestHit3D = hit3D;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            furthest     = arcLenToHit;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        }</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordflow">return</span> nearestHit3D;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;}</div>
<div class="ttc" id="classreco_1_1ClusterHit3D_html"><div class="ttname"><a href="../../df/d06/classreco_1_1ClusterHit3D.html">reco::ClusterHit3D</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00094">Cluster3D.h:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae48c32904af2da51ea02d8ad1a02974a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_cluster3d::ClusterMergeAlg::getTimeToExecute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If monitoring, recover the time to execute a particular function. </p>

<p>Implements <a class="el" href="../../d3/d11/classlar__cluster3d_1_1IClusterModAlg.html#a444d1a945db0cb29e976c3e32e081690">lar_cluster3d::IClusterModAlg</a>.</p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00070">70</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{<span class="keywordflow">return</span> <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#aa6c5de48ae8040bfc8f755e5f877bbff">fTimeToProcess</a>;}</div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_aa6c5de48ae8040bfc8f755e5f877bbff"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#aa6c5de48ae8040bfc8f755e5f877bbff">lar_cluster3d::ClusterMergeAlg::fTimeToProcess</a></div><div class="ttdeci">float fTimeToProcess</div><div class="ttdoc">Keep track of how long it took to run this algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00093">ClusterMergeAlg_tool.cc:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a033ab071bf0440e40aca920f32999a5b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_cluster3d::ClusterMergeAlg::initializeHistograms </td>
          <td>(</td>
          <td class="paramtype">art::TFileDirectory &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interface for initializing histograms if they are desired Note that the idea is to put hisgtograms in a subfolder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TFileDirectory</td><td>- the folder to store the hists in </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d3/d11/classlar__cluster3d_1_1IClusterModAlg.html#a59d8a9493ed1ddb4a928e1aaff390aeb">lar_cluster3d::IClusterModAlg</a>.</p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00200">200</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab253caf68ec6980cca596754a485ec46"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_cluster3d::ClusterMergeAlg::linearClusters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>firstCluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>nextCluster</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00324">324</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;{</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// Assume failure</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordtype">bool</span> consistent(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">// The goal here is to compare the two input PCA&#39;s and determine if they are effectively colinear and</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="comment">// within reasonable range to consider merging them. Note that a key assumption is that the first input</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="comment">// PCA is from the &quot;bigger&quot; cluster, the second is &quot;smaller&quot; and may have a less reliable PCA.</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="comment">// Dereference the PCA&#39;s</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html">reco::PrincipalComponents</a>&amp; firstPCA = firstCluster.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">getFullPCA</a>();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html">reco::PrincipalComponents</a>&amp; nextPCA  = nextCluster.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">getFullPCA</a>();</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="comment">// Recover the positions of the centers of the two clusters</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keyword">const</span> Eigen::Vector3f&amp; firstCenter = firstPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#ae4372271684515437a46256ca8a24802">getAvePosition</a>();</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keyword">const</span> Eigen::Vector3f&amp; nextCenter  = nextPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#ae4372271684515437a46256ca8a24802">getAvePosition</a>();</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="comment">// And form a vector between the two centers</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    Eigen::Vector3f firstPosToNextPosVec  = nextCenter - firstCenter;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    Eigen::Vector3f firstPosToNextPosUnit = firstPosToNextPosVec.normalized();</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordtype">float</span>           firstPosToNextPosLen  = firstPosToNextPosVec.norm();</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="comment">// Now get the first PCA&#39;s primary axis and since we&#39;ll use them get all of them at once...</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    Eigen::Vector3f firstAxis0(firstPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a11b674201a717844b9e03035098e2418">getEigenVectors</a>().row(0));</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    Eigen::Vector3f firstAxis1(firstPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a11b674201a717844b9e03035098e2418">getEigenVectors</a>().row(1));</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    Eigen::Vector3f firstAxis2(firstPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a11b674201a717844b9e03035098e2418">getEigenVectors</a>().row(2));</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">// Will want the distance of closest approach of the next cluser&#39;s center to the primary, start by finding arc length</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordtype">float</span> arcLenToNextDoca = firstPosToNextPosVec.dot(firstAxis2);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// Adopt the convention that the cluster axis is in same direction as vector from first to next centers</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">// And preserve the overall orientation of the PCA by flipping all if we flip the first one</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">if</span> (arcLenToNextDoca &lt; 0.)</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        firstAxis0       = -firstAxis0;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        firstAxis1       = -firstAxis1;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        firstAxis2       = -firstAxis2;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        arcLenToNextDoca = -arcLenToNextDoca;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="comment">// Recover the eigen values of the first and second PCAs for selection cuts</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    Eigen::Vector3f firstEigenVals(std::min(1.5 * sqrt(std::max(firstPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a63b9daab10ace7b78d01560531b7742a">getEigenValues</a>()[0],<a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#abbec4f204bf72cbb16d7f5eff1d82204">fMinTransEigenVal</a>)),  20.),</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                                   std::min(1.5 * sqrt(std::max(firstPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a63b9daab10ace7b78d01560531b7742a">getEigenValues</a>()[1],<a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#abbec4f204bf72cbb16d7f5eff1d82204">fMinTransEigenVal</a>)),  50.),</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                                   std::min(1.5 * sqrt(         firstPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a63b9daab10ace7b78d01560531b7742a">getEigenValues</a>()[2]),                    250.));</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">// We treat the PCA as defining an elliptical tube and we use the projection of the vector between centers to</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="comment">// get the radius to the edge of the tube, from which we can determine the projected length inside the tube</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    Eigen::Vector2f firstProj01Unit = Eigen::Vector2f(firstPosToNextPosUnit.dot(firstAxis0),firstPosToNextPosUnit.dot(firstAxis1)).normalized();</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordtype">float</span>           firstEigen0Proj = firstEigenVals[0] * firstProj01Unit[0];</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordtype">float</span>           firstEigen1Proj = firstEigenVals[1] * firstProj01Unit[1];</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordtype">float</span>           rMaxFirst       = std::sqrt(firstEigen0Proj * firstEigen0Proj + firstEigen1Proj * firstEigen1Proj);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordtype">float</span>           cosMaxFirst     = firstEigenVals[2] / std::sqrt(firstEigenVals[2] * firstEigenVals[2] + rMaxFirst * rMaxFirst);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordtype">float</span>           cosFirstAxis    = firstAxis2.dot(firstPosToNextPosUnit);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">// Now calculate a measure of the length inside the tube along the vector between the cluster centers</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordtype">float</span> firstEigenVal2       = firstEigenVals[2];</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordtype">float</span> firstToNextProjEigen = firstEigenVal2;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">// There are two cases to consider, the first is that the vector exits out the side of the tube</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span> (cosFirstAxis &lt; cosMaxFirst)</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="comment">// In this case we need the sign of the angle between the vector and the cluster primary axis</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordtype">float</span> sinFirstAxis = std::sqrt(1. - cosFirstAxis * cosFirstAxis);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="comment">// Here the length will be given by the radius, not the primary eigen value</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        firstToNextProjEigen = rMaxFirst / sinFirstAxis;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">else</span> firstToNextProjEigen /= cosFirstAxis;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">// Get scale factor for selecting this pair</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordtype">float</span> firstPosToNextPosScaleFactor = 8.;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="comment">// A brief interlude to fill a few histograms</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a9b73492bd18dd9aecad325648c15ad6c">fOutputHistograms</a>)</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a174d0adf3c5b8b721b8efb3ce5f6da20">f1stTo2ndPosLenHist</a>-&gt;Fill(firstPosToNextPosLen, 1.);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1d88efd57504ba688951b4ec420e4c0f">fRMaxFirstHist</a>-&gt;Fill(rMaxFirst, 1.);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1d5c7f8ce938f1d21df46405235973bc">fCosMaxFirstHist</a>-&gt;Fill(cosMaxFirst, 1.);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#adacc43c0be7688cc720906eac8be1f5c">fCosFirstAxisHist</a>-&gt;Fill(cosFirstAxis, 1.);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#ac6c6ce80f7709e511f7a25c3f4e2b087">f1stTo2ndProjEigenHist</a>-&gt;Fill(firstToNextProjEigen, 1.);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">// This makes first selection, it should eliminate most of the junk cases:</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">if</span> (firstPosToNextPosLen &lt; firstPosToNextPosScaleFactor * firstToNextProjEigen)</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="comment">// Recover the axes for the next PCA and make sure pointing convention is observed</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        Eigen::Vector3f nextAxis0(nextPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a11b674201a717844b9e03035098e2418">getEigenVectors</a>().row(0));</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        Eigen::Vector3f nextAxis1(nextPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a11b674201a717844b9e03035098e2418">getEigenVectors</a>().row(1));</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        Eigen::Vector3f nextAxis2(nextPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a11b674201a717844b9e03035098e2418">getEigenVectors</a>().row(2));</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="comment">// Recover the cos of the angle between the primary axes...</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keywordtype">float</span> cosFirstNextAxis = firstAxis2.dot(nextAxis2);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="comment">// And in this case we want to choose the sign of the next cluster&#39;s axes so that the</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="comment">// primary axes &quot;point&quot; in the same direction</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordflow">if</span> (cosFirstNextAxis &lt; 0.)</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            nextAxis0         = -nextAxis0;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            nextAxis1         = -nextAxis1;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            nextAxis2         = -nextAxis2;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            cosFirstNextAxis  = -cosFirstNextAxis;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="comment">// Get the eigen values again</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        Eigen::Vector3f nextEigenVals(std::min(1.5 * sqrt(std::max(nextPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a63b9daab10ace7b78d01560531b7742a">getEigenValues</a>()[0],<a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#abbec4f204bf72cbb16d7f5eff1d82204">fMinTransEigenVal</a>)),  20.),</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                                      std::min(1.5 * sqrt(std::max(nextPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a63b9daab10ace7b78d01560531b7742a">getEigenValues</a>()[1],<a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#abbec4f204bf72cbb16d7f5eff1d82204">fMinTransEigenVal</a>)),  50.),</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                      std::min(1.5 * sqrt(         nextPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a63b9daab10ace7b78d01560531b7742a">getEigenValues</a>()[2]),                    250.));</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="comment">// Repeat the calculation of the length of the vector through the cluster &quot;tube&quot;...</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        Eigen::Vector2f nextProj01Unit = Eigen::Vector2f(firstPosToNextPosUnit.dot(nextAxis0),firstPosToNextPosUnit.dot(nextAxis1)).normalized();</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordtype">float</span>           nextEigen0Proj = nextEigenVals[0] * nextProj01Unit[0];</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keywordtype">float</span>           nextEigen1Proj = nextEigenVals[1] * nextProj01Unit[1];</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordtype">float</span>           rMaxNext       = std::sqrt(nextEigen0Proj * nextEigen0Proj + nextEigen1Proj * nextEigen1Proj);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordtype">float</span>           cosMaxNext     = nextEigenVals[2] / std::sqrt(nextEigenVals[2] * nextEigenVals[2] + rMaxNext * rMaxNext);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="keywordtype">float</span>           cosNextAxis    = <a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(nextAxis2.dot(firstPosToNextPosUnit));</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="comment">// Now calculate a measure of the length inside the cylider along the vector between the cluster centers</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordtype">float</span> nextToFirstProjEigen = nextEigenVals[2];</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="comment">// There are two cases to consider, the first is that the vector exits out the side of the cylinder</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keywordflow">if</span> (cosNextAxis &lt; cosMaxNext)</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <span class="comment">// In this case we need the sign of the angle between the vector and the cluster primary axis</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <span class="keywordtype">float</span> sinNextAxis = std::sqrt(1. - cosNextAxis * cosNextAxis);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <span class="comment">// Here the length will be given by the radius, not the primary eigen value</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            nextToFirstProjEigen = rMaxNext / sinNextAxis;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">else</span> nextToFirstProjEigen /= cosNextAxis;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="comment">// Allow a generous gap but significantly derate as angle to next cluster increases</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="comment">//float nextToFirstScaleFactor = 6. * cosFirstNextAxis;</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordtype">float</span> nextToFirstScaleFactor = 8. * cosFirstNextAxis;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="comment">// Form the &quot;gap&quot; along the axis between centers from the projections of the eigen values</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="comment">// Note the gap can be negative</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordtype">float</span> gapFirstToNext = firstPosToNextPosLen - firstToNextProjEigen - nextToFirstProjEigen;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="comment">// Look at the presumed nearest endpoints of the two clusters</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        Eigen::Vector3f firstEndPoint = firstCenter + firstEigenVals[2] * firstAxis2;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        Eigen::Vector3f nextTailPoint = nextCenter  - nextEigenVals[2]  * nextAxis2;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        Eigen::Vector3f endToTailVec  = nextTailPoint - firstEndPoint;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="comment">// Get projection along vector between centers</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordtype">float</span> endPointProjection = endToTailVec.dot(firstPosToNextPosUnit);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordtype">float</span> endToTailLen       = endToTailVec.norm();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="comment">// Another brief interlude to fill some histograms</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a9b73492bd18dd9aecad325648c15ad6c">fOutputHistograms</a>)</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> idx = 0; idx &lt; 3; idx++) <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a0d929fc684de2bf8313ae2ced0e52e65">fNextEigenValueHists</a>[idx]-&gt;Fill(nextEigenVals[idx],1.);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a44ad999752bb9a30bdccf3ad76c1d38d">fRMaxNextHist</a>-&gt;Fill(rMaxNext, 1.);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a88856ede897c69ad406efb0ba703c6cf">fCosMaxNextHist</a>-&gt;Fill(cosMaxNext, 1.);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a828804bb3da00b872289ae18c71394ce">fCosNextAxisHist</a>-&gt;Fill(cosNextAxis, 1.);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a4952f1d908a1b55190c44bebabd5c03b">f2ndTo1stProjEigenHist</a>-&gt;Fill(nextToFirstProjEigen, 1.);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a164dc27c0bdf678167f78a504e684d81">fGapBetweenClusHist</a>-&gt;Fill(gapFirstToNext, 1.);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a71bbbd7e7af23b8ca4880481f9d5baec">fProjEndPointLenHist</a>-&gt;Fill(endPointProjection, 1.);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#addbe997e4e0ed0ce20bbd6036ddb72ea">fProjEndPointRatHist</a>-&gt;Fill(<a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(endPointProjection)/endToTailLen, 1.);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="comment">// We mirror here the first selection above but now operate on the distance between centers less</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="comment">// the first cluster&#39;s projected eigen value</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">if</span> (gapFirstToNext &lt; nextToFirstScaleFactor * nextToFirstProjEigen || (<a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(endPointProjection) &lt; nextToFirstProjEigen &amp;&amp; endToTailLen &lt; nextEigenVals[2]))</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <span class="comment">// Now check the distance of closest approach betweent the two vectors</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <span class="comment">// Closest approach calculaiton results vectors</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            Eigen::Vector3f firstPoca;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            Eigen::Vector3f nextPoca;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            Eigen::Vector3f firstToNextUnit;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="comment">// Recover the doca of the two axes and their points of closest approach along each axis</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            <span class="keywordtype">float</span> lineDoca = <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a16fc98b4b1a6cff8e4d357d2426e8ced">closestApproach</a>(firstCenter, firstAxis2, nextCenter, nextAxis2, firstPoca, nextPoca, firstToNextUnit);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <span class="comment">// Get the range through the first clusters &quot;tube&quot; for this doca vec</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            Eigen::Vector3f firstPOCAProjUnit     = Eigen::Vector3f(firstToNextUnit.dot(firstAxis0),firstToNextUnit.dot(firstAxis1),firstToNextUnit.dot(firstAxis1)).normalized();</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            <span class="keywordtype">float</span>           firstPOCAVecProjEigen = std::sqrt(std::pow(firstEigenVals[0] * firstPOCAProjUnit[0],2)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                                                  +           std::pow(firstEigenVals[1] * firstPOCAProjUnit[1],2)</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                                                  +           std::pow(firstEigenVals[2] * firstPOCAProjUnit[2],2));</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <span class="comment">// Similarly for the next vector</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            Eigen::Vector3f nextPOCAProjUnit     = Eigen::Vector3f(firstToNextUnit.dot(firstAxis0),firstToNextUnit.dot(firstAxis1),firstToNextUnit.dot(firstAxis1)).normalized();</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            <span class="keywordtype">float</span>           nextPOCAVecProjEigen = std::sqrt(std::pow(nextEigenVals[0] * nextPOCAProjUnit[0],2)</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                                                 +           std::pow(nextEigenVals[1] * nextPOCAProjUnit[1],2)</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                                 +           std::pow(nextEigenVals[2] * nextPOCAProjUnit[2],2));</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a9b73492bd18dd9aecad325648c15ad6c">fOutputHistograms</a>)</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                <span class="comment">// The below returned the signed arc lengths to their respective pocas</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <span class="keywordtype">float</span> arcLenToFirstPoca = (firstPoca - firstCenter).<a class="code" href="../../d0/d8e/namespacegeo_1_1vect.html#a6a834f7c51903b6d2bdfdd664f064992">dot</a>(firstAxis2);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                <span class="keywordtype">float</span> arcLenToNextPoca  = (nextPoca  - nextCenter ).<a class="code" href="../../d0/d8e/namespacegeo_1_1vect.html#a6a834f7c51903b6d2bdfdd664f064992">dot</a>(nextAxis2);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a545997d61cd08fb84984d6c9fcdf177b">fAxesDocaHist</a>-&gt;Fill(lineDoca, 1.);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1411b2cfb720f519408e79934f95118c">f1stDocaArcLRatHist</a>-&gt;Fill(arcLenToFirstPoca/firstEigenVals[2],1.);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a038c43f62528bad5f76e1688e8b9a7fc">f2ndDocaArcLRatHist</a>-&gt;Fill(arcLenToNextPoca/nextEigenVals[2],1.);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            }</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <span class="comment">// Scaling factor to increase doca distance as distance grows</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <span class="keywordtype">float</span> rMaxScaleFactor = 1.2;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            <span class="keywordflow">if</span> (lineDoca &lt; rMaxScaleFactor * (firstPOCAVecProjEigen + nextPOCAVecProjEigen))</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                consistent = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a9b73492bd18dd9aecad325648c15ad6c">fOutputHistograms</a>)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                    <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#abea8863b3dadbd7d051ac0c28105d3fa">f1stTo2ndPosLenRatHist</a>-&gt;Fill(firstPosToNextPosLen/firstToNextProjEigen, 1.);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">return</span> consistent;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a0d929fc684de2bf8313ae2ced0e52e65"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a0d929fc684de2bf8313ae2ced0e52e65">lar_cluster3d::ClusterMergeAlg::fNextEigenValueHists</a></div><div class="ttdeci">std::vector&lt; TH1F * &gt; fNextEigenValueHists</div><div class="ttdoc">Next Cluster eigen value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00096">ClusterMergeAlg_tool.cc:96</a></div></div>
<div class="ttc" id="namespacegeo_1_1vect_html_a6a834f7c51903b6d2bdfdd664f064992"><div class="ttname"><a href="../../d0/d8e/namespacegeo_1_1vect.html#a6a834f7c51903b6d2bdfdd664f064992">geo::vect::dot</a></div><div class="ttdeci">constexpr auto dot(Vector const &amp;a, Vector const &amp;b)</div><div class="ttdoc">Return cross product of two vectors. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6c/geo__vectors__utils_8h_source.html#l01194">geo_vectors_utils.h:1194</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a16fc98b4b1a6cff8e4d357d2426e8ced"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a16fc98b4b1a6cff8e4d357d2426e8ced">lar_cluster3d::ClusterMergeAlg::closestApproach</a></div><div class="ttdeci">float closestApproach(const Eigen::Vector3f &amp;, const Eigen::Vector3f &amp;, const Eigen::Vector3f &amp;, const Eigen::Vector3f &amp;, Eigen::Vector3f &amp;, Eigen::Vector3f &amp;, Eigen::Vector3f &amp;) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00580">ClusterMergeAlg_tool.cc:580</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a1d5c7f8ce938f1d21df46405235973bc"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1d5c7f8ce938f1d21df46405235973bc">lar_cluster3d::ClusterMergeAlg::fCosMaxFirstHist</a></div><div class="ttdeci">TH1F * fCosMaxFirstHist</div><div class="ttdoc">Cos angle beteeen cylinder axis and edge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00102">ClusterMergeAlg_tool.cc:102</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a038c43f62528bad5f76e1688e8b9a7fc"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a038c43f62528bad5f76e1688e8b9a7fc">lar_cluster3d::ClusterMergeAlg::f2ndDocaArcLRatHist</a></div><div class="ttdeci">TH1F * f2ndDocaArcLRatHist</div><div class="ttdoc">arc length to POCA for DOCA second cluster </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00118">ClusterMergeAlg_tool.cc:118</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a9b73492bd18dd9aecad325648c15ad6c"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a9b73492bd18dd9aecad325648c15ad6c">lar_cluster3d::ClusterMergeAlg::fOutputHistograms</a></div><div class="ttdeci">bool fOutputHistograms</div><div class="ttdoc">Take the time to create and fill some histograms for diagnostics. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00090">ClusterMergeAlg_tool.cc:90</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a1d88efd57504ba688951b4ec420e4c0f"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1d88efd57504ba688951b4ec420e4c0f">lar_cluster3d::ClusterMergeAlg::fRMaxFirstHist</a></div><div class="ttdeci">TH1F * fRMaxFirstHist</div><div class="ttdoc">radius of &amp;quot;cylinder&amp;quot; first cluster </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00101">ClusterMergeAlg_tool.cc:101</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_adacc43c0be7688cc720906eac8be1f5c"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#adacc43c0be7688cc720906eac8be1f5c">lar_cluster3d::ClusterMergeAlg::fCosFirstAxisHist</a></div><div class="ttdeci">TH1F * fCosFirstAxisHist</div><div class="ttdoc">Cos angle between vector between centers and first axis. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00103">ClusterMergeAlg_tool.cc:103</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_addbe997e4e0ed0ce20bbd6036ddb72ea"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#addbe997e4e0ed0ce20bbd6036ddb72ea">lar_cluster3d::ClusterMergeAlg::fProjEndPointRatHist</a></div><div class="ttdeci">TH1F * fProjEndPointRatHist</div><div class="ttdoc">Ratio of projection to vector length. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00114">ClusterMergeAlg_tool.cc:114</a></div></div>
<div class="ttc" id="sparse__vector__test_8cc_html_a39f16bf854ba527dee7eba5bbbd93f3f"><div class="ttname"><a href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a></div><div class="ttdeci">T abs(T value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d59/sparse__vector__test_8cc_source.html#l00030">sparse_vector_test.cc:30</a></div></div>
<div class="ttc" id="classreco_1_1PrincipalComponents_html_a63b9daab10ace7b78d01560531b7742a"><div class="ttname"><a href="../../da/d30/classreco_1_1PrincipalComponents.html#a63b9daab10ace7b78d01560531b7742a">reco::PrincipalComponents::getEigenValues</a></div><div class="ttdeci">const EigenValues &amp; getEigenValues() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00245">Cluster3D.h:245</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_a648cb681d23db3a63173924021a3bfc9"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">reco::ClusterParameters::getFullPCA</a></div><div class="ttdeci">reco::PrincipalComponents &amp; getFullPCA()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00476">Cluster3D.h:476</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a828804bb3da00b872289ae18c71394ce"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a828804bb3da00b872289ae18c71394ce">lar_cluster3d::ClusterMergeAlg::fCosNextAxisHist</a></div><div class="ttdeci">TH1F * fCosNextAxisHist</div><div class="ttdoc">Cos angle between vector between centers and next axis. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00108">ClusterMergeAlg_tool.cc:108</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a4952f1d908a1b55190c44bebabd5c03b"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a4952f1d908a1b55190c44bebabd5c03b">lar_cluster3d::ClusterMergeAlg::f2ndTo1stProjEigenHist</a></div><div class="ttdeci">TH1F * f2ndTo1stProjEigenHist</div><div class="ttdoc">arc length along vector between centers from next center to cylinder </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00109">ClusterMergeAlg_tool.cc:109</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_abea8863b3dadbd7d051ac0c28105d3fa"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#abea8863b3dadbd7d051ac0c28105d3fa">lar_cluster3d::ClusterMergeAlg::f1stTo2ndPosLenRatHist</a></div><div class="ttdeci">TH1F * f1stTo2ndPosLenRatHist</div><div class="ttdoc">Ratio of distance between centers and first proj eigen. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00120">ClusterMergeAlg_tool.cc:120</a></div></div>
<div class="ttc" id="classreco_1_1PrincipalComponents_html_ae4372271684515437a46256ca8a24802"><div class="ttname"><a href="../../da/d30/classreco_1_1PrincipalComponents.html#ae4372271684515437a46256ca8a24802">reco::PrincipalComponents::getAvePosition</a></div><div class="ttdeci">const Eigen::Vector3f &amp; getAvePosition() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00247">Cluster3D.h:247</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a44ad999752bb9a30bdccf3ad76c1d38d"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a44ad999752bb9a30bdccf3ad76c1d38d">lar_cluster3d::ClusterMergeAlg::fRMaxNextHist</a></div><div class="ttdeci">TH1F * fRMaxNextHist</div><div class="ttdoc">radius of &amp;quot;cylinder&amp;quot; next cluster </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00106">ClusterMergeAlg_tool.cc:106</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_ac6c6ce80f7709e511f7a25c3f4e2b087"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#ac6c6ce80f7709e511f7a25c3f4e2b087">lar_cluster3d::ClusterMergeAlg::f1stTo2ndProjEigenHist</a></div><div class="ttdeci">TH1F * f1stTo2ndProjEigenHist</div><div class="ttdoc">arc length along vector between centers from first center to cylinder </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00104">ClusterMergeAlg_tool.cc:104</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a71bbbd7e7af23b8ca4880481f9d5baec"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a71bbbd7e7af23b8ca4880481f9d5baec">lar_cluster3d::ClusterMergeAlg::fProjEndPointLenHist</a></div><div class="ttdeci">TH1F * fProjEndPointLenHist</div><div class="ttdoc">Projection of vector between the endpoints. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00113">ClusterMergeAlg_tool.cc:113</a></div></div>
<div class="ttc" id="classreco_1_1PrincipalComponents_html"><div class="ttname"><a href="../../da/d30/classreco_1_1PrincipalComponents.html">reco::PrincipalComponents</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00221">Cluster3D.h:221</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_abbec4f204bf72cbb16d7f5eff1d82204"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#abbec4f204bf72cbb16d7f5eff1d82204">lar_cluster3d::ClusterMergeAlg::fMinTransEigenVal</a></div><div class="ttdeci">float fMinTransEigenVal</div><div class="ttdoc">Set a mininum allowed value for the transverse eigen values. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00088">ClusterMergeAlg_tool.cc:88</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a545997d61cd08fb84984d6c9fcdf177b"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a545997d61cd08fb84984d6c9fcdf177b">lar_cluster3d::ClusterMergeAlg::fAxesDocaHist</a></div><div class="ttdeci">TH1F * fAxesDocaHist</div><div class="ttdoc">Closest distance between two primary axes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00116">ClusterMergeAlg_tool.cc:116</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a88856ede897c69ad406efb0ba703c6cf"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a88856ede897c69ad406efb0ba703c6cf">lar_cluster3d::ClusterMergeAlg::fCosMaxNextHist</a></div><div class="ttdeci">TH1F * fCosMaxNextHist</div><div class="ttdoc">Cos angle beteeen cylinder axis and edge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00107">ClusterMergeAlg_tool.cc:107</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a164dc27c0bdf678167f78a504e684d81"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a164dc27c0bdf678167f78a504e684d81">lar_cluster3d::ClusterMergeAlg::fGapBetweenClusHist</a></div><div class="ttdeci">TH1F * fGapBetweenClusHist</div><div class="ttdoc">Gap between clusters. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00111">ClusterMergeAlg_tool.cc:111</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a1411b2cfb720f519408e79934f95118c"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1411b2cfb720f519408e79934f95118c">lar_cluster3d::ClusterMergeAlg::f1stDocaArcLRatHist</a></div><div class="ttdeci">TH1F * f1stDocaArcLRatHist</div><div class="ttdoc">arc length to POCA for DOCA first cluster </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00117">ClusterMergeAlg_tool.cc:117</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a174d0adf3c5b8b721b8efb3ce5f6da20"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a174d0adf3c5b8b721b8efb3ce5f6da20">lar_cluster3d::ClusterMergeAlg::f1stTo2ndPosLenHist</a></div><div class="ttdeci">TH1F * f1stTo2ndPosLenHist</div><div class="ttdoc">Distance between cluster centers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00099">ClusterMergeAlg_tool.cc:99</a></div></div>
<div class="ttc" id="classreco_1_1PrincipalComponents_html_a11b674201a717844b9e03035098e2418"><div class="ttname"><a href="../../da/d30/classreco_1_1PrincipalComponents.html#a11b674201a717844b9e03035098e2418">reco::PrincipalComponents::getEigenVectors</a></div><div class="ttdeci">const EigenVectors &amp; getEigenVectors() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00246">Cluster3D.h:246</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1621d12991fc680905edb862af1860b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_cluster3d::ClusterMergeAlg::mergeClusters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>firstClusterParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>nextClusterParams</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00539">539</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;{</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordtype">bool</span> merged(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="comment">// Merge the next cluster into the first one</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="comment">// Get the hits</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <a class="code" href="../../d1/d57/namespacereco.html#ad2e55059e696dd652ce2edaccbb18b66">reco::HitPairListPtr</a>&amp; hitPairListPtr = firstClusterParams.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#acbb2da3e1afbe5f9ad015f2589ac2c3d">getHitPairListPtr</a>();</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="comment">// We copy the hits from the old to new but note that we need to update the parameters for each 2D hit we add</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>* <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a> : nextClusterParams.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#acbb2da3e1afbe5f9ad015f2589ac2c3d">getHitPairListPtr</a>())</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        hitPairListPtr.push_back(<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>* hit2D : <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;getHits())</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <span class="keywordflow">if</span> (hit2D) firstClusterParams.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a7ad74731acf36ee093a87122525cce85">UpdateParameters</a>(hit2D);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="comment">// Recalculate the PCA</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#aa28bca7751c3aee645704ffcbfded36b">fPCAAlg</a>.<a class="code" href="../../df/d48/classlar__cluster3d_1_1PrincipalComponentsAlg.html#a4f0d4c14216e3a8a2f696826b259c6cb">PCAAnalysis_3D</a>(firstClusterParams.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#acbb2da3e1afbe5f9ad015f2589ac2c3d">getHitPairListPtr</a>(), firstClusterParams.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">getFullPCA</a>());</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="comment">// Must have a valid pca</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">if</span> (firstClusterParams.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">getFullPCA</a>().<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#add5a47972aeb4f3df8fa2011e36c1d0e">getSvdOK</a>())</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="comment">// Finish out the merging here</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <a class="code" href="../../d1/d57/namespacereco.html#a9d1ff6f3c6f362ff330543b87e836ea0">reco::Hit3DToEdgeMap</a>&amp; firstEdgeMap = firstClusterParams.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a6f273ea1ff23229402583ab6fcb635a8">getHit3DToEdgeMap</a>();</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <a class="code" href="../../d1/d57/namespacereco.html#a9d1ff6f3c6f362ff330543b87e836ea0">reco::Hit3DToEdgeMap</a>&amp; nextEdgeMap  = nextClusterParams.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a6f273ea1ff23229402583ab6fcb635a8">getHit3DToEdgeMap</a>();</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; pair : nextEdgeMap) firstEdgeMap[pair.first] = pair.second;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="comment">// Set the skeleton PCA to make sure it has some value</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        firstClusterParams.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a3cefc70b6690ca342564c069df9ec0e7">getSkeletonPCA</a>() = firstClusterParams.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">getFullPCA</a>();</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="comment">// Zap the cluster we merged into the new one...</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        nextClusterParams = <a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a>();</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        merged = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">return</span> merged;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;}</div>
<div class="ttc" id="classreco_1_1PrincipalComponents_html_add5a47972aeb4f3df8fa2011e36c1d0e"><div class="ttname"><a href="../../da/d30/classreco_1_1PrincipalComponents.html#add5a47972aeb4f3df8fa2011e36c1d0e">reco::PrincipalComponents::getSvdOK</a></div><div class="ttdeci">bool getSvdOK() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00243">Cluster3D.h:243</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1PrincipalComponentsAlg_html_a4f0d4c14216e3a8a2f696826b259c6cb"><div class="ttname"><a href="../../df/d48/classlar__cluster3d_1_1PrincipalComponentsAlg.html#a4f0d4c14216e3a8a2f696826b259c6cb">lar_cluster3d::PrincipalComponentsAlg::PCAAnalysis_3D</a></div><div class="ttdeci">void PCAAnalysis_3D(const reco::HitPairListPtr &amp;hitPairList, reco::PrincipalComponents &amp;pca, bool skeletonOnly=false) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5d/PrincipalComponentsAlg_8cxx_source.html#l00141">PrincipalComponentsAlg.cxx:141</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_aa28bca7751c3aee645704ffcbfded36b"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#aa28bca7751c3aee645704ffcbfded36b">lar_cluster3d::ClusterMergeAlg::fPCAAlg</a></div><div class="ttdeci">PrincipalComponentsAlg fPCAAlg</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00123">ClusterMergeAlg_tool.cc:123</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_a3cefc70b6690ca342564c069df9ec0e7"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#a3cefc70b6690ca342564c069df9ec0e7">reco::ClusterParameters::getSkeletonPCA</a></div><div class="ttdeci">reco::PrincipalComponents &amp; getSkeletonPCA()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00477">Cluster3D.h:477</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_a6f273ea1ff23229402583ab6fcb635a8"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#a6f273ea1ff23229402583ab6fcb635a8">reco::ClusterParameters::getHit3DToEdgeMap</a></div><div class="ttdeci">reco::Hit3DToEdgeMap &amp; getHit3DToEdgeMap()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00478">Cluster3D.h:478</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_acbb2da3e1afbe5f9ad015f2589ac2c3d"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#acbb2da3e1afbe5f9ad015f2589ac2c3d">reco::ClusterParameters::getHitPairListPtr</a></div><div class="ttdeci">reco::HitPairListPtr &amp; getHitPairListPtr()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00475">Cluster3D.h:475</a></div></div>
<div class="ttc" id="cheaterreco_8fcl_html_abf2e819dbf4c327e098bebd4b2dc0597"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a></div><div class="ttdeci">process_name hit</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_a648cb681d23db3a63173924021a3bfc9"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">reco::ClusterParameters::getFullPCA</a></div><div class="ttdeci">reco::PrincipalComponents &amp; getFullPCA()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00476">Cluster3D.h:476</a></div></div>
<div class="ttc" id="namespacereco_html_ad2e55059e696dd652ce2edaccbb18b66"><div class="ttname"><a href="../../d1/d57/namespacereco.html#ad2e55059e696dd652ce2edaccbb18b66">reco::HitPairListPtr</a></div><div class="ttdeci">std::list&lt; const reco::ClusterHit3D * &gt; HitPairListPtr</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00334">Cluster3D.h:334</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_a7ad74731acf36ee093a87122525cce85"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#a7ad74731acf36ee093a87122525cce85">reco::ClusterParameters::UpdateParameters</a></div><div class="ttdeci">void UpdateParameters(const reco::ClusterHit2D *hit)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00451">Cluster3D.h:451</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00405">Cluster3D.h:405</a></div></div>
<div class="ttc" id="namespacereco_html_a9d1ff6f3c6f362ff330543b87e836ea0"><div class="ttname"><a href="../../d1/d57/namespacereco.html#a9d1ff6f3c6f362ff330543b87e836ea0">reco::Hit3DToEdgeMap</a></div><div class="ttdeci">std::unordered_map&lt; const reco::ClusterHit3D *, reco::EdgeList &gt; Hit3DToEdgeMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00346">Cluster3D.h:346</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa03a1b2c8b8b72ea49d47447b61d1a47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_cluster3d::ClusterMergeAlg::ModifyClusters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d57/namespacereco.html#a648503bdb2a1c43233004aeeb1ef737d">reco::ClusterParametersList</a> &amp;&#160;</td>
          <td class="paramname"><em>clusterParametersList</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scan an input collection of clusters and modify those according to the specific implementing algorithm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clusterParametersList</td><td>A list of cluster objects (parameters from associated hits) </td></tr>
  </table>
  </dd>
</dl>
<p>Top level interface for algorithm to consider pairs of clusters from the input list and determine if they are consistent with each other and, therefore, should be merged. This is done by looking at the PCA for each cluster and looking at the projection of the primary axis along the vector connecting their centers.</p>

<p>Implements <a class="el" href="../../d3/d11/classlar__cluster3d_1_1IClusterModAlg.html#af482f8e0956ffb8658ff72a07271baf5">lar_cluster3d::IClusterModAlg</a>.</p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00205">205</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;{<span class="comment"></span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">     *  @brief Top level interface for algorithm to consider pairs of clusters from the input</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">     *         list and determine if they are consistent with each other and, therefore, should</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">     *         be merged. This is done by looking at the PCA for each cluster and looking at the</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">     *         projection of the primary axis along the vector connecting their centers.</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="comment">// Initial clustering is done, now trim the list and get output parameters</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    cet::cpu_timer theClockBuildClusters;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">// Start clocks if requested</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a337c192bde3880fc55865d95d4020614">fEnableMonitoring</a>) theClockBuildClusters.start();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// Resort by the largest first eigen value (so the &quot;longest&quot; cluster)</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    clusterParametersList.sort([](<span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>, <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>){<span class="keywordflow">return</span> <a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>.getFullPCA().getEigenValues()[2] &gt; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>.getFullPCA().getEigenValues()[2];});</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">// The idea is to continually loop through all clusters until we get to the point where we are no longer doing any merging.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// If two clusters are merged then we need to recycle through again because it may be that the new cluster can match when</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">// it might not have in the past</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordtype">size_t</span>                                lastClusterListCount = clusterParametersList.size() + 1;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    reco::ClusterParametersList::iterator lastFirstClusterItr  = clusterParametersList.begin();</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordtype">int</span> numMergedClusters(0);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordtype">int</span> nOutsideLoops(0);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">while</span>(clusterParametersList.size() != lastClusterListCount)</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="comment">// Update the last count</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        lastClusterListCount = clusterParametersList.size();</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="comment">// Keep track of the first cluster iterator each pass through</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        reco::ClusterParametersList::iterator firstClusterItr = lastFirstClusterItr++;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="comment">// Loop through the clusters</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">while</span>(firstClusterItr != clusterParametersList.end())</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a>&amp;              firstClusterParams = *firstClusterItr;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            reco::ClusterParametersList::iterator nextClusterItr     = firstClusterItr;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="comment">// Take a brief interlude to do some histogramming</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a9b73492bd18dd9aecad325648c15ad6c">fOutputHistograms</a>)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                <span class="keyword">const</span> <a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html">reco::PrincipalComponents</a>&amp; firstPCA = firstClusterParams.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">getFullPCA</a>();</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                Eigen::Vector3f firstEigenVals(std::min(1.5 * std::sqrt(std::max(firstPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a63b9daab10ace7b78d01560531b7742a">getEigenValues</a>()[0],<a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#abbec4f204bf72cbb16d7f5eff1d82204">fMinTransEigenVal</a>)),  50.),</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                               std::min(1.5 * std::sqrt(std::max(firstPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a63b9daab10ace7b78d01560531b7742a">getEigenValues</a>()[1],<a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#abbec4f204bf72cbb16d7f5eff1d82204">fMinTransEigenVal</a>)), 100.),</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                                        1.5 * std::sqrt(         firstPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a63b9daab10ace7b78d01560531b7742a">getEigenValues</a>()[2]));</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> idx = 0; idx &lt; 3; idx++) <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a3100bb166d8451ee3b312f9a0f968974">fFirstEigenValueHists</a>[idx]-&gt;Fill(firstEigenVals[idx],1.);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="comment">// Once you get down to the smallest clusters if they haven&#39;t already been absorbed there is no need to check them</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="keywordflow">if</span> (firstClusterParams.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">getFullPCA</a>().<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a63b9daab10ace7b78d01560531b7742a">getEigenValues</a>()[2] &lt; <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1f6d6ec92da17e817e3e080b6b1afeff">fMinEigenToProcess</a>) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <span class="keywordflow">while</span>(++nextClusterItr != clusterParametersList.end())</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                <a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a>&amp; nextClusterParams = *nextClusterItr;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                <span class="comment">// On any given loop through here it **might** be that the first cluster has been modified. So can&#39;t cache</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <span class="comment">// the parameters, need the curret ones</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#ab253caf68ec6980cca596754a485ec46">linearClusters</a>(firstClusterParams,nextClusterParams))</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1621d12991fc680905edb862af1860b7">mergeClusters</a>(firstClusterParams, nextClusterParams))</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                        <span class="comment">// Now remove the &quot;next&quot; cluster</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                        nextClusterItr = clusterParametersList.erase(nextClusterItr);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                        <span class="comment">// Our new cluster may be larger than those before it so we should try to move backwards to make sure to</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                        <span class="comment">// give now smaller clusters the chance to get merged as well</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                        reco::ClusterParametersList::iterator biggestItr = firstClusterItr;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                        <span class="comment">// Step backwards until we hit the beginning of the list</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                        <span class="keywordflow">while</span>(biggestItr-- != clusterParametersList.begin())</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                        {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                            <span class="comment">// The list has already been sorted largest to smallest so if we find a cluster that is &quot;larger&quot; then</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                            <span class="comment">// we have hit the limit</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                            <span class="keywordflow">if</span> ((*biggestItr).getFullPCA().getEigenValues()[2] &gt; (*firstClusterItr).getFullPCA().getEigenValues()[2])</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                            {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                                <span class="comment">// Want to insert after the cluster with the larger primary axes.. but there is</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                                <span class="comment">// no point in doing anything if the new cluster is already in the right spot</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                                <span class="keywordflow">if</span> (++biggestItr != firstClusterItr) clusterParametersList.splice(biggestItr, clusterParametersList, firstClusterItr);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                            }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                        }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                        <span class="comment">// Restart loop?</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                        nextClusterItr = firstClusterItr;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                        numMergedClusters++;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                    }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            firstClusterItr++;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        nOutsideLoops++;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;==&gt; # merged: &quot;</span> &lt;&lt; numMergedClusters &lt;&lt; <span class="stringliteral">&quot;, in &quot;</span> &lt;&lt; nOutsideLoops &lt;&lt; <span class="stringliteral">&quot; outside loops &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a9b73492bd18dd9aecad325648c15ad6c">fOutputHistograms</a>) <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a39bc7574d64c4e9870b361c04be20939">fNumMergedClusters</a>-&gt;Fill(numMergedClusters, 1.);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a337c192bde3880fc55865d95d4020614">fEnableMonitoring</a>)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        theClockBuildClusters.stop();</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <a class="code" href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#aa6c5de48ae8040bfc8f755e5f877bbff">fTimeToProcess</a> = theClockBuildClusters.accumulated_real_time();</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    mf::LogDebug(<span class="stringliteral">&quot;Cluster3D&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;&gt;&gt;&gt;&gt;&gt; Merge clusters done, found &quot;</span> &lt;&lt; clusterParametersList.size() &lt;&lt; <span class="stringliteral">&quot; clusters&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a3100bb166d8451ee3b312f9a0f968974"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a3100bb166d8451ee3b312f9a0f968974">lar_cluster3d::ClusterMergeAlg::fFirstEigenValueHists</a></div><div class="ttdeci">std::vector&lt; TH1F * &gt; fFirstEigenValueHists</div><div class="ttdoc">First Cluster eigen value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00095">ClusterMergeAlg_tool.cc:95</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a9453748558088ae22499027391c13aaf"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a></div><div class="ttdeci">walls no right</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_aa6c5de48ae8040bfc8f755e5f877bbff"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#aa6c5de48ae8040bfc8f755e5f877bbff">lar_cluster3d::ClusterMergeAlg::fTimeToProcess</a></div><div class="ttdeci">float fTimeToProcess</div><div class="ttdoc">Keep track of how long it took to run this algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00093">ClusterMergeAlg_tool.cc:93</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a9b73492bd18dd9aecad325648c15ad6c"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a9b73492bd18dd9aecad325648c15ad6c">lar_cluster3d::ClusterMergeAlg::fOutputHistograms</a></div><div class="ttdeci">bool fOutputHistograms</div><div class="ttdoc">Take the time to create and fill some histograms for diagnostics. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00090">ClusterMergeAlg_tool.cc:90</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a1f6d6ec92da17e817e3e080b6b1afeff"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1f6d6ec92da17e817e3e080b6b1afeff">lar_cluster3d::ClusterMergeAlg::fMinEigenToProcess</a></div><div class="ttdeci">float fMinEigenToProcess</div><div class="ttdoc">Don&amp;#39;t look anymore at clusters below this size. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00089">ClusterMergeAlg_tool.cc:89</a></div></div>
<div class="ttc" id="classreco_1_1PrincipalComponents_html_a63b9daab10ace7b78d01560531b7742a"><div class="ttname"><a href="../../da/d30/classreco_1_1PrincipalComponents.html#a63b9daab10ace7b78d01560531b7742a">reco::PrincipalComponents::getEigenValues</a></div><div class="ttdeci">const EigenValues &amp; getEigenValues() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00245">Cluster3D.h:245</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a1621d12991fc680905edb862af1860b7"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a1621d12991fc680905edb862af1860b7">lar_cluster3d::ClusterMergeAlg::mergeClusters</a></div><div class="ttdeci">bool mergeClusters(reco::ClusterParameters &amp;, reco::ClusterParameters &amp;) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00539">ClusterMergeAlg_tool.cc:539</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_a648cb681d23db3a63173924021a3bfc9"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">reco::ClusterParameters::getFullPCA</a></div><div class="ttdeci">reco::PrincipalComponents &amp; getFullPCA()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00476">Cluster3D.h:476</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a1abc6b9e279feba048394f49a85218c9"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a></div><div class="ttdeci">walls no left</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a337c192bde3880fc55865d95d4020614"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a337c192bde3880fc55865d95d4020614">lar_cluster3d::ClusterMergeAlg::fEnableMonitoring</a></div><div class="ttdeci">bool fEnableMonitoring</div><div class="ttdoc">Data members to follow. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00087">ClusterMergeAlg_tool.cc:87</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_a39bc7574d64c4e9870b361c04be20939"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#a39bc7574d64c4e9870b361c04be20939">lar_cluster3d::ClusterMergeAlg::fNumMergedClusters</a></div><div class="ttdeci">TH1F * fNumMergedClusters</div><div class="ttdoc">How many clusters were merged? </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00097">ClusterMergeAlg_tool.cc:97</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00405">Cluster3D.h:405</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_ab253caf68ec6980cca596754a485ec46"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#ab253caf68ec6980cca596754a485ec46">lar_cluster3d::ClusterMergeAlg::linearClusters</a></div><div class="ttdeci">bool linearClusters(reco::ClusterParameters &amp;, reco::ClusterParameters &amp;) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00324">ClusterMergeAlg_tool.cc:324</a></div></div>
<div class="ttc" id="classreco_1_1PrincipalComponents_html"><div class="ttname"><a href="../../da/d30/classreco_1_1PrincipalComponents.html">reco::PrincipalComponents</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00221">Cluster3D.h:221</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterMergeAlg_html_abbec4f204bf72cbb16d7f5eff1d82204"><div class="ttname"><a href="../../d1/d79/classlar__cluster3d_1_1ClusterMergeAlg.html#abbec4f204bf72cbb16d7f5eff1d82204">lar_cluster3d::ClusterMergeAlg::fMinTransEigenVal</a></div><div class="ttdeci">float fMinTransEigenVal</div><div class="ttdoc">Set a mininum allowed value for the transverse eigen values. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00088">ClusterMergeAlg_tool.cc:88</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a1411b2cfb720f519408e79934f95118c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::f1stDocaArcLRatHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>arc length to POCA for DOCA first cluster </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00117">117</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a174d0adf3c5b8b721b8efb3ce5f6da20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::f1stTo2ndPosLenHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Distance between cluster centers. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00099">99</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="abea8863b3dadbd7d051ac0c28105d3fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::f1stTo2ndPosLenRatHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ratio of distance between centers and first proj eigen. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00120">120</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ac6c6ce80f7709e511f7a25c3f4e2b087"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::f1stTo2ndProjEigenHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>arc length along vector between centers from first center to cylinder </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00104">104</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a038c43f62528bad5f76e1688e8b9a7fc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::f2ndDocaArcLRatHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>arc length to POCA for DOCA second cluster </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00118">118</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a4952f1d908a1b55190c44bebabd5c03b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::f2ndTo1stProjEigenHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>arc length along vector between centers from next center to cylinder </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00109">109</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a545997d61cd08fb84984d6c9fcdf177b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::fAxesDocaHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Closest distance between two primary axes. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00116">116</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="adacc43c0be7688cc720906eac8be1f5c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::fCosFirstAxisHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cos angle between vector between centers and first axis. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00103">103</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a1d5c7f8ce938f1d21df46405235973bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::fCosMaxFirstHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cos angle beteeen cylinder axis and edge. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00102">102</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a88856ede897c69ad406efb0ba703c6cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::fCosMaxNextHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cos angle beteeen cylinder axis and edge. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00107">107</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a828804bb3da00b872289ae18c71394ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::fCosNextAxisHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cos angle between vector between centers and next axis. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00108">108</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a337c192bde3880fc55865d95d4020614"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_cluster3d::ClusterMergeAlg::fEnableMonitoring</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d4/ddc/structData.html">Data</a> members to follow. </p>
<p>If true then turn on monitoring (e.g. timing) </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00087">87</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a3100bb166d8451ee3b312f9a0f968974"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;TH1F*&gt; lar_cluster3d::ClusterMergeAlg::fFirstEigenValueHists</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>First Cluster eigen value. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00095">95</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a164dc27c0bdf678167f78a504e684d81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::fGapBetweenClusHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gap between clusters. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00111">111</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a26e6d59a544e6b558a9c68d317400e02"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::fGapRatHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ratio of gap and next proj eigen. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00121">121</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a283450f3a2b345b23713f9c57f4dc8ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::fGapRatToLenHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ratio of gap to distance between centers. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00112">112</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a1f6d6ec92da17e817e3e080b6b1afeff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_cluster3d::ClusterMergeAlg::fMinEigenToProcess</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Don't look anymore at clusters below this size. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00089">89</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="abbec4f204bf72cbb16d7f5eff1d82204"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_cluster3d::ClusterMergeAlg::fMinTransEigenVal</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a mininum allowed value for the transverse eigen values. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00088">88</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a0d929fc684de2bf8313ae2ced0e52e65"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;TH1F*&gt; lar_cluster3d::ClusterMergeAlg::fNextEigenValueHists</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Next Cluster eigen value. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00096">96</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a39bc7574d64c4e9870b361c04be20939"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::fNumMergedClusters</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>How many clusters were merged? </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00097">97</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a9b73492bd18dd9aecad325648c15ad6c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_cluster3d::ClusterMergeAlg::fOutputHistograms</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Take the time to create and fill some histograms for diagnostics. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00090">90</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aa28bca7751c3aee645704ffcbfded36b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d48/classlar__cluster3d_1_1PrincipalComponentsAlg.html">PrincipalComponentsAlg</a> lar_cluster3d::ClusterMergeAlg::fPCAAlg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00123">123</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a71bbbd7e7af23b8ca4880481f9d5baec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::fProjEndPointLenHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Projection of vector between the endpoints. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00113">113</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="addbe997e4e0ed0ce20bbd6036ddb72ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::fProjEndPointRatHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ratio of projection to vector length. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00114">114</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a1d88efd57504ba688951b4ec420e4c0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::fRMaxFirstHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>radius of "cylinder" first cluster </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00101">101</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a44ad999752bb9a30bdccf3ad76c1d38d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH1F* lar_cluster3d::ClusterMergeAlg::fRMaxNextHist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>radius of "cylinder" next cluster </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00106">106</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aa6c5de48ae8040bfc8f755e5f877bbff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_cluster3d::ClusterMergeAlg::fTimeToProcess</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Keep track of how long it took to run this algorithm. </p>

<p>Definition at line <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html#l00093">93</a> of file <a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../d1/dbd/ClusterMergeAlg__tool_8cc_source.html">ClusterMergeAlg_tool.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
