<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>icarus::trigger::SlidingWindowPatternAlg Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../da/d4d/namespaceicarus.html">icarus</a></li><li class="navelem"><a class="el" href="../../dd/df6/namespaceicarus_1_1trigger.html">trigger</a></li><li class="navelem"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html">SlidingWindowPatternAlg</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d3/d96/classicarus_1_1trigger_1_1SlidingWindowPatternAlg-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">icarus::trigger::SlidingWindowPatternAlg Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Applies sliding window patterns to discriminated waveforms.  
 <a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html">SlidingWindowPatternAlg.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for icarus::trigger::SlidingWindowPatternAlg:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.png" usemap="#icarus::trigger::SlidingWindowPatternAlg_map" alt=""/>
  <map id="icarus::trigger::SlidingWindowPatternAlg_map" name="icarus::trigger::SlidingWindowPatternAlg_map">
<area href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html" title="Helper for logging classes. " alt="icarus::ns::util::mfLoggingClass" shape="rect" coords="0,0,237,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d8a/structicarus_1_1trigger_1_1SlidingWindowPatternAlg_1_1AllTriggerInfo__t.html">AllTriggerInfo_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete information from this algorithm, standard + non-standard (extra).  <a href="../../d1/d8a/structicarus_1_1trigger_1_1SlidingWindowPatternAlg_1_1AllTriggerInfo__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2d/structicarus_1_1trigger_1_1SlidingWindowPatternAlg_1_1MoreInfo__t.html">MoreInfo_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional information on the trigger.  <a href="../../d1/d2d/structicarus_1_1trigger_1_1SlidingWindowPatternAlg_1_1MoreInfo__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/db7/structicarus_1_1trigger_1_1SlidingWindowPatternAlg_1_1WindowTriggerInfo__t.html">WindowTriggerInfo_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d4/ddc/structData.html">Data</a> structure to communicate internally a trigger response.  <a href="../../d1/db7/structicarus_1_1trigger_1_1SlidingWindowPatternAlg_1_1WindowTriggerInfo__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a5a7c62d50cbdf38f1c0527e71b238733"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a5a7c62d50cbdf38f1c0527e71b238733">TriggerInfo_t</a> = <a class="el" href="../../d0/d46/structicarus_1_1trigger_1_1details_1_1TriggerInfo__t.html">icarus::trigger::details::TriggerInfo_t</a></td></tr>
<tr class="memdesc:a5a7c62d50cbdf38f1c0527e71b238733"><td class="mdescLeft">&#160;</td><td class="mdescRight">Record of the trigger response.  <a href="#a5a7c62d50cbdf38f1c0527e71b238733">More...</a><br/></td></tr>
<tr class="separator:a5a7c62d50cbdf38f1c0527e71b238733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae79db4b6bc3312fb7692a38aa370de81"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ae79db4b6bc3312fb7692a38aa370de81">InputTriggerGate_t</a> = <a class="el" href="../../dd/df6/namespaceicarus_1_1trigger.html#a7037bc74f4245057c2d1d4c63dd2f8a9">icarus::trigger::TrackedOpticalTriggerGate</a>&lt; <a class="el" href="../../da/d09/structsbn_1_1OpDetWaveformMeta.html">sbn::OpDetWaveformMeta</a> &gt;</td></tr>
<tr class="memdesc:ae79db4b6bc3312fb7692a38aa370de81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of trigger gate provided as input.  <a href="#ae79db4b6bc3312fb7692a38aa370de81">More...</a><br/></td></tr>
<tr class="separator:ae79db4b6bc3312fb7692a38aa370de81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a147bf3eb3b9bfceca6fe80111275f617"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a147bf3eb3b9bfceca6fe80111275f617">TriggerGates_t</a> = std::vector&lt; <a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ae79db4b6bc3312fb7692a38aa370de81">InputTriggerGate_t</a> &gt;</td></tr>
<tr class="memdesc:a147bf3eb3b9bfceca6fe80111275f617"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list of trigger gates from input.  <a href="#a147bf3eb3b9bfceca6fe80111275f617">More...</a><br/></td></tr>
<tr class="separator:a147bf3eb3b9bfceca6fe80111275f617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8c57108076d02bb5545e694b3be9166"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ae8c57108076d02bb5545e694b3be9166">TriggerGateData_t</a> = <a class="el" href="../../dd/df6/namespaceicarus_1_1trigger.html#a910f46c9a8fc50918c7ec07af219aa92">icarus::trigger::OpticalTriggerGateData_t</a></td></tr>
<tr class="memdesc:ae8c57108076d02bb5545e694b3be9166"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of gate data without channel information (gate levels only).  <a href="#ae8c57108076d02bb5545e694b3be9166">More...</a><br/></td></tr>
<tr class="separator:ae8c57108076d02bb5545e694b3be9166"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecb867099072b23b6c7d7c8b31672246"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#aecb867099072b23b6c7d7c8b31672246">WindowTopology_t</a> = <a class="el" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html">icarus::trigger::WindowChannelMap</a></td></tr>
<tr class="memdesc:aecb867099072b23b6c7d7c8b31672246"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type holding information about composition and topology of all windows.  <a href="#aecb867099072b23b6c7d7c8b31672246">More...</a><br/></td></tr>
<tr class="separator:aecb867099072b23b6c7d7c8b31672246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1efda385bf479bc8e5b0d47328f0aba"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1efda385bf479bc8e5b0d47328f0aba">WindowPattern_t</a> = <a class="el" href="../../d3/d07/structicarus_1_1trigger_1_1WindowPattern.html">icarus::trigger::WindowPattern</a></td></tr>
<tr class="memdesc:ad1efda385bf479bc8e5b0d47328f0aba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type representing the requirement pattern for a window.  <a href="#ad1efda385bf479bc8e5b0d47328f0aba">More...</a><br/></td></tr>
<tr class="separator:ad1efda385bf479bc8e5b0d47328f0aba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac76daa576efd81647a36ae881fb07d38"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ac76daa576efd81647a36ae881fb07d38">SlidingWindowPatternAlg</a> (<a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#aecb867099072b23b6c7d7c8b31672246">WindowTopology_t</a> windowTopology, <a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1efda385bf479bc8e5b0d47328f0aba">WindowPattern_t</a> windowPattern, <a class="el" href="../../df/dfa/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a> beamGate, std::string const &amp;<a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#aa155bf6084c2272a53879da12ecff0b9">logCategory</a>=&quot;SlidingWindowPatternAlg&quot;)</td></tr>
<tr class="memdesc:ac76daa576efd81647a36ae881fb07d38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor: configures window topology and times.  <a href="#ac76daa576efd81647a36ae881fb07d38">More...</a><br/></td></tr>
<tr class="separator:ac76daa576efd81647a36ae881fb07d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76846e5bb80078eef1230f38e65c704a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a76846e5bb80078eef1230f38e65c704a">SlidingWindowPatternAlg</a> (<a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#aecb867099072b23b6c7d7c8b31672246">WindowTopology_t</a> windowTopology, <a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1efda385bf479bc8e5b0d47328f0aba">WindowPattern_t</a> windowPattern, std::string const &amp;<a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#aa155bf6084c2272a53879da12ecff0b9">logCategory</a>=&quot;SlidingWindowPatternAlg&quot;)</td></tr>
<tr class="memdesc:a76846e5bb80078eef1230f38e65c704a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor: configures window topology and times.  <a href="#a76846e5bb80078eef1230f38e65c704a">More...</a><br/></td></tr>
<tr class="separator:a76846e5bb80078eef1230f38e65c704a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd297348da3caee6a96f717bb1045f56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8a/structicarus_1_1trigger_1_1SlidingWindowPatternAlg_1_1AllTriggerInfo__t.html">AllTriggerInfo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#abd297348da3caee6a96f717bb1045f56">simulateResponse</a> (<a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a147bf3eb3b9bfceca6fe80111275f617">TriggerGates_t</a> const &amp;gates) const </td></tr>
<tr class="memdesc:abd297348da3caee6a96f717bb1045f56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the trigger response from the specified <code>gates</code>.  <a href="#abd297348da3caee6a96f717bb1045f56">More...</a><br/></td></tr>
<tr class="separator:abd297348da3caee6a96f717bb1045f56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a28a638a20caa38e89ffb5606e10c8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a147bf3eb3b9bfceca6fe80111275f617">TriggerGates_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a8a28a638a20caa38e89ffb5606e10c8d">applyBeamGate</a> (<a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a147bf3eb3b9bfceca6fe80111275f617">TriggerGates_t</a> const &amp;gates) const </td></tr>
<tr class="memdesc:a8a28a638a20caa38e89ffb5606e10c8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a new collection of gates, set each in coincidence with beam gate.  <a href="#a8a28a638a20caa38e89ffb5606e10c8d">More...</a><br/></td></tr>
<tr class="separator:a8a28a638a20caa38e89ffb5606e10c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2581ccbc4a40d44d5f38502529251ac8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a2581ccbc4a40d44d5f38502529251ac8">hasBeamGate</a> () const </td></tr>
<tr class="memdesc:a2581ccbc4a40d44d5f38502529251ac8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether a beam gate is being applied.  <a href="#a2581ccbc4a40d44d5f38502529251ac8">More...</a><br/></td></tr>
<tr class="separator:a2581ccbc4a40d44d5f38502529251ac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85710878444dd68eb4514255807df919"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a85710878444dd68eb4514255807df919">setBeamGate</a> (<a class="el" href="../../df/dfa/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a> beamGate)</td></tr>
<tr class="memdesc:a85710878444dd68eb4514255807df919"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the beam gate to the specified value.  <a href="#a85710878444dd68eb4514255807df919">More...</a><br/></td></tr>
<tr class="separator:a85710878444dd68eb4514255807df919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac87098a60d81beb057ba57bac0098bfe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ac87098a60d81beb057ba57bac0098bfe">clearBeamGate</a> ()</td></tr>
<tr class="memdesc:ac87098a60d81beb057ba57bac0098bfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do not apply any beam gate.  <a href="#ac87098a60d81beb057ba57bac0098bfe">More...</a><br/></td></tr>
<tr class="separator:ac87098a60d81beb057ba57bac0098bfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1239c6f5d4cdd2bf41980b560a99ef6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a5a7c62d50cbdf38f1c0527e71b238733">TriggerInfo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a1239c6f5d4cdd2bf41980b560a99ef6a">applyWindowPattern</a> (<a class="el" href="../../d9/df9/structicarus_1_1trigger_1_1WindowChannelMap_1_1WindowInfo__t.html">WindowTopology_t::WindowInfo_t</a> const &amp;windowInfo, <a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1efda385bf479bc8e5b0d47328f0aba">WindowPattern_t</a> const &amp;pattern, <a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a147bf3eb3b9bfceca6fe80111275f617">TriggerGates_t</a> const &amp;gates) const </td></tr>
<tr class="memdesc:a1239c6f5d4cdd2bf41980b560a99ef6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the trigger response for the specified window pattern.  <a href="#a1239c6f5d4cdd2bf41980b560a99ef6a">More...</a><br/></td></tr>
<tr class="separator:a1239c6f5d4cdd2bf41980b560a99ef6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html">icarus::ns::util::mfLoggingClass</a></td></tr>
<tr class="memitem:ac8bb7d60c05816ebb67fd14ab57d7f07 inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#ac8bb7d60c05816ebb67fd14ab57d7f07">mfLoggingClass</a> (std::string const &amp;<a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#aa155bf6084c2272a53879da12ecff0b9">logCategory</a>)</td></tr>
<tr class="memdesc:ac8bb7d60c05816ebb67fd14ab57d7f07 inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor: initializes with the specified log category.  <a href="#ac8bb7d60c05816ebb67fd14ab57d7f07">More...</a><br/></td></tr>
<tr class="separator:ac8bb7d60c05816ebb67fd14ab57d7f07 inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa155bf6084c2272a53879da12ecff0b9 inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#aa155bf6084c2272a53879da12ecff0b9">logCategory</a> () const </td></tr>
<tr class="memdesc:aa155bf6084c2272a53879da12ecff0b9 inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the logging category string for this object.  <a href="#aa155bf6084c2272a53879da12ecff0b9">More...</a><br/></td></tr>
<tr class="separator:aa155bf6084c2272a53879da12ecff0b9 inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adad83a3852f974bc144857676c4b26cd inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html">mfLoggingClass</a> const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#adad83a3852f974bc144857676c4b26cd">loggingClass</a> () const </td></tr>
<tr class="memdesc:adad83a3852f974bc144857676c4b26cd inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns this object (as a logging class object).  <a href="#adad83a3852f974bc144857676c4b26cd">More...</a><br/></td></tr>
<tr class="separator:adad83a3852f974bc144857676c4b26cd inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a731719e05852dbb0f901652312883a59 inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">mf::LogError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#a731719e05852dbb0f901652312883a59">mfLogError</a> (std::string const &amp;<a class="el" href="../../da/dd5/updateLAr__v09__43__00_8sh.html#a4fb1a7a55b4ce38d6527639eb9412f22">file</a>={}, int const lineNumber=0) const </td></tr>
<tr class="memdesc:a731719e05852dbb0f901652312883a59 inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a mf::LogError() stream for logging.  <a href="#a731719e05852dbb0f901652312883a59">More...</a><br/></td></tr>
<tr class="separator:a731719e05852dbb0f901652312883a59 inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af01a3517ee35f92052a50d079691d572 inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">mf::LogWarning&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#af01a3517ee35f92052a50d079691d572">mfLogWarning</a> (std::string const &amp;<a class="el" href="../../da/dd5/updateLAr__v09__43__00_8sh.html#a4fb1a7a55b4ce38d6527639eb9412f22">file</a>={}, int const lineNumber=0) const </td></tr>
<tr class="memdesc:af01a3517ee35f92052a50d079691d572 inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a mf::LogWarning() stream for logging.  <a href="#af01a3517ee35f92052a50d079691d572">More...</a><br/></td></tr>
<tr class="separator:af01a3517ee35f92052a50d079691d572 inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89eba3670cf3833008a3836029ae1d4a inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">mf::LogProblem&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#a89eba3670cf3833008a3836029ae1d4a">mfLogProblem</a> (std::string const &amp;<a class="el" href="../../da/dd5/updateLAr__v09__43__00_8sh.html#a4fb1a7a55b4ce38d6527639eb9412f22">file</a>={}, int const lineNumber=0) const </td></tr>
<tr class="memdesc:a89eba3670cf3833008a3836029ae1d4a inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a mf::LogProblem() stream for logging.  <a href="#a89eba3670cf3833008a3836029ae1d4a">More...</a><br/></td></tr>
<tr class="separator:a89eba3670cf3833008a3836029ae1d4a inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75d11dd7858a04da2c52bdffdda855db inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">mf::LogInfo&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#a75d11dd7858a04da2c52bdffdda855db">mfLogInfo</a> (std::string const &amp;<a class="el" href="../../da/dd5/updateLAr__v09__43__00_8sh.html#a4fb1a7a55b4ce38d6527639eb9412f22">file</a>={}, int const lineNumber=0) const </td></tr>
<tr class="memdesc:a75d11dd7858a04da2c52bdffdda855db inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a mf::LogInfo() stream for logging.  <a href="#a75d11dd7858a04da2c52bdffdda855db">More...</a><br/></td></tr>
<tr class="separator:a75d11dd7858a04da2c52bdffdda855db inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe8256766196b17dee74e1fd3041d1aa inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">mf::LogVerbatim&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#abe8256766196b17dee74e1fd3041d1aa">mfLogVerbatim</a> (std::string const &amp;<a class="el" href="../../da/dd5/updateLAr__v09__43__00_8sh.html#a4fb1a7a55b4ce38d6527639eb9412f22">file</a>={}, int const lineNumber=0) const </td></tr>
<tr class="memdesc:abe8256766196b17dee74e1fd3041d1aa inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a mf::LogVerbatim() stream for logging.  <a href="#abe8256766196b17dee74e1fd3041d1aa">More...</a><br/></td></tr>
<tr class="separator:abe8256766196b17dee74e1fd3041d1aa inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a5e7957074a9cc96b33426f640b1e8f inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">mf::LogDebug&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#a8a5e7957074a9cc96b33426f640b1e8f">mfLogDebug</a> (std::string const &amp;<a class="el" href="../../da/dd5/updateLAr__v09__43__00_8sh.html#a4fb1a7a55b4ce38d6527639eb9412f22">file</a>={}, int const lineNumber=0) const </td></tr>
<tr class="memdesc:a8a5e7957074a9cc96b33426f640b1e8f inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a mf::LogDebug() stream for logging.  <a href="#a8a5e7957074a9cc96b33426f640b1e8f">More...</a><br/></td></tr>
<tr class="separator:a8a5e7957074a9cc96b33426f640b1e8f inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5362324c36620e8f9f3006e0ab94000 inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">mf::LogTrace&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#af5362324c36620e8f9f3006e0ab94000">mfLogTrace</a> (std::string const &amp;<a class="el" href="../../da/dd5/updateLAr__v09__43__00_8sh.html#a4fb1a7a55b4ce38d6527639eb9412f22">file</a>={}, int const lineNumber=0) const </td></tr>
<tr class="memdesc:af5362324c36620e8f9f3006e0ab94000 inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a mf::LogTrace() stream for logging.  <a href="#af5362324c36620e8f9f3006e0ab94000">More...</a><br/></td></tr>
<tr class="separator:af5362324c36620e8f9f3006e0ab94000 inherit pub_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ac83d0d584f9cbe9f49210e13258b05e2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a5a7c62d50cbdf38f1c0527e71b238733">TriggerInfo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ac83d0d584f9cbe9f49210e13258b05e2">applyWindowPattern</a> (<a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1efda385bf479bc8e5b0d47328f0aba">WindowPattern_t</a> const &amp;pattern, std::size_t iWindow, <a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a147bf3eb3b9bfceca6fe80111275f617">TriggerGates_t</a> const &amp;gates) const </td></tr>
<tr class="memdesc:ac83d0d584f9cbe9f49210e13258b05e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the trigger response for the specified window pattern.  <a href="#ac83d0d584f9cbe9f49210e13258b05e2">More...</a><br/></td></tr>
<tr class="separator:ac83d0d584f9cbe9f49210e13258b05e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1304a591e2382719f8829816bcbddc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#aa1304a591e2382719f8829816bcbddc4">verifyInputTopology</a> (<a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a147bf3eb3b9bfceca6fe80111275f617">TriggerGates_t</a> const &amp;gates) const </td></tr>
<tr class="memdesc:aa1304a591e2382719f8829816bcbddc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks <code>gates</code> are compatible with the current window configuration.  <a href="#aa1304a591e2382719f8829816bcbddc4">More...</a><br/></td></tr>
<tr class="separator:aa1304a591e2382719f8829816bcbddc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a429c909efa5b09c22b53d5802971ec4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#aecb867099072b23b6c7d7c8b31672246">WindowTopology_t</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a429c909efa5b09c22b53d5802971ec4a">fWindowTopology</a></td></tr>
<tr class="memdesc:a429c909efa5b09c22b53d5802971ec4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of the neighborhood of each window in terms of window indices.  <a href="#a429c909efa5b09c22b53d5802971ec4a">More...</a><br/></td></tr>
<tr class="separator:a429c909efa5b09c22b53d5802971ec4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1806773138a746eb7f5ff6eb9a604bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1efda385bf479bc8e5b0d47328f0aba">WindowPattern_t</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1806773138a746eb7f5ff6eb9a604bd">fWindowPattern</a></td></tr>
<tr class="memdesc:ad1806773138a746eb7f5ff6eb9a604bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requirement pattern to be applied to each window.  <a href="#ad1806773138a746eb7f5ff6eb9a604bd">More...</a><br/></td></tr>
<tr class="separator:ad1806773138a746eb7f5ff6eb9a604bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ccfa1722a5bb8e8648563bd28bb717e"><td class="memItemLeft" align="right" valign="top">std::optional<br class="typebreak"/>
&lt; <a class="el" href="../../df/dfa/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a> <br class="typebreak"/>
const  &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a0ccfa1722a5bb8e8648563bd28bb717e">fBeamGate</a></td></tr>
<tr class="memdesc:a0ccfa1722a5bb8e8648563bd28bb717e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time interval when to evaluate the trigger.  <a href="#a0ccfa1722a5bb8e8648563bd28bb717e">More...</a><br/></td></tr>
<tr class="separator:a0ccfa1722a5bb8e8648563bd28bb717e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Applies sliding window patterns to discriminated waveforms. </p>
<p>This algorithm takes as input one trigger gate for each window. Each window is identified by an index, and the input gates are assigned one per window, in order.</p>
<p>The window mapping that defines the topology of the windows is passed to the algorithm.</p>
<p>If a beam gate is present, it is applied to all input before simulating the pattern. Otherwise, the full input is used.</p>
<p>For the definition of the windows, see <code><a class="el" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html" title="Information about composition and topology of trigger sliding windows. ">icarus::trigger::WindowChannelMap</a></code>. </p>

<p>Definition at line <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00051">51</a> of file <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html">SlidingWindowPatternAlg.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="ae79db4b6bc3312fb7692a38aa370de81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ae79db4b6bc3312fb7692a38aa370de81">icarus::trigger::SlidingWindowPatternAlg::InputTriggerGate_t</a> =  <a class="el" href="../../dd/df6/namespaceicarus_1_1trigger.html#a7037bc74f4245057c2d1d4c63dd2f8a9">icarus::trigger::TrackedOpticalTriggerGate</a>&lt;<a class="el" href="../../da/d09/structsbn_1_1OpDetWaveformMeta.html">sbn::OpDetWaveformMeta</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of trigger gate provided as input. </p>

<p>Definition at line <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00062">62</a> of file <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html">SlidingWindowPatternAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae8c57108076d02bb5545e694b3be9166"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ae8c57108076d02bb5545e694b3be9166">icarus::trigger::SlidingWindowPatternAlg::TriggerGateData_t</a> =  <a class="el" href="../../dd/df6/namespaceicarus_1_1trigger.html#a910f46c9a8fc50918c7ec07af219aa92">icarus::trigger::OpticalTriggerGateData_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of gate data without channel information (gate levels only). </p>

<p>Definition at line <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00068">68</a> of file <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html">SlidingWindowPatternAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a147bf3eb3b9bfceca6fe80111275f617"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a147bf3eb3b9bfceca6fe80111275f617">icarus::trigger::SlidingWindowPatternAlg::TriggerGates_t</a> =  std::vector&lt;<a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ae79db4b6bc3312fb7692a38aa370de81">InputTriggerGate_t</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A list of trigger gates from input. </p>

<p>Definition at line <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00065">65</a> of file <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html">SlidingWindowPatternAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5a7c62d50cbdf38f1c0527e71b238733"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a5a7c62d50cbdf38f1c0527e71b238733">icarus::trigger::SlidingWindowPatternAlg::TriggerInfo_t</a> =  <a class="el" href="../../d0/d46/structicarus_1_1trigger_1_1details_1_1TriggerInfo__t.html">icarus::trigger::details::TriggerInfo_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Record of the trigger response. </p>

<p>Definition at line <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00058">58</a> of file <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html">SlidingWindowPatternAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad1efda385bf479bc8e5b0d47328f0aba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1efda385bf479bc8e5b0d47328f0aba">icarus::trigger::SlidingWindowPatternAlg::WindowPattern_t</a> =  <a class="el" href="../../d3/d07/structicarus_1_1trigger_1_1WindowPattern.html">icarus::trigger::WindowPattern</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type representing the requirement pattern for a window. </p>

<p>Definition at line <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00074">74</a> of file <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html">SlidingWindowPatternAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="aecb867099072b23b6c7d7c8b31672246"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#aecb867099072b23b6c7d7c8b31672246">icarus::trigger::SlidingWindowPatternAlg::WindowTopology_t</a> =  <a class="el" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html">icarus::trigger::WindowChannelMap</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type holding information about composition and topology of all windows. </p>

<p>Definition at line <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00071">71</a> of file <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html">SlidingWindowPatternAlg.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac76daa576efd81647a36ae881fb07d38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">icarus::trigger::SlidingWindowPatternAlg::SlidingWindowPatternAlg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#aecb867099072b23b6c7d7c8b31672246">WindowTopology_t</a>&#160;</td>
          <td class="paramname"><em>windowTopology</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1efda385bf479bc8e5b0d47328f0aba">WindowPattern_t</a>&#160;</td>
          <td class="paramname"><em>windowPattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/dfa/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a>&#160;</td>
          <td class="paramname"><em>beamGate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>logCategory</em> = <code>&quot;SlidingWindowPatternAlg&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor: configures window topology and times. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">windowTopology</td><td>full composition and topology description of windows </td></tr>
    <tr><td class="paramname">windowPattern</td><td>the pattern that this algorithm applies </td></tr>
    <tr><td class="paramname">beamGate</td><td>object applying the beam gate to trigger gates </td></tr>
    <tr><td class="paramname">logCategory</td><td>category tag for algorithm messages on screen</td></tr>
  </table>
  </dd>
</dl>
<p>Window topology can be computed with <code><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html" title="Algorithm to create trigger window topology information. ">icarus::trigger::WindowTopologyAlg</a></code> starting from a (complete) set of trigger gates.</p>
<p>A beam gate application class can be constructed via <code><a class="el" href="../../dd/df6/namespaceicarus_1_1trigger.html#a29a214bee5804033b2b965b322254fcf">icarus::trigger::makeApplyBeamGate()</a></code> helper function. </p>

<p>Definition at line <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html#l00034">34</a> of file <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html">SlidingWindowPatternAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  : <a class="code" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html">icarus::ns::util::mfLoggingClass</a>(<a class="code" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#aa155bf6084c2272a53879da12ecff0b9">logCategory</a>)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  , <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a429c909efa5b09c22b53d5802971ec4a">fWindowTopology</a>(std::move(windowTopology))</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  , <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1806773138a746eb7f5ff6eb9a604bd">fWindowPattern</a>(std::move(windowPattern))</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  , <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a0ccfa1722a5bb8e8648563bd28bb717e">fBeamGate</a>(std::move(beamGate))</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  {}</div>
<div class="ttc" id="classicarus_1_1ns_1_1util_1_1mfLoggingClass_html"><div class="ttname"><a href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html">icarus::ns::util::mfLoggingClass</a></div><div class="ttdoc">Helper for logging classes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/mfLoggingClass_8h_source.html#l00044">mfLoggingClass.h:44</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_a429c909efa5b09c22b53d5802971ec4a"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a429c909efa5b09c22b53d5802971ec4a">icarus::trigger::SlidingWindowPatternAlg::fWindowTopology</a></div><div class="ttdeci">WindowTopology_t const fWindowTopology</div><div class="ttdoc">Definition of the neighborhood of each window in terms of window indices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00216">SlidingWindowPatternAlg.h:216</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_ad1806773138a746eb7f5ff6eb9a604bd"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1806773138a746eb7f5ff6eb9a604bd">icarus::trigger::SlidingWindowPatternAlg::fWindowPattern</a></div><div class="ttdeci">WindowPattern_t const fWindowPattern</div><div class="ttdoc">Requirement pattern to be applied to each window. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00219">SlidingWindowPatternAlg.h:219</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_a0ccfa1722a5bb8e8648563bd28bb717e"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a0ccfa1722a5bb8e8648563bd28bb717e">icarus::trigger::SlidingWindowPatternAlg::fBeamGate</a></div><div class="ttdeci">std::optional&lt; icarus::trigger::ApplyBeamGateClass const  &gt; fBeamGate</div><div class="ttdoc">Time interval when to evaluate the trigger. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00222">SlidingWindowPatternAlg.h:222</a></div></div>
<div class="ttc" id="classicarus_1_1ns_1_1util_1_1mfLoggingClass_html_aa155bf6084c2272a53879da12ecff0b9"><div class="ttname"><a href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#aa155bf6084c2272a53879da12ecff0b9">icarus::ns::util::mfLoggingClass::logCategory</a></div><div class="ttdeci">std::string logCategory() const </div><div class="ttdoc">Returns the logging category string for this object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/mfLoggingClass_8h_source.html#l00054">mfLoggingClass.h:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a76846e5bb80078eef1230f38e65c704a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">icarus::trigger::SlidingWindowPatternAlg::SlidingWindowPatternAlg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#aecb867099072b23b6c7d7c8b31672246">WindowTopology_t</a>&#160;</td>
          <td class="paramname"><em>windowTopology</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1efda385bf479bc8e5b0d47328f0aba">WindowPattern_t</a>&#160;</td>
          <td class="paramname"><em>windowPattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>logCategory</em> = <code>&quot;SlidingWindowPatternAlg&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor: configures window topology and times. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">windowTopology</td><td>full composition and topology description of windows </td></tr>
    <tr><td class="paramname">windowPattern</td><td>the pattern that this algorithm applies </td></tr>
    <tr><td class="paramname">logCategory</td><td>category tag for algorithm messages on screen</td></tr>
  </table>
  </dd>
</dl>
<p>Window topology can be computed with <code><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html" title="Algorithm to create trigger window topology information. ">icarus::trigger::WindowTopologyAlg</a></code> starting from a (complete) set of trigger gates.</p>
<p>The beam gate is set to be empty; it must be set before simulating the response (<code><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#abd297348da3caee6a96f717bb1045f56" title="Returns the trigger response from the specified gates. ">simulateResponse()</a></code>) via <code><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a85710878444dd68eb4514255807df919" title="Changes the beam gate to the specified value. ">setBeamGate()</a></code>. </p>

<p>Definition at line <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html#l00048">48</a> of file <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html">SlidingWindowPatternAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  : <a class="code" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html">icarus::ns::util::mfLoggingClass</a>(<a class="code" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#aa155bf6084c2272a53879da12ecff0b9">logCategory</a>)</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  , <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a429c909efa5b09c22b53d5802971ec4a">fWindowTopology</a>(std::move(windowTopology))</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  , <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1806773138a746eb7f5ff6eb9a604bd">fWindowPattern</a>(std::move(windowPattern))</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  {}</div>
<div class="ttc" id="classicarus_1_1ns_1_1util_1_1mfLoggingClass_html"><div class="ttname"><a href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html">icarus::ns::util::mfLoggingClass</a></div><div class="ttdoc">Helper for logging classes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/mfLoggingClass_8h_source.html#l00044">mfLoggingClass.h:44</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_a429c909efa5b09c22b53d5802971ec4a"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a429c909efa5b09c22b53d5802971ec4a">icarus::trigger::SlidingWindowPatternAlg::fWindowTopology</a></div><div class="ttdeci">WindowTopology_t const fWindowTopology</div><div class="ttdoc">Definition of the neighborhood of each window in terms of window indices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00216">SlidingWindowPatternAlg.h:216</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_ad1806773138a746eb7f5ff6eb9a604bd"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1806773138a746eb7f5ff6eb9a604bd">icarus::trigger::SlidingWindowPatternAlg::fWindowPattern</a></div><div class="ttdeci">WindowPattern_t const fWindowPattern</div><div class="ttdoc">Requirement pattern to be applied to each window. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00219">SlidingWindowPatternAlg.h:219</a></div></div>
<div class="ttc" id="classicarus_1_1ns_1_1util_1_1mfLoggingClass_html_aa155bf6084c2272a53879da12ecff0b9"><div class="ttname"><a href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#aa155bf6084c2272a53879da12ecff0b9">icarus::ns::util::mfLoggingClass::logCategory</a></div><div class="ttdeci">std::string logCategory() const </div><div class="ttdoc">Returns the logging category string for this object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/mfLoggingClass_8h_source.html#l00054">mfLoggingClass.h:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a8a28a638a20caa38e89ffb5606e10c8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a147bf3eb3b9bfceca6fe80111275f617">TriggerGates_t</a> icarus::trigger::SlidingWindowPatternAlg::applyBeamGate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a147bf3eb3b9bfceca6fe80111275f617">TriggerGates_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>gates</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a new collection of gates, set each in coincidence with beam gate. </p>

</div>
</div>
<a class="anchor" id="a1239c6f5d4cdd2bf41980b560a99ef6a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::SlidingWindowPatternAlg::applyWindowPattern </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/df9/structicarus_1_1trigger_1_1WindowChannelMap_1_1WindowInfo__t.html">WindowTopology_t::WindowInfo_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>windowInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1efda385bf479bc8e5b0d47328f0aba">WindowPattern_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a147bf3eb3b9bfceca6fe80111275f617">TriggerGates_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>gates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the trigger response for the specified window pattern. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">windowInfo</td><td>the topology of the windows </td></tr>
    <tr><td class="paramname">pattern</td><td>the trigger requirement pattern </td></tr>
    <tr><td class="paramname">gates</td><td>trigger gates, one per window </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a <code>TriggerInfo_t</code> record with the response of the pattern</dd></dl>
<p>The input <code>gates</code> represent all the trigger gates relevant to the trigger determination, in a list by window index: the first gate belongs to the window <code>0</code>, the second one to the window <code>1</code> and so on. The topology <code>windowInfo</code> identifies a window and its topology, i.e. its neighbours, by window index. It is required and assumed that the values of the window indices match the ones in the <code>gates</code> list. This function applies the requirements in the specified <code>pattern</code> to the window identified by <code>windowInfo</code>, using the actual trigger gates from the <code>gates</code> list as needed.</p>
<p>The return value includes the first tick at which the requirements have been all met. Note that if a beam gate needs to be applied, it should be applies to all <code>gates</code> before calling this function (see e.g. <code><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a8a28a638a20caa38e89ffb5606e10c8d" title="Returns a new collection of gates, set each in coincidence with beam gate. ">applyBeamGate()</a></code>). </p>

<p>Definition at line <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html#l00205">205</a> of file <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html">SlidingWindowPatternAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;{</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">   * 1. check that the pattern can be applied; if not, return no trigger</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">   * 2. discriminate all the relevant gates against their required minimum count</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">   * 3. combine them in AND</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">   * 4. find the trigger time, fill the trigger information accordingly</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a5a7c62d50cbdf38f1c0527e71b238733">TriggerInfo_t</a> res; <span class="comment">// no trigger by default</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  assert(!res);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="comment">// undress the gate to get its data</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> gateAt = [&amp;gates](std::size_t index) -&gt; <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ae8c57108076d02bb5545e694b3be9166">TriggerGateData_t</a> <span class="keyword">const</span>&amp;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    { <span class="keywordflow">return</span> <a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a7d2ea22cb29938549215c40b204c7b99">gateIn</a>(gates[index]); };</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">// 1. check that the pattern can be applied; if not, return no trigger</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="comment">// check that the pattern centered into iWindow has all it needs:</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">pattern</a>.requireUpstreamWindow &amp;&amp; !windowInfo.hasUpstreamWindow())</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">pattern</a>.requireDownstreamWindow &amp;&amp; !windowInfo.hasDownstreamWindow())</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">// 2. discriminate all the relevant gates against their required minimum count</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="comment">// 3. combine them in AND</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <a class="code" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#af5362324c36620e8f9f3006e0ab94000">mfLogTrace</a>()</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;Window info #&quot;</span> &lt;&lt; windowInfo.index &lt;&lt; <span class="stringliteral">&quot; pattern &quot;</span> &lt;&lt; <a class="code" href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">pattern</a>.tag();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="comment">// we have two different &quot;modes&quot; depending on whether we are constraining</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">// the sum of main and opposite window, or not;</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  std::optional&lt;TriggerGateData_t&gt; <span class="keyword">const</span> mainPlusOpposite</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    = (<a class="code" href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">pattern</a>.minSumInOppositeWindows &gt; 0U)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    ? std::optional{</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      windowInfo.hasOppositeWindow()</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        ? <a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#accb552bab4f1f314a5c483c030aa0250">sumGates</a>(gateAt(windowInfo.index), gateAt(windowInfo.opposite))</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        : gateAt(windowInfo.index)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    : <a class="code" href="../../da/dc9/namespacepmtana.html#a9860e62c78db1dd9c7d635a2832b883a">std</a>::nullopt</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    ;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="comment">// the basic trigger primitive gate has the levels of the main or</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="comment">// main+opposite window depending on the requirements</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ae8c57108076d02bb5545e694b3be9166">TriggerGateData_t</a> trigPrimitive</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    = mainPlusOpposite? *mainPlusOpposite: gateAt(windowInfo.index);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <a class="code" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#af5362324c36620e8f9f3006e0ab94000">mfLogTrace</a>() &lt;&lt; <span class="stringliteral">&quot;  base: &quot;</span> &lt;&lt; <a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a62cb6e3947806a30f0ef61dc3f728acd">compactdump</a>(trigPrimitive);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// main window</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">pattern</a>.minInMainWindow &gt; 0U) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    trigPrimitive.Mul</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      (<a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a6282f23c0d73d50eb09d47647e9c1404">discriminate</a>(gateAt(windowInfo.index), <a class="code" href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">pattern</a>.minInMainWindow));</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#af5362324c36620e8f9f3006e0ab94000">mfLogTrace</a>()</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;  main &gt;= &quot;</span> &lt;&lt; <a class="code" href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">pattern</a>.minInMainWindow &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      &lt;&lt; <a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a62cb6e3947806a30f0ef61dc3f728acd">compactdump</a>(trigPrimitive);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  } <span class="comment">// if</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="comment">// add opposite window requirement (if any)</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">pattern</a>.minInOppositeWindow &gt; 0U) &amp;&amp; windowInfo.hasOppositeWindow()) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    trigPrimitive.Mul</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      (<a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a6282f23c0d73d50eb09d47647e9c1404">discriminate</a>(gateAt(windowInfo.opposite), <a class="code" href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">pattern</a>.minInOppositeWindow));</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#af5362324c36620e8f9f3006e0ab94000">mfLogTrace</a>() &lt;&lt; <span class="stringliteral">&quot;  opposite [#&quot;</span> &lt;&lt; windowInfo.opposite &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      &lt;&lt; <a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a62cb6e3947806a30f0ef61dc3f728acd">compactdump</a>(gateAt(windowInfo.opposite))</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;\n  =&gt; &quot;</span> &lt;&lt; <a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a62cb6e3947806a30f0ef61dc3f728acd">compactdump</a>(trigPrimitive);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  } <span class="comment">// if</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="comment">// add main plus opposite window requirement (if any)</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">pattern</a>.minSumInOppositeWindows &gt; 0U) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    assert(mainPlusOpposite.has_value());</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    trigPrimitive.Mul</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      (<a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a6282f23c0d73d50eb09d47647e9c1404">discriminate</a>(*mainPlusOpposite, <a class="code" href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">pattern</a>.minSumInOppositeWindows));</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#af5362324c36620e8f9f3006e0ab94000">mfLogTrace</a>() &lt;&lt; <span class="stringliteral">&quot;  sum [+ #&quot;</span> &lt;&lt; windowInfo.opposite &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      &lt;&lt; <a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a62cb6e3947806a30f0ef61dc3f728acd">compactdump</a>(*mainPlusOpposite)</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;\n  =&gt; &quot;</span> &lt;&lt; <a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a62cb6e3947806a30f0ef61dc3f728acd">compactdump</a>(trigPrimitive);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  } <span class="comment">// if</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="comment">// add upstream window requirement (if any)</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">pattern</a>.minInUpstreamWindow &gt; 0U) &amp;&amp; windowInfo.hasUpstreamWindow()) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    trigPrimitive.Mul</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      (<a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a6282f23c0d73d50eb09d47647e9c1404">discriminate</a>(gateAt(windowInfo.upstream), <a class="code" href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">pattern</a>.minInUpstreamWindow));</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  } <span class="comment">// if</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="comment">// add downstream window requirement (if any)</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">pattern</a>.minInDownstreamWindow &gt; 0U) &amp;&amp; windowInfo.hasDownstreamWindow())</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    trigPrimitive.Mul(</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a6282f23c0d73d50eb09d47647e9c1404">discriminate</a>(gateAt(windowInfo.downstream), <a class="code" href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">pattern</a>.minInDownstreamWindow)</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      );</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  } <span class="comment">// if</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <a class="code" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#af5362324c36620e8f9f3006e0ab94000">mfLogTrace</a>() &lt;&lt; <span class="stringliteral">&quot;  final: &quot;</span> &lt;&lt; <a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a62cb6e3947806a30f0ef61dc3f728acd">compactdump</a>(trigPrimitive);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// 4. find the trigger time, fill the trigger information accordingly</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <a class="code" href="../../d5/d2c/classicarus_1_1trigger_1_1details_1_1GateOpeningInfoExtractor.html">icarus::trigger::details::GateOpeningInfoExtractor</a> extractOpeningInfo</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    { trigPrimitive };</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  extractOpeningInfo.<a class="code" href="../../d5/d2c/classicarus_1_1trigger_1_1details_1_1GateOpeningInfoExtractor.html#a93f36476e3b573d6b656c4660d113535">setLocation</a></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    (<a class="code" href="../../d0/d46/structicarus_1_1trigger_1_1details_1_1TriggerInfo__t.html#af17e5a7a48bfcb7491f8448f35224b07">TriggerInfo_t::LocationID_t</a>{ windowInfo.index });</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">while</span> (extractOpeningInfo) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keyword">auto</span> <a class="code" href="../../d3/d46/namespacesortDataLoggerFiles.html#aabcd6b22cdd9f4c3c9c394a72f90183a">info</a> = extractOpeningInfo();</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d46/namespacesortDataLoggerFiles.html#aabcd6b22cdd9f4c3c9c394a72f90183a">info</a>) res.add(<a class="code" href="../../d3/d46/namespacesortDataLoggerFiles.html#aabcd6b22cdd9f4c3c9c394a72f90183a">info</a>.value());</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  } <span class="comment">// while</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;} <span class="comment">// icarus::trigger::SlidingWindowTriggerEfficiencyPlots::applyWindowPattern()</span></div>
<div class="ttc" id="namespacepmtana_html_a9860e62c78db1dd9c7d635a2832b883a"><div class="ttname"><a href="../../da/dc9/namespacepmtana.html#a9860e62c78db1dd9c7d635a2832b883a">pmtana::std</a></div><div class="ttdeci">double std(const std::vector&lt; short &gt; &amp;wf, const double ped_mean, size_t start, size_t nsample)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de4/UtilFunc_8cxx_source.html#l00042">UtilFunc.cxx:42</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_a5a7c62d50cbdf38f1c0527e71b238733"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a5a7c62d50cbdf38f1c0527e71b238733">icarus::trigger::SlidingWindowPatternAlg::TriggerInfo_t</a></div><div class="ttdeci">icarus::trigger::details::TriggerInfo_t TriggerInfo_t</div><div class="ttdoc">Record of the trigger response. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00058">SlidingWindowPatternAlg.h:58</a></div></div>
<div class="ttc" id="structicarus_1_1trigger_1_1details_1_1TriggerInfo__t_html_af17e5a7a48bfcb7491f8448f35224b07"><div class="ttname"><a href="../../d0/d46/structicarus_1_1trigger_1_1details_1_1TriggerInfo__t.html#af17e5a7a48bfcb7491f8448f35224b07">icarus::trigger::details::TriggerInfo_t::LocationID_t</a></div><div class="ttdeci">std::size_t LocationID_t</div><div class="ttdoc">Type for ID of trigger location. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d47/TriggerInfo__t_8h_source.html#l00058">TriggerInfo_t.h:58</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_ae8c57108076d02bb5545e694b3be9166"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ae8c57108076d02bb5545e694b3be9166">icarus::trigger::SlidingWindowPatternAlg::TriggerGateData_t</a></div><div class="ttdeci">icarus::trigger::OpticalTriggerGateData_t TriggerGateData_t</div><div class="ttdoc">Type of gate data without channel information (gate levels only). </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00068">SlidingWindowPatternAlg.h:68</a></div></div>
<div class="ttc" id="namespaceLVDSpatterns_html_ad2b1658effcfafaf8c9a54a6845befa0"><div class="ttname"><a href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">LVDSpatterns.pattern</a></div><div class="ttdeci">tuple pattern</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3e/LVDSpatterns_8py_source.html#l00112">LVDSpatterns.py:112</a></div></div>
<div class="ttc" id="classicarus_1_1ns_1_1util_1_1mfLoggingClass_html_af5362324c36620e8f9f3006e0ab94000"><div class="ttname"><a href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#af5362324c36620e8f9f3006e0ab94000">icarus::ns::util::mfLoggingClass::mfLogTrace</a></div><div class="ttdeci">mf::LogTrace mfLogTrace(std::string const &amp;file={}, int const lineNumber=0) const </div><div class="ttdoc">Returns a mf::LogTrace() stream for logging. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/mfLoggingClass_8h_source.html#l00124">mfLoggingClass.h:124</a></div></div>
<div class="ttc" id="namespaceicarus_1_1trigger_html_accb552bab4f1f314a5c483c030aa0250"><div class="ttname"><a href="../../dd/df6/namespaceicarus_1_1trigger.html#accb552bab4f1f314a5c483c030aa0250">icarus::trigger::sumGates</a></div><div class="ttdeci">auto sumGates(GateColl const &amp;gates)</div><div class="ttdoc">Sums all the gates in a collection. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/TriggerGateOperations_8h_source.html#l00531">TriggerGateOperations.h:531</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1details_1_1GateOpeningInfoExtractor_html_a93f36476e3b573d6b656c4660d113535"><div class="ttname"><a href="../../d5/d2c/classicarus_1_1trigger_1_1details_1_1GateOpeningInfoExtractor.html#a93f36476e3b573d6b656c4660d113535">icarus::trigger::details::GateOpeningInfoExtractor::setLocation</a></div><div class="ttdeci">void setLocation(LocationID_t location)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d47/TriggerInfo__t_8h_source.html#l00344">TriggerInfo_t.h:344</a></div></div>
<div class="ttc" id="namespaceicarus_1_1trigger_html_a6282f23c0d73d50eb09d47647e9c1404"><div class="ttname"><a href="../../dd/df6/namespaceicarus_1_1trigger.html#a6282f23c0d73d50eb09d47647e9c1404">icarus::trigger::discriminate</a></div><div class="ttdeci">GateObj discriminate(GateObj const &amp;gate, typename GateObj::OpeningCount_t threshold=1U, typename GateObj::OpeningCount_t pass=1U, typename GateObj::OpeningCount_t fail=0U)</div><div class="ttdoc">Returns a discriminated version of gate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/TriggerGateOperations_8h_source.html#l00411">TriggerGateOperations.h:411</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1details_1_1GateOpeningInfoExtractor_html"><div class="ttname"><a href="../../d5/d2c/classicarus_1_1trigger_1_1details_1_1GateOpeningInfoExtractor.html">icarus::trigger::details::GateOpeningInfoExtractor</a></div><div class="ttdoc">Helper to extract OpeningInfo_t from a trigger gate. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d47/TriggerInfo__t_8h_source.html#l00030">TriggerInfo_t.h:30</a></div></div>
<div class="ttc" id="namespacesortDataLoggerFiles_html_aabcd6b22cdd9f4c3c9c394a72f90183a"><div class="ttname"><a href="../../d3/d46/namespacesortDataLoggerFiles.html#aabcd6b22cdd9f4c3c9c394a72f90183a">sortDataLoggerFiles.info</a></div><div class="ttdeci">tuple info</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dc8/sortDataLoggerFiles_8py_source.html#l00386">sortDataLoggerFiles.py:386</a></div></div>
<div class="ttc" id="namespaceicarus_1_1trigger_html_a62cb6e3947806a30f0ef61dc3f728acd"><div class="ttname"><a href="../../dd/df6/namespaceicarus_1_1trigger.html#a62cb6e3947806a30f0ef61dc3f728acd">icarus::trigger::compactdump</a></div><div class="ttdeci">auto compactdump(ReadoutTriggerGate&lt; Tick, TickInterval, ChannelIDType &gt; const &amp;gate) -&gt; details::CompactFormatter&lt; ReadoutTriggerGate&lt; Tick, TickInterval, ChannelIDType &gt;&gt;</div><div class="ttdoc">Manipulator-like function for compact format of trigger gates. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d4d/TriggerGateDataFormatting_8h_source.html#l00079">TriggerGateDataFormatting.h:79</a></div></div>
<div class="ttc" id="namespaceicarus_1_1trigger_html_a7d2ea22cb29938549215c40b204c7b99"><div class="ttname"><a href="../../dd/df6/namespaceicarus_1_1trigger.html#a7d2ea22cb29938549215c40b204c7b99">icarus::trigger::gateIn</a></div><div class="ttdeci">decltype(auto) gateIn(Gate &amp;&amp;gate)</div><div class="ttdoc">Returns the trigger gate (a ReadoutTriggerGate) from the specified gate. </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac83d0d584f9cbe9f49210e13258b05e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::SlidingWindowPatternAlg::applyWindowPattern </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1efda385bf479bc8e5b0d47328f0aba">WindowPattern_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>iWindow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a147bf3eb3b9bfceca6fe80111275f617">TriggerGates_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>gates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the trigger response for the specified window pattern. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pattern</td><td>the trigger requirement pattern </td></tr>
    <tr><td class="paramname">iWindow</td><td>index of the window to be tested </td></tr>
    <tr><td class="paramname">gates</td><td>trigger gates, one per window </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a <code>TriggerInfo_t</code> record with the response of the pattern </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><code>applyWindowPattern(WindowChannelMap::WindowInfo const&amp;, WindowPattern_t const&amp;, TriggerGates_t const&amp;)</code></dd></dl>
<p>Applies the specified <code>pattern</code> to the window with index <code>iWindow</code> of the configured window topology.</p>
<p>See the static version of <code><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a1239c6f5d4cdd2bf41980b560a99ef6a" title="Returns the trigger response for the specified window pattern. ">applyWindowPattern()</a></code> for details. </p>

<p>Definition at line <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html#l00328">328</a> of file <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html">SlidingWindowPatternAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;{</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  WindowTopology_t::WindowInfo_t <span class="keyword">const</span>&amp; windowInfo</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    = <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a429c909efa5b09c22b53d5802971ec4a">fWindowTopology</a>.<a class="code" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html#ad7a0aa8e4427e155edf0e31951823465">info</a>(iWindow);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  assert(windowInfo.index == iWindow);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a1239c6f5d4cdd2bf41980b560a99ef6a">applyWindowPattern</a>(windowInfo, <a class="code" href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">pattern</a>, gates);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;} <span class="comment">// icarus::trigger::SlidingWindowTriggerEfficiencyPlots::applyWindowPattern()</span></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_a1239c6f5d4cdd2bf41980b560a99ef6a"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a1239c6f5d4cdd2bf41980b560a99ef6a">icarus::trigger::SlidingWindowPatternAlg::applyWindowPattern</a></div><div class="ttdeci">TriggerInfo_t applyWindowPattern(WindowTopology_t::WindowInfo_t const &amp;windowInfo, WindowPattern_t const &amp;pattern, TriggerGates_t const &amp;gates) const </div><div class="ttdoc">Returns the trigger response for the specified window pattern. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html#l00205">SlidingWindowPatternAlg.cxx:205</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_a429c909efa5b09c22b53d5802971ec4a"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a429c909efa5b09c22b53d5802971ec4a">icarus::trigger::SlidingWindowPatternAlg::fWindowTopology</a></div><div class="ttdeci">WindowTopology_t const fWindowTopology</div><div class="ttdoc">Definition of the neighborhood of each window in terms of window indices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00216">SlidingWindowPatternAlg.h:216</a></div></div>
<div class="ttc" id="namespaceLVDSpatterns_html_ad2b1658effcfafaf8c9a54a6845befa0"><div class="ttname"><a href="../../df/d32/namespaceLVDSpatterns.html#ad2b1658effcfafaf8c9a54a6845befa0">LVDSpatterns.pattern</a></div><div class="ttdeci">tuple pattern</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3e/LVDSpatterns_8py_source.html#l00112">LVDSpatterns.py:112</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowChannelMap_html_ad7a0aa8e4427e155edf0e31951823465"><div class="ttname"><a href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html#ad7a0aa8e4427e155edf0e31951823465">icarus::trigger::WindowChannelMap::info</a></div><div class="ttdeci">WindowInfo_t const &amp; info(WindowIndex_t index) const </div><div class="ttdoc">Returns the information for the window with specified index (unchecked). </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df9/WindowChannelMap_8h_source.html#l00130">WindowChannelMap.h:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac87098a60d81beb057ba57bac0098bfe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::SlidingWindowPatternAlg::clearBeamGate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do not apply any beam gate. </p>

<p>Definition at line <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html#l00133">133</a> of file <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html">SlidingWindowPatternAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  { <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a0ccfa1722a5bb8e8648563bd28bb717e">fBeamGate</a>.reset(); }</div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_a0ccfa1722a5bb8e8648563bd28bb717e"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a0ccfa1722a5bb8e8648563bd28bb717e">icarus::trigger::SlidingWindowPatternAlg::fBeamGate</a></div><div class="ttdeci">std::optional&lt; icarus::trigger::ApplyBeamGateClass const  &gt; fBeamGate</div><div class="ttdoc">Time interval when to evaluate the trigger. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00222">SlidingWindowPatternAlg.h:222</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2581ccbc4a40d44d5f38502529251ac8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool icarus::trigger::SlidingWindowPatternAlg::hasBeamGate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether a beam gate is being applied. </p>

<p>Definition at line <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html#l00122">122</a> of file <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html">SlidingWindowPatternAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  { <span class="keywordflow">return</span> <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a0ccfa1722a5bb8e8648563bd28bb717e">fBeamGate</a>.has_value(); }</div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_a0ccfa1722a5bb8e8648563bd28bb717e"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a0ccfa1722a5bb8e8648563bd28bb717e">icarus::trigger::SlidingWindowPatternAlg::fBeamGate</a></div><div class="ttdeci">std::optional&lt; icarus::trigger::ApplyBeamGateClass const  &gt; fBeamGate</div><div class="ttdoc">Time interval when to evaluate the trigger. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00222">SlidingWindowPatternAlg.h:222</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a85710878444dd68eb4514255807df919"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::SlidingWindowPatternAlg::setBeamGate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/dfa/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a>&#160;</td>
          <td class="paramname"><em>beamGate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the beam gate to the specified value. </p>

<p>Definition at line <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html#l00128">128</a> of file <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html">SlidingWindowPatternAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  { <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a0ccfa1722a5bb8e8648563bd28bb717e">fBeamGate</a>.emplace(std::move(beamGate)); }</div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_a0ccfa1722a5bb8e8648563bd28bb717e"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a0ccfa1722a5bb8e8648563bd28bb717e">icarus::trigger::SlidingWindowPatternAlg::fBeamGate</a></div><div class="ttdeci">std::optional&lt; icarus::trigger::ApplyBeamGateClass const  &gt; fBeamGate</div><div class="ttdoc">Time interval when to evaluate the trigger. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00222">SlidingWindowPatternAlg.h:222</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abd297348da3caee6a96f717bb1045f56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::SlidingWindowPatternAlg::simulateResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a147bf3eb3b9bfceca6fe80111275f617">TriggerGates_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>gates</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the trigger response from the specified <code>gates</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gates</td><td>the trigger gates to be used as input, one per window </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the response to the configured pattern </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><code>applyWindowPattern(WindowChannelMap::WindowInfo const&amp;, WindowPattern_t const&amp;, TriggerGates_t const&amp;)</code></dd></dl>
<p>The return value comprises a "standard" <code>TriggerInfo_t</code> object, which stores whether the pattern fired and when, and some <code>extra</code> information, including which window made the trigger fire first (in case of ties, the window with the smallest index is reported).</p>
<p>The list <code>gates</code> must contain a single trigger gate for each window, with the gate index in the list matching the window index in the configured window topology.</p>
<p>See the static version of <code><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a1239c6f5d4cdd2bf41980b560a99ef6a" title="Returns the trigger response for the specified window pattern. ">applyWindowPattern()</a></code> for more details. </p>

<p>Definition at line <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html#l00061">61</a> of file <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html">SlidingWindowPatternAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="comment">// ensures input gates are in the same order as the configured windows</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#aa1304a591e2382719f8829816bcbddc4">verifyInputTopology</a>(gates);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span>&amp; inBeamGates = <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a0ccfa1722a5bb8e8648563bd28bb717e">fBeamGate</a>? <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a0ccfa1722a5bb8e8648563bd28bb717e">fBeamGate</a>-&gt;applyToAll(gates): gates;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">// 2.   apply pattern:</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  std::size_t <span class="keyword">const</span> nWindows = <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a429c909efa5b09c22b53d5802971ec4a">fWindowTopology</a>.<a class="code" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html#adfe756540a33ee93fb60677f9eadf2b8">nWindows</a>();</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="comment">// 2.1.   for each main window, apply the pattern</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  WindowTriggerInfo_t triggerInfo; <span class="comment">// start empty</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordflow">for</span> (std::size_t <span class="keyword">const</span> iWindow: <a class="code" href="../../d6/d72/namespaceutil.html#a9462a726cd010ab8ada5eead879a4b9f">util::counter</a>(nWindows)) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a5a7c62d50cbdf38f1c0527e71b238733">TriggerInfo_t</a> <span class="keyword">const</span> windowResponse</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      = <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a1239c6f5d4cdd2bf41980b560a99ef6a">applyWindowPattern</a>(<a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1806773138a746eb7f5ff6eb9a604bd">fWindowPattern</a>, iWindow, inBeamGates);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span> (!windowResponse) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    assert(windowResponse.hasLocation());</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    assert(windowResponse.location() == iWindow);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">if</span> (windowResponse.nTriggers() == 1U) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <a class="code" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#af5362324c36620e8f9f3006e0ab94000">mfLogTrace</a>() &lt;&lt; <span class="stringliteral">&quot;Pattern fired on window #&quot;</span> &lt;&lt; iWindow</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; at tick &quot;</span> &lt;&lt; windowResponse.atTick();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      std::vector&lt;TriggerInfo_t::OpeningInfo_t&gt; <span class="keyword">const</span>&amp; triggers</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        = windowResponse.all();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      TriggerInfo_t::OpeningInfo_t <span class="keyword">const</span>* pMain = &amp;(windowResponse.main());</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <span class="keyword">auto</span> log = <a class="code" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#af5362324c36620e8f9f3006e0ab94000">mfLogTrace</a>();</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      log &lt;&lt; <span class="stringliteral">&quot;Pattern fired &quot;</span> &lt;&lt; triggers.size()</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; times on window #&quot;</span> &lt;&lt; iWindow &lt;&lt; <span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [ iTrigger, trigger ]: <a class="code" href="../../d6/d72/namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a>(triggers)) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        log &lt;&lt; <span class="stringliteral">&quot; [#&quot;</span> &lt;&lt; iTrigger &lt;&lt; <span class="stringliteral">&quot;] &quot;</span> &lt;&lt; <span class="stringliteral">&quot; on &quot;</span> &lt;&lt; trigger.tick</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;          &lt;&lt; <span class="stringliteral">&quot; (&quot;</span>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">if</span> (&amp;trigger == pMain) log &lt;&lt; <span class="stringliteral">&quot;main; &quot;</span>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        log &lt;&lt; <span class="stringliteral">&quot;lvl=&quot;</span> &lt;&lt; trigger.level &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      } <span class="comment">// for</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">// 2.2. pick the main window with the earliest successful response, if any;</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">//      that defines location and time of the trigger</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">if</span> (!triggerInfo || triggerInfo.info.atTick() &gt; windowResponse.atTick()) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="keywordflow">if</span> (!triggerInfo) <a class="code" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#af5362324c36620e8f9f3006e0ab94000">mfLogTrace</a>() &lt;&lt; <span class="stringliteral">&quot;  (new global trigger)&quot;</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      triggerInfo.emplace(iWindow, windowResponse);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  } <span class="comment">// main window choice</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">return</span> { std::move(triggerInfo.info), MoreInfo_t{ triggerInfo.windowIndex } };</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;} <span class="comment">// icarus::trigger::SlidingWindowPatternAlg::simulateResponse()</span></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_a1239c6f5d4cdd2bf41980b560a99ef6a"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a1239c6f5d4cdd2bf41980b560a99ef6a">icarus::trigger::SlidingWindowPatternAlg::applyWindowPattern</a></div><div class="ttdeci">TriggerInfo_t applyWindowPattern(WindowTopology_t::WindowInfo_t const &amp;windowInfo, WindowPattern_t const &amp;pattern, TriggerGates_t const &amp;gates) const </div><div class="ttdoc">Returns the trigger response for the specified window pattern. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html#l00205">SlidingWindowPatternAlg.cxx:205</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_aa1304a591e2382719f8829816bcbddc4"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#aa1304a591e2382719f8829816bcbddc4">icarus::trigger::SlidingWindowPatternAlg::verifyInputTopology</a></div><div class="ttdeci">void verifyInputTopology(TriggerGates_t const &amp;gates) const </div><div class="ttdoc">Checks gates are compatible with the current window configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html#l00139">SlidingWindowPatternAlg.cxx:139</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowChannelMap_html_adfe756540a33ee93fb60677f9eadf2b8"><div class="ttname"><a href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html#adfe756540a33ee93fb60677f9eadf2b8">icarus::trigger::WindowChannelMap::nWindows</a></div><div class="ttdeci">std::size_t nWindows() const </div><div class="ttdoc">Number of sliding windows. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df9/WindowChannelMap_8h_source.html#l00124">WindowChannelMap.h:124</a></div></div>
<div class="ttc" id="namespaceutil_html_af0615b7538ff948ea65d5206a23c84f2"><div class="ttname"><a href="../../d6/d72/namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a></div><div class="ttdeci">auto enumerate(Iterables &amp;&amp;...iterables)</div><div class="ttdoc">Range-for loop helper tracking the number of iteration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d85/enumerate_8h_source.html#l00069">enumerate.h:69</a></div></div>
<div class="ttc" id="namespaceutil_html_a9462a726cd010ab8ada5eead879a4b9f"><div class="ttname"><a href="../../d6/d72/namespaceutil.html#a9462a726cd010ab8ada5eead879a4b9f">util::counter</a></div><div class="ttdeci">auto counter(T begin, T end)</div><div class="ttdoc">Returns an object to iterate values from begin to end in a range-for loop. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da2/counter_8h_source.html#l00285">counter.h:285</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_a5a7c62d50cbdf38f1c0527e71b238733"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a5a7c62d50cbdf38f1c0527e71b238733">icarus::trigger::SlidingWindowPatternAlg::TriggerInfo_t</a></div><div class="ttdeci">icarus::trigger::details::TriggerInfo_t TriggerInfo_t</div><div class="ttdoc">Record of the trigger response. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00058">SlidingWindowPatternAlg.h:58</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_a429c909efa5b09c22b53d5802971ec4a"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a429c909efa5b09c22b53d5802971ec4a">icarus::trigger::SlidingWindowPatternAlg::fWindowTopology</a></div><div class="ttdeci">WindowTopology_t const fWindowTopology</div><div class="ttdoc">Definition of the neighborhood of each window in terms of window indices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00216">SlidingWindowPatternAlg.h:216</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_ad1806773138a746eb7f5ff6eb9a604bd"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1806773138a746eb7f5ff6eb9a604bd">icarus::trigger::SlidingWindowPatternAlg::fWindowPattern</a></div><div class="ttdeci">WindowPattern_t const fWindowPattern</div><div class="ttdoc">Requirement pattern to be applied to each window. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00219">SlidingWindowPatternAlg.h:219</a></div></div>
<div class="ttc" id="classicarus_1_1ns_1_1util_1_1mfLoggingClass_html_af5362324c36620e8f9f3006e0ab94000"><div class="ttname"><a href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#af5362324c36620e8f9f3006e0ab94000">icarus::ns::util::mfLoggingClass::mfLogTrace</a></div><div class="ttdeci">mf::LogTrace mfLogTrace(std::string const &amp;file={}, int const lineNumber=0) const </div><div class="ttdoc">Returns a mf::LogTrace() stream for logging. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/mfLoggingClass_8h_source.html#l00124">mfLoggingClass.h:124</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_a0ccfa1722a5bb8e8648563bd28bb717e"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a0ccfa1722a5bb8e8648563bd28bb717e">icarus::trigger::SlidingWindowPatternAlg::fBeamGate</a></div><div class="ttdeci">std::optional&lt; icarus::trigger::ApplyBeamGateClass const  &gt; fBeamGate</div><div class="ttdoc">Time interval when to evaluate the trigger. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00222">SlidingWindowPatternAlg.h:222</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa1304a591e2382719f8829816bcbddc4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::SlidingWindowPatternAlg::verifyInputTopology </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a147bf3eb3b9bfceca6fe80111275f617">TriggerGates_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>gates</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks <code>gates</code> are compatible with the current window configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gates</td><td>the combined sliding window trigger gates, per cryostat </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">cet::exception</td><td>(category: <code><a class="el" href="../../dd/dcd/classicarus_1_1trigger_1_1SlidingWindowTriggerEfficiencyPlots.html" title="Produces plots about trigger simulation and trigger efficiency. ">SlidingWindowTriggerEfficiencyPlots</a></code>) or derived, if an incompatibility is found</td></tr>
  </table>
  </dd>
</dl>
<p>The method verifies that the current channel mapping is compatible with the gates.</p>
<p>This currently means that the <code>gates</code> are in the expected order and have the expected channel content. </p>

<p>Definition at line <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html#l00139">139</a> of file <a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html">SlidingWindowPatternAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;{</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">   * Verifies that the `gates` are in the expected order and have</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">   * the expected channel content.</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  std::string errorMsg; <span class="comment">// if this stays `empty()` there is no error</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [ iWindow, gate ]: <a class="code" href="../../d6/d72/namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a>(gates)) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    std::string windowError; <span class="comment">// if this stays `empty()` there is no error</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// more input gates than windows?</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">if</span> (iWindow &gt;= <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a429c909efa5b09c22b53d5802971ec4a">fWindowTopology</a>.<a class="code" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html#adfe756540a33ee93fb60677f9eadf2b8">nWindows</a>()) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      windowError = <span class="stringliteral">&quot;unexpected input gate #&quot;</span> + <a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a7718dbf2e5e4aa346e7fbabaa451457f">std::to_string</a>(iWindow) + <span class="stringliteral">&quot; (&quot;</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../d9/d63/namespaceraw.html#ab3db8feaa51f2c564eb00582c3d72590">raw::Channel_t</a> <span class="keyword">const</span> channel: gate.channels())</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        windowError += <span class="stringliteral">&quot; &quot;</span> + <a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a7718dbf2e5e4aa346e7fbabaa451457f">std::to_string</a>(channel);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      windowError += <span class="stringliteral">&quot; )&quot;</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      errorMsg += windowError + <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="keywordflow">continue</span>; <span class="comment">// we collect info of all spurious gates</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    WindowTopology_t::WindowInfo_t <span class="keyword">const</span>&amp; windowInfo</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      = <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a429c909efa5b09c22b53d5802971ec4a">fWindowTopology</a>.<a class="code" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html#ad7a0aa8e4427e155edf0e31951823465">info</a>(iWindow);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> channelInWindow</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      = [<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#acc1957472e01a8d9ecd245e26338f0b9">begin</a>=windowInfo.channels.cbegin(),<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#aac918da84f16d53ad17bab4f817da1c4">end</a>=windowInfo.channels.cend()]</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      (<a class="code" href="../../d9/d63/namespaceraw.html#ab3db8feaa51f2c564eb00582c3d72590">raw::Channel_t</a> channel)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      { <span class="keywordflow">return</span> std::binary_search(<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#acc1957472e01a8d9ecd245e26338f0b9">begin</a>, <a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#aac918da84f16d53ad17bab4f817da1c4">end</a>, channel); }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      ;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d9/d63/namespaceraw.html#ab3db8feaa51f2c564eb00582c3d72590">raw::Channel_t</a> <span class="keyword">const</span> channel: gate.channels()) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="keywordflow">if</span> (channelInWindow(channel)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keywordflow">if</span> (windowError.empty()) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        windowError =</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;          <span class="stringliteral">&quot;channels not in window #&quot;</span> + <a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a7718dbf2e5e4aa346e7fbabaa451457f">std::to_string</a>(windowInfo.index)</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;          + <span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      } <span class="comment">// if first error</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      windowError += <span class="stringliteral">&quot; &quot;</span> + <a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a7718dbf2e5e4aa346e7fbabaa451457f">std::to_string</a>(channel);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    } <span class="comment">// for all channels in gate</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">if</span> (!windowError.empty()) errorMsg += windowError + <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  } <span class="comment">// for gates</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="comment">// more input gates than windows?</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a429c909efa5b09c22b53d5802971ec4a">fWindowTopology</a>.<a class="code" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html#adfe756540a33ee93fb60677f9eadf2b8">nWindows</a>() &gt; <a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#aaae74cf315284bc0f44c2e050c119781">size</a>(gates)) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    errorMsg +=</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="stringliteral">&quot;Not enough input gates: &quot;</span> + <a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a7718dbf2e5e4aa346e7fbabaa451457f">std::to_string</a>(<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#aaae74cf315284bc0f44c2e050c119781">size</a>(gates)) + <span class="stringliteral">&quot; gates for &quot;</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      + <a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a7718dbf2e5e4aa346e7fbabaa451457f">std::to_string</a>(<a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a429c909efa5b09c22b53d5802971ec4a">fWindowTopology</a>.<a class="code" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html#adfe756540a33ee93fb60677f9eadf2b8">nWindows</a>()) + <span class="stringliteral">&quot; windows\n&quot;</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">if</span> (errorMsg.empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="comment">// put together the exception message and throw it.</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;SlidingWindowPatternAlg&quot;</span>)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;Some channels from trigger gates do not match&quot;</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="stringliteral">&quot; the configured window allocation:\n&quot;</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    &lt;&lt; errorMsg</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span> <span class="comment">// empty line</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;Window configuration: &quot;</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    &lt;&lt; <a class="code" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a429c909efa5b09c22b53d5802971ec4a">fWindowTopology</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;} <span class="comment">// icarus::trigger::SlidingWindowPatternAlg::verifyInputTopology()</span></div>
<div class="ttc" id="namespaceicarus_1_1ns_1_1util_html_aaae74cf315284bc0f44c2e050c119781"><div class="ttname"><a href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#aaae74cf315284bc0f44c2e050c119781">icarus::ns::util::size</a></div><div class="ttdeci">std::size_t size(FixedBins&lt; T, C &gt; const &amp;) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbd/FixedBins_8h_source.html#l00561">FixedBins.h:561</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowChannelMap_html_adfe756540a33ee93fb60677f9eadf2b8"><div class="ttname"><a href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html#adfe756540a33ee93fb60677f9eadf2b8">icarus::trigger::WindowChannelMap::nWindows</a></div><div class="ttdeci">std::size_t nWindows() const </div><div class="ttdoc">Number of sliding windows. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df9/WindowChannelMap_8h_source.html#l00124">WindowChannelMap.h:124</a></div></div>
<div class="ttc" id="namespaceutil_html_af0615b7538ff948ea65d5206a23c84f2"><div class="ttname"><a href="../../d6/d72/namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a></div><div class="ttdeci">auto enumerate(Iterables &amp;&amp;...iterables)</div><div class="ttdoc">Range-for loop helper tracking the number of iteration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d85/enumerate_8h_source.html#l00069">enumerate.h:69</a></div></div>
<div class="ttc" id="namespaceicarus_1_1ns_1_1util_html_aac918da84f16d53ad17bab4f817da1c4"><div class="ttname"><a href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#aac918da84f16d53ad17bab4f817da1c4">icarus::ns::util::end</a></div><div class="ttdeci">auto end(FixedBins&lt; T, C &gt; const &amp;) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbd/FixedBins_8h_source.html#l00585">FixedBins.h:585</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowPatternAlg_html_a429c909efa5b09c22b53d5802971ec4a"><div class="ttname"><a href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#a429c909efa5b09c22b53d5802971ec4a">icarus::trigger::SlidingWindowPatternAlg::fWindowTopology</a></div><div class="ttdeci">WindowTopology_t const fWindowTopology</div><div class="ttdoc">Definition of the neighborhood of each window in terms of window indices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00216">SlidingWindowPatternAlg.h:216</a></div></div>
<div class="ttc" id="namespaceicarus_1_1ns_1_1util_html_acc1957472e01a8d9ecd245e26338f0b9"><div class="ttname"><a href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#acc1957472e01a8d9ecd245e26338f0b9">icarus::ns::util::begin</a></div><div class="ttdeci">auto begin(FixedBins&lt; T, C &gt; const &amp;) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbd/FixedBins_8h_source.html#l00573">FixedBins.h:573</a></div></div>
<div class="ttc" id="namespaceicarus_1_1trigger_html_a7718dbf2e5e4aa346e7fbabaa451457f"><div class="ttname"><a href="../../dd/df6/namespaceicarus_1_1trigger.html#a7718dbf2e5e4aa346e7fbabaa451457f">icarus::trigger::to_string</a></div><div class="ttdeci">std::string to_string(WindowPattern const &amp;pattern)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d48/WindowPattern_8h_source.html#l00102">WindowPattern.h:102</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowChannelMap_html_ad7a0aa8e4427e155edf0e31951823465"><div class="ttname"><a href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html#ad7a0aa8e4427e155edf0e31951823465">icarus::trigger::WindowChannelMap::info</a></div><div class="ttdeci">WindowInfo_t const &amp; info(WindowIndex_t index) const </div><div class="ttdoc">Returns the information for the window with specified index (unchecked). </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df9/WindowChannelMap_8h_source.html#l00130">WindowChannelMap.h:130</a></div></div>
<div class="ttc" id="namespaceraw_html_ab3db8feaa51f2c564eb00582c3d72590"><div class="ttname"><a href="../../d9/d63/namespaceraw.html#ab3db8feaa51f2c564eb00582c3d72590">raw::Channel_t</a></div><div class="ttdeci">unsigned int Channel_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbc/lardataobj_2lardataobj_2RawData_2OpDetWaveform_8h_source.html#l00022">lardataobj/lardataobj/RawData/OpDetWaveform.h:22</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a0ccfa1722a5bb8e8648563bd28bb717e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt;<a class="el" href="../../df/dfa/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a> const&gt; icarus::trigger::SlidingWindowPatternAlg::fBeamGate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time interval when to evaluate the trigger. </p>

<p>Definition at line <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00222">222</a> of file <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html">SlidingWindowPatternAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad1806773138a746eb7f5ff6eb9a604bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#ad1efda385bf479bc8e5b0d47328f0aba">WindowPattern_t</a> const icarus::trigger::SlidingWindowPatternAlg::fWindowPattern</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Requirement pattern to be applied to each window. </p>

<p>Definition at line <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00219">219</a> of file <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html">SlidingWindowPatternAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a429c909efa5b09c22b53d5802971ec4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d15/classicarus_1_1trigger_1_1SlidingWindowPatternAlg.html#aecb867099072b23b6c7d7c8b31672246">WindowTopology_t</a> const icarus::trigger::SlidingWindowPatternAlg::fWindowTopology</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition of the neighborhood of each window in terms of window indices. </p>

<p>Definition at line <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html#l00216">216</a> of file <a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html">SlidingWindowPatternAlg.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d5/dac/SlidingWindowPatternAlg_8h_source.html">SlidingWindowPatternAlg.h</a></li>
<li><a class="el" href="../../d1/d06/SlidingWindowPatternAlg_8cxx_source.html">SlidingWindowPatternAlg.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
