<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>lar_dl_content::DlVertexingAlgorithm Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../de/d38/namespacelar__dl__content.html">lar_dl_content</a></li><li class="navelem"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html">DlVertexingAlgorithm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../df/da2/classlar__dl__content_1_1DlVertexingAlgorithm-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">lar_dl_content::DlVertexingAlgorithm Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>DeepLearningTrackShowerIdAlgorithm class.  
 <a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for lar_dl_content::DlVertexingAlgorithm:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.png" usemap="#lar_dl_content::DlVertexingAlgorithm_map" alt=""/>
  <map id="lar_dl_content::DlVertexingAlgorithm_map" name="lar_dl_content::DlVertexingAlgorithm_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d3c/classlar__dl__content_1_1DlVertexingAlgorithm_1_1VertexTuple.html">VertexTuple</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aa9cf9b761ff7e2ef0ab4b350831638df"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::pair<br class="typebreak"/>
&lt; int, int &gt;, std::vector<br class="typebreak"/>
&lt; const pandora::CaloHit * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aa9cf9b761ff7e2ef0ab4b350831638df">PixelToCaloHitsMap</a></td></tr>
<tr class="separator:aa9cf9b761ff7e2ef0ab4b350831638df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7f396eb55fd8638e5171bbf072f57be4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a7f396eb55fd8638e5171bbf072f57be4">DlVertexingAlgorithm</a> ()</td></tr>
<tr class="memdesc:a7f396eb55fd8638e5171bbf072f57be4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#a7f396eb55fd8638e5171bbf072f57be4">More...</a><br/></td></tr>
<tr class="separator:a7f396eb55fd8638e5171bbf072f57be4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6050582e5523ae34819637d29804fcb0"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a6050582e5523ae34819637d29804fcb0">~DlVertexingAlgorithm</a> ()</td></tr>
<tr class="separator:a6050582e5523ae34819637d29804fcb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:af93bf837944ecd29dd800f970d7d07a5"><td class="memItemLeft" align="right" valign="top">typedef std::pair&lt; int, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#af93bf837944ecd29dd800f970d7d07a5">Pixel</a></td></tr>
<tr class="separator:af93bf837944ecd29dd800f970d7d07a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad39ccbb53b4f2cb01dd04ae2de3d1e14"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; <a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#af93bf837944ecd29dd800f970d7d07a5">Pixel</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ad39ccbb53b4f2cb01dd04ae2de3d1e14">PixelVector</a></td></tr>
<tr class="separator:ad39ccbb53b4f2cb01dd04ae2de3d1e14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a04e5aa6e1a6eb243574fcfda22ac6a57"><td class="memItemLeft" align="right" valign="top">pandora::StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a04e5aa6e1a6eb243574fcfda22ac6a57">Run</a> ()</td></tr>
<tr class="separator:a04e5aa6e1a6eb243574fcfda22ac6a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78ef257ce19fd40b0e07216bdaa3ff18"><td class="memItemLeft" align="right" valign="top">pandora::StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a78ef257ce19fd40b0e07216bdaa3ff18">ReadSettings</a> (const pandora::TiXmlHandle xmlHandle)</td></tr>
<tr class="separator:a78ef257ce19fd40b0e07216bdaa3ff18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1608b4dbe3a9c6e4f258b90349a99c40"><td class="memItemLeft" align="right" valign="top">pandora::StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a1608b4dbe3a9c6e4f258b90349a99c40">PrepareTrainingSample</a> ()</td></tr>
<tr class="separator:a1608b4dbe3a9c6e4f258b90349a99c40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a387e0f6e133a65fc725656deaddf4fdd"><td class="memItemLeft" align="right" valign="top">pandora::StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a387e0f6e133a65fc725656deaddf4fdd">Infer</a> ()</td></tr>
<tr class="separator:a387e0f6e133a65fc725656deaddf4fdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c6dddc6512dd4c1a9558ecee66f2bbf"><td class="memItemLeft" align="right" valign="top">pandora::StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a9c6dddc6512dd4c1a9558ecee66f2bbf">MakeNetworkInputFromHits</a> (const pandora::CaloHitList &amp;caloHits, <a class="el" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#ac1e3d07cea94aab377ba5636e18ea220">LArDLHelper::TorchInput</a> &amp;networkInput, <a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ad39ccbb53b4f2cb01dd04ae2de3d1e14">PixelVector</a> &amp;pixelVector) const </td></tr>
<tr class="separator:a9c6dddc6512dd4c1a9558ecee66f2bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a316ae0c8c2a29997ee064b4ec8c10bf9"><td class="memItemLeft" align="right" valign="top">pandora::StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a316ae0c8c2a29997ee064b4ec8c10bf9">MakeWirePlaneCoordinatesFromPixels</a> (const pandora::CaloHitList &amp;caloHits, const <a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ad39ccbb53b4f2cb01dd04ae2de3d1e14">PixelVector</a> &amp;pixelVector, pandora::CartesianPointVector &amp;positionVector) const </td></tr>
<tr class="separator:a316ae0c8c2a29997ee064b4ec8c10bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d11e77ace3a3aa446a031ef088abfa"><td class="memItemLeft" align="right" valign="top">pandora::StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a08d11e77ace3a3aa446a031ef088abfa">MakeWirePlaneCoordinatesFromCanvas</a> (const pandora::CaloHitList &amp;caloHits, float **canvas, const int canvasWidth, const int canvasHeight, const int columnOffset, const int rowOffset, pandora::CartesianPointVector &amp;positionVector) const </td></tr>
<tr class="separator:a08d11e77ace3a3aa446a031ef088abfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6babf25a5d8a81448cb84c8207aaea99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a6babf25a5d8a81448cb84c8207aaea99">GetCanvasParameters</a> (const <a class="el" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#ad1eb058c8d1e79539734459e308ab393">LArDLHelper::TorchOutput</a> &amp;networkOutput, const <a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ad39ccbb53b4f2cb01dd04ae2de3d1e14">PixelVector</a> &amp;pixelVector, int &amp;columnOffset, int &amp;rowOffset, int &amp;width, int &amp;height) const </td></tr>
<tr class="memdesc:a6babf25a5d8a81448cb84c8207aaea99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the parameters of the canvas for extracting the vertex location. The network predicts the distance that each pixel associated with a hit is located from the vertex, but says nothing about the direction. As a result, the ring describing the potential vertices associated with that hit can extend beyond the original canvas size. This function returns the size of the required canvas and the offset for the bottom left corner.  <a href="#a6babf25a5d8a81448cb84c8207aaea99">More...</a><br/></td></tr>
<tr class="separator:a6babf25a5d8a81448cb84c8207aaea99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afad4f2c58702874562c9abfd9c4eb742"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#afad4f2c58702874562c9abfd9c4eb742">DrawRing</a> (float **canvas, const int row, const int col, const int inner, const int outer, const float weight) const </td></tr>
<tr class="memdesc:afad4f2c58702874562c9abfd9c4eb742"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a filled ring to the specified canvas. The ring has an inner radius based on the minimum predicted distance to the vertex and an outer radius based on the maximum predicted distance to the vertex. The centre of the ring is the location of the hit used to predict the distance to the vertex. Each pixel to be filled is augmented by the specified weight. In this way, once all hits have been considered, a consensus view emerges of the likely vertex location based on the overlap of various rings centred at different locations.  <a href="#afad4f2c58702874562c9abfd9c4eb742">More...</a><br/></td></tr>
<tr class="separator:afad4f2c58702874562c9abfd9c4eb742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3902ff249686d9df58fa004d0c3eb40c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a3902ff249686d9df58fa004d0c3eb40c">Update</a> (const int radius, int &amp;col, int &amp;row) const </td></tr>
<tr class="memdesc:a3902ff249686d9df58fa004d0c3eb40c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the coordinates along the loci of a circle. When drawing the ring we need an efficient means to determine the next pixel defining the inner and outer loci of the ring. This update function uses the Bresenham midpoint circle update function to determine this location. The row position is always incremented by 1 pixel, the column position is left unchanged, or decremented by 1 pixel to best follow the arc of the true underlying circle.  <a href="#a3902ff249686d9df58fa004d0c3eb40c">More...</a><br/></td></tr>
<tr class="separator:a3902ff249686d9df58fa004d0c3eb40c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab17d1f8ee42ca1db5784cb7b95bfba3c"><td class="memItemLeft" align="right" valign="top">pandora::StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ab17d1f8ee42ca1db5784cb7b95bfba3c">GetMCToHitsMap</a> (<a class="el" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a35229b4b94f4ebbe01f8b2827e485990">LArMCParticleHelper::MCContributionMap</a> &amp;mcToHitsMap) const </td></tr>
<tr class="separator:ab17d1f8ee42ca1db5784cb7b95bfba3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7d4fbfe9152f342d218d70939ec0922"><td class="memItemLeft" align="right" valign="top">pandora::StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ac7d4fbfe9152f342d218d70939ec0922">CompleteMCHierarchy</a> (const <a class="el" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a35229b4b94f4ebbe01f8b2827e485990">LArMCParticleHelper::MCContributionMap</a> &amp;mcToHitsMap, pandora::MCParticleList &amp;mcHierarchy) const </td></tr>
<tr class="separator:ac7d4fbfe9152f342d218d70939ec0922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27ef846a76ddeed4619c09406a24bd51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a27ef846a76ddeed4619c09406a24bd51">GetHitRegion</a> (const pandora::CaloHitList &amp;caloHitList, float &amp;xMin, float &amp;xMax, float &amp;zMin, float &amp;zMax) const </td></tr>
<tr class="separator:a27ef846a76ddeed4619c09406a24bd51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4379b6bd29de3050b30c47d52ddbbd1f"><td class="memItemLeft" align="right" valign="top">pandora::StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a4379b6bd29de3050b30c47d52ddbbd1f">MakeCandidateVertexList</a> (const pandora::CartesianPointVector &amp;positions)</td></tr>
<tr class="memdesc:a4379b6bd29de3050b30c47d52ddbbd1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a vertex list from the candidate vertices.  <a href="#a4379b6bd29de3050b30c47d52ddbbd1f">More...</a><br/></td></tr>
<tr class="separator:a4379b6bd29de3050b30c47d52ddbbd1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15fa99393854604e07b95439884baf40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a15fa99393854604e07b95439884baf40">GetTrueVertexPosition</a> (float &amp;<a class="el" href="../../d1/d01/singles_8fcl.html#aa2441c6f4af6ae1d48f43c716144deac">x</a>, float &amp;<a class="el" href="../../d1/d01/singles_8fcl.html#ad222ca63c3622e98913907e4c7245cd6">y</a>, float &amp;<a class="el" href="../../d1/d01/singles_8fcl.html#ab9ea0eaf08525541ae494ea6c1fe669b">z</a>) const </td></tr>
<tr class="memdesc:a15fa99393854604e07b95439884baf40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the true neutrino vertex position.  <a href="#a15fa99393854604e07b95439884baf40">More...</a><br/></td></tr>
<tr class="separator:a15fa99393854604e07b95439884baf40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8f43850173810f13a349eff951a951c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ab8f43850173810f13a349eff951a951c">GetTrueVertexPosition</a> (float &amp;<a class="el" href="../../d1/d01/singles_8fcl.html#aa2441c6f4af6ae1d48f43c716144deac">x</a>, float &amp;u, float &amp;v, float &amp;w) const </td></tr>
<tr class="memdesc:ab8f43850173810f13a349eff951a951c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the true neutrino vertex position.  <a href="#ab8f43850173810f13a349eff951a951c">More...</a><br/></td></tr>
<tr class="separator:ab8f43850173810f13a349eff951a951c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1424303c365b448b47b1669375e5300f"><td class="memItemLeft" align="right" valign="top">const pandora::CartesianVector &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a1424303c365b448b47b1669375e5300f">GetTrueVertex</a> () const </td></tr>
<tr class="memdesc:a1424303c365b448b47b1669375e5300f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the true neutrino vertex.  <a href="#a1424303c365b448b47b1669375e5300f">More...</a><br/></td></tr>
<tr class="separator:a1424303c365b448b47b1669375e5300f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93fb390528bde6739b1ba674e9cbc434"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a93fb390528bde6739b1ba674e9cbc434">PopulateRootTree</a> (const std::vector&lt; <a class="el" href="../../de/d3c/classlar__dl__content_1_1DlVertexingAlgorithm_1_1VertexTuple.html">VertexTuple</a> &gt; &amp;vertexTuples, const pandora::CartesianPointVector &amp;vertexCandidatesU, const pandora::CartesianPointVector &amp;vertexCandidatesV, const pandora::CartesianPointVector &amp;vertexCandidatesW) const </td></tr>
<tr class="memdesc:a93fb390528bde6739b1ba674e9cbc434"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populate a root true with vertex information.  <a href="#a93fb390528bde6739b1ba674e9cbc434">More...</a><br/></td></tr>
<tr class="separator:a93fb390528bde6739b1ba674e9cbc434"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a1eb74c1da16a036c64041a4cbc8aae1f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a1eb74c1da16a036c64041a4cbc8aae1f">m_trainingMode</a></td></tr>
<tr class="memdesc:a1eb74c1da16a036c64041a4cbc8aae1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Training mode.  <a href="#a1eb74c1da16a036c64041a4cbc8aae1f">More...</a><br/></td></tr>
<tr class="separator:a1eb74c1da16a036c64041a4cbc8aae1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8aff7ed7a9bd41dc5f506a970483130"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aa8aff7ed7a9bd41dc5f506a970483130">m_trainingOutputFile</a></td></tr>
<tr class="memdesc:aa8aff7ed7a9bd41dc5f506a970483130"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output file name for training examples.  <a href="#aa8aff7ed7a9bd41dc5f506a970483130">More...</a><br/></td></tr>
<tr class="separator:aa8aff7ed7a9bd41dc5f506a970483130"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c8f30266fc04865437c0721a3c44d5e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a9c8f30266fc04865437c0721a3c44d5e">m_inputVertexListName</a></td></tr>
<tr class="memdesc:a9c8f30266fc04865437c0721a3c44d5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input vertex list name if 2nd pass.  <a href="#a9c8f30266fc04865437c0721a3c44d5e">More...</a><br/></td></tr>
<tr class="separator:a9c8f30266fc04865437c0721a3c44d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63cf08c5b2b8e22f9d688c2dfb5e6487"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a63cf08c5b2b8e22f9d688c2dfb5e6487">m_outputVertexListName</a></td></tr>
<tr class="memdesc:a63cf08c5b2b8e22f9d688c2dfb5e6487"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output vertex list name.  <a href="#a63cf08c5b2b8e22f9d688c2dfb5e6487">More...</a><br/></td></tr>
<tr class="separator:a63cf08c5b2b8e22f9d688c2dfb5e6487"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc6a8701b2a7ee770b56859285183f96"><td class="memItemLeft" align="right" valign="top">pandora::StringVector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#acc6a8701b2a7ee770b56859285183f96">m_caloHitListNames</a></td></tr>
<tr class="memdesc:acc6a8701b2a7ee770b56859285183f96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Names of input calo hit lists.  <a href="#acc6a8701b2a7ee770b56859285183f96">More...</a><br/></td></tr>
<tr class="separator:acc6a8701b2a7ee770b56859285183f96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d63709551a5c1b28150d495e6712655"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#a304b206da6f549446d932ac08f3b3047">LArDLHelper::TorchModel</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a9d63709551a5c1b28150d495e6712655">m_modelU</a></td></tr>
<tr class="memdesc:a9d63709551a5c1b28150d495e6712655"><td class="mdescLeft">&#160;</td><td class="mdescRight">The model for the U view.  <a href="#a9d63709551a5c1b28150d495e6712655">More...</a><br/></td></tr>
<tr class="separator:a9d63709551a5c1b28150d495e6712655"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80d386b0a246b4297f3984599a55b869"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#a304b206da6f549446d932ac08f3b3047">LArDLHelper::TorchModel</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a80d386b0a246b4297f3984599a55b869">m_modelV</a></td></tr>
<tr class="memdesc:a80d386b0a246b4297f3984599a55b869"><td class="mdescLeft">&#160;</td><td class="mdescRight">The model for the V view.  <a href="#a80d386b0a246b4297f3984599a55b869">More...</a><br/></td></tr>
<tr class="separator:a80d386b0a246b4297f3984599a55b869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a503e121d05bd7cb02703226486cf0e59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#a304b206da6f549446d932ac08f3b3047">LArDLHelper::TorchModel</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a503e121d05bd7cb02703226486cf0e59">m_modelW</a></td></tr>
<tr class="memdesc:a503e121d05bd7cb02703226486cf0e59"><td class="mdescLeft">&#160;</td><td class="mdescRight">The model for the W view.  <a href="#a503e121d05bd7cb02703226486cf0e59">More...</a><br/></td></tr>
<tr class="separator:a503e121d05bd7cb02703226486cf0e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae34f6017be872999019cf8cb480c0ec6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ae34f6017be872999019cf8cb480c0ec6">m_event</a></td></tr>
<tr class="memdesc:ae34f6017be872999019cf8cb480c0ec6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current event number.  <a href="#ae34f6017be872999019cf8cb480c0ec6">More...</a><br/></td></tr>
<tr class="separator:ae34f6017be872999019cf8cb480c0ec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a792a6822cf26bc09bc860439ca226844"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a792a6822cf26bc09bc860439ca226844">m_pass</a></td></tr>
<tr class="memdesc:a792a6822cf26bc09bc860439ca226844"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pass of the train/infer step.  <a href="#a792a6822cf26bc09bc860439ca226844">More...</a><br/></td></tr>
<tr class="separator:a792a6822cf26bc09bc860439ca226844"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94d15228a81a6d69f5c8b988ffebca31"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a94d15228a81a6d69f5c8b988ffebca31">m_nClasses</a></td></tr>
<tr class="memdesc:a94d15228a81a6d69f5c8b988ffebca31"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of distance classes.  <a href="#a94d15228a81a6d69f5c8b988ffebca31">More...</a><br/></td></tr>
<tr class="separator:a94d15228a81a6d69f5c8b988ffebca31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca0091c80cfa5e58f04d49efeffeb17e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a></td></tr>
<tr class="memdesc:aca0091c80cfa5e58f04d49efeffeb17e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The height of the images.  <a href="#aca0091c80cfa5e58f04d49efeffeb17e">More...</a><br/></td></tr>
<tr class="separator:aca0091c80cfa5e58f04d49efeffeb17e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34963f361539e85716f1b087e113ddf3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">m_width</a></td></tr>
<tr class="memdesc:a34963f361539e85716f1b087e113ddf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The width of the images.  <a href="#a34963f361539e85716f1b087e113ddf3">More...</a><br/></td></tr>
<tr class="separator:a34963f361539e85716f1b087e113ddf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0617f20d2b630e6d47391416afcb4cd0"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a0617f20d2b630e6d47391416afcb4cd0">m_maxHitAdc</a></td></tr>
<tr class="memdesc:a0617f20d2b630e6d47391416afcb4cd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum ADC value to allow.  <a href="#a0617f20d2b630e6d47391416afcb4cd0">More...</a><br/></td></tr>
<tr class="separator:a0617f20d2b630e6d47391416afcb4cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a337cbe10ff21d6c48ee92a45880b7fec"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a337cbe10ff21d6c48ee92a45880b7fec">m_regionSize</a></td></tr>
<tr class="memdesc:a337cbe10ff21d6c48ee92a45880b7fec"><td class="mdescLeft">&#160;</td><td class="mdescRight">The half width/height of the event region to consider in cm.  <a href="#a337cbe10ff21d6c48ee92a45880b7fec">More...</a><br/></td></tr>
<tr class="separator:a337cbe10ff21d6c48ee92a45880b7fec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57503f96cf79d4b5d78aeb5084163278"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a57503f96cf79d4b5d78aeb5084163278">m_visualise</a></td></tr>
<tr class="memdesc:a57503f96cf79d4b5d78aeb5084163278"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether or not to visualise the candidate vertices.  <a href="#a57503f96cf79d4b5d78aeb5084163278">More...</a><br/></td></tr>
<tr class="separator:a57503f96cf79d4b5d78aeb5084163278"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c10185dc09c55d503fbfbeac05a52f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ab8c10185dc09c55d503fbfbeac05a52f">m_writeTree</a></td></tr>
<tr class="memdesc:ab8c10185dc09c55d503fbfbeac05a52f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether or not to write validation details to a <a class="el" href="../../d0/d10/namespaceROOT.html">ROOT</a> tree.  <a href="#ab8c10185dc09c55d503fbfbeac05a52f">More...</a><br/></td></tr>
<tr class="separator:ab8c10185dc09c55d503fbfbeac05a52f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a679155fa1c9244536946c6d740596dea"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a679155fa1c9244536946c6d740596dea">m_rootTreeName</a></td></tr>
<tr class="memdesc:a679155fa1c9244536946c6d740596dea"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="../../d0/d10/namespaceROOT.html">ROOT</a> tree name.  <a href="#a679155fa1c9244536946c6d740596dea">More...</a><br/></td></tr>
<tr class="separator:a679155fa1c9244536946c6d740596dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade3967baf888fba736c6cd8284f52591"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ade3967baf888fba736c6cd8284f52591">m_rootFileName</a></td></tr>
<tr class="memdesc:ade3967baf888fba736c6cd8284f52591"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="../../d0/d10/namespaceROOT.html">ROOT</a> file name.  <a href="#ade3967baf888fba736c6cd8284f52591">More...</a><br/></td></tr>
<tr class="separator:ade3967baf888fba736c6cd8284f52591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa4db30764f609ee2c3ab788a13deb5e"><td class="memItemLeft" align="right" valign="top">std::mt19937&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#afa4db30764f609ee2c3ab788a13deb5e">m_rng</a></td></tr>
<tr class="memdesc:afa4db30764f609ee2c3ab788a13deb5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The random number generator.  <a href="#afa4db30764f609ee2c3ab788a13deb5e">More...</a><br/></td></tr>
<tr class="separator:afa4db30764f609ee2c3ab788a13deb5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf450d957cca379abe22c37ec2922338"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#adf450d957cca379abe22c37ec2922338">m_thresholds</a></td></tr>
<tr class="memdesc:adf450d957cca379abe22c37ec2922338"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distance class thresholds.  <a href="#adf450d957cca379abe22c37ec2922338">More...</a><br/></td></tr>
<tr class="separator:adf450d957cca379abe22c37ec2922338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb92e4174a25e5576b7aa2a4d302e3d2"><td class="memItemLeft" align="right" valign="top">const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">PY_EPSILON</a> {1.1920929e-7}</td></tr>
<tr class="memdesc:abb92e4174a25e5576b7aa2a4d302e3d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The value of epsilon in Python.  <a href="#abb92e4174a25e5576b7aa2a4d302e3d2">More...</a><br/></td></tr>
<tr class="separator:abb92e4174a25e5576b7aa2a4d302e3d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>DeepLearningTrackShowerIdAlgorithm class. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00027">27</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="af93bf837944ecd29dd800f970d7d07a5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::pair&lt;int, int&gt; <a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#af93bf837944ecd29dd800f970d7d07a5">lar_dl_content::DlVertexingAlgorithm::Pixel</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00058">58</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa9cf9b761ff7e2ef0ab4b350831638df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;std::pair&lt;int, int&gt;, std::vector&lt;const pandora::CaloHit *&gt; &gt; <a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aa9cf9b761ff7e2ef0ab4b350831638df">lar_dl_content::DlVertexingAlgorithm::PixelToCaloHitsMap</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00030">30</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad39ccbb53b4f2cb01dd04ae2de3d1e14"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#af93bf837944ecd29dd800f970d7d07a5">Pixel</a>&gt; <a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ad39ccbb53b4f2cb01dd04ae2de3d1e14">lar_dl_content::DlVertexingAlgorithm::PixelVector</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00059">59</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7f396eb55fd8638e5171bbf072f57be4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lar_dl_content::DlVertexingAlgorithm::DlVertexingAlgorithm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00028">28</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                                           :</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a1eb74c1da16a036c64041a4cbc8aae1f">m_trainingMode</a>{<span class="keyword">false</span>},</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aa8aff7ed7a9bd41dc5f506a970483130">m_trainingOutputFile</a>{<span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ae34f6017be872999019cf8cb480c0ec6">m_event</a>{-1},</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a792a6822cf26bc09bc860439ca226844">m_pass</a>{1},</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a94d15228a81a6d69f5c8b988ffebca31">m_nClasses</a>{0},</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a>{256},</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">m_width</a>{256},</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a0617f20d2b630e6d47391416afcb4cd0">m_maxHitAdc</a>{500.f},</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a337cbe10ff21d6c48ee92a45880b7fec">m_regionSize</a>{32.f},</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a57503f96cf79d4b5d78aeb5084163278">m_visualise</a>{<span class="keyword">false</span>},</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ab8c10185dc09c55d503fbfbeac05a52f">m_writeTree</a>{<span class="keyword">false</span>},</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#afa4db30764f609ee2c3ab788a13deb5e">m_rng</a>(static_cast&lt;std::mt19937::result_type&gt;(<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#a3032f60674987365663bed9712f50de7">std::chrono::high_resolution_clock::now</a>().time_since_epoch().<a class="code" href="../../db/df5/IntegerRanges__test_8cc.html#abbc7e5f346bfa932ca51b4b07ccef76d">count</a>()))</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;{</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;}</div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a57503f96cf79d4b5d78aeb5084163278"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a57503f96cf79d4b5d78aeb5084163278">lar_dl_content::DlVertexingAlgorithm::m_visualise</a></div><div class="ttdeci">bool m_visualise</div><div class="ttdoc">Whether or not to visualise the candidate vertices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00235">DlVertexingAlgorithm.h:235</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_ae34f6017be872999019cf8cb480c0ec6"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ae34f6017be872999019cf8cb480c0ec6">lar_dl_content::DlVertexingAlgorithm::m_event</a></div><div class="ttdeci">int m_event</div><div class="ttdoc">The current event number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00228">DlVertexingAlgorithm.h:228</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a337cbe10ff21d6c48ee92a45880b7fec"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a337cbe10ff21d6c48ee92a45880b7fec">lar_dl_content::DlVertexingAlgorithm::m_regionSize</a></div><div class="ttdeci">float m_regionSize</div><div class="ttdoc">The half width/height of the event region to consider in cm. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00234">DlVertexingAlgorithm.h:234</a></div></div>
<div class="ttc" id="namespacechannelDBConverter_html_a3032f60674987365663bed9712f50de7"><div class="ttname"><a href="../../d4/d43/namespacechannelDBConverter.html#a3032f60674987365663bed9712f50de7">channelDBConverter.now</a></div><div class="ttdeci">tuple now</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d11/channelDBConverter_8py_source.html#l00241">channelDBConverter.py:241</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a0617f20d2b630e6d47391416afcb4cd0"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a0617f20d2b630e6d47391416afcb4cd0">lar_dl_content::DlVertexingAlgorithm::m_maxHitAdc</a></div><div class="ttdeci">float m_maxHitAdc</div><div class="ttdoc">Maximum ADC value to allow. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00233">DlVertexingAlgorithm.h:233</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_afa4db30764f609ee2c3ab788a13deb5e"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#afa4db30764f609ee2c3ab788a13deb5e">lar_dl_content::DlVertexingAlgorithm::m_rng</a></div><div class="ttdeci">std::mt19937 m_rng</div><div class="ttdoc">The random number generator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00239">DlVertexingAlgorithm.h:239</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a94d15228a81a6d69f5c8b988ffebca31"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a94d15228a81a6d69f5c8b988ffebca31">lar_dl_content::DlVertexingAlgorithm::m_nClasses</a></div><div class="ttdeci">int m_nClasses</div><div class="ttdoc">The number of distance classes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00230">DlVertexingAlgorithm.h:230</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_ab8c10185dc09c55d503fbfbeac05a52f"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ab8c10185dc09c55d503fbfbeac05a52f">lar_dl_content::DlVertexingAlgorithm::m_writeTree</a></div><div class="ttdeci">bool m_writeTree</div><div class="ttdoc">Whether or not to write validation details to a ROOT tree. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00236">DlVertexingAlgorithm.h:236</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_aca0091c80cfa5e58f04d49efeffeb17e"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">lar_dl_content::DlVertexingAlgorithm::m_height</a></div><div class="ttdeci">int m_height</div><div class="ttdoc">The height of the images. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00231">DlVertexingAlgorithm.h:231</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a792a6822cf26bc09bc860439ca226844"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a792a6822cf26bc09bc860439ca226844">lar_dl_content::DlVertexingAlgorithm::m_pass</a></div><div class="ttdeci">int m_pass</div><div class="ttdoc">The pass of the train/infer step. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00229">DlVertexingAlgorithm.h:229</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a1eb74c1da16a036c64041a4cbc8aae1f"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a1eb74c1da16a036c64041a4cbc8aae1f">lar_dl_content::DlVertexingAlgorithm::m_trainingMode</a></div><div class="ttdeci">bool m_trainingMode</div><div class="ttdoc">Training mode. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00220">DlVertexingAlgorithm.h:220</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_aa8aff7ed7a9bd41dc5f506a970483130"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aa8aff7ed7a9bd41dc5f506a970483130">lar_dl_content::DlVertexingAlgorithm::m_trainingOutputFile</a></div><div class="ttdeci">std::string m_trainingOutputFile</div><div class="ttdoc">Output file name for training examples. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00221">DlVertexingAlgorithm.h:221</a></div></div>
<div class="ttc" id="IntegerRanges__test_8cc_html_abbc7e5f346bfa932ca51b4b07ccef76d"><div class="ttname"><a href="../../db/df5/IntegerRanges__test_8cc.html#abbc7e5f346bfa932ca51b4b07ccef76d">count</a></div><div class="ttdeci">std::size_t count(Cont const &amp;cont)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df5/IntegerRanges__test_8cc_source.html#l00029">IntegerRanges_test.cc:29</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a34963f361539e85716f1b087e113ddf3"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">lar_dl_content::DlVertexingAlgorithm::m_width</a></div><div class="ttdeci">int m_width</div><div class="ttdoc">The width of the images. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00232">DlVertexingAlgorithm.h:232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6050582e5523ae34819637d29804fcb0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lar_dl_content::DlVertexingAlgorithm::~DlVertexingAlgorithm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00044">44</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ab8c10185dc09c55d503fbfbeac05a52f">m_writeTree</a>)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            PANDORA_MONITORING_API(SaveTree(this-&gt;GetPandora(), <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a679155fa1c9244536946c6d740596dea">m_rootTreeName</a>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ade3967baf888fba736c6cd8284f52591">m_rootFileName</a>, <span class="stringliteral">&quot;RECREATE&quot;</span>));</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        }</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keywordflow">catch</span> (StatusCodeException <a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a>)</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;VertexAssessmentAlgorithm: Unable to write to ROOT tree&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a679155fa1c9244536946c6d740596dea"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a679155fa1c9244536946c6d740596dea">lar_dl_content::DlVertexingAlgorithm::m_rootTreeName</a></div><div class="ttdeci">std::string m_rootTreeName</div><div class="ttdoc">The ROOT tree name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00237">DlVertexingAlgorithm.h:237</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_ab8c10185dc09c55d503fbfbeac05a52f"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ab8c10185dc09c55d503fbfbeac05a52f">lar_dl_content::DlVertexingAlgorithm::m_writeTree</a></div><div class="ttdeci">bool m_writeTree</div><div class="ttdoc">Whether or not to write validation details to a ROOT tree. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00236">DlVertexingAlgorithm.h:236</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_ade3967baf888fba736c6cd8284f52591"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ade3967baf888fba736c6cd8284f52591">lar_dl_content::DlVertexingAlgorithm::m_rootFileName</a></div><div class="ttdeci">std::string m_rootFileName</div><div class="ttdoc">The ROOT file name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00238">DlVertexingAlgorithm.h:238</a></div></div>
<div class="ttc" id="updateVersionList_8sh_html_a067a8c1534d6da9b2c501a6cf4ef89bd"><div class="ttname"><a href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a></div><div class="ttdeci">do i e</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dca/updateVersionList_8sh_source.html#l00068">updateVersionList.sh:68</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac7d4fbfe9152f342d218d70939ec0922"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode lar_dl_content::DlVertexingAlgorithm::CompleteMCHierarchy </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a35229b4b94f4ebbe01f8b2827e485990">LArMCParticleHelper::MCContributionMap</a> &amp;&#160;</td>
          <td class="paramname"><em>mcToHitsMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pandora::MCParticleList &amp;&#160;</td>
          <td class="paramname"><em>mcHierarchy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00568">568</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;{</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> [mc, hits] : mcToHitsMap)</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            (<a class="code" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">void</a>)hits;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            mcHierarchy.push_back(mc);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            LArMCParticleHelper::GetAllAncestorMCParticles(mc, mcHierarchy);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">catch</span> (<span class="keyword">const</span> StatusCodeException &amp;<a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a>)</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordflow">return</span> e.GetStatusCode();</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="comment">// Move the neutrino to the front of the list</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keyword">auto</span> pivot =</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        std::find_if(mcHierarchy.begin(), mcHierarchy.end(), [](<span class="keyword">const</span> MCParticle *mc) -&gt; <span class="keywordtype">bool</span> { <span class="keywordflow">return</span> LArMCParticleHelper::IsNeutrino(mc); });</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    (<a class="code" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">void</a>)pivot;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">if</span> (pivot != mcHierarchy.end())</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        std::rotate(mcHierarchy.begin(), pivot, std::next(pivot));</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordflow">return</span> STATUS_CODE_NOT_FOUND;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;}</div>
<div class="ttc" id="namespacenlohmann_1_1detail_html_a59fca69799f6b9e366710cb9043aa77d"><div class="ttname"><a href="../../dc/df0/namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">nlohmann::detail::void</a></div><div class="ttdeci">j template void())</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db8/json_8hpp_source.html#l03108">json.hpp:3108</a></div></div>
<div class="ttc" id="updateVersionList_8sh_html_a067a8c1534d6da9b2c501a6cf4ef89bd"><div class="ttname"><a href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a></div><div class="ttdeci">do i e</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dca/updateVersionList_8sh_source.html#l00068">updateVersionList.sh:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afad4f2c58702874562c9abfd9c4eb742"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_dl_content::DlVertexingAlgorithm::DrawRing </td>
          <td>(</td>
          <td class="paramtype">float **&#160;</td>
          <td class="paramname"><em>canvas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>inner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>outer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>weight</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a filled ring to the specified canvas. The ring has an inner radius based on the minimum predicted distance to the vertex and an outer radius based on the maximum predicted distance to the vertex. The centre of the ring is the location of the hit used to predict the distance to the vertex. Each pixel to be filled is augmented by the specified weight. In this way, once all hits have been considered, a consensus view emerges of the likely vertex location based on the overlap of various rings centred at different locations. </p>
<pre class="fragment">    The underlying implementation is a variant of the Bresenham midpoint circle algorithm and therefore only computes pixel
    coordinates for one octant of each circle (one of radius 'inner', one of radius 'outer') and interpolates the fill between
    points using integer arithmetic, guaranteeing each pixel of the ring is filled once and only once, and then mirrored to the
    remaining seven octants.
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">networkOutput</td><td>The TorchOutput object populated by the network inference step </td></tr>
    <tr><td class="paramname">pixelVector</td><td>The vector of populated pixels </td></tr>
    <tr><td class="paramname">thresholds</td><td>The fractional distance thresholds representing the classes predicted by the network </td></tr>
    <tr><td class="paramname">columnOffset</td><td>The output column offset for the canvas </td></tr>
    <tr><td class="paramname">rowOffset</td><td>The output row offset for the canvas </td></tr>
    <tr><td class="paramname">width</td><td>The output width for the canvas </td></tr>
    <tr><td class="paramname">height</td><td>The output height for the canvas </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00481">481</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;{</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="comment">// Set the starting position for each circle bounding the ring</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordtype">int</span> c1{inner}, r1{0}, c2{outer}, r2{0};</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordtype">int</span> inner2{inner * inner}, outer2{outer * outer};</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">while</span> (c2 &gt;= r2)</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="comment">// Set the output pixel location</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="keywordtype">int</span> rp2{r2}, cp2{c2};</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="comment">// We&#39;re still within the octant for the inner ring, so use the inner pixel location (see Update comment below)</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="comment">// Note also that the inner row is always the same as the outer row, so no need to define rp1</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="keywordtype">int</span> cp1{c1};</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keywordflow">if</span> (c1 &lt;= r1)</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        { <span class="comment">// We&#39;ve completed the arc of the inner ring already, so just move radially out from here (see Update comment below)</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            cp1 = r2;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="comment">// Fill the pixels from inner to outer in the current row and their mirror pixels in the other octants</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = cp1; c &lt;= cp2; ++c)</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            canvas[<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> + rp2][col + c] += weight;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <span class="keywordflow">if</span> (rp2 != c)</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                canvas[<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> + c][col + rp2] += weight;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            <span class="keywordflow">if</span> (rp2 != 0 &amp;&amp; cp2 != 0)</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                canvas[<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> - rp2][col - c] += weight;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                <span class="keywordflow">if</span> (rp2 != c)</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                    canvas[<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> - c][col - rp2] += weight;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <span class="keywordflow">if</span> (rp2 != 0)</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                canvas[<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> - rp2][col + c] += weight;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                <span class="keywordflow">if</span> (rp2 != c)</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                    canvas[<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> + c][col - rp2] += weight;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <span class="keywordflow">if</span> (cp2 != 0)</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                canvas[<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> + rp2][col - c] += weight;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                <span class="keywordflow">if</span> (rp2 != c)</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                    canvas[<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> - c][col + rp2] += weight;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="comment">// Only update the inner location while it remains in the octant (outer ring also remains in the octant of course, but the logic of</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="comment">// the update means that the inner ring can leave its octant before the outer ring is complete, so we need to stop that)</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">if</span> (c1 &gt; r1)</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            this-&gt;<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a3902ff249686d9df58fa004d0c3eb40c">Update</a>(inner2, c1, r1);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="comment">// Update the outer location - increase the row position with every step, decrease the column position if conditions are met</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        this-&gt;<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a3902ff249686d9df58fa004d0c3eb40c">Update</a>(outer2, c2, r2);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;}</div>
<div class="ttc" id="namespacechannelDBConverter_html_ac808094cfee397ba0719835c9f119d6c"><div class="ttname"><a href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">channelDBConverter.row</a></div><div class="ttdeci">tuple row</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d11/channelDBConverter_8py_source.html#l00210">channelDBConverter.py:210</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a3902ff249686d9df58fa004d0c3eb40c"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a3902ff249686d9df58fa004d0c3eb40c">lar_dl_content::DlVertexingAlgorithm::Update</a></div><div class="ttdeci">void Update(const int radius, int &amp;col, int &amp;row) const </div><div class="ttdoc">Update the coordinates along the loci of a circle. When drawing the ring we need an efficient means t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00533">DlVertexingAlgorithm.cc:533</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6babf25a5d8a81448cb84c8207aaea99"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_dl_content::DlVertexingAlgorithm::GetCanvasParameters </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#ad1eb058c8d1e79539734459e308ab393">LArDLHelper::TorchOutput</a> &amp;&#160;</td>
          <td class="paramname"><em>networkOutput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ad39ccbb53b4f2cb01dd04ae2de3d1e14">PixelVector</a> &amp;&#160;</td>
          <td class="paramname"><em>pixelVector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>columnOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>rowOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines the parameters of the canvas for extracting the vertex location. The network predicts the distance that each pixel associated with a hit is located from the vertex, but says nothing about the direction. As a result, the ring describing the potential vertices associated with that hit can extend beyond the original canvas size. This function returns the size of the required canvas and the offset for the bottom left corner. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">networkOutput</td><td>The TorchOutput object populated by the network inference step </td></tr>
    <tr><td class="paramname">pixelVector</td><td>The vector of populated pixels </td></tr>
    <tr><td class="paramname">columnOffset</td><td>The output column offset for the canvas </td></tr>
    <tr><td class="paramname">rowOffset</td><td>The output row offset for the canvas </td></tr>
    <tr><td class="paramname">width</td><td>The output width for the canvas </td></tr>
    <tr><td class="paramname">height</td><td>The output height for the canvas </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00446">446</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;{</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> scaleFactor{std::sqrt(<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a> * <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a> + <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">m_width</a> * <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">m_width</a>)};</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="comment">// output is a 1 x num_classes x height x width tensor</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="comment">// we want the maximum value in the num_classes dimension (1) for every pixel</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keyword">auto</span> classes{torch::argmax(networkOutput, 1)};</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="comment">// the argmax result is a 1 x height x width tensor where each element is a class id</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keyword">auto</span> classesAccessor{classes.accessor&lt;long, 3&gt;()};</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordtype">int</span> colOffsetMin{0}, colOffsetMax{0}, rowOffsetMin{0}, rowOffsetMax{0};</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> [<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>, col] : pixelVector)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> cls{classesAccessor[0][<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>][col]};</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> threshold{<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#adf450d957cca379abe22c37ec2922338">m_thresholds</a>[cls]};</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordflow">if</span> (threshold &gt; 0. &amp;&amp; threshold &lt; 1.)</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../da/d4d/namespaceicarus.html#a6ad3253842c1a0803df7cd600b60c35f">distance</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::round(std::ceil(scaleFactor * threshold)));</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> - distance) &lt; rowOffsetMin)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                rowOffsetMin = <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> - distance;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> + distance) &gt; rowOffsetMax)</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                rowOffsetMax = <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> + distance;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="keywordflow">if</span> ((col - distance) &lt; colOffsetMin)</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                colOffsetMin = col - distance;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="keywordflow">if</span> ((col + distance) &gt; colOffsetMax)</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                colOffsetMax = col + distance;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    colOffset = colOffsetMin &lt; 0 ? -colOffsetMin : 0;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    rowOffset = rowOffsetMin &lt; 0 ? -rowOffsetMin : 0;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    width = std::max(colOffsetMax + colOffset + 1, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">m_width</a>);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    height = std::max(rowOffsetMax + rowOffset + 1, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a>);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;}</div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_adf450d957cca379abe22c37ec2922338"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#adf450d957cca379abe22c37ec2922338">lar_dl_content::DlVertexingAlgorithm::m_thresholds</a></div><div class="ttdeci">std::vector&lt; double &gt; m_thresholds</div><div class="ttdoc">Distance class thresholds. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00240">DlVertexingAlgorithm.h:240</a></div></div>
<div class="ttc" id="namespacechannelDBConverter_html_ac808094cfee397ba0719835c9f119d6c"><div class="ttname"><a href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">channelDBConverter.row</a></div><div class="ttdeci">tuple row</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d11/channelDBConverter_8py_source.html#l00210">channelDBConverter.py:210</a></div></div>
<div class="ttc" id="namespaceicarus_html_a6ad3253842c1a0803df7cd600b60c35f"><div class="ttname"><a href="../../da/d4d/namespaceicarus.html#a6ad3253842c1a0803df7cd600b60c35f">icarus::distance</a></div><div class="ttdeci">double distance(geo::Point_t const &amp;point, CathodeDesc_t const &amp;cathode)</div><div class="ttdoc">Returns the distance of a point from the cathode. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd1/CathodeCrossingUtils_8cxx_source.html#l00035">CathodeCrossingUtils.cxx:35</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_aca0091c80cfa5e58f04d49efeffeb17e"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">lar_dl_content::DlVertexingAlgorithm::m_height</a></div><div class="ttdeci">int m_height</div><div class="ttdoc">The height of the images. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00231">DlVertexingAlgorithm.h:231</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a34963f361539e85716f1b087e113ddf3"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">lar_dl_content::DlVertexingAlgorithm::m_width</a></div><div class="ttdeci">int m_width</div><div class="ttdoc">The width of the images. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00232">DlVertexingAlgorithm.h:232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a27ef846a76ddeed4619c09406a24bd51"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_dl_content::DlVertexingAlgorithm::GetHitRegion </td>
          <td>(</td>
          <td class="paramtype">const pandora::CaloHitList &amp;&#160;</td>
          <td class="paramname"><em>caloHitList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>xMin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>xMax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>zMin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>zMax</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00598">598</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;{</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    xMin = std::numeric_limits&lt;float&gt;::max();</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    xMax = -std::numeric_limits&lt;float&gt;::max();</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    zMin = std::numeric_limits&lt;float&gt;::max();</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    zMax = -std::numeric_limits&lt;float&gt;::max();</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="comment">// Find the range of x and z values in the view</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *pCaloHit : caloHitList)</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>{pCaloHit-&gt;GetPositionVector().GetX()};</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>{pCaloHit-&gt;GetPositionVector().GetZ()};</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        xMin = std::min(<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>, xMin);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        xMax = std::max(<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>, xMax);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        zMin = std::min(<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>, zMin);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        zMax = std::max(<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>, zMax);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a792a6822cf26bc09bc860439ca226844">m_pass</a> &gt; 1)</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <span class="comment">// Constrain the hits to the allowed region if needed</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../db/d08/namespacedcel2d.html#a8054eb55cf5bd8624fa0f46dfe56afa7">VertexList</a> *pVertexList(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        PANDORA_THROW_RESULT_IF(STATUS_CODE_SUCCESS, !=, PandoraContentApi::GetList(*<span class="keyword">this</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a9c8f30266fc04865437c0721a3c44d5e">m_inputVertexListName</a>, pVertexList));</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="keywordflow">if</span> (pVertexList-&gt;empty() || caloHitList.empty())</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_NOT_FOUND);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="keyword">const</span> CartesianVector &amp;centroid{pVertexList-&gt;front()-&gt;GetPosition()};</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keyword">const</span> HitType view{caloHitList.front()-&gt;GetHitType()};</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="keywordtype">float</span> xCentroid{centroid.GetX()}, zCentroid{0.f};</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keyword">const</span> LArTransformationPlugin *<a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">transform</a>{this-&gt;GetPandora().GetPlugins()-&gt;GetLArTransformationPlugin()};</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keywordflow">switch</span> (view)</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            <span class="keywordflow">case</span> TPC_VIEW_U:</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                zCentroid = <a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">transform</a>-&gt;YZtoU(centroid.GetY(), centroid.GetZ());</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <span class="keywordflow">case</span> TPC_VIEW_V:</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                zCentroid = <a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">transform</a>-&gt;YZtoV(centroid.GetY(), centroid.GetZ());</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            <span class="keywordflow">case</span> TPC_VIEW_W:</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                zCentroid = <a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">transform</a>-&gt;YZtoW(centroid.GetY(), centroid.GetZ());</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_INVALID_PARAMETER);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        xMin = std::max(xMin, xCentroid - <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a337cbe10ff21d6c48ee92a45880b7fec">m_regionSize</a>);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        xMax = std::min(xMax, xCentroid + <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a337cbe10ff21d6c48ee92a45880b7fec">m_regionSize</a>);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        zMin = std::max(zMin, zCentroid - <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a337cbe10ff21d6c48ee92a45880b7fec">m_regionSize</a>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        zMax = std::min(zMax, zCentroid + <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a337cbe10ff21d6c48ee92a45880b7fec">m_regionSize</a>);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="comment">// Avoid unreasonable rescaling of very small hit regions</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> xRange{xMax - xMin}, zRange{zMax - zMin};</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">if</span> (2.f * xRange &lt; <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">m_width</a>)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> padding{0.5f * (0.5f * <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">m_width</a> - xRange)};</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        xMin -= padding;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        xMax += padding;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    }</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">if</span> (2.f * zRange &lt; <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a>)</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> padding{0.5f * (0.5f * <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a> - zRange)};</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        zMin -= padding;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        zMax += padding;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;}</div>
<div class="ttc" id="run__opflash__electron_8fcl_html_ae40184b0245025a43c56daa3261d5e3c"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a></div><div class="ttdeci">process_name opflash particleana ie ie ie z</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00092">run_opflash_electron.fcl:92</a></div></div>
<div class="ttc" id="namespaceicarus_1_1waveform__operations_1_1details_html_ae295d3f6cb2f9181dccdf0e3492d44e0"><div class="ttname"><a href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">icarus::waveform_operations::details::transform</a></div><div class="ttdeci">static constexpr Sample_t transform(Sample_t sample)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8e/WaveformOperations_8h_source.html#l00145">WaveformOperations.h:145</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a6673f03521899f7844189bcfd8ee5941"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a></div><div class="ttdeci">process_name opflash particleana ie x</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00090">run_opflash_electron.fcl:90</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a337cbe10ff21d6c48ee92a45880b7fec"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a337cbe10ff21d6c48ee92a45880b7fec">lar_dl_content::DlVertexingAlgorithm::m_regionSize</a></div><div class="ttdeci">float m_regionSize</div><div class="ttdoc">The half width/height of the event region to consider in cm. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00234">DlVertexingAlgorithm.h:234</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_aca0091c80cfa5e58f04d49efeffeb17e"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">lar_dl_content::DlVertexingAlgorithm::m_height</a></div><div class="ttdeci">int m_height</div><div class="ttdoc">The height of the images. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00231">DlVertexingAlgorithm.h:231</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a792a6822cf26bc09bc860439ca226844"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a792a6822cf26bc09bc860439ca226844">lar_dl_content::DlVertexingAlgorithm::m_pass</a></div><div class="ttdeci">int m_pass</div><div class="ttdoc">The pass of the train/infer step. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00229">DlVertexingAlgorithm.h:229</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a9c8f30266fc04865437c0721a3c44d5e"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a9c8f30266fc04865437c0721a3c44d5e">lar_dl_content::DlVertexingAlgorithm::m_inputVertexListName</a></div><div class="ttdeci">std::string m_inputVertexListName</div><div class="ttdoc">Input vertex list name if 2nd pass. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00222">DlVertexingAlgorithm.h:222</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a34963f361539e85716f1b087e113ddf3"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">lar_dl_content::DlVertexingAlgorithm::m_width</a></div><div class="ttdeci">int m_width</div><div class="ttdoc">The width of the images. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00232">DlVertexingAlgorithm.h:232</a></div></div>
<div class="ttc" id="namespacedcel2d_html_a8054eb55cf5bd8624fa0f46dfe56afa7"><div class="ttname"><a href="../../db/d08/namespacedcel2d.html#a8054eb55cf5bd8624fa0f46dfe56afa7">dcel2d::VertexList</a></div><div class="ttdeci">std::list&lt; Vertex &gt; VertexList</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d84/DCEL_8h_source.html#l00182">DCEL.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab17d1f8ee42ca1db5784cb7b95bfba3c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode lar_dl_content::DlVertexingAlgorithm::GetMCToHitsMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a35229b4b94f4ebbe01f8b2827e485990">LArMCParticleHelper::MCContributionMap</a> &amp;&#160;</td>
          <td class="paramname"><em>mcToHitsMap</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00551">551</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;{</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keyword">const</span> CaloHitList *pCaloHitList2D(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, PandoraContentApi::GetList(*<span class="keyword">this</span>, <span class="stringliteral">&quot;CaloHitList2D&quot;</span>, pCaloHitList2D));</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keyword">const</span> MCParticleList *pMCParticleList(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, PandoraContentApi::GetCurrentList(*<span class="keyword">this</span>, pMCParticleList));</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <a class="code" href="../../df/dea/classlar__content_1_1LArMCParticleHelper_1_1PrimaryParameters.html">LArMCParticleHelper::PrimaryParameters</a> parameters;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    parameters.<a class="code" href="../../df/dea/classlar__content_1_1LArMCParticleHelper_1_1PrimaryParameters.html#ac0f9bd2bb5bae4a00aa85d2d1c1c23fd">m_maxPhotonPropagation</a> = std::numeric_limits&lt;float&gt;::max();</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    LArMCParticleHelper::SelectReconstructableMCParticles(</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        pMCParticleList, pCaloHitList2D, parameters, LArMCParticleHelper::IsBeamNeutrinoFinalState, mcToHitsMap);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1LArMCParticleHelper_1_1PrimaryParameters_html_ac0f9bd2bb5bae4a00aa85d2d1c1c23fd"><div class="ttname"><a href="../../df/dea/classlar__content_1_1LArMCParticleHelper_1_1PrimaryParameters.html#ac0f9bd2bb5bae4a00aa85d2d1c1c23fd">lar_content::LArMCParticleHelper::PrimaryParameters::m_maxPhotonPropagation</a></div><div class="ttdeci">float m_maxPhotonPropagation</div><div class="ttdoc">the maximum photon propagation length </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7f/LArMCParticleHelper_8h_source.html#l00067">LArMCParticleHelper.h:67</a></div></div>
<div class="ttc" id="classlar__content_1_1LArMCParticleHelper_1_1PrimaryParameters_html"><div class="ttname"><a href="../../df/dea/classlar__content_1_1LArMCParticleHelper_1_1PrimaryParameters.html">lar_content::LArMCParticleHelper::PrimaryParameters</a></div><div class="ttdoc">PrimaryParameters class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7f/LArMCParticleHelper_8h_source.html#l00055">LArMCParticleHelper.h:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1424303c365b448b47b1669375e5300f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const CartesianVector &amp; lar_dl_content::DlVertexingAlgorithm::GetTrueVertex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the true neutrino vertex. </p>

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00712">712</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;{</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keyword">const</span> MCParticleList *pMCParticleList{<span class="keyword">nullptr</span>};</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">if</span> (STATUS_CODE_SUCCESS == PandoraContentApi::GetCurrentList(*<span class="keyword">this</span>, pMCParticleList) &amp;&amp; pMCParticleList)</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <a class="code" href="../../d1/d8f/namespacelar__pandora.html#a8c0ecd9a771b4322f87c38a73fae59dd">MCParticleVector</a> primaries;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        LArMCParticleHelper::GetPrimaryMCParticleList(pMCParticleList, primaries);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordflow">if</span> (!primaries.empty())</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        {</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            <span class="keyword">const</span> MCParticle *primary{primaries.front()};</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            <span class="keyword">const</span> MCParticleList &amp;parents{primary-&gt;GetParentList()};</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            <span class="keywordflow">if</span> (parents.size() == 1)</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                <span class="keyword">const</span> MCParticle *trueNeutrino{parents.front()};</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                <span class="keywordflow">if</span> (LArMCParticleHelper::IsNeutrino(trueNeutrino))</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                    <span class="keywordflow">return</span> primaries.front()-&gt;GetVertex();</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        }</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    }</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_NOT_FOUND);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;}</div>
<div class="ttc" id="namespacelar__pandora_html_a8c0ecd9a771b4322f87c38a73fae59dd"><div class="ttname"><a href="../../d1/d8f/namespacelar__pandora.html#a8c0ecd9a771b4322f87c38a73fae59dd">lar_pandora::MCParticleVector</a></div><div class="ttdeci">std::vector&lt; art::Ptr&lt; simb::MCParticle &gt; &gt; MCParticleVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d35/LArPandoraHelper_8h_source.html#l00067">LArPandoraHelper.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a15fa99393854604e07b95439884baf40"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_dl_content::DlVertexingAlgorithm::GetTrueVertexPosition </td>
          <td>(</td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the true neutrino vertex position. </p>

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00690">690</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;{</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keyword">const</span> CartesianVector &amp;trueVertex{this-&gt;<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a1424303c365b448b47b1669375e5300f">GetTrueVertex</a>()};</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a> = trueVertex.GetX();</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a> = trueVertex.GetY();</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a> = trueVertex.GetZ();</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;}</div>
<div class="ttc" id="run__opflash__electron_8fcl_html_ae40184b0245025a43c56daa3261d5e3c"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a></div><div class="ttdeci">process_name opflash particleana ie ie ie z</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00092">run_opflash_electron.fcl:92</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a1424303c365b448b47b1669375e5300f"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a1424303c365b448b47b1669375e5300f">lar_dl_content::DlVertexingAlgorithm::GetTrueVertex</a></div><div class="ttdeci">const pandora::CartesianVector &amp; GetTrueVertex() const </div><div class="ttdoc">Retrieve the true neutrino vertex. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00712">DlVertexingAlgorithm.cc:712</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a6673f03521899f7844189bcfd8ee5941"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a></div><div class="ttdeci">process_name opflash particleana ie x</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00090">run_opflash_electron.fcl:90</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a1e5aaaf25e8609a835e8c7c6fda71456"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a></div><div class="ttdeci">process_name opflash particleana ie ie y</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00091">run_opflash_electron.fcl:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab8f43850173810f13a349eff951a951c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_dl_content::DlVertexingAlgorithm::GetTrueVertexPosition </td>
          <td>(</td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>w</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the true neutrino vertex position. </p>

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00700">700</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;{</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keyword">const</span> CartesianVector &amp;trueVertex{this-&gt;<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a1424303c365b448b47b1669375e5300f">GetTrueVertex</a>()};</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keyword">const</span> LArTransformationPlugin *<a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">transform</a>{this-&gt;GetPandora().GetPlugins()-&gt;GetLArTransformationPlugin()};</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a> = trueVertex.GetX();</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    u = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">transform</a>-&gt;YZtoU(trueVertex.GetY(), trueVertex.GetZ()));</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    v = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">transform</a>-&gt;YZtoV(trueVertex.GetY(), trueVertex.GetZ()));</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="../../d8/ddf/namespacegen__crt__frags.html#a8cdc67339147aad209b4122a38d7e246">w</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">transform</a>-&gt;YZtoW(trueVertex.GetY(), trueVertex.GetZ()));</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;}</div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a1424303c365b448b47b1669375e5300f"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a1424303c365b448b47b1669375e5300f">lar_dl_content::DlVertexingAlgorithm::GetTrueVertex</a></div><div class="ttdeci">const pandora::CartesianVector &amp; GetTrueVertex() const </div><div class="ttdoc">Retrieve the true neutrino vertex. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00712">DlVertexingAlgorithm.cc:712</a></div></div>
<div class="ttc" id="namespaceicarus_1_1waveform__operations_1_1details_html_ae295d3f6cb2f9181dccdf0e3492d44e0"><div class="ttname"><a href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">icarus::waveform_operations::details::transform</a></div><div class="ttdeci">static constexpr Sample_t transform(Sample_t sample)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8e/WaveformOperations_8h_source.html#l00145">WaveformOperations.h:145</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a6673f03521899f7844189bcfd8ee5941"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a></div><div class="ttdeci">process_name opflash particleana ie x</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00090">run_opflash_electron.fcl:90</a></div></div>
<div class="ttc" id="namespacegen__crt__frags_html_a8cdc67339147aad209b4122a38d7e246"><div class="ttname"><a href="../../d8/ddf/namespacegen__crt__frags.html#a8cdc67339147aad209b4122a38d7e246">gen_crt_frags.w</a></div><div class="ttdeci">tuple w</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8c/gen__crt__frags_8py_source.html#l01416">gen_crt_frags.py:1416</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a387e0f6e133a65fc725656deaddf4fdd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode lar_dl_content::DlVertexingAlgorithm::Infer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00157">157</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a792a6822cf26bc09bc860439ca226844">m_pass</a> == 1)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        ++<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ae34f6017be872999019cf8cb480c0ec6">m_event</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    CartesianPointVector vertexCandidatesU, vertexCandidatesV, vertexCandidatesW;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::string listName : <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#acc6a8701b2a7ee770b56859285183f96">m_caloHitListNames</a>)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keyword">const</span> CaloHitList *pCaloHitList{<span class="keyword">nullptr</span>};</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, PandoraContentApi::GetList(*<span class="keyword">this</span>, listName, pCaloHitList));</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        HitType view{pCaloHitList-&gt;front()-&gt;GetHitType()};</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> isU{view == TPC_VIEW_U}, isV{view == TPC_VIEW_V}, isW{view == TPC_VIEW_W};</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">if</span> (!isU &amp;&amp; !isV &amp;&amp; !isW)</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keywordflow">return</span> STATUS_CODE_NOT_ALLOWED;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#ac1e3d07cea94aab377ba5636e18ea220">LArDLHelper::TorchInput</a> input;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ad39ccbb53b4f2cb01dd04ae2de3d1e14">PixelVector</a> pixelVector;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        this-&gt;<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a9c6dddc6512dd4c1a9558ecee66f2bbf">MakeNetworkInputFromHits</a>(*pCaloHitList, input, pixelVector);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="comment">// Run the input through the trained model</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="code" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#a8f6991b6f0996ca485204c6a5a0b8139">LArDLHelper::TorchInputVector</a> inputs;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        inputs.push_back(input);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#ad1eb058c8d1e79539734459e308ab393">LArDLHelper::TorchOutput</a> <a class="code" href="../../dd/db4/triggersim__eastmodule__icarus_8fcl.html#a6e6fc5a1833d744f7bd6bde59dd95323">output</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">if</span> (isU)</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <a class="code" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#ab6643d797da2dd5ff14c7e2b9d552642">LArDLHelper::Forward</a>(<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a9d63709551a5c1b28150d495e6712655">m_modelU</a>, inputs, output);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isV)</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <a class="code" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#ab6643d797da2dd5ff14c7e2b9d552642">LArDLHelper::Forward</a>(<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a80d386b0a246b4297f3984599a55b869">m_modelV</a>, inputs, output);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <a class="code" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#ab6643d797da2dd5ff14c7e2b9d552642">LArDLHelper::Forward</a>(<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a503e121d05bd7cb02703226486cf0e59">m_modelW</a>, inputs, output);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordtype">int</span> colOffset{0}, rowOffset{0}, canvasWidth{<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">m_width</a>}, canvasHeight{<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a>};</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        this-&gt;<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a6babf25a5d8a81448cb84c8207aaea99">GetCanvasParameters</a>(output, pixelVector, colOffset, rowOffset, canvasWidth, canvasHeight);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordtype">float</span> **canvas{<span class="keyword">new</span> <span class="keywordtype">float</span> *[canvasHeight]};</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> = 0; <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> &lt; canvasHeight; ++<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            canvas[<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>] = <span class="keyword">new</span> <span class="keywordtype">float</span>[canvasWidth]{};</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="comment">// we want the maximum value in the num_classes dimension (1) for every pixel</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keyword">auto</span> classes{torch::argmax(output, 1)};</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="comment">// the argmax result is a 1 x height x width tensor where each element is a class id</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keyword">auto</span> classesAccessor{classes.accessor&lt;long, 3&gt;()};</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> scaleFactor{std::sqrt(<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a> * <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a> + <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">m_width</a> * <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">m_width</a>)};</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        std::map&lt;int, bool&gt; haveSeenMap;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> [<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>, col] : pixelVector)</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> cls{classesAccessor[0][<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>][col]};</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keywordflow">if</span> (cls &gt; 0 &amp;&amp; cls &lt; <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a94d15228a81a6d69f5c8b988ffebca31">m_nClasses</a>)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> inner{<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::round(std::ceil(scaleFactor * <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#adf450d957cca379abe22c37ec2922338">m_thresholds</a>[cls - 1])))};</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> outer{<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::round(std::ceil(scaleFactor * <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#adf450d957cca379abe22c37ec2922338">m_thresholds</a>[cls])))};</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                this-&gt;<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#afad4f2c58702874562c9abfd9c4eb742">DrawRing</a>(canvas, <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> + rowOffset, col + colOffset, inner, outer, 1.f / (outer * outer - inner * inner));</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        CartesianPointVector positionVector;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        this-&gt;<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a08d11e77ace3a3aa446a031ef088abfa">MakeWirePlaneCoordinatesFromCanvas</a>(*pCaloHitList, canvas, canvasWidth, canvasHeight, colOffset, rowOffset, positionVector);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">if</span> (isU)</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            vertexCandidatesU.emplace_back(positionVector.front());</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isV)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            vertexCandidatesV.emplace_back(positionVector.front());</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            vertexCandidatesW.emplace_back(positionVector.front());</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a57503f96cf79d4b5d78aeb5084163278">m_visualise</a>)</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            PANDORA_MONITORING_API(SetEveDisplayParameters(this-&gt;GetPandora(), <span class="keyword">true</span>, DETECTOR_VIEW_XZ, -1.f, 1.f, 1.f));</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordflow">try</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <span class="keywordtype">float</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>{0.f}, u{0.f}, v{0.f}, <a class="code" href="../../d8/ddf/namespacegen__crt__frags.html#a8cdc67339147aad209b4122a38d7e246">w</a>{0.f};</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                this-&gt;<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a15fa99393854604e07b95439884baf40">GetTrueVertexPosition</a>(<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>, u, v, <a class="code" href="../../d8/ddf/namespacegen__crt__frags.html#a8cdc67339147aad209b4122a38d7e246">w</a>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                <span class="keywordflow">if</span> (isU)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                    <span class="keyword">const</span> CartesianVector trueVertex(<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>, 0.f, u);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                    PANDORA_MONITORING_API(AddMarkerToVisualization(this-&gt;GetPandora(), &amp;trueVertex, <span class="stringliteral">&quot;U(true)&quot;</span>, <a class="code" href="../../d2/ddb/namespacetest__distance.html#a83ddf9e704aeffa243618b25710f0656">BLUE</a>, 3));</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isV)</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                    <span class="keyword">const</span> CartesianVector trueVertex(<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>, 0.f, v);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    PANDORA_MONITORING_API(AddMarkerToVisualization(this-&gt;GetPandora(), &amp;trueVertex, <span class="stringliteral">&quot;V(true)&quot;</span>, <a class="code" href="../../d2/ddb/namespacetest__distance.html#a83ddf9e704aeffa243618b25710f0656">BLUE</a>, 3));</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isW)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                    <span class="keyword">const</span> CartesianVector trueVertex(<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>, 0.f, <a class="code" href="../../d8/ddf/namespacegen__crt__frags.html#a8cdc67339147aad209b4122a38d7e246">w</a>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    PANDORA_MONITORING_API(AddMarkerToVisualization(this-&gt;GetPandora(), &amp;trueVertex, <span class="stringliteral">&quot;W(true)&quot;</span>, <a class="code" href="../../d2/ddb/namespacetest__distance.html#a83ddf9e704aeffa243618b25710f0656">BLUE</a>, 3));</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="keywordflow">catch</span> (StatusCodeException &amp;<a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a>)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                <a class="code" href="../../d8/df5/messageservice_8fcl.html#a8d1a8a85a0b2a30cac1090ea528dd015">std::cerr</a> &lt;&lt; <span class="stringliteral">&quot;DlVertexingAlgorithm: Warning. Couldn&#39;t find true vertex.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> pos : positionVector)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                std::string label{isU ? <span class="stringliteral">&quot;U&quot;</span> : isV ? <span class="stringliteral">&quot;V&quot;</span> : <span class="stringliteral">&quot;W&quot;</span>};</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                PANDORA_MONITORING_API(AddMarkerToVisualization(this-&gt;GetPandora(), &amp;pos, label, RED, 3));</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            PANDORA_MONITORING_API(ViewEvent(this-&gt;GetPandora()));</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> = 0; <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> &lt; canvasHeight; ++<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>)</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="keyword">delete</span>[] canvas[<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>];</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keyword">delete</span>[] canvas;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordtype">int</span> nEmptyLists{0};</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">if</span> (vertexCandidatesU.empty())</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        ++nEmptyLists;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> (vertexCandidatesV.empty())</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        ++nEmptyLists;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">if</span> (vertexCandidatesW.empty())</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        ++nEmptyLists;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    std::vector&lt;VertexTuple&gt; vertexTuples;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    CartesianPointVector candidates3D;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span> (nEmptyLists == 0)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        vertexTuples.emplace_back(VertexTuple(this-&gt;GetPandora(), vertexCandidatesU.front(), vertexCandidatesV.front(), vertexCandidatesW.front()));</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nEmptyLists == 1)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">if</span> (vertexCandidatesU.empty())</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        { <span class="comment">// V and W available</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            vertexTuples.emplace_back(VertexTuple(this-&gt;GetPandora(), vertexCandidatesV.front(), vertexCandidatesW.front(), TPC_VIEW_V, TPC_VIEW_W));</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vertexCandidatesV.empty())</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        { <span class="comment">// U and W available</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            vertexTuples.emplace_back(VertexTuple(this-&gt;GetPandora(), vertexCandidatesU.front(), vertexCandidatesW.front(), TPC_VIEW_U, TPC_VIEW_W));</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        { <span class="comment">// U and V available</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            vertexTuples.emplace_back(VertexTuple(this-&gt;GetPandora(), vertexCandidatesU.front(), vertexCandidatesV.front(), TPC_VIEW_U, TPC_VIEW_W));</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    { <span class="comment">// Not enough views to reconstruct a 3D vertex</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Insufficient 2D vertices to reconstruct a 3D vertex&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">return</span> STATUS_CODE_NOT_FOUND;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a57503f96cf79d4b5d78aeb5084163278">m_visualise</a>)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        PANDORA_MONITORING_API(AddMarkerToVisualization(this-&gt;GetPandora(), &amp;vertexTuples.front().GetPosition(), <span class="stringliteral">&quot;candidate&quot;</span>, GREEN, 1));</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">if</span> (!vertexTuples.empty())</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keyword">const</span> CartesianVector &amp;<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#a2e91c077dea2ff30aae790c67de81ea2">vertex</a>{vertexTuples.front().GetPosition()};</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        CartesianPointVector vertexCandidates;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        vertexCandidates.emplace_back(<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#a2e91c077dea2ff30aae790c67de81ea2">vertex</a>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, this-&gt;<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a4379b6bd29de3050b30c47d52ddbbd1f">MakeCandidateVertexList</a>(vertexCandidates));</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Insufficient 2D vertices to reconstruct a 3D vertex&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">return</span> STATUS_CODE_NOT_FOUND;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a57503f96cf79d4b5d78aeb5084163278">m_visualise</a>)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        PANDORA_MONITORING_API(ViewEvent(this-&gt;GetPandora()));</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div>
<div class="ttc" id="cheaterreco_8fcl_html_a2e91c077dea2ff30aae790c67de81ea2"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#a2e91c077dea2ff30aae790c67de81ea2">vertex</a></div><div class="ttdeci">process_name vertex</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a9d63709551a5c1b28150d495e6712655"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a9d63709551a5c1b28150d495e6712655">lar_dl_content::DlVertexingAlgorithm::m_modelU</a></div><div class="ttdeci">LArDLHelper::TorchModel m_modelU</div><div class="ttdoc">The model for the U view. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00225">DlVertexingAlgorithm.h:225</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_adf450d957cca379abe22c37ec2922338"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#adf450d957cca379abe22c37ec2922338">lar_dl_content::DlVertexingAlgorithm::m_thresholds</a></div><div class="ttdeci">std::vector&lt; double &gt; m_thresholds</div><div class="ttdoc">Distance class thresholds. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00240">DlVertexingAlgorithm.h:240</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a9c6dddc6512dd4c1a9558ecee66f2bbf"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a9c6dddc6512dd4c1a9558ecee66f2bbf">lar_dl_content::DlVertexingAlgorithm::MakeNetworkInputFromHits</a></div><div class="ttdeci">pandora::StatusCode MakeNetworkInputFromHits(const pandora::CaloHitList &amp;caloHits, LArDLHelper::TorchInput &amp;networkInput, PixelVector &amp;pixelVector) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00322">DlVertexingAlgorithm.cc:322</a></div></div>
<div class="ttc" id="namespacechannelDBConverter_html_ac808094cfee397ba0719835c9f119d6c"><div class="ttname"><a href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">channelDBConverter.row</a></div><div class="ttdeci">tuple row</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d11/channelDBConverter_8py_source.html#l00210">channelDBConverter.py:210</a></div></div>
<div class="ttc" id="namespacetest__distance_html_a83ddf9e704aeffa243618b25710f0656"><div class="ttname"><a href="../../d2/ddb/namespacetest__distance.html#a83ddf9e704aeffa243618b25710f0656">test_distance.BLUE</a></div><div class="ttdeci">string BLUE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d48/larcorealg_2test_2GeoAlgo_2test__distance_8py_source.html#l00014">larcorealg/test/GeoAlgo/test_distance.py:14</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a6673f03521899f7844189bcfd8ee5941"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a></div><div class="ttdeci">process_name opflash particleana ie x</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00090">run_opflash_electron.fcl:90</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a8d1a8a85a0b2a30cac1090ea528dd015"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a8d1a8a85a0b2a30cac1090ea528dd015">cerr</a></div><div class="ttdeci">BEGIN_PROLOG could also be cerr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a57503f96cf79d4b5d78aeb5084163278"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a57503f96cf79d4b5d78aeb5084163278">lar_dl_content::DlVertexingAlgorithm::m_visualise</a></div><div class="ttdeci">bool m_visualise</div><div class="ttdoc">Whether or not to visualise the candidate vertices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00235">DlVertexingAlgorithm.h:235</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_ae34f6017be872999019cf8cb480c0ec6"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ae34f6017be872999019cf8cb480c0ec6">lar_dl_content::DlVertexingAlgorithm::m_event</a></div><div class="ttdeci">int m_event</div><div class="ttdoc">The current event number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00228">DlVertexingAlgorithm.h:228</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_acc6a8701b2a7ee770b56859285183f96"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#acc6a8701b2a7ee770b56859285183f96">lar_dl_content::DlVertexingAlgorithm::m_caloHitListNames</a></div><div class="ttdeci">pandora::StringVector m_caloHitListNames</div><div class="ttdoc">Names of input calo hit lists. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00224">DlVertexingAlgorithm.h:224</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1LArDLHelper_html_ad1eb058c8d1e79539734459e308ab393"><div class="ttname"><a href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#ad1eb058c8d1e79539734459e308ab393">lar_dl_content::LArDLHelper::TorchOutput</a></div><div class="ttdeci">at::Tensor TorchOutput</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d6f/LArDLHelper_8h_source.html#l00028">LArDLHelper.h:28</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a80d386b0a246b4297f3984599a55b869"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a80d386b0a246b4297f3984599a55b869">lar_dl_content::DlVertexingAlgorithm::m_modelV</a></div><div class="ttdeci">LArDLHelper::TorchModel m_modelV</div><div class="ttdoc">The model for the V view. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00226">DlVertexingAlgorithm.h:226</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a6babf25a5d8a81448cb84c8207aaea99"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a6babf25a5d8a81448cb84c8207aaea99">lar_dl_content::DlVertexingAlgorithm::GetCanvasParameters</a></div><div class="ttdeci">void GetCanvasParameters(const LArDLHelper::TorchOutput &amp;networkOutput, const PixelVector &amp;pixelVector, int &amp;columnOffset, int &amp;rowOffset, int &amp;width, int &amp;height) const </div><div class="ttdoc">Determines the parameters of the canvas for extracting the vertex location. The network predicts the ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00446">DlVertexingAlgorithm.cc:446</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a94d15228a81a6d69f5c8b988ffebca31"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a94d15228a81a6d69f5c8b988ffebca31">lar_dl_content::DlVertexingAlgorithm::m_nClasses</a></div><div class="ttdeci">int m_nClasses</div><div class="ttdoc">The number of distance classes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00230">DlVertexingAlgorithm.h:230</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_aca0091c80cfa5e58f04d49efeffeb17e"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">lar_dl_content::DlVertexingAlgorithm::m_height</a></div><div class="ttdeci">int m_height</div><div class="ttdoc">The height of the images. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00231">DlVertexingAlgorithm.h:231</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a792a6822cf26bc09bc860439ca226844"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a792a6822cf26bc09bc860439ca226844">lar_dl_content::DlVertexingAlgorithm::m_pass</a></div><div class="ttdeci">int m_pass</div><div class="ttdoc">The pass of the train/infer step. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00229">DlVertexingAlgorithm.h:229</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1LArDLHelper_html_ab6643d797da2dd5ff14c7e2b9d552642"><div class="ttname"><a href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#ab6643d797da2dd5ff14c7e2b9d552642">lar_dl_content::LArDLHelper::Forward</a></div><div class="ttdeci">static void Forward(TorchModel &amp;model, const TorchInputVector &amp;input, TorchOutput &amp;output)</div><div class="ttdoc">Run a deep learning model. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dfb/LArDLHelper_8cc_source.html#l00041">LArDLHelper.cc:41</a></div></div>
<div class="ttc" id="namespacegen__crt__frags_html_a8cdc67339147aad209b4122a38d7e246"><div class="ttname"><a href="../../d8/ddf/namespacegen__crt__frags.html#a8cdc67339147aad209b4122a38d7e246">gen_crt_frags.w</a></div><div class="ttdeci">tuple w</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8c/gen__crt__frags_8py_source.html#l01416">gen_crt_frags.py:1416</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a15fa99393854604e07b95439884baf40"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a15fa99393854604e07b95439884baf40">lar_dl_content::DlVertexingAlgorithm::GetTrueVertexPosition</a></div><div class="ttdeci">void GetTrueVertexPosition(float &amp;x, float &amp;y, float &amp;z) const </div><div class="ttdoc">Retrieve the true neutrino vertex position. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00690">DlVertexingAlgorithm.cc:690</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a503e121d05bd7cb02703226486cf0e59"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a503e121d05bd7cb02703226486cf0e59">lar_dl_content::DlVertexingAlgorithm::m_modelW</a></div><div class="ttdeci">LArDLHelper::TorchModel m_modelW</div><div class="ttdoc">The model for the W view. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00227">DlVertexingAlgorithm.h:227</a></div></div>
<div class="ttc" id="triggersim__eastmodule__icarus_8fcl_html_a6e6fc5a1833d744f7bd6bde59dd95323"><div class="ttname"><a href="../../dd/db4/triggersim__eastmodule__icarus_8fcl.html#a6e6fc5a1833d744f7bd6bde59dd95323">output</a></div><div class="ttdeci">BEGIN_PROLOG sequence::SlidingWindowTriggerPatternsOppositeWindows END_PROLOG simSlidingORM6O6 effSlidingORW output</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db4/triggersim__eastmodule__icarus_8fcl_source.html#l00134">triggersim_eastmodule_icarus.fcl:134</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a4379b6bd29de3050b30c47d52ddbbd1f"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a4379b6bd29de3050b30c47d52ddbbd1f">lar_dl_content::DlVertexingAlgorithm::MakeCandidateVertexList</a></div><div class="ttdeci">pandora::StatusCode MakeCandidateVertexList(const pandora::CartesianPointVector &amp;positions)</div><div class="ttdoc">Create a vertex list from the candidate vertices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00666">DlVertexingAlgorithm.cc:666</a></div></div>
<div class="ttc" id="updateVersionList_8sh_html_a067a8c1534d6da9b2c501a6cf4ef89bd"><div class="ttname"><a href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a></div><div class="ttdeci">do i e</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dca/updateVersionList_8sh_source.html#l00068">updateVersionList.sh:68</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_ad39ccbb53b4f2cb01dd04ae2de3d1e14"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ad39ccbb53b4f2cb01dd04ae2de3d1e14">lar_dl_content::DlVertexingAlgorithm::PixelVector</a></div><div class="ttdeci">std::vector&lt; Pixel &gt; PixelVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00059">DlVertexingAlgorithm.h:59</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a34963f361539e85716f1b087e113ddf3"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">lar_dl_content::DlVertexingAlgorithm::m_width</a></div><div class="ttdeci">int m_width</div><div class="ttdoc">The width of the images. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00232">DlVertexingAlgorithm.h:232</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1LArDLHelper_html_a8f6991b6f0996ca485204c6a5a0b8139"><div class="ttname"><a href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#a8f6991b6f0996ca485204c6a5a0b8139">lar_dl_content::LArDLHelper::TorchInputVector</a></div><div class="ttdeci">std::vector&lt; torch::jit::IValue &gt; TorchInputVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d6f/LArDLHelper_8h_source.html#l00027">LArDLHelper.h:27</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a08d11e77ace3a3aa446a031ef088abfa"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a08d11e77ace3a3aa446a031ef088abfa">lar_dl_content::DlVertexingAlgorithm::MakeWirePlaneCoordinatesFromCanvas</a></div><div class="ttdeci">pandora::StatusCode MakeWirePlaneCoordinatesFromCanvas(const pandora::CaloHitList &amp;caloHits, float **canvas, const int canvasWidth, const int canvasHeight, const int columnOffset, const int rowOffset, pandora::CartesianPointVector &amp;positionVector) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00409">DlVertexingAlgorithm.cc:409</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1LArDLHelper_html_ac1e3d07cea94aab377ba5636e18ea220"><div class="ttname"><a href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#ac1e3d07cea94aab377ba5636e18ea220">lar_dl_content::LArDLHelper::TorchInput</a></div><div class="ttdeci">torch::Tensor TorchInput</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d6f/LArDLHelper_8h_source.html#l00026">LArDLHelper.h:26</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_afad4f2c58702874562c9abfd9c4eb742"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#afad4f2c58702874562c9abfd9c4eb742">lar_dl_content::DlVertexingAlgorithm::DrawRing</a></div><div class="ttdeci">void DrawRing(float **canvas, const int row, const int col, const int inner, const int outer, const float weight) const </div><div class="ttdoc">Add a filled ring to the specified canvas. The ring has an inner radius based on the minimum predicte...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00481">DlVertexingAlgorithm.cc:481</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4379b6bd29de3050b30c47d52ddbbd1f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode lar_dl_content::DlVertexingAlgorithm::MakeCandidateVertexList </td>
          <td>(</td>
          <td class="paramtype">const pandora::CartesianPointVector &amp;&#160;</td>
          <td class="paramname"><em>positions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a vertex list from the candidate vertices. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">candidates</td><td>The candidate positions with which to create the list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The StatusCode resulting from the function </dd></dl>

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00666">666</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;{</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/d08/namespacedcel2d.html#a8054eb55cf5bd8624fa0f46dfe56afa7">VertexList</a> *pVertexList{<span class="keyword">nullptr</span>};</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    std::string temporaryListName;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, PandoraContentApi::CreateTemporaryListAndSetCurrent(*<span class="keyword">this</span>, pVertexList, temporaryListName));</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> CartesianVector position : positions)</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <a class="code" href="../../d1/d01/crt__detsimalg__test_8cxx.html#a53bd0b5c76b5bae4277c01b9208521ba">PandoraContentApi::Vertex::Parameters</a> parameters;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        parameters.m_position = position;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        parameters.m_vertexLabel = VERTEX_INTERACTION;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        parameters.m_vertexType = VERTEX_3D;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="keyword">const</span> Vertex *pVertex(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, PandoraContentApi::Vertex::Create(*<span class="keyword">this</span>, parameters, pVertex));</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, PandoraContentApi::SaveList&lt;Vertex&gt;(*<span class="keyword">this</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a63cf08c5b2b8e22f9d688c2dfb5e6487">m_outputVertexListName</a>));</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, PandoraContentApi::ReplaceCurrentList&lt;Vertex&gt;(*<span class="keyword">this</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a63cf08c5b2b8e22f9d688c2dfb5e6487">m_outputVertexListName</a>));</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;}</div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a63cf08c5b2b8e22f9d688c2dfb5e6487"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a63cf08c5b2b8e22f9d688c2dfb5e6487">lar_dl_content::DlVertexingAlgorithm::m_outputVertexListName</a></div><div class="ttdeci">std::string m_outputVertexListName</div><div class="ttdoc">Output vertex list name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00223">DlVertexingAlgorithm.h:223</a></div></div>
<div class="ttc" id="crt__detsimalg__test_8cxx_html_a53bd0b5c76b5bae4277c01b9208521ba"><div class="ttname"><a href="../../d1/d01/crt__detsimalg__test_8cxx.html#a53bd0b5c76b5bae4277c01b9208521ba">Parameters</a></div><div class="ttdeci">fhicl::Table&lt; sbnd::crt::CRTDetSimParams &gt; Parameters</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d01/crt__detsimalg__test_8cxx_source.html#l00022">crt_detsimalg_test.cxx:22</a></div></div>
<div class="ttc" id="namespacedcel2d_html_a8054eb55cf5bd8624fa0f46dfe56afa7"><div class="ttname"><a href="../../db/d08/namespacedcel2d.html#a8054eb55cf5bd8624fa0f46dfe56afa7">dcel2d::VertexList</a></div><div class="ttdeci">std::list&lt; Vertex &gt; VertexList</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d84/DCEL_8h_source.html#l00182">DCEL.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9c6dddc6512dd4c1a9558ecee66f2bbf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode lar_dl_content::DlVertexingAlgorithm::MakeNetworkInputFromHits </td>
          <td>(</td>
          <td class="paramtype">const pandora::CaloHitList &amp;&#160;</td>
          <td class="paramname"><em>caloHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#ac1e3d07cea94aab377ba5636e18ea220">LArDLHelper::TorchInput</a> &amp;&#160;</td>
          <td class="paramname"><em>networkInput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ad39ccbb53b4f2cb01dd04ae2de3d1e14">PixelVector</a> &amp;&#160;</td>
          <td class="paramname"><em>pixelVector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00322">322</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;{</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">// Determine the range of coordinates for the view</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordtype">float</span> xMin{0.f}, xMax{0.f}, zMin{0.f}, zMax{0.f};</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a27ef846a76ddeed4619c09406a24bd51">GetHitRegion</a>(caloHits, xMin, xMax, zMin, zMax);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">// Determine the bin edges - need double precision here for consistency with Python binning</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    std::vector&lt;double&gt; xBinEdges(<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">m_width</a> + 1);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    std::vector&lt;double&gt; zBinEdges(<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a> + 1);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    xBinEdges[0] = xMin - <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">PY_EPSILON</a>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> dx = ((xMax + <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">PY_EPSILON</a>) - (xMin - PY_EPSILON)) / <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">m_width</a>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">m_width</a> + 1; ++i)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        xBinEdges[i] = xBinEdges[i - 1] + dx;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    zBinEdges[0] = zMin - <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">PY_EPSILON</a>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> dz = ((zMax + <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">PY_EPSILON</a>) - (zMin - PY_EPSILON)) / <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a> + 1; ++i)</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        zBinEdges[i] = zBinEdges[i - 1] + dz;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#a724868895692d7a1924c296d59886569">LArDLHelper::InitialiseInput</a>({1, 1, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a>, m_width}, networkInput);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keyword">auto</span> accessor = networkInput.accessor&lt;float, 4&gt;();</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordtype">float</span> maxValue{0.f};</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *pCaloHit : caloHits)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>{pCaloHit-&gt;GetPositionVector().GetX()};</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>{pCaloHit-&gt;GetPositionVector().GetZ()};</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a792a6822cf26bc09bc860439ca226844">m_pass</a> &gt; 1)</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="keywordflow">if</span> (x &lt; xMin || x &gt; xMax || z &lt; zMin || z &gt; zMax)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> adc{pCaloHit-&gt;GetInputEnergy() &lt; <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a0617f20d2b630e6d47391416afcb4cd0">m_maxHitAdc</a> ? pCaloHit-&gt;GetInputEnergy() : <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a0617f20d2b630e6d47391416afcb4cd0">m_maxHitAdc</a>};</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> pixelX{<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::floor((<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a> - xBinEdges[0]) / dx))};</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> pixelZ{(m_height - 1) - static_cast&lt;int&gt;(std::floor((<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a> - zBinEdges[0]) / dz))};</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        accessor[0][0][pixelZ][pixelX] += adc;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">if</span> (accessor[0][0][pixelZ][pixelX] &gt; maxValue)</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            maxValue = accessor[0][0][pixelZ][pixelX];</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">if</span> (maxValue &gt; 0)</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> = 0; <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> &lt; <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a>; ++<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>)</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> col = 0; col &lt; <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">m_width</a>; ++col)</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>{accessor[0][0][<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>][col]};</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                accessor[0][0][<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>][col] = <a class="code" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a> / maxValue;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a> &gt; 0)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                    pixelVector.emplace_back(std::make_pair(<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>, col));</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;}</div>
<div class="ttc" id="run__opflash__electron_8fcl_html_ae40184b0245025a43c56daa3261d5e3c"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a></div><div class="ttdeci">process_name opflash particleana ie ie ie z</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00092">run_opflash_electron.fcl:92</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a27ef846a76ddeed4619c09406a24bd51"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a27ef846a76ddeed4619c09406a24bd51">lar_dl_content::DlVertexingAlgorithm::GetHitRegion</a></div><div class="ttdeci">void GetHitRegion(const pandora::CaloHitList &amp;caloHitList, float &amp;xMin, float &amp;xMax, float &amp;zMin, float &amp;zMax) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00598">DlVertexingAlgorithm.cc:598</a></div></div>
<div class="ttc" id="namespacechannelDBConverter_html_ac808094cfee397ba0719835c9f119d6c"><div class="ttname"><a href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">channelDBConverter.row</a></div><div class="ttdeci">tuple row</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d11/channelDBConverter_8py_source.html#l00210">channelDBConverter.py:210</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a6673f03521899f7844189bcfd8ee5941"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a></div><div class="ttdeci">process_name opflash particleana ie x</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00090">run_opflash_electron.fcl:90</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a0617f20d2b630e6d47391416afcb4cd0"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a0617f20d2b630e6d47391416afcb4cd0">lar_dl_content::DlVertexingAlgorithm::m_maxHitAdc</a></div><div class="ttdeci">float m_maxHitAdc</div><div class="ttdoc">Maximum ADC value to allow. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00233">DlVertexingAlgorithm.h:233</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_abb92e4174a25e5576b7aa2a4d302e3d2"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">lar_dl_content::DlVertexingAlgorithm::PY_EPSILON</a></div><div class="ttdeci">const double PY_EPSILON</div><div class="ttdoc">The value of epsilon in Python. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00241">DlVertexingAlgorithm.h:241</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_aca0091c80cfa5e58f04d49efeffeb17e"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">lar_dl_content::DlVertexingAlgorithm::m_height</a></div><div class="ttdeci">int m_height</div><div class="ttdoc">The height of the images. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00231">DlVertexingAlgorithm.h:231</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a792a6822cf26bc09bc860439ca226844"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a792a6822cf26bc09bc860439ca226844">lar_dl_content::DlVertexingAlgorithm::m_pass</a></div><div class="ttdeci">int m_pass</div><div class="ttdoc">The pass of the train/infer step. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00229">DlVertexingAlgorithm.h:229</a></div></div>
<div class="ttc" id="pmtsimulation__icarus_8fcl_html_a9fc569190f32b40862f18ac3c03a8e49"><div class="ttname"><a href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a></div><div class="ttdeci">temporary value</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d36/pmtsimulation__icarus_8fcl_source.html#l00216">pmtsimulation_icarus.fcl:216</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a34963f361539e85716f1b087e113ddf3"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">lar_dl_content::DlVertexingAlgorithm::m_width</a></div><div class="ttdeci">int m_width</div><div class="ttdoc">The width of the images. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00232">DlVertexingAlgorithm.h:232</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1LArDLHelper_html_a724868895692d7a1924c296d59886569"><div class="ttname"><a href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#a724868895692d7a1924c296d59886569">lar_dl_content::LArDLHelper::InitialiseInput</a></div><div class="ttdeci">static void InitialiseInput(const at::IntArrayRef dimensions, TorchInput &amp;tensor)</div><div class="ttdoc">Create a torch input tensor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dfb/LArDLHelper_8cc_source.html#l00034">LArDLHelper.cc:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a08d11e77ace3a3aa446a031ef088abfa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode lar_dl_content::DlVertexingAlgorithm::MakeWirePlaneCoordinatesFromCanvas </td>
          <td>(</td>
          <td class="paramtype">const pandora::CaloHitList &amp;&#160;</td>
          <td class="paramname"><em>caloHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float **&#160;</td>
          <td class="paramname"><em>canvas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>canvasWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>canvasHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>columnOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>rowOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pandora::CartesianPointVector &amp;&#160;</td>
          <td class="paramname"><em>positionVector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00409">409</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;{</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="comment">// Determine the range of coordinates for the view</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordtype">float</span> xMin{0.f}, xMax{0.f}, zMin{0.f}, zMax{0.f};</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a27ef846a76ddeed4619c09406a24bd51">GetHitRegion</a>(caloHits, xMin, xMax, zMin, zMax);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">// Determine the bin size - need double precision here for consistency with Python binning</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> dx{((xMax + <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">PY_EPSILON</a>) - (xMin - <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">PY_EPSILON</a>)) / <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">m_width</a>};</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    xMin -= <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">PY_EPSILON</a>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> dz{((zMax + <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">PY_EPSILON</a>) - (zMin - <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">PY_EPSILON</a>)) / <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a>};</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    zMin -= <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">PY_EPSILON</a>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">// Original hit mapping applies a floor operation, so add half a pixel width to get pixel centre</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> xShift{<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(dx * 0.5f)};</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> zShift{<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(dz * 0.5f)};</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordtype">float</span> best{-1.f};</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordtype">int</span> rowBest{0}, colBest{0};</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> = 0; <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> &lt; canvasHeight; ++<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>)</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> col = 0; col &lt; canvasWidth; ++col)</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keywordflow">if</span> (canvas[<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>][col] &gt; 0 &amp;&amp; canvas[<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>][col] &gt; best)</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                best = canvas[<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>][col];</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                rowBest = <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                colBest = col;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>{<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>((colBest - columnOffset) * dx + xMin + xShift)};</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>{<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(dz * ((<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a> - 1) - (rowBest - rowOffset)) + zMin + zShift)};</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    CartesianVector pt(<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>, 0.f, <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    positionVector.emplace_back(pt);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;}</div>
<div class="ttc" id="run__opflash__electron_8fcl_html_ae40184b0245025a43c56daa3261d5e3c"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a></div><div class="ttdeci">process_name opflash particleana ie ie ie z</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00092">run_opflash_electron.fcl:92</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a27ef846a76ddeed4619c09406a24bd51"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a27ef846a76ddeed4619c09406a24bd51">lar_dl_content::DlVertexingAlgorithm::GetHitRegion</a></div><div class="ttdeci">void GetHitRegion(const pandora::CaloHitList &amp;caloHitList, float &amp;xMin, float &amp;xMax, float &amp;zMin, float &amp;zMax) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00598">DlVertexingAlgorithm.cc:598</a></div></div>
<div class="ttc" id="namespacechannelDBConverter_html_ac808094cfee397ba0719835c9f119d6c"><div class="ttname"><a href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">channelDBConverter.row</a></div><div class="ttdeci">tuple row</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d11/channelDBConverter_8py_source.html#l00210">channelDBConverter.py:210</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a6673f03521899f7844189bcfd8ee5941"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a></div><div class="ttdeci">process_name opflash particleana ie x</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00090">run_opflash_electron.fcl:90</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_abb92e4174a25e5576b7aa2a4d302e3d2"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">lar_dl_content::DlVertexingAlgorithm::PY_EPSILON</a></div><div class="ttdeci">const double PY_EPSILON</div><div class="ttdoc">The value of epsilon in Python. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00241">DlVertexingAlgorithm.h:241</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_aca0091c80cfa5e58f04d49efeffeb17e"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">lar_dl_content::DlVertexingAlgorithm::m_height</a></div><div class="ttdeci">int m_height</div><div class="ttdoc">The height of the images. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00231">DlVertexingAlgorithm.h:231</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a34963f361539e85716f1b087e113ddf3"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">lar_dl_content::DlVertexingAlgorithm::m_width</a></div><div class="ttdeci">int m_width</div><div class="ttdoc">The width of the images. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00232">DlVertexingAlgorithm.h:232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a316ae0c8c2a29997ee064b4ec8c10bf9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode lar_dl_content::DlVertexingAlgorithm::MakeWirePlaneCoordinatesFromPixels </td>
          <td>(</td>
          <td class="paramtype">const pandora::CaloHitList &amp;&#160;</td>
          <td class="paramname"><em>caloHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ad39ccbb53b4f2cb01dd04ae2de3d1e14">PixelVector</a> &amp;&#160;</td>
          <td class="paramname"><em>pixelVector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pandora::CartesianPointVector &amp;&#160;</td>
          <td class="paramname"><em>positionVector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00380">380</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;{</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="comment">// Determine the range of coordinates for the view</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordtype">float</span> xMin{0.f}, xMax{0.f}, zMin{0.f}, zMax{0.f};</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a27ef846a76ddeed4619c09406a24bd51">GetHitRegion</a>(caloHits, xMin, xMax, zMin, zMax);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment">// Determine the bin size - need double precision here for consistency with Python binning</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> dx{((xMax + <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">PY_EPSILON</a>) - (xMin - <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">PY_EPSILON</a>)) / <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">m_width</a>};</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    xMin -= <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">PY_EPSILON</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> dz{((zMax + <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">PY_EPSILON</a>) - (zMin - <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">PY_EPSILON</a>)) / <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a>};</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    zMin -= <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">PY_EPSILON</a>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">// Original hit mapping applies a floor operation, so add half a pixel width to get pixel centre</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> xShift{<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(dx * 0.5f)};</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> zShift{<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(dz * 0.5f)};</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> [<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>, col] : pixelVector)</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>{<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(col * dx + xMin + xShift)};</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>{<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(dz * ((<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a> - 1) - <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>) + zMin + zShift)};</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        CartesianVector pt(<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>, 0.f, <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        positionVector.emplace_back(pt);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}</div>
<div class="ttc" id="run__opflash__electron_8fcl_html_ae40184b0245025a43c56daa3261d5e3c"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a></div><div class="ttdeci">process_name opflash particleana ie ie ie z</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00092">run_opflash_electron.fcl:92</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a27ef846a76ddeed4619c09406a24bd51"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a27ef846a76ddeed4619c09406a24bd51">lar_dl_content::DlVertexingAlgorithm::GetHitRegion</a></div><div class="ttdeci">void GetHitRegion(const pandora::CaloHitList &amp;caloHitList, float &amp;xMin, float &amp;xMax, float &amp;zMin, float &amp;zMax) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00598">DlVertexingAlgorithm.cc:598</a></div></div>
<div class="ttc" id="namespacechannelDBConverter_html_ac808094cfee397ba0719835c9f119d6c"><div class="ttname"><a href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">channelDBConverter.row</a></div><div class="ttdeci">tuple row</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d11/channelDBConverter_8py_source.html#l00210">channelDBConverter.py:210</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a6673f03521899f7844189bcfd8ee5941"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a></div><div class="ttdeci">process_name opflash particleana ie x</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00090">run_opflash_electron.fcl:90</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_abb92e4174a25e5576b7aa2a4d302e3d2"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#abb92e4174a25e5576b7aa2a4d302e3d2">lar_dl_content::DlVertexingAlgorithm::PY_EPSILON</a></div><div class="ttdeci">const double PY_EPSILON</div><div class="ttdoc">The value of epsilon in Python. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00241">DlVertexingAlgorithm.h:241</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_aca0091c80cfa5e58f04d49efeffeb17e"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">lar_dl_content::DlVertexingAlgorithm::m_height</a></div><div class="ttdeci">int m_height</div><div class="ttdoc">The height of the images. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00231">DlVertexingAlgorithm.h:231</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a34963f361539e85716f1b087e113ddf3"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">lar_dl_content::DlVertexingAlgorithm::m_width</a></div><div class="ttdeci">int m_width</div><div class="ttdoc">The width of the images. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00232">DlVertexingAlgorithm.h:232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a93fb390528bde6739b1ba674e9cbc434"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_dl_content::DlVertexingAlgorithm::PopulateRootTree </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../de/d3c/classlar__dl__content_1_1DlVertexingAlgorithm_1_1VertexTuple.html">VertexTuple</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexTuples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const pandora::CartesianPointVector &amp;&#160;</td>
          <td class="paramname"><em>vertexCandidatesU</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const pandora::CartesianPointVector &amp;&#160;</td>
          <td class="paramname"><em>vertexCandidatesV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const pandora::CartesianPointVector &amp;&#160;</td>
          <td class="paramname"><em>vertexCandidatesW</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Populate a root true with vertex information. </p>

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00735">735</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;{</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ab8c10185dc09c55d503fbfbeac05a52f">m_writeTree</a>)</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <span class="keyword">const</span> MCParticleList *pMCParticleList{<span class="keyword">nullptr</span>};</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">if</span> (STATUS_CODE_SUCCESS == PandoraContentApi::GetCurrentList(*<span class="keyword">this</span>, pMCParticleList))</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        {</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <span class="keywordflow">if</span> (pMCParticleList)</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                <a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a35229b4b94f4ebbe01f8b2827e485990">LArMCParticleHelper::MCContributionMap</a> mcToHitsMap;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                <a class="code" href="../../d1/d8f/namespacelar__pandora.html#a8c0ecd9a771b4322f87c38a73fae59dd">MCParticleVector</a> primaries;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                LArMCParticleHelper::GetPrimaryMCParticleList(pMCParticleList, primaries);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                <span class="keywordflow">if</span> (!primaries.empty())</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                    <span class="keyword">const</span> MCParticle *primary{primaries.front()};</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                    <span class="keyword">const</span> MCParticleList &amp;parents{primary-&gt;GetParentList()};</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                    <span class="keywordflow">if</span> (parents.size() == 1)</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                    {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                        <span class="keyword">const</span> MCParticle *trueNeutrino{parents.front()};</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                        <span class="keywordflow">if</span> (LArMCParticleHelper::IsNeutrino(trueNeutrino))</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                        {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                            <span class="keyword">const</span> LArTransformationPlugin *<a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">transform</a>{this-&gt;GetPandora().GetPlugins()-&gt;GetLArTransformationPlugin()};</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                            <span class="keyword">const</span> CartesianVector &amp;trueVertex{primaries.front()-&gt;GetVertex()};</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                            <span class="keywordflow">if</span> (LArVertexHelper::IsInFiducialVolume(this-&gt;GetPandora(), trueVertex, <span class="stringliteral">&quot;dune_fd_hd&quot;</span>))</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                            {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                                <span class="keyword">const</span> CartesianVector &amp;recoVertex{vertexTuples.front().GetPosition()};</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">float</span> tx{trueVertex.GetX()};</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">float</span> tu{<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">transform</a>-&gt;YZtoU(trueVertex.GetY(), trueVertex.GetZ()))};</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">float</span> tv{<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">transform</a>-&gt;YZtoV(trueVertex.GetY(), trueVertex.GetZ()))};</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">float</span> tw{<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">transform</a>-&gt;YZtoW(trueVertex.GetY(), trueVertex.GetZ()))};</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">float</span> rx_u{vertexCandidatesU.front().GetX()};</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">float</span> ru{vertexCandidatesU.front().GetZ()};</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">float</span> rx_v{vertexCandidatesV.front().GetX()};</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">float</span> rv{vertexCandidatesV.front().GetZ()};</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">float</span> rx_w{vertexCandidatesW.front().GetX()};</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">float</span> rw{vertexCandidatesW.front().GetZ()};</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">float</span> dr_u{std::sqrt((rx_u - tx) * (rx_u - tx) + (ru - tu) * (ru - tu))};</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">float</span> dr_v{std::sqrt((rx_v - tx) * (rx_v - tx) + (rv - tv) * (rv - tv))};</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">float</span> dr_w{std::sqrt((rx_w - tx) * (rx_w - tx) + (rw - tw) * (rw - tw))};</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                                <span class="keyword">const</span> CartesianVector &amp;dv{recoVertex - trueVertex};</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">float</span> dr{dv.GetMagnitude()};</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">float</span> dx{dv.GetX()}, dy{dv.GetY()}, dz{dv.GetZ()};</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                                PANDORA_MONITORING_API(SetTreeVariable(this-&gt;GetPandora(), <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a679155fa1c9244536946c6d740596dea">m_rootTreeName</a>, <span class="stringliteral">&quot;event&quot;</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ae34f6017be872999019cf8cb480c0ec6">m_event</a>));</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                                PANDORA_MONITORING_API(SetTreeVariable(this-&gt;GetPandora(), <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a679155fa1c9244536946c6d740596dea">m_rootTreeName</a>, <span class="stringliteral">&quot;pass&quot;</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a792a6822cf26bc09bc860439ca226844">m_pass</a>));</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                                PANDORA_MONITORING_API(SetTreeVariable(this-&gt;GetPandora(), <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a679155fa1c9244536946c6d740596dea">m_rootTreeName</a>, <span class="stringliteral">&quot;dr_u&quot;</span>, dr_u));</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                                PANDORA_MONITORING_API(SetTreeVariable(this-&gt;GetPandora(), <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a679155fa1c9244536946c6d740596dea">m_rootTreeName</a>, <span class="stringliteral">&quot;dr_v&quot;</span>, dr_v));</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                                PANDORA_MONITORING_API(SetTreeVariable(this-&gt;GetPandora(), <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a679155fa1c9244536946c6d740596dea">m_rootTreeName</a>, <span class="stringliteral">&quot;dr_w&quot;</span>, dr_w));</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                                PANDORA_MONITORING_API(SetTreeVariable(this-&gt;GetPandora(), <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a679155fa1c9244536946c6d740596dea">m_rootTreeName</a>, <span class="stringliteral">&quot;dr&quot;</span>, dr));</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                                PANDORA_MONITORING_API(SetTreeVariable(this-&gt;GetPandora(), <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a679155fa1c9244536946c6d740596dea">m_rootTreeName</a>, <span class="stringliteral">&quot;dx&quot;</span>, dx));</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                                PANDORA_MONITORING_API(SetTreeVariable(this-&gt;GetPandora(), <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a679155fa1c9244536946c6d740596dea">m_rootTreeName</a>, <span class="stringliteral">&quot;dy&quot;</span>, dy));</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                                PANDORA_MONITORING_API(SetTreeVariable(this-&gt;GetPandora(), <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a679155fa1c9244536946c6d740596dea">m_rootTreeName</a>, <span class="stringliteral">&quot;dz&quot;</span>, dz));</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                                PANDORA_MONITORING_API(FillTree(this-&gt;GetPandora(), <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a679155fa1c9244536946c6d740596dea">m_rootTreeName</a>));</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                            }</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                        }</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                    }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            }</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    }</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1LArMCParticleHelper_html_a35229b4b94f4ebbe01f8b2827e485990"><div class="ttname"><a href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a35229b4b94f4ebbe01f8b2827e485990">lar_content::LArMCParticleHelper::MCContributionMap</a></div><div class="ttdeci">std::unordered_map&lt; const pandora::MCParticle *, pandora::CaloHitList &gt; MCContributionMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7f/LArMCParticleHelper_8h_source.html#l00035">LArMCParticleHelper.h:35</a></div></div>
<div class="ttc" id="namespaceicarus_1_1waveform__operations_1_1details_html_ae295d3f6cb2f9181dccdf0e3492d44e0"><div class="ttname"><a href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">icarus::waveform_operations::details::transform</a></div><div class="ttdeci">static constexpr Sample_t transform(Sample_t sample)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8e/WaveformOperations_8h_source.html#l00145">WaveformOperations.h:145</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_ae34f6017be872999019cf8cb480c0ec6"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ae34f6017be872999019cf8cb480c0ec6">lar_dl_content::DlVertexingAlgorithm::m_event</a></div><div class="ttdeci">int m_event</div><div class="ttdoc">The current event number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00228">DlVertexingAlgorithm.h:228</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a679155fa1c9244536946c6d740596dea"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a679155fa1c9244536946c6d740596dea">lar_dl_content::DlVertexingAlgorithm::m_rootTreeName</a></div><div class="ttdeci">std::string m_rootTreeName</div><div class="ttdoc">The ROOT tree name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00237">DlVertexingAlgorithm.h:237</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_ab8c10185dc09c55d503fbfbeac05a52f"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ab8c10185dc09c55d503fbfbeac05a52f">lar_dl_content::DlVertexingAlgorithm::m_writeTree</a></div><div class="ttdeci">bool m_writeTree</div><div class="ttdoc">Whether or not to write validation details to a ROOT tree. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00236">DlVertexingAlgorithm.h:236</a></div></div>
<div class="ttc" id="namespacelar__pandora_html_a8c0ecd9a771b4322f87c38a73fae59dd"><div class="ttname"><a href="../../d1/d8f/namespacelar__pandora.html#a8c0ecd9a771b4322f87c38a73fae59dd">lar_pandora::MCParticleVector</a></div><div class="ttdeci">std::vector&lt; art::Ptr&lt; simb::MCParticle &gt; &gt; MCParticleVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d35/LArPandoraHelper_8h_source.html#l00067">LArPandoraHelper.h:67</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a792a6822cf26bc09bc860439ca226844"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a792a6822cf26bc09bc860439ca226844">lar_dl_content::DlVertexingAlgorithm::m_pass</a></div><div class="ttdeci">int m_pass</div><div class="ttdoc">The pass of the train/infer step. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00229">DlVertexingAlgorithm.h:229</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1608b4dbe3a9c6e4f258b90349a99c40"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode lar_dl_content::DlVertexingAlgorithm::PrepareTrainingSample </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00071">71</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a35229b4b94f4ebbe01f8b2827e485990">LArMCParticleHelper::MCContributionMap</a> mcToHitsMap;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, this-&gt;<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ab17d1f8ee42ca1db5784cb7b95bfba3c">GetMCToHitsMap</a>(mcToHitsMap));</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    MCParticleList hierarchy;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, this-&gt;<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ac7d4fbfe9152f342d218d70939ec0922">CompleteMCHierarchy</a>(mcToHitsMap, hierarchy));</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    std::normal_distribution&lt;&gt; gauss(0.f, 15.f);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::string &amp;listname : <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#acc6a8701b2a7ee770b56859285183f96">m_caloHitListNames</a>)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keyword">const</span> CaloHitList *pCaloHitList(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, PandoraContentApi::GetList(*<span class="keyword">this</span>, listname, pCaloHitList));</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">if</span> (pCaloHitList-&gt;empty())</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#afa4db30764f609ee2c3ab788a13deb5e">m_rng</a>.seed(static_cast&lt;std::mt19937::result_type&gt;(pCaloHitList-&gt;size()));</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        HitType view{pCaloHitList-&gt;front()-&gt;GetHitType()};</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> isU{view == TPC_VIEW_U}, isV{view == TPC_VIEW_V}, isW{view == TPC_VIEW_W};</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">if</span> (!(isU || isV || isW))</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keywordflow">return</span> STATUS_CODE_NOT_ALLOWED;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        CartesianPointVector vertices;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> MCParticle *mc : hierarchy)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="keywordflow">if</span> (LArMCParticleHelper::IsNeutrino(mc))</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                vertices.push_back(mc-&gt;GetVertex());</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">if</span> (vertices.empty())</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keyword">const</span> CartesianVector &amp;<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#a2e91c077dea2ff30aae790c67de81ea2">vertex</a>{vertices.front()};</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keyword">const</span> std::string trainingFilename{<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aa8aff7ed7a9bd41dc5f506a970483130">m_trainingOutputFile</a> + <span class="stringliteral">&quot;_&quot;</span> + listname + <span class="stringliteral">&quot;.csv&quot;</span>};</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> nVertices{1};</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> nHits{0};</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nuance{LArMCParticleHelper::GetNuanceCode(hierarchy.front())};</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="comment">// Vertices</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keyword">const</span> LArTransformationPlugin *<a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">transform</a>{this-&gt;GetPandora().GetPlugins()-&gt;GetLArTransformationPlugin()};</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> xVtx{<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#a2e91c077dea2ff30aae790c67de81ea2">vertex</a>.GetX()};</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordtype">double</span> zVtx{0.};</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">if</span> (isW)</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            zVtx = <a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">transform</a>-&gt;YZtoW(<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#a2e91c077dea2ff30aae790c67de81ea2">vertex</a>.GetY(), <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#a2e91c077dea2ff30aae790c67de81ea2">vertex</a>.GetZ());</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isV)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            zVtx = <a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">transform</a>-&gt;YZtoV(<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#a2e91c077dea2ff30aae790c67de81ea2">vertex</a>.GetY(), <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#a2e91c077dea2ff30aae790c67de81ea2">vertex</a>.GetZ());</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            zVtx = <a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">transform</a>-&gt;YZtoU(<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#a2e91c077dea2ff30aae790c67de81ea2">vertex</a>.GetY(), <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#a2e91c077dea2ff30aae790c67de81ea2">vertex</a>.GetZ());</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="comment">// Calo hits</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordtype">double</span> xMin{0.f}, xMax{0.f}, zMin{0.f}, zMax{0.f};</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="comment">// If we&#39;re on a refinement pass, constrain the region of interest</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a792a6822cf26bc09bc860439ca226844">m_pass</a> &gt; 1)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">double</span> xJitter{gauss(<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#afa4db30764f609ee2c3ab788a13deb5e">m_rng</a>)}, zJitter{gauss(<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#afa4db30764f609ee2c3ab788a13deb5e">m_rng</a>)};</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            xMin = (xVtx + xJitter) - <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a337cbe10ff21d6c48ee92a45880b7fec">m_regionSize</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            xMax = (xVtx + xJitter) + <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a337cbe10ff21d6c48ee92a45880b7fec">m_regionSize</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            zMin = (zVtx + zJitter) - <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a337cbe10ff21d6c48ee92a45880b7fec">m_regionSize</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            zMax = (zVtx + zJitter) + <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a337cbe10ff21d6c48ee92a45880b7fec">m_regionSize</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <a class="code" href="../../d1/d13/classlar__content_1_1LArMvaHelper.html#a33cd1e27565c8646ce7ac82d9ed92a25">LArMvaHelper::MvaFeatureVector</a> featureVector;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        featureVector.emplace_back(static_cast&lt;double&gt;(nuance));</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        featureVector.emplace_back(static_cast&lt;double&gt;(nVertices));</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        featureVector.emplace_back(xVtx);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        featureVector.emplace_back(zVtx);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *pCaloHit : *pCaloHitList)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>{pCaloHit-&gt;GetPositionVector().GetX()}, <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>{pCaloHit-&gt;GetPositionVector().GetZ()}, adc{pCaloHit-&gt;GetInputEnergy()};</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <span class="comment">// If on a refinement pass, drop hits outside the region of interest</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a792a6822cf26bc09bc860439ca226844">m_pass</a> &gt; 1 &amp;&amp; (x &lt; xMin || x &gt; xMax || z &lt; zMin || z &gt; zMax))</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            featureVector.emplace_back(static_cast&lt;double&gt;(<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>));</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            featureVector.emplace_back(static_cast&lt;double&gt;(<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>));</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            featureVector.emplace_back(static_cast&lt;double&gt;(adc));</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            ++nHits;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        featureVector.insert(featureVector.begin() + 2, <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(nHits));</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="comment">// Only write out the feature vector if there were enough hits in the (possibly perturbed) region of interest</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">if</span> (nHits &gt; 10)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            LArMvaHelper::ProduceTrainingExample(trainingFilename, <span class="keyword">true</span>, featureVector);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div>
<div class="ttc" id="cheaterreco_8fcl_html_a2e91c077dea2ff30aae790c67de81ea2"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#a2e91c077dea2ff30aae790c67de81ea2">vertex</a></div><div class="ttdeci">process_name vertex</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_ae40184b0245025a43c56daa3261d5e3c"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a></div><div class="ttdeci">process_name opflash particleana ie ie ie z</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00092">run_opflash_electron.fcl:92</a></div></div>
<div class="ttc" id="classlar__content_1_1LArMCParticleHelper_html_a35229b4b94f4ebbe01f8b2827e485990"><div class="ttname"><a href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a35229b4b94f4ebbe01f8b2827e485990">lar_content::LArMCParticleHelper::MCContributionMap</a></div><div class="ttdeci">std::unordered_map&lt; const pandora::MCParticle *, pandora::CaloHitList &gt; MCContributionMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7f/LArMCParticleHelper_8h_source.html#l00035">LArMCParticleHelper.h:35</a></div></div>
<div class="ttc" id="classlar__content_1_1LArMvaHelper_html_a33cd1e27565c8646ce7ac82d9ed92a25"><div class="ttname"><a href="../../d1/d13/classlar__content_1_1LArMvaHelper.html#a33cd1e27565c8646ce7ac82d9ed92a25">lar_content::LArMvaHelper::MvaFeatureVector</a></div><div class="ttdeci">MvaTypes::MvaFeatureVector MvaFeatureVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da1/LArMvaHelper_8h_source.html#l00072">LArMvaHelper.h:72</a></div></div>
<div class="ttc" id="namespaceicarus_1_1waveform__operations_1_1details_html_ae295d3f6cb2f9181dccdf0e3492d44e0"><div class="ttname"><a href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">icarus::waveform_operations::details::transform</a></div><div class="ttdeci">static constexpr Sample_t transform(Sample_t sample)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8e/WaveformOperations_8h_source.html#l00145">WaveformOperations.h:145</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a6673f03521899f7844189bcfd8ee5941"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a></div><div class="ttdeci">process_name opflash particleana ie x</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00090">run_opflash_electron.fcl:90</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_ab17d1f8ee42ca1db5784cb7b95bfba3c"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ab17d1f8ee42ca1db5784cb7b95bfba3c">lar_dl_content::DlVertexingAlgorithm::GetMCToHitsMap</a></div><div class="ttdeci">pandora::StatusCode GetMCToHitsMap(LArMCParticleHelper::MCContributionMap &amp;mcToHitsMap) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00551">DlVertexingAlgorithm.cc:551</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_acc6a8701b2a7ee770b56859285183f96"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#acc6a8701b2a7ee770b56859285183f96">lar_dl_content::DlVertexingAlgorithm::m_caloHitListNames</a></div><div class="ttdeci">pandora::StringVector m_caloHitListNames</div><div class="ttdoc">Names of input calo hit lists. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00224">DlVertexingAlgorithm.h:224</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a337cbe10ff21d6c48ee92a45880b7fec"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a337cbe10ff21d6c48ee92a45880b7fec">lar_dl_content::DlVertexingAlgorithm::m_regionSize</a></div><div class="ttdeci">float m_regionSize</div><div class="ttdoc">The half width/height of the event region to consider in cm. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00234">DlVertexingAlgorithm.h:234</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_ac7d4fbfe9152f342d218d70939ec0922"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ac7d4fbfe9152f342d218d70939ec0922">lar_dl_content::DlVertexingAlgorithm::CompleteMCHierarchy</a></div><div class="ttdeci">pandora::StatusCode CompleteMCHierarchy(const LArMCParticleHelper::MCContributionMap &amp;mcToHitsMap, pandora::MCParticleList &amp;mcHierarchy) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00568">DlVertexingAlgorithm.cc:568</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_afa4db30764f609ee2c3ab788a13deb5e"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#afa4db30764f609ee2c3ab788a13deb5e">lar_dl_content::DlVertexingAlgorithm::m_rng</a></div><div class="ttdeci">std::mt19937 m_rng</div><div class="ttdoc">The random number generator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00239">DlVertexingAlgorithm.h:239</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a792a6822cf26bc09bc860439ca226844"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a792a6822cf26bc09bc860439ca226844">lar_dl_content::DlVertexingAlgorithm::m_pass</a></div><div class="ttdeci">int m_pass</div><div class="ttdoc">The pass of the train/infer step. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00229">DlVertexingAlgorithm.h:229</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_aa8aff7ed7a9bd41dc5f506a970483130"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aa8aff7ed7a9bd41dc5f506a970483130">lar_dl_content::DlVertexingAlgorithm::m_trainingOutputFile</a></div><div class="ttdeci">std::string m_trainingOutputFile</div><div class="ttdoc">Output file name for training examples. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00221">DlVertexingAlgorithm.h:221</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a78ef257ce19fd40b0e07216bdaa3ff18"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode lar_dl_content::DlVertexingAlgorithm::ReadSettings </td>
          <td>(</td>
          <td class="paramtype">const pandora::TiXmlHandle&#160;</td>
          <td class="paramname"><em>xmlHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00799">799</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;{</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;TrainingMode&quot;</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a1eb74c1da16a036c64041a4cbc8aae1f">m_trainingMode</a>));</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;Visualise&quot;</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a57503f96cf79d4b5d78aeb5084163278">m_visualise</a>));</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;Pass&quot;</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a792a6822cf26bc09bc860439ca226844">m_pass</a>));</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ImageHeight&quot;</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">m_height</a>));</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ImageWidth&quot;</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">m_width</a>));</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, XmlHelper::ReadVectorOfValues(xmlHandle, <span class="stringliteral">&quot;DistanceThresholds&quot;</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#adf450d957cca379abe22c37ec2922338">m_thresholds</a>));</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a94d15228a81a6d69f5c8b988ffebca31">m_nClasses</a> = <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#adf450d957cca379abe22c37ec2922338">m_thresholds</a>.size() - 1;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a1eb74c1da16a036c64041a4cbc8aae1f">m_trainingMode</a>)</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    {</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;TrainingOutputFileName&quot;</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aa8aff7ed7a9bd41dc5f506a970483130">m_trainingOutputFile</a>));</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    }</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        std::string modelName;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ModelFileNameU&quot;</span>, modelName));</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        modelName = LArFileHelper::FindFileInPath(modelName, <span class="stringliteral">&quot;FW_SEARCH_PATH&quot;</span>);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <a class="code" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#a99a4163e179cd333a51ab0b1a106c4b0">LArDLHelper::LoadModel</a>(modelName, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a9d63709551a5c1b28150d495e6712655">m_modelU</a>);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ModelFileNameV&quot;</span>, modelName));</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        modelName = LArFileHelper::FindFileInPath(modelName, <span class="stringliteral">&quot;FW_SEARCH_PATH&quot;</span>);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <a class="code" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#a99a4163e179cd333a51ab0b1a106c4b0">LArDLHelper::LoadModel</a>(modelName, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a80d386b0a246b4297f3984599a55b869">m_modelV</a>);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ModelFileNameW&quot;</span>, modelName));</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        modelName = LArFileHelper::FindFileInPath(modelName, <span class="stringliteral">&quot;FW_SEARCH_PATH&quot;</span>);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <a class="code" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#a99a4163e179cd333a51ab0b1a106c4b0">LArDLHelper::LoadModel</a>(modelName, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a503e121d05bd7cb02703226486cf0e59">m_modelW</a>);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MaxHitAdc&quot;</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a0617f20d2b630e6d47391416afcb4cd0">m_maxHitAdc</a>));</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;WriteTree&quot;</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ab8c10185dc09c55d503fbfbeac05a52f">m_writeTree</a>));</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ab8c10185dc09c55d503fbfbeac05a52f">m_writeTree</a>)</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;RootTreeName&quot;</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a679155fa1c9244536946c6d740596dea">m_rootTreeName</a>));</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;RootFileName&quot;</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ade3967baf888fba736c6cd8284f52591">m_rootFileName</a>));</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        }</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;OutputVertexListName&quot;</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a63cf08c5b2b8e22f9d688c2dfb5e6487">m_outputVertexListName</a>));</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a792a6822cf26bc09bc860439ca226844">m_pass</a> &gt; 1)</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;InputVertexListName&quot;</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a9c8f30266fc04865437c0721a3c44d5e">m_inputVertexListName</a>));</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    }</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadVectorOfValues(xmlHandle, <span class="stringliteral">&quot;CaloHitListNames&quot;</span>, <a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#acc6a8701b2a7ee770b56859285183f96">m_caloHitListNames</a>));</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;}</div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a9d63709551a5c1b28150d495e6712655"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a9d63709551a5c1b28150d495e6712655">lar_dl_content::DlVertexingAlgorithm::m_modelU</a></div><div class="ttdeci">LArDLHelper::TorchModel m_modelU</div><div class="ttdoc">The model for the U view. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00225">DlVertexingAlgorithm.h:225</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_adf450d957cca379abe22c37ec2922338"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#adf450d957cca379abe22c37ec2922338">lar_dl_content::DlVertexingAlgorithm::m_thresholds</a></div><div class="ttdeci">std::vector&lt; double &gt; m_thresholds</div><div class="ttdoc">Distance class thresholds. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00240">DlVertexingAlgorithm.h:240</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a57503f96cf79d4b5d78aeb5084163278"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a57503f96cf79d4b5d78aeb5084163278">lar_dl_content::DlVertexingAlgorithm::m_visualise</a></div><div class="ttdeci">bool m_visualise</div><div class="ttdoc">Whether or not to visualise the candidate vertices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00235">DlVertexingAlgorithm.h:235</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_acc6a8701b2a7ee770b56859285183f96"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#acc6a8701b2a7ee770b56859285183f96">lar_dl_content::DlVertexingAlgorithm::m_caloHitListNames</a></div><div class="ttdeci">pandora::StringVector m_caloHitListNames</div><div class="ttdoc">Names of input calo hit lists. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00224">DlVertexingAlgorithm.h:224</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a80d386b0a246b4297f3984599a55b869"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a80d386b0a246b4297f3984599a55b869">lar_dl_content::DlVertexingAlgorithm::m_modelV</a></div><div class="ttdeci">LArDLHelper::TorchModel m_modelV</div><div class="ttdoc">The model for the V view. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00226">DlVertexingAlgorithm.h:226</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a0617f20d2b630e6d47391416afcb4cd0"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a0617f20d2b630e6d47391416afcb4cd0">lar_dl_content::DlVertexingAlgorithm::m_maxHitAdc</a></div><div class="ttdeci">float m_maxHitAdc</div><div class="ttdoc">Maximum ADC value to allow. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00233">DlVertexingAlgorithm.h:233</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a63cf08c5b2b8e22f9d688c2dfb5e6487"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a63cf08c5b2b8e22f9d688c2dfb5e6487">lar_dl_content::DlVertexingAlgorithm::m_outputVertexListName</a></div><div class="ttdeci">std::string m_outputVertexListName</div><div class="ttdoc">Output vertex list name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00223">DlVertexingAlgorithm.h:223</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a94d15228a81a6d69f5c8b988ffebca31"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a94d15228a81a6d69f5c8b988ffebca31">lar_dl_content::DlVertexingAlgorithm::m_nClasses</a></div><div class="ttdeci">int m_nClasses</div><div class="ttdoc">The number of distance classes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00230">DlVertexingAlgorithm.h:230</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a679155fa1c9244536946c6d740596dea"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a679155fa1c9244536946c6d740596dea">lar_dl_content::DlVertexingAlgorithm::m_rootTreeName</a></div><div class="ttdeci">std::string m_rootTreeName</div><div class="ttdoc">The ROOT tree name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00237">DlVertexingAlgorithm.h:237</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_ab8c10185dc09c55d503fbfbeac05a52f"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ab8c10185dc09c55d503fbfbeac05a52f">lar_dl_content::DlVertexingAlgorithm::m_writeTree</a></div><div class="ttdeci">bool m_writeTree</div><div class="ttdoc">Whether or not to write validation details to a ROOT tree. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00236">DlVertexingAlgorithm.h:236</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_aca0091c80cfa5e58f04d49efeffeb17e"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aca0091c80cfa5e58f04d49efeffeb17e">lar_dl_content::DlVertexingAlgorithm::m_height</a></div><div class="ttdeci">int m_height</div><div class="ttdoc">The height of the images. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00231">DlVertexingAlgorithm.h:231</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a792a6822cf26bc09bc860439ca226844"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a792a6822cf26bc09bc860439ca226844">lar_dl_content::DlVertexingAlgorithm::m_pass</a></div><div class="ttdeci">int m_pass</div><div class="ttdoc">The pass of the train/infer step. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00229">DlVertexingAlgorithm.h:229</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a9c8f30266fc04865437c0721a3c44d5e"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a9c8f30266fc04865437c0721a3c44d5e">lar_dl_content::DlVertexingAlgorithm::m_inputVertexListName</a></div><div class="ttdeci">std::string m_inputVertexListName</div><div class="ttdoc">Input vertex list name if 2nd pass. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00222">DlVertexingAlgorithm.h:222</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a1eb74c1da16a036c64041a4cbc8aae1f"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a1eb74c1da16a036c64041a4cbc8aae1f">lar_dl_content::DlVertexingAlgorithm::m_trainingMode</a></div><div class="ttdeci">bool m_trainingMode</div><div class="ttdoc">Training mode. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00220">DlVertexingAlgorithm.h:220</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a503e121d05bd7cb02703226486cf0e59"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a503e121d05bd7cb02703226486cf0e59">lar_dl_content::DlVertexingAlgorithm::m_modelW</a></div><div class="ttdeci">LArDLHelper::TorchModel m_modelW</div><div class="ttdoc">The model for the W view. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00227">DlVertexingAlgorithm.h:227</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_aa8aff7ed7a9bd41dc5f506a970483130"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#aa8aff7ed7a9bd41dc5f506a970483130">lar_dl_content::DlVertexingAlgorithm::m_trainingOutputFile</a></div><div class="ttdeci">std::string m_trainingOutputFile</div><div class="ttdoc">Output file name for training examples. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00221">DlVertexingAlgorithm.h:221</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1LArDLHelper_html_a99a4163e179cd333a51ab0b1a106c4b0"><div class="ttname"><a href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#a99a4163e179cd333a51ab0b1a106c4b0">lar_dl_content::LArDLHelper::LoadModel</a></div><div class="ttdeci">static pandora::StatusCode LoadModel(const std::string &amp;filename, TorchModel &amp;model)</div><div class="ttdoc">Loads a deep learning model. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dfb/LArDLHelper_8cc_source.html#l00016">LArDLHelper.cc:16</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_ade3967baf888fba736c6cd8284f52591"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#ade3967baf888fba736c6cd8284f52591">lar_dl_content::DlVertexingAlgorithm::m_rootFileName</a></div><div class="ttdeci">std::string m_rootFileName</div><div class="ttdoc">The ROOT file name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00238">DlVertexingAlgorithm.h:238</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a34963f361539e85716f1b087e113ddf3"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a34963f361539e85716f1b087e113ddf3">lar_dl_content::DlVertexingAlgorithm::m_width</a></div><div class="ttdeci">int m_width</div><div class="ttdoc">The width of the images. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00232">DlVertexingAlgorithm.h:232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a04e5aa6e1a6eb243574fcfda22ac6a57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode lar_dl_content::DlVertexingAlgorithm::Run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00061">61</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a1eb74c1da16a036c64041a4cbc8aae1f">m_trainingMode</a>)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keywordflow">return</span> this-&gt;<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a1608b4dbe3a9c6e4f258b90349a99c40">PrepareTrainingSample</a>();</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">return</span> this-&gt;<a class="code" href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a387e0f6e133a65fc725656deaddf4fdd">Infer</a>();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a1608b4dbe3a9c6e4f258b90349a99c40"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a1608b4dbe3a9c6e4f258b90349a99c40">lar_dl_content::DlVertexingAlgorithm::PrepareTrainingSample</a></div><div class="ttdeci">pandora::StatusCode PrepareTrainingSample()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00071">DlVertexingAlgorithm.cc:71</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a1eb74c1da16a036c64041a4cbc8aae1f"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a1eb74c1da16a036c64041a4cbc8aae1f">lar_dl_content::DlVertexingAlgorithm::m_trainingMode</a></div><div class="ttdeci">bool m_trainingMode</div><div class="ttdoc">Training mode. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00220">DlVertexingAlgorithm.h:220</a></div></div>
<div class="ttc" id="classlar__dl__content_1_1DlVertexingAlgorithm_html_a387e0f6e133a65fc725656deaddf4fdd"><div class="ttname"><a href="../../d7/d76/classlar__dl__content_1_1DlVertexingAlgorithm.html#a387e0f6e133a65fc725656deaddf4fdd">lar_dl_content::DlVertexingAlgorithm::Infer</a></div><div class="ttdeci">pandora::StatusCode Infer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00157">DlVertexingAlgorithm.cc:157</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3902ff249686d9df58fa004d0c3eb40c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_dl_content::DlVertexingAlgorithm::Update </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>row</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the coordinates along the loci of a circle. When drawing the ring we need an efficient means to determine the next pixel defining the inner and outer loci of the ring. This update function uses the Bresenham midpoint circle update function to determine this location. The row position is always incremented by 1 pixel, the column position is left unchanged, or decremented by 1 pixel to best follow the arc of the true underlying circle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">radius2</td><td>The squared radius of the circle under consideration </td></tr>
    <tr><td class="paramname">col</td><td>The input/output column position to (potentially) update </td></tr>
    <tr><td class="paramname">row</td><td>The input/output row position to update </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html#l00533">533</a> of file <a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;{</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">// Bresenham midpoint circle algorithm to determine if we should update the column position</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">// This obscure looking block of code uses bit shifts and integer arithmetic to perform this check as efficiently as possible</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a>{1 - (col &lt;&lt; 2)};</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> b{col * col + <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> * <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> - radius2 + (<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a> &lt;&lt; 2) + 1};</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> c{(<a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a> &lt;&lt; 2) * b + <a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a> * <a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a>};</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">if</span> (c &lt; 0)</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        --col;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        ++<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        ++<a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">row</a>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;}</div>
<div class="ttc" id="namespacechannelDBConverter_html_ac808094cfee397ba0719835c9f119d6c"><div class="ttname"><a href="../../d4/d43/namespacechannelDBConverter.html#ac808094cfee397ba0719835c9f119d6c">channelDBConverter.row</a></div><div class="ttdeci">tuple row</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d11/channelDBConverter_8py_source.html#l00210">channelDBConverter.py:210</a></div></div>
<div class="ttc" id="decode__signalprocess__icarus_8fcl_html_a2a105cb669129f9c63eb7a4c15bf2d9b"><div class="ttname"><a href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a></div><div class="ttdeci">process_name gaushit a</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8f/decode__signalprocess__icarus_8fcl_source.html#l00037">decode_signalprocess_icarus.fcl:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="acc6a8701b2a7ee770b56859285183f96"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pandora::StringVector lar_dl_content::DlVertexingAlgorithm::m_caloHitListNames</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Names of input calo hit lists. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00224">224</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae34f6017be872999019cf8cb480c0ec6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lar_dl_content::DlVertexingAlgorithm::m_event</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The current event number. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00228">228</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="aca0091c80cfa5e58f04d49efeffeb17e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lar_dl_content::DlVertexingAlgorithm::m_height</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The height of the images. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00231">231</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9c8f30266fc04865437c0721a3c44d5e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lar_dl_content::DlVertexingAlgorithm::m_inputVertexListName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Input vertex list name if 2nd pass. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00222">222</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0617f20d2b630e6d47391416afcb4cd0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_dl_content::DlVertexingAlgorithm::m_maxHitAdc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum ADC value to allow. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00233">233</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9d63709551a5c1b28150d495e6712655"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#a304b206da6f549446d932ac08f3b3047">LArDLHelper::TorchModel</a> lar_dl_content::DlVertexingAlgorithm::m_modelU</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The model for the U view. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00225">225</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a80d386b0a246b4297f3984599a55b869"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#a304b206da6f549446d932ac08f3b3047">LArDLHelper::TorchModel</a> lar_dl_content::DlVertexingAlgorithm::m_modelV</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The model for the V view. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00226">226</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a503e121d05bd7cb02703226486cf0e59"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d83/classlar__dl__content_1_1LArDLHelper.html#a304b206da6f549446d932ac08f3b3047">LArDLHelper::TorchModel</a> lar_dl_content::DlVertexingAlgorithm::m_modelW</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The model for the W view. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00227">227</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a94d15228a81a6d69f5c8b988ffebca31"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lar_dl_content::DlVertexingAlgorithm::m_nClasses</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of distance classes. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00230">230</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a63cf08c5b2b8e22f9d688c2dfb5e6487"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lar_dl_content::DlVertexingAlgorithm::m_outputVertexListName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output vertex list name. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00223">223</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a792a6822cf26bc09bc860439ca226844"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lar_dl_content::DlVertexingAlgorithm::m_pass</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The pass of the train/infer step. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00229">229</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a337cbe10ff21d6c48ee92a45880b7fec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_dl_content::DlVertexingAlgorithm::m_regionSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The half width/height of the event region to consider in cm. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00234">234</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="afa4db30764f609ee2c3ab788a13deb5e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mt19937 lar_dl_content::DlVertexingAlgorithm::m_rng</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The random number generator. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00239">239</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="ade3967baf888fba736c6cd8284f52591"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lar_dl_content::DlVertexingAlgorithm::m_rootFileName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The <a class="el" href="../../d0/d10/namespaceROOT.html">ROOT</a> file name. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00238">238</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a679155fa1c9244536946c6d740596dea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lar_dl_content::DlVertexingAlgorithm::m_rootTreeName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The <a class="el" href="../../d0/d10/namespaceROOT.html">ROOT</a> tree name. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00237">237</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="adf450d957cca379abe22c37ec2922338"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; lar_dl_content::DlVertexingAlgorithm::m_thresholds</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Distance class thresholds. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00240">240</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1eb74c1da16a036c64041a4cbc8aae1f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_dl_content::DlVertexingAlgorithm::m_trainingMode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Training mode. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00220">220</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa8aff7ed7a9bd41dc5f506a970483130"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lar_dl_content::DlVertexingAlgorithm::m_trainingOutputFile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output file name for training examples. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00221">221</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a57503f96cf79d4b5d78aeb5084163278"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_dl_content::DlVertexingAlgorithm::m_visualise</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether or not to visualise the candidate vertices. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00235">235</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a34963f361539e85716f1b087e113ddf3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lar_dl_content::DlVertexingAlgorithm::m_width</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The width of the images. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00232">232</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab8c10185dc09c55d503fbfbeac05a52f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_dl_content::DlVertexingAlgorithm::m_writeTree</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether or not to write validation details to a <a class="el" href="../../d0/d10/namespaceROOT.html">ROOT</a> tree. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00236">236</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="abb92e4174a25e5576b7aa2a4d302e3d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const double lar_dl_content::DlVertexingAlgorithm::PY_EPSILON {1.1920929e-7}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The value of epsilon in Python. </p>

<p>Definition at line <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html#l00241">241</a> of file <a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d4/d45/DlVertexingAlgorithm_8h_source.html">DlVertexingAlgorithm.h</a></li>
<li><a class="el" href="../../d0/d83/DlVertexingAlgorithm_8cc_source.html">DlVertexingAlgorithm.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
