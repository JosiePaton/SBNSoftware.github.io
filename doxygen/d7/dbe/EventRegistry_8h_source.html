<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>EventRegistry.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b73b02d482d1c4a3db20c3d9ad52d395.html">srcs</a></li><li class="navelem"><a class="el" href="../../dir_04d670c4adcb884258431ddc1ce2763c.html">icaruscode</a></li><li class="navelem"><a class="el" href="../../dir_94314c0f385d81f04de3b3bdb34c1673.html">icaruscode</a></li><li class="navelem"><a class="el" href="../../dir_f24bf4e8dc0d4410540911483e796005.html">Utilities</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">EventRegistry.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d7/dbe/EventRegistry_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * @file   icaruscode/Utilities/EventRegistry.h</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * @brief  Class keeping track of _art_ event IDs.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * @author Gianluca Petrillo (petrillo@slac.stanford.edu)</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * @date   January 22, 2021</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * @see    icaruscode/Utilities/EventRegistry.cxx</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#ifndef ICARUSCODE_UTILITIES_EVENTREGISTRY_H</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define ICARUSCODE_UTILITIES_EVENTREGISTRY_H</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// framework libraries</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;canvas/Persistency/Provenance/EventID.h&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;cetlib_except/exception.h&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// C/C++ standard libraries</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;unordered_map&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;mutex&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span> <span class="comment">// std::pair&lt;&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span> <span class="comment">// std::hash&lt;&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span> <span class="comment">// std::numeric_limits&lt;&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;cstddef&gt;</span> <span class="comment">// std::size_t</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../da/dc9/namespacepmtana.html#a9860e62c78db1dd9c7d635a2832b883a">std</a> {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="../../d3/d97/structstd_1_1hash_3_01art_1_1EventID_01_4.html">   37</a></span>&#160;  <span class="keyword">struct </span>hash&lt;art::EventID&gt; {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    </div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="../../d3/d97/structstd_1_1hash_3_01art_1_1EventID_01_4.html#a86429ce9ddb739840823e7f57b935227">   39</a></span>&#160;    std::size_t operator() (art::EventID <span class="keyword">const</span>&amp; ID) <span class="keyword">const</span> noexcept</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;      {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="keywordflow">return</span> std::hash&lt;std::uint64_t&gt;{}(</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            (std::uint64_t{ ID.run() } &lt;&lt; 40U)     <span class="comment">// run:    24 bits (16M)</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;          + (std::uint64_t{ ID.subRun() } &lt;&lt; 22U)  <span class="comment">// subrun: 18 bits (256k)</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;          + (std::uint64_t{ ID.event() })          <span class="comment">// event:  22 bits (4M)</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;          );</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;      }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  }; <span class="comment">// hash&lt;art::EventID&gt;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;} <span class="comment">// namespace std</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">namespace </span>sbn { <span class="keyword">class </span>EventRegistry; }<span class="comment"></span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"> * @brief Keeps a record of all registered events and their source.</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment"> * This registry object will keep track of every time an event is &quot;registered&quot;.</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"> * An event is represented by its ID (`art::EventID`), and it is associated to</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"> * the input file(s) it is stored in.</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"> * Input files can be registered separately by file name, or at the same time</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"> * with the event.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"> * Thread safety</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"> * --------------</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"> * Registration of events can happen concurrently (thread-safe).</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"> * Registration of source files, instead, is not protected.</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"> * It is guaranteed that the source file records are never modified once</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"> * registered (i.e. neither removed from the registry, nor the path of a source</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"> * record changed).</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="../../d4/dd9/classsbn_1_1EventRegistry.html">   77</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html">sbn::EventRegistry</a> {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="../../d4/dd9/classsbn_1_1EventRegistry.html#ad72076e580e74186859da6219bae56bd">   81</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#ad72076e580e74186859da6219bae56bd">EventID_t</a> = art::EventID; <span class="comment">///&lt; Type used to identify an event.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"></span>  </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a3732c637b699cef3607e41c58f9626ac">   83</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a3732c637b699cef3607e41c58f9626ac">FileID_t</a> = std::size_t; <span class="comment">///&lt; Type used to identify a source file.</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment"></span>  <span class="comment"></span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">  /// Element of the registry for an event.</span></div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="../../d1/db9/structsbn_1_1EventRegistry_1_1EventRecord__t.html">   86</a></span>&#160;<span class="comment"></span>  <span class="keyword">struct </span><a class="code" href="../../d1/db9/structsbn_1_1EventRegistry_1_1EventRecord__t.html">EventRecord_t</a> {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    </div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="../../d1/db9/structsbn_1_1EventRegistry_1_1EventRecord__t.html#a18441fe448544725c84ca319e4b9ca92">   88</a></span>&#160;    std::vector&lt;FileID_t&gt; <a class="code" href="../../d1/db9/structsbn_1_1EventRegistry_1_1EventRecord__t.html#a18441fe448544725c84ca319e4b9ca92">sourceFiles</a>; <span class="comment">///&lt; List of ID of source files.</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment"></span>    </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  }; <span class="comment">// EventRecord_t</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment"></span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">  /// Type with event ID (`first`) and event record information (`second`).</span></div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a00c903cc2359f260b26589b518548d9b">   93</a></span>&#160;<span class="comment"></span>  <span class="keyword">using</span> <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a00c903cc2359f260b26589b518548d9b">EventIDandRecord_t</a> = std::pair&lt;EventID_t, EventRecord_t&gt;;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="comment"></span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">  /// Mnemonic for no file ID.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="../../d4/dd9/classsbn_1_1EventRegistry.html#ac9c83543702bc9cf83371cd1e82c50e8">   97</a></span>&#160;<span class="comment"></span>  <span class="keyword">static</span> constexpr <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a3732c637b699cef3607e41c58f9626ac">FileID_t</a> <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#ac9c83543702bc9cf83371cd1e82c50e8">NoFileID</a> = <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::numeric_limits&lt;FileID_t&gt;::max</a>();</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="comment">// -- BEGIN -- Source interface ----------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">  /// @name Source interface</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">  /// @{</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment"></span>  <span class="comment"></span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">   * @brief Registers a source file and returns its ID in the registry.</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">   * @param fileName the name of the source file to be registered</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">   * @return the internal ID this registry will refer to `fileName` with</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">   * </span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">   * If `fileName` has already been registered, the existing ID is returned and</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">   * no other action is performed.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a3732c637b699cef3607e41c58f9626ac">FileID_t</a> <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a41a78b87e7c30207c0c553d841ba7598">recordSource</a>(std::string <span class="keyword">const</span>&amp; <a class="code" href="../../d5/d37/prodcorsika__genie__protononly__icarus__numi__nue__volDetEnclosure__tpc_8fcl.html#a2146d742a76b29baa7a12ef30d6af3a4">fileName</a>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment"></span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">  /// Returns whether the specified file ID is registered as a source.</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a64562a88ead7c3b3c277517228a8d1e3">hasSource</a>(<a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a3732c637b699cef3607e41c58f9626ac">FileID_t</a> <span class="keyword">const</span>&amp; fileID) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment"></span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">  /// Returns whether the specified file name is registered as a source.</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a64562a88ead7c3b3c277517228a8d1e3">hasSource</a>(std::string <span class="keyword">const</span>&amp; <a class="code" href="../../d5/d37/prodcorsika__genie__protononly__icarus__numi__nue__volDetEnclosure__tpc_8fcl.html#a2146d742a76b29baa7a12ef30d6af3a4">fileName</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment"></span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">  /// Returns the ID of the source with the specified file name (slow!).</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">  /// @return the ID of the source, or unset if `fileID` is not registered</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"></span>  std::optional&lt;FileID_t&gt; <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a94bca975583fe5a686cc1ae32eabedd0">sourceID</a>(std::string <span class="keyword">const</span>&amp; <a class="code" href="../../d5/d37/prodcorsika__genie__protononly__icarus__numi__nue__volDetEnclosure__tpc_8fcl.html#a2146d742a76b29baa7a12ef30d6af3a4">fileName</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="comment"></span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">  /// Returns the name of the source associated to the specified file ID.</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">  /// @return the name of the source, or unset if `fileID` is not registered</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment"></span>  std::optional&lt;std::string&gt; <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#abc897a16e7aebd616a8a74016331af09">sourceName</a>(<a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a3732c637b699cef3607e41c58f9626ac">FileID_t</a> <span class="keyword">const</span>&amp; fileID) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="comment"></span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">  /// Returns the name of the source associated to the specified file ID.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">  /// @return the name of the source, or `defName` if `fileID` is not registered</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment"></span>  std::string <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#abf105bb1c42d028ff1ad547b74acbeaf">sourceNameOr</a></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    (<a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a3732c637b699cef3607e41c58f9626ac">FileID_t</a> <span class="keyword">const</span>&amp; fileID, std::string <span class="keyword">const</span>&amp; defName) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="comment"></span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">  /// @}</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"></span>  <span class="comment">// -- END -- Source interface ------------------------------------------------</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="comment">// -- BEGIN -- Event interface -----------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">  /// @name Event interface</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">  /// @{</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment"></span>  <span class="comment"></span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">  /// Returns a copy of all event records.</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment"></span>  std::vector&lt;EventIDandRecord_t&gt; <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a40985a4ca9a31b6d805fe5804e614d28">records</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="comment"></span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">  /// Returns a copy of the specified event record.</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">  /// @return the record for `event`, or unset if `event` is not registered</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment"></span>  std::optional&lt;EventRecord_t&gt; <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a9064ea3e1529c14fd669a202f308741c">eventRecord</a>(art::EventID <span class="keyword">const</span>&amp; event) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment"></span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">   * @brief Registers an event and returns a copy of its record.</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">   * @param event ID of the event to be registered</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">   * @param sourceFileID ID of the source file to be associated with the `event`</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">   * @return the current copy, just updated, of the record of the `event`</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">   * @throw cet::exception (category: `&quot;sbn::EventRegistry&quot;`) if `sourceFileID`</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">   *        dose not match a registered source file</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">   * @see `recordEvent(EventID_t const&amp;, std::string const&amp;)`</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">   * </span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">   * The record of the specified `event` is updated adding `sourceFileID` among</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">   * its sources. A single `sourceFileID` can appear multiple times for the same</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">   * event, indicating a duplicate event in the same source file.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">   * </span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">   * A source with `sourceFileID` must have been registered already</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">   * (`recordSource()`).</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">   * </span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="../../d1/db9/structsbn_1_1EventRegistry_1_1EventRecord__t.html">EventRecord_t</a> <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a6597cee662963db08908ddcdc737e578">recordEvent</a>(<a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#ad72076e580e74186859da6219bae56bd">EventID_t</a> <span class="keyword">const</span>&amp; event, <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a3732c637b699cef3607e41c58f9626ac">FileID_t</a> sourceFileID);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="comment"></span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">  /// @}</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment"></span>  <span class="comment">// -- END -- Event interface -------------------------------------------------</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="comment"></span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">  /// Type for source file registry.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="../../d4/dd9/classsbn_1_1EventRegistry.html#aaa5a916dd1c3259f79fdeeab328a9a84">  174</a></span>&#160;<span class="comment"></span>  <span class="keyword">using</span> <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#aaa5a916dd1c3259f79fdeeab328a9a84">FileRegistry_t</a> = std::vector&lt;std::string&gt;;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="comment"></span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">  /// Registered source file, by file ID key.</span></div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="../../d4/dd9/classsbn_1_1EventRegistry.html#afc8765bb5ab4bcfd1156484c225faf8c">  177</a></span>&#160;<span class="comment"></span>  std::vector&lt;std::string&gt; <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#afc8765bb5ab4bcfd1156484c225faf8c">fSourceFiles</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="comment"></span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">  /// Registry of all events.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="../../d4/dd9/classsbn_1_1EventRegistry.html#aea88b367e0f65400516912b91996a43c">  180</a></span>&#160;<span class="comment"></span>  std::unordered_map&lt;EventID_t, EventRecord_t&gt; <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#aea88b367e0f65400516912b91996a43c">fEventRegistry</a>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  </div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="../../d4/dd9/classsbn_1_1EventRegistry.html#acf1e61ac5fc4154c79d17d7b4df4f6d2">  182</a></span>&#160;  <span class="keyword">mutable</span> std::mutex <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#acf1e61ac5fc4154c79d17d7b4df4f6d2">fEventRegistryLock</a>; <span class="comment">///&lt; Lock for `fEventRegistry`.</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"></span>  <span class="comment"></span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">  //@{</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment"></span><span class="comment">  /// Returns an iterator pointing to the specified file registry entry.</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment"></span>  FileRegistry_t::iterator <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#af3ad22412caef7146d390605f4d61a9a">findSource</a>(std::string <span class="keyword">const</span>&amp; <a class="code" href="../../d5/d37/prodcorsika__genie__protononly__icarus__numi__nue__volDetEnclosure__tpc_8fcl.html#a2146d742a76b29baa7a12ef30d6af3a4">fileName</a>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  FileRegistry_t::const_iterator <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#af3ad22412caef7146d390605f4d61a9a">findSource</a>(std::string <span class="keyword">const</span>&amp; <a class="code" href="../../d5/d37/prodcorsika__genie__protononly__icarus__numi__nue__volDetEnclosure__tpc_8fcl.html#a2146d742a76b29baa7a12ef30d6af3a4">fileName</a>) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">  //@}</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"></span>  <span class="comment"></span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">  /// Copies all event records into `recordCopy`.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a144a213512cdf2d5d6253fb39a9d8e51">copyEventRecordsInto</a>(std::vector&lt;EventIDandRecord_t&gt;&amp; recordCopy) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">  /// Returns a lock guard around `fEventRegistry`.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"></span>  std::lock_guard&lt;std::mutex&gt; <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#afd0c3444d4785df0d8f7208f123abcf1">lockEventRegistry</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="comment"></span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">  /// Converts an internal index in file source registry into a `FileID_t`.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment"></span>  <span class="keyword">static</span> <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a3732c637b699cef3607e41c58f9626ac">FileID_t</a> <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a757a07125bca1c10922a0bc2c356d3a8">indexToFileID</a>(std::size_t index);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">  /// Converts a `FileID_t` into an internal index in file source registry.</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment"></span>  <span class="keyword">static</span> std::size_t <a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#aa5d2dee44dbd8995b45985a713794b1f">fileIDtoIndex</a>(<a class="code" href="../../d4/dd9/classsbn_1_1EventRegistry.html#a3732c637b699cef3607e41c58f9626ac">FileID_t</a> fileID);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;}; <span class="comment">// sbn::EventRegistry</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="preprocessor">#endif // ICARUSCODE_UTILITIES_EVENTREGISTRY_H</span></div>
<div class="ttc" id="namespacepmtana_html_a9860e62c78db1dd9c7d635a2832b883a"><div class="ttname"><a href="../../da/dc9/namespacepmtana.html#a9860e62c78db1dd9c7d635a2832b883a">pmtana::std</a></div><div class="ttdeci">double std(const std::vector&lt; short &gt; &amp;wf, const double ped_mean, size_t start, size_t nsample)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de4/UtilFunc_8cxx_source.html#l00042">UtilFunc.cxx:42</a></div></div>
<div class="ttc" id="structsbn_1_1EventRegistry_1_1EventRecord__t_html_a18441fe448544725c84ca319e4b9ca92"><div class="ttname"><a href="../../d1/db9/structsbn_1_1EventRegistry_1_1EventRecord__t.html#a18441fe448544725c84ca319e4b9ca92">sbn::EventRegistry::EventRecord_t::sourceFiles</a></div><div class="ttdeci">std::vector&lt; FileID_t &gt; sourceFiles</div><div class="ttdoc">List of ID of source files. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbe/EventRegistry_8h_source.html#l00088">EventRegistry.h:88</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_a9064ea3e1529c14fd669a202f308741c"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#a9064ea3e1529c14fd669a202f308741c">sbn::EventRegistry::eventRecord</a></div><div class="ttdeci">std::optional&lt; EventRecord_t &gt; eventRecord(art::EventID const &amp;event) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d38/EventRegistry_8cxx_source.html#l00082">EventRegistry.cxx:82</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_af3ad22412caef7146d390605f4d61a9a"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#af3ad22412caef7146d390605f4d61a9a">sbn::EventRegistry::findSource</a></div><div class="ttdeci">FileRegistry_t::iterator findSource(std::string const &amp;fileName)</div><div class="ttdoc">Returns an iterator pointing to the specified file registry entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d38/EventRegistry_8cxx_source.html#l00111">EventRegistry.cxx:111</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_ac9c83543702bc9cf83371cd1e82c50e8"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#ac9c83543702bc9cf83371cd1e82c50e8">sbn::EventRegistry::NoFileID</a></div><div class="ttdeci">static constexpr FileID_t NoFileID</div><div class="ttdoc">Mnemonic for no file ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbe/EventRegistry_8h_source.html#l00097">EventRegistry.h:97</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_aa5d2dee44dbd8995b45985a713794b1f"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#aa5d2dee44dbd8995b45985a713794b1f">sbn::EventRegistry::fileIDtoIndex</a></div><div class="ttdeci">static std::size_t fileIDtoIndex(FileID_t fileID)</div><div class="ttdoc">Converts a FileID_t into an internal index in file source registry. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d38/EventRegistry_8cxx_source.html#l00145">EventRegistry.cxx:145</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_afc8765bb5ab4bcfd1156484c225faf8c"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#afc8765bb5ab4bcfd1156484c225faf8c">sbn::EventRegistry::fSourceFiles</a></div><div class="ttdeci">std::vector&lt; std::string &gt; fSourceFiles</div><div class="ttdoc">Registered source file, by file ID key. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbe/EventRegistry_8h_source.html#l00177">EventRegistry.h:177</a></div></div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_aea88b367e0f65400516912b91996a43c"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#aea88b367e0f65400516912b91996a43c">sbn::EventRegistry::fEventRegistry</a></div><div class="ttdeci">std::unordered_map&lt; EventID_t, EventRecord_t &gt; fEventRegistry</div><div class="ttdoc">Registry of all events. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbe/EventRegistry_8h_source.html#l00180">EventRegistry.h:180</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_afd0c3444d4785df0d8f7208f123abcf1"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#afd0c3444d4785df0d8f7208f123abcf1">sbn::EventRegistry::lockEventRegistry</a></div><div class="ttdeci">std::lock_guard&lt; std::mutex &gt; lockEventRegistry() const </div><div class="ttdoc">Returns a lock guard around fEventRegistry. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d38/EventRegistry_8cxx_source.html#l00135">EventRegistry.cxx:135</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_abc897a16e7aebd616a8a74016331af09"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#abc897a16e7aebd616a8a74016331af09">sbn::EventRegistry::sourceName</a></div><div class="ttdeci">std::optional&lt; std::string &gt; sourceName(FileID_t const &amp;fileID) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d38/EventRegistry_8cxx_source.html#l00058">EventRegistry.cxx:58</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_a6597cee662963db08908ddcdc737e578"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#a6597cee662963db08908ddcdc737e578">sbn::EventRegistry::recordEvent</a></div><div class="ttdeci">EventRecord_t recordEvent(EventID_t const &amp;event, FileID_t sourceFileID)</div><div class="ttdoc">Registers an event and returns a copy of its record. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d38/EventRegistry_8cxx_source.html#l00098">EventRegistry.cxx:98</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_a00c903cc2359f260b26589b518548d9b"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#a00c903cc2359f260b26589b518548d9b">sbn::EventRegistry::EventIDandRecord_t</a></div><div class="ttdeci">std::pair&lt; EventID_t, EventRecord_t &gt; EventIDandRecord_t</div><div class="ttdoc">Type with event ID (first) and event record information (second). </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbe/EventRegistry_8h_source.html#l00093">EventRegistry.h:93</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_a40985a4ca9a31b6d805fe5804e614d28"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#a40985a4ca9a31b6d805fe5804e614d28">sbn::EventRegistry::records</a></div><div class="ttdeci">std::vector&lt; EventIDandRecord_t &gt; records() const </div><div class="ttdoc">Returns a copy of all event records. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d38/EventRegistry_8cxx_source.html#l00072">EventRegistry.cxx:72</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_acf1e61ac5fc4154c79d17d7b4df4f6d2"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#acf1e61ac5fc4154c79d17d7b4df4f6d2">sbn::EventRegistry::fEventRegistryLock</a></div><div class="ttdeci">std::mutex fEventRegistryLock</div><div class="ttdoc">Lock for fEventRegistry. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbe/EventRegistry_8h_source.html#l00182">EventRegistry.h:182</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_a3732c637b699cef3607e41c58f9626ac"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#a3732c637b699cef3607e41c58f9626ac">sbn::EventRegistry::FileID_t</a></div><div class="ttdeci">std::size_t FileID_t</div><div class="ttdoc">Type used to identify a source file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbe/EventRegistry_8h_source.html#l00083">EventRegistry.h:83</a></div></div>
<div class="ttc" id="prodcorsika__genie__protononly__icarus__numi__nue__volDetEnclosure__tpc_8fcl_html_a2146d742a76b29baa7a12ef30d6af3a4"><div class="ttname"><a href="../../d5/d37/prodcorsika__genie__protononly__icarus__numi__nue__volDetEnclosure__tpc_8fcl.html#a2146d742a76b29baa7a12ef30d6af3a4">fileName</a></div><div class="ttdeci">services TFileService fileName</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d37/prodcorsika__genie__protononly__icarus__numi__nue__volDetEnclosure__tpc_8fcl_source.html#l00018">prodcorsika_genie_protononly_icarus_numi_nue_volDetEnclosure_tpc.fcl:18</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html">sbn::EventRegistry</a></div><div class="ttdoc">Keeps a record of all registered events and their source. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbe/EventRegistry_8h_source.html#l00077">EventRegistry.h:77</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_a757a07125bca1c10922a0bc2c356d3a8"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#a757a07125bca1c10922a0bc2c356d3a8">sbn::EventRegistry::indexToFileID</a></div><div class="ttdeci">static FileID_t indexToFileID(std::size_t index)</div><div class="ttdoc">Converts an internal index in file source registry into a FileID_t. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d38/EventRegistry_8cxx_source.html#l00140">EventRegistry.cxx:140</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_aaa5a916dd1c3259f79fdeeab328a9a84"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#aaa5a916dd1c3259f79fdeeab328a9a84">sbn::EventRegistry::FileRegistry_t</a></div><div class="ttdeci">std::vector&lt; std::string &gt; FileRegistry_t</div><div class="ttdoc">Type for source file registry. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbe/EventRegistry_8h_source.html#l00174">EventRegistry.h:174</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_a64562a88ead7c3b3c277517228a8d1e3"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#a64562a88ead7c3b3c277517228a8d1e3">sbn::EventRegistry::hasSource</a></div><div class="ttdeci">bool hasSource(FileID_t const &amp;fileID) const </div><div class="ttdoc">Returns whether the specified file ID is registered as a source. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d38/EventRegistry_8cxx_source.html#l00035">EventRegistry.cxx:35</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_abf105bb1c42d028ff1ad547b74acbeaf"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#abf105bb1c42d028ff1ad547b74acbeaf">sbn::EventRegistry::sourceNameOr</a></div><div class="ttdeci">std::string sourceNameOr(FileID_t const &amp;fileID, std::string const &amp;defName) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d38/EventRegistry_8cxx_source.html#l00067">EventRegistry.cxx:67</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_a41a78b87e7c30207c0c553d841ba7598"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#a41a78b87e7c30207c0c553d841ba7598">sbn::EventRegistry::recordSource</a></div><div class="ttdeci">FileID_t recordSource(std::string const &amp;fileName)</div><div class="ttdoc">Registers a source file and returns its ID in the registry. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d38/EventRegistry_8cxx_source.html#l00023">EventRegistry.cxx:23</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_a144a213512cdf2d5d6253fb39a9d8e51"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#a144a213512cdf2d5d6253fb39a9d8e51">sbn::EventRegistry::copyEventRecordsInto</a></div><div class="ttdeci">void copyEventRecordsInto(std::vector&lt; EventIDandRecord_t &gt; &amp;recordCopy) const </div><div class="ttdoc">Copies all event records into recordCopy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d38/EventRegistry_8cxx_source.html#l00122">EventRegistry.cxx:122</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_ad72076e580e74186859da6219bae56bd"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#ad72076e580e74186859da6219bae56bd">sbn::EventRegistry::EventID_t</a></div><div class="ttdeci">art::EventID EventID_t</div><div class="ttdoc">Type used to identify an event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbe/EventRegistry_8h_source.html#l00081">EventRegistry.h:81</a></div></div>
<div class="ttc" id="structsbn_1_1EventRegistry_1_1EventRecord__t_html"><div class="ttname"><a href="../../d1/db9/structsbn_1_1EventRegistry_1_1EventRecord__t.html">sbn::EventRegistry::EventRecord_t</a></div><div class="ttdoc">Element of the registry for an event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbe/EventRegistry_8h_source.html#l00086">EventRegistry.h:86</a></div></div>
<div class="ttc" id="classsbn_1_1EventRegistry_html_a94bca975583fe5a686cc1ae32eabedd0"><div class="ttname"><a href="../../d4/dd9/classsbn_1_1EventRegistry.html#a94bca975583fe5a686cc1ae32eabedd0">sbn::EventRegistry::sourceID</a></div><div class="ttdeci">std::optional&lt; FileID_t &gt; sourceID(std::string const &amp;fileName) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d38/EventRegistry_8cxx_source.html#l00045">EventRegistry.cxx:45</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
