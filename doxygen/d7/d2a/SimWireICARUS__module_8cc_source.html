<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>SimWireICARUS_module.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b73b02d482d1c4a3db20c3d9ad52d395.html">srcs</a></li><li class="navelem"><a class="el" href="../../dir_04d670c4adcb884258431ddc1ce2763c.html">icaruscode</a></li><li class="navelem"><a class="el" href="../../dir_94314c0f385d81f04de3b3bdb34c1673.html">icaruscode</a></li><li class="navelem"><a class="el" href="../../dir_4f081efc6e34d5090b09a872dc566d00.html">TPC</a></li><li class="navelem"><a class="el" href="../../dir_33e2793cefc161f2057bf2dd5cb747e0.html">Simulation</a></li><li class="navelem"><a class="el" href="../../dir_b3a065ca90b9143d96282b6eb540b563.html">DetSim</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SimWireICARUS_module.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d7/d2a/SimWireICARUS__module_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">///////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span><span class="comment">// $Id: SimWireICARUS.cxx,v 1.22 2010/04/23 20:30:53 seligman Exp $</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// SimWireICARUS class designed to simulate signal on a wire in the TPC</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// katori@fnal.gov</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// - Revised to use sim::RawDigit instead of rawdata::RawDigit, and to</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// - save the electron clusters associated with each digit.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// C/C++ standard library</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;stdexcept&gt;</span> <span class="comment">// std::range_error</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span> <span class="comment">// std::fill()</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;random&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;chrono&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// CLHEP libraries</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;CLHEP/Random/RandFlat.h&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;CLHEP/Random/RandGaussQ.h&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;CLHEP/Random/JamesRandom.h&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// ROOT libraries</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;TMath.h&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;TComplex.h&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;TString.h&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;TH2F.h&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;TH1D.h&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;TFile.h&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;TCanvas.h&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">// art library and utilities</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;art/Framework/Core/ModuleMacros.h&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;art/Framework/Core/EDProducer.h&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;art/Framework/Principal/Event.h&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;art/Framework/Principal/Handle.h&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;art/Framework/Services/Registry/ServiceHandle.h&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;art_root_io/TFileService.h&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;art_root_io/TFileDirectory.h&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;art/Utilities/make_tool.h&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;fhiclcpp/ParameterSet.h&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;messagefacility/MessageLogger/MessageLogger.h&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">// art extensions</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;nurandom/RandomUtils/NuRandomService.h&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">// LArSoft libraries</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d5a/RawDigit_8h.html">lardataobj/RawData/RawDigit.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/df4/raw_8h.html">lardataobj/RawData/raw.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d16/TriggerData_8h.html">lardataobj/RawData/TriggerData.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/dde/SimChannel_8h.html">lardataobj/Simulation/SimChannel.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d8b/Geometry_8h.html">larcore/Geometry/Geometry.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/de7/GeometryCore_8h.html">larcorealg/Geometry/GeometryCore.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d33/LArFFT_8h.html">lardata/Utilities/LArFFT.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/df8/DetectorPropertiesService_8h.html">lardata/DetectorInfoServices/DetectorPropertiesService.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/dba/DetectorClocksService_8h.html">lardata/DetectorInfoServices/DetectorClocksService.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d00/SignalShapingICARUSService__service_8h.html">icaruscode/TPC/Utilities/SignalShapingICARUSService_service.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d94/sim_8h.html">lardataobj/Simulation/sim.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d04/DetPedestalService_8h.html">larevt/CalibrationDBI/Interface/DetPedestalService.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/deb/DetPedestalProvider_8h.html">larevt/CalibrationDBI/Interface/DetPedestalProvider.h</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/da1/ChannelStatusService_8h.html">larevt/CalibrationDBI/Interface/ChannelStatusService.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/ded/ChannelStatusProvider_8h.html">larevt/CalibrationDBI/Interface/ChannelStatusProvider.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d30/IGenNoise_8h.html">tools/IGenNoise.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;icarus_signal_processing/Filters/ICARUSFFT.h&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="keyword">using namespace </span>util;<span class="comment"></span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">///Detector simulation of raw signals on wires</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"></span><span class="keyword">namespace </span>detsim {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">// Base class for creation of raw signals on wires.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html">   70</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html">SimWireICARUS</a> : <span class="keyword">public</span> art::EDProducer</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keyword">explicit</span> <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html">SimWireICARUS</a>(fhicl::ParameterSet <span class="keyword">const</span>&amp; pset);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keyword">virtual</span> ~<a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html">SimWireICARUS</a>();</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// read/write access to event</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordtype">void</span> produce (art::Event&amp; <a class="code" href="../../de/d0f/namespacetca.html#a3bc30aeace71ea50324b602afa2155f2">evt</a>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordtype">void</span> beginJob();</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordtype">void</span> endJob();</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/dc1/no__reconfigure__override_8sh.html#a43e0311a5eaaf93e2e55a29bbdd8990a">reconfigure</a>(fhicl::ParameterSet <span class="keyword">const</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordtype">void</span> MakeADCVec(std::vector&lt;short&gt;&amp; adc, <a class="code" href="../../d3/d35/namespaceicarusutil.html#adf67ac919b7ff78e306c6e10586855d8">icarusutil::TimeVec</a> <span class="keyword">const</span>&amp; noise,</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                    <a class="code" href="../../d3/d35/namespaceicarusutil.html#adf67ac919b7ff78e306c6e10586855d8">icarusutil::TimeVec</a> <span class="keyword">const</span>&amp; charge, <span class="keywordtype">float</span> ped_mean) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a25361aad7b28f5407494a6355fe62765">   88</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a25361aad7b28f5407494a6355fe62765">TPCIDVec</a>  = std::vector&lt;geo::TPCID&gt;;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    </div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#af5d7fa3437a14ff46125a5d508b8d979">   90</a></span>&#160;    art::InputTag                <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#af5d7fa3437a14ff46125a5d508b8d979">fDriftEModuleLabel</a>; <span class="comment">///&lt; module making the ionization electrons</span></div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a5833c99c2593df5af8861824eb3d90a7">   91</a></span>&#160;<span class="comment"></span>    std::string                  <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a5833c99c2593df5af8861824eb3d90a7">fOutInstanceLabel</a>;  <span class="comment">///&lt; The label to apply to the output data product</span></div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a777f005fa06c077fe5fcb865b16989eb">   92</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span>                         <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a777f005fa06c077fe5fcb865b16989eb">fProcessAllTPCs</a>;    <span class="comment">///&lt; If true we process all TPCs</span></div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a70af718e2d85c3b2a7300c8f30164fd6">   93</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                 <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a70af718e2d85c3b2a7300c8f30164fd6">fCryostat</a>;          <span class="comment">///&lt; If ProcessAllTPCs is false then cryostat to use</span></div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a4b6b552863b4f05a7995f48eaf4ddf80">   94</a></span>&#160;<span class="comment"></span>    <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a25361aad7b28f5407494a6355fe62765">TPCIDVec</a>                     <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a4b6b552863b4f05a7995f48eaf4ddf80">fTPCVec</a>;            <span class="comment">///&lt; List of TPCs to process for this instance of the module</span></div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#ad96476d4eecdccea5a923ca4cf4ce8c8">   95</a></span>&#160;<span class="comment"></span>    <a class="code" href="../../d9/d63/namespaceraw.html#a5cccb6911a757c829a5ed5c61ad85a21">raw::Compress_t</a>              <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#ad96476d4eecdccea5a923ca4cf4ce8c8">fCompression</a>;       <span class="comment">///&lt; compression type to use</span></div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a0dcb3b2f6b8613ea4cda4eb97fdf3311">   96</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                 <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a0dcb3b2f6b8613ea4cda4eb97fdf3311">fNTimeSamples</a>;      <span class="comment">///&lt; number of ADC readout samples in all readout frames (per event)</span></div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#ab120e7d01e56d256597dab856c4822f9">   97</a></span>&#160;<span class="comment"></span>    std::map&lt; double, int &gt;      <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#ab120e7d01e56d256597dab856c4822f9">fShapingTimeOrder</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    </div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a59e2a9dd1d1c6a5bddff19cb95a91917">   99</a></span>&#160;    <span class="keywordtype">bool</span>                         <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a59e2a9dd1d1c6a5bddff19cb95a91917">fSimDeadChannels</a>;   <span class="comment">///&lt; if True, simulate dead channels using the ChannelStatus service.  If false, do not simulate dead channels</span></div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#aa5326f828a6982bf58dd57bf915206eb">  100</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span>                         <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#aa5326f828a6982bf58dd57bf915206eb">fSuppressNoSignal</a>;  <span class="comment">///&lt; If no signal on wire (simchannel) then suppress the channel</span></div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a95c53f6168eaf453a6c8a02cf187d47d">  101</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span>                         <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a95c53f6168eaf453a6c8a02cf187d47d">fSmearPedestals</a>;    <span class="comment">///&lt; If True then we smear the pedestals</span></div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a28c406ea0150feb9eb409b6601d9fd7b">  102</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">int</span>                          <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a28c406ea0150feb9eb409b6601d9fd7b">fNumChanPerMB</a>;      <span class="comment">///&lt; Number of channels per motherboard</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment"></span>    </div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a7d92e5e7a3bd40d7e1f135901ea270e3">  104</a></span>&#160;    std::vector&lt;std::unique_ptr&lt;icarus_tool::IGenNoise&gt;&gt; <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a7d92e5e7a3bd40d7e1f135901ea270e3">fNoiseToolVec</a>; <span class="comment">///&lt; Tool for generating noise</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment"></span>    </div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a26977bf69a91ca19a7cec6a34f3f4f32">  106</a></span>&#160;    <span class="keywordtype">bool</span>                         <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a26977bf69a91ca19a7cec6a34f3f4f32">fMakeHistograms</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a58a73cab8d65b2df054e65c3ad2992ce">  107</a></span>&#160;    <span class="keywordtype">bool</span>                         <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a58a73cab8d65b2df054e65c3ad2992ce">fTest</a>; <span class="comment">// for forcing a test case</span></div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#ad65dd5851f1bb4a190cd4697423158d4">  108</a></span>&#160;    std::vector&lt;sim::SimChannel&gt; <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#ad65dd5851f1bb4a190cd4697423158d4">fTestSimChannel_v</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a52cf306dbc1209a06a1253113a1994b5">  109</a></span>&#160;    <span class="keywordtype">size_t</span>                       <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a52cf306dbc1209a06a1253113a1994b5">fTestWire</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a51c561313f00e1556c1bc2aa82557658">  110</a></span>&#160;    std::vector&lt;size_t&gt;          <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a51c561313f00e1556c1bc2aa82557658">fTestIndex</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a4d839477dea69d8d7d74870adf0dcdc1">  111</a></span>&#160;    std::vector&lt;double&gt;          <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a4d839477dea69d8d7d74870adf0dcdc1">fTestCharge</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    </div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a2ab637a8243841f49b1174476248e636">  113</a></span>&#160;    TH1F*                        <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a2ab637a8243841f49b1174476248e636">fSimCharge</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a454ef3e85b05fc39414c26465151b796">  114</a></span>&#160;    TH2F*                        <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a454ef3e85b05fc39414c26465151b796">fSimChargeWire</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// Random engines</span></div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a4d868af9e0b88d2d65e75f39504e03e1">  117</a></span>&#160;    CLHEP::HepRandomEngine&amp;      <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a4d868af9e0b88d2d65e75f39504e03e1">fPedestalEngine</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a9b3db6aba00c26b8f8e4aaf231fda84d">  118</a></span>&#160;    CLHEP::HepRandomEngine&amp;      <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a9b3db6aba00c26b8f8e4aaf231fda84d">fUncNoiseEngine</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#ab399690435f7d97c99b603d0ec32bd1c">  119</a></span>&#160;    CLHEP::HepRandomEngine&amp;      <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#ab399690435f7d97c99b603d0ec32bd1c">fCorNoiseEngine</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">//define max ADC value - if one wishes this can</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">//be made a fcl parameter but not likely to ever change</span></div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a10f7ac85202f9717964b116a77ce13a9">  123</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span>                  adcsaturation = 4095;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">// little helper class to hold the params of each charge dep</span></div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html">  126</a></span>&#160;    <span class="keyword">class </span><a class="code" href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html">ResponseParams</a> {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html#ab1320c39fb7c9e586ca0900f5ccf8aba">  128</a></span>&#160;        <a class="code" href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html#ab1320c39fb7c9e586ca0900f5ccf8aba">ResponseParams</a>(<span class="keywordtype">double</span> charge, <span class="keywordtype">size_t</span> time) : <a class="code" href="../../d4/d97/BlipMaker__module_8cc.html#aceaf5d7ae408d0b68e850d3d0064c661">m_charge</a>(charge), <a class="code" href="../../d4/d97/BlipMaker__module_8cc.html#af974e25af518f7046ad6d72e67eadeda">m_time</a>(time) {}</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html#a8e1917b6b2ed033cb33eb7e93a31148d">  129</a></span>&#160;        <span class="keywordtype">double</span> <a class="code" href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html#a8e1917b6b2ed033cb33eb7e93a31148d">getCharge</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d4/d97/BlipMaker__module_8cc.html#aceaf5d7ae408d0b68e850d3d0064c661">m_charge</a>; }</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html#a45ee72f587fe409547394dcdbd8722d2">  130</a></span>&#160;        <span class="keywordtype">size_t</span> <a class="code" href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html#a45ee72f587fe409547394dcdbd8722d2">getTime</a>()   { <span class="keywordflow">return</span> <a class="code" href="../../d4/d97/BlipMaker__module_8cc.html#af974e25af518f7046ad6d72e67eadeda">m_time</a>; }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html#ad835b46acdc96d9c1db74d2156f802ba">  132</a></span>&#160;        <span class="keywordtype">double</span> <a class="code" href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html#ad835b46acdc96d9c1db74d2156f802ba">m_charge</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html#a9aed6142c8830a6a4367f1f37f0c1f9e">  133</a></span>&#160;        <span class="keywordtype">size_t</span> <a class="code" href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html#a9aed6142c8830a6a4367f1f37f0c1f9e">m_time</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    };</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a3e49c6e6ac772379fcaeb26cdc501902">  136</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a3e49c6e6ac772379fcaeb26cdc501902">FFTPointer</a> = std::unique_ptr&lt;icarus_signal_processing::ICARUSFFT&lt;double&gt;&gt;;</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a66d437dc41c989c343e6e39f579424be">  137</a></span>&#160;    <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a3e49c6e6ac772379fcaeb26cdc501902">FFTPointer</a>                              <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a66d437dc41c989c343e6e39f579424be">fFFT</a>;                   <span class="comment">//&lt; Object to handle thread safe FFT</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">//services</span></div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a0fddb1040a9856ee3d18fb0e076a93bc">  140</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a>&amp;                <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a0fddb1040a9856ee3d18fb0e076a93bc">fGeometry</a>;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a905a12b1a36d11d247137386ce2070f2">  141</a></span>&#160;    <a class="code" href="../../d4/db4/classicarusutil_1_1SignalShapingICARUSService.html">icarusutil::SignalShapingICARUSService</a>* <a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a905a12b1a36d11d247137386ce2070f2">fSignalShapingService</a>;  <span class="comment">//&lt; Access to the response functions</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}; <span class="comment">// class SimWireICARUS</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;DEFINE_ART_MODULE(<a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html">SimWireICARUS</a>)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">//-------------------------------------------------</span></div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#adfd797e7ff6a10d528ede7811c2ed740">  147</a></span>&#160;<a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html">SimWireICARUS</a>::<a class="code" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html">SimWireICARUS</a>(fhicl::ParameterSet <a class="code" href="../../d7/d8e/namespaceSortModuleTimes.html#a805854df4323f914a9a09f4e266b4794">const</a>&amp; pset)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    : EDProducer{pset}</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    , fPedestalEngine(art::ServiceHandle&lt;rndm::NuRandomService&gt;()-&gt;createEngine(*<span class="keyword">this</span>, <span class="stringliteral">&quot;HepJamesRandom&quot;</span>, <span class="stringliteral">&quot;pedestal&quot;</span>, pset, <span class="stringliteral">&quot;SeedPedestal&quot;</span>))</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    , fUncNoiseEngine(art::ServiceHandle&lt;rndm::NuRandomService&gt;()-&gt;createEngine(*<span class="keyword">this</span>, <span class="stringliteral">&quot;HepJamesRandom&quot;</span>, <span class="stringliteral">&quot;noise&quot;</span>,    pset, <span class="stringliteral">&quot;Seed&quot;</span>))</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    , fCorNoiseEngine(art::ServiceHandle&lt;rndm::NuRandomService&gt;()-&gt;createEngine(*<span class="keyword">this</span>, <span class="stringliteral">&quot;HepJamesRandom&quot;</span>, <span class="stringliteral">&quot;cornoise&quot;</span>, pset, <span class="stringliteral">&quot;Seed&quot;</span>))</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    , fGeometry(*lar::providerFrom&lt;geo::Geometry&gt;())</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;{</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    this-&gt;<a class="code" href="../../db/dc1/no__reconfigure__override_8sh.html#a43e0311a5eaaf93e2e55a29bbdd8990a">reconfigure</a>(pset);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    produces&lt; std::vector&lt;raw::RawDigit&gt;&gt;(fOutInstanceLabel);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="../../d2/d1a/namespacedetsim.html#a1694416336c9bd0bab8a3ded1795ccae">fCompression</a> = <a class="code" href="../../d9/d63/namespaceraw.html#a75392ac34cff2e6c998dcc1cb35670c4a76fb4ec9d88a77500a556aab12c35703">raw::kNone</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    TString <a class="code" href="../../d2/d1a/namespacedetsim.html#a9e95297335cc9b0658662fb5659e716a">compression</a>(pset.get&lt; std::string &gt;(<span class="stringliteral">&quot;CompressionType&quot;</span>));</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../d2/d1a/namespacedetsim.html#a9e95297335cc9b0658662fb5659e716a">compression</a>.Contains(<span class="stringliteral">&quot;Huffman&quot;</span>,TString::kIgnoreCase)) fCompression = <a class="code" href="../../d9/d63/namespaceraw.html#a75392ac34cff2e6c998dcc1cb35670c4a91cda9f28ca81dc8c31f9618b50f3e6c">raw::kHuffman</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">//-------------------------------------------------</span></div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#aa78b6cb2edc9bbc9e61a65b135eac468">  164</a></span>&#160;SimWireICARUS::~SimWireICARUS() {}</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">//-------------------------------------------------</span></div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a22eb6190b20259bc5e2e3ae0a9ee1fcc">  166</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/dc1/no__reconfigure__override_8sh.html#a43e0311a5eaaf93e2e55a29bbdd8990a">SimWireICARUS::reconfigure</a>(fhicl::ParameterSet <span class="keyword">const</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;{</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    fDriftEModuleLabel = p.get&lt; art::InputTag       &gt;(<span class="stringliteral">&quot;DriftEModuleLabel&quot;</span>,             <span class="stringliteral">&quot;largeant&quot;</span>);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    fOutInstanceLabel  = p.get&lt; std::string         &gt;(<span class="stringliteral">&quot;OutputInstanceLabel&quot;</span>,                   <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    fProcessAllTPCs    = p.get&lt; <span class="keywordtype">bool</span>                &gt;(<span class="stringliteral">&quot;ProcessAllTPCs&quot;</span>,                     <span class="keyword">false</span>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    fCryostat          = p.get&lt; <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        &gt;(<span class="stringliteral">&quot;Cryostat&quot;</span>,                               0);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    fSimDeadChannels   = p.get&lt; <span class="keywordtype">bool</span>                &gt;(<span class="stringliteral">&quot;SimDeadChannels&quot;</span>,                    <span class="keyword">false</span>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    fSuppressNoSignal  = p.get&lt; <span class="keywordtype">bool</span>                &gt;(<span class="stringliteral">&quot;SuppressNoSignal&quot;</span>,                   <span class="keyword">false</span>);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    fMakeHistograms    = p.get&lt; <span class="keywordtype">bool</span>                &gt;(<span class="stringliteral">&quot;MakeHistograms&quot;</span>,                     <span class="keyword">false</span>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    fSmearPedestals    = p.get&lt; <span class="keywordtype">bool</span>                &gt;(<span class="stringliteral">&quot;SmearPedestals&quot;</span>,                      <span class="keyword">true</span>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    fNumChanPerMB      = p.get&lt; <span class="keywordtype">int</span>                 &gt;(<span class="stringliteral">&quot;NumChanPerMB&quot;</span>,                          32);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    fTest              = p.get&lt; <span class="keywordtype">bool</span>                &gt;(<span class="stringliteral">&quot;Test&quot;</span>,                               <span class="keyword">false</span>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    fTestWire          = p.get&lt; <span class="keywordtype">size_t</span>              &gt;(<span class="stringliteral">&quot;TestWire&quot;</span>,                               0);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    fTestIndex         = p.get&lt; std::vector&lt;size_t&gt; &gt;(<span class="stringliteral">&quot;TestIndex&quot;</span>,          std::vector&lt;size_t&gt;());</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    fTestCharge        = p.get&lt; std::vector&lt;double&gt; &gt;(<span class="stringliteral">&quot;TestCharge&quot;</span>,         std::vector&lt;double&gt;());</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keyword">using</span> TPCValsPair = std::pair&lt;unsigned int, unsigned int&gt;; <span class="comment">// Assume cryostat, TPC </span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">using</span> TPCValsVec  = std::vector&lt;TPCValsPair&gt;;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    TPCValsVec tempIDVec = p.get&lt; TPCValsVec &gt;(<span class="stringliteral">&quot;TPCVec&quot;</span>, TPCValsVec());</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; idPair : tempIDVec)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        fTPCVec.push_back(<a class="code" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a>(idPair.first,idPair.second));</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span>(fTestIndex.size() != fTestCharge.size())</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">throw</span> cet::exception(__FUNCTION__)&lt;&lt;<span class="stringliteral">&quot;# test pulse mismatched: check TestIndex and TestCharge fcl parameters...&quot;</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    std::vector&lt;fhicl::ParameterSet&gt; noiseToolParamSetVec = p.get&lt;std::vector&lt;fhicl::ParameterSet&gt;&gt;(<span class="stringliteral">&quot;NoiseGenToolVec&quot;</span>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; noiseToolParams : noiseToolParamSetVec) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        fNoiseToolVec.push_back(art::make_tool&lt;icarus_tool::IGenNoise&gt;(noiseToolParams));</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">//Map the Shaping Times to the entry position for the noise ADC</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">//level in fNoiseFactInd and fNoiseFactColl</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    fShapingTimeOrder = { {0.6, 0}, {1, 1}, {1.3, 2}, {3.0, 3} };</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">//detector properties information</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> <a class="code" href="../../d2/d1a/namespacedetsim.html#a560adbb3abf95a23d45a53ed25d8c0c7">detProp</a> = art::ServiceHandle&lt;detinfo::DetectorPropertiesService const&gt;()-&gt;DataForJob();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    fNTimeSamples = <a class="code" href="../../d2/d1a/namespacedetsim.html#a560adbb3abf95a23d45a53ed25d8c0c7">detProp</a>.NumberTimeSamples();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    fSignalShapingService = art::ServiceHandle&lt;icarusutil::SignalShapingICARUSService&gt;{}.get();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    fFFT = std::make_unique&lt;icarus_signal_processing::ICARUSFFT&lt;double&gt;&gt;(fNTimeSamples);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;}</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">//-------------------------------------------------</span></div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a9d02bb2d86026d3accc70eef07d56c57">  215</a></span>&#160;<span class="keywordtype">void</span> SimWireICARUS::beginJob()</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;{</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">// get access to the TFile service</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    art::ServiceHandle&lt;art::TFileService&gt; <a class="code" href="../../dd/d33/NuVertexChargeTree__module_8cc.html#aa8ae0901ab0cec47d6c9bf9c22af764f">tfs</a>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// If in test mode create a test data set</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span>(fTest)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">if</span>(fGeometry.Nchannels()&lt;=fTestWire)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordflow">throw</span> cet::exception(__FUNCTION__)&lt;&lt;<span class="stringliteral">&quot;Invalid test wire channel: &quot;</span>&lt;&lt;fTestWire;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        std::vector&lt;unsigned int&gt; channels;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">auto</span> <span class="keyword">const</span>&amp; plane_id : fGeometry.IteratePlaneIDs())</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            channels.push_back(fGeometry.PlaneWireToChannel(plane_id.Plane,fTestWire));</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordtype">double</span> xyz[3] = { <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::numeric_limits&lt;double&gt;::max</a>() };</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">auto</span> <span class="keyword">const</span>&amp; ch : channels)</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            fTestSimChannel_v.push_back(<a class="code" href="../../d0/daf/classsim_1_1SimChannel.html">sim::SimChannel</a>(ch));</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i=0; i&lt;fTestIndex.size(); ++i)</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                fTestSimChannel_v.back().AddIonizationElectrons(-1,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                                                fTestIndex[i],</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                                                fTestCharge[i],</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                                                xyz,</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                                                                <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::numeric_limits&lt;double&gt;::max</a>());</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    fSimCharge     = tfs-&gt;make&lt;TH1F&gt;(<span class="stringliteral">&quot;fSimCharge&quot;</span>, <span class="stringliteral">&quot;simulated charge&quot;</span>, 150, 0, 1500);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    fSimChargeWire = tfs-&gt;make&lt;TH2F&gt;(<span class="stringliteral">&quot;fSimChargeWire&quot;</span>, <span class="stringliteral">&quot;simulated charge&quot;</span>, 5600,0.,5600.,500, 0, 1500);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">//-------------------------------------------------</span></div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a667335c1a3e9ff1c5b38a79ac5cdfb33">  249</a></span>&#160;<span class="keywordtype">void</span> SimWireICARUS::endJob()</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;{}</div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a7d4a177b487027302236167440bc0952">  251</a></span>&#160;<span class="keywordtype">void</span> SimWireICARUS::produce(art::Event&amp; <a class="code" href="../../de/d0f/namespacetca.html#a3bc30aeace71ea50324b602afa2155f2">evt</a>)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;{</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">//--------------------------------------------------------------------</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">// Get all of the services we will be using</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">//--------------------------------------------------------------------</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="comment">//get pedestal conditions</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d4/da6/classlariov_1_1DetPedestalProvider.html">lariov::DetPedestalProvider</a>&amp; pedestalRetrievalAlg = art::ServiceHandle&lt;lariov::DetPedestalService&gt;()-&gt;GetPedestalProvider();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">//channel status for simulating dead channels</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d8/d7e/classlariov_1_1ChannelStatusProvider.html">lariov::ChannelStatusProvider</a>&amp; ChannelStatusProvider = art::ServiceHandle&lt;lariov::ChannelStatusService&gt;()-&gt;GetProvider();</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> clockData = art::ServiceHandle&lt;detinfo::DetectorClocksService const&gt;()-&gt;DataFor(evt);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">// get the geometry to be able to figure out signal types and chan -&gt; plane mappings</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a> maxChannel = fGeometry.Nchannels();</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">//--------------------------------------------------------------------</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment">// Get the SimChannels, which we will use to produce RawDigits</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">//--------------------------------------------------------------------</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="comment">// make a vector of const sim::SimChannel* that has same number</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">// of entries as the number of channels in the detector</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">// and set the entries for the channels that have signal on them</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="comment">// using the chanHandle</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    std::vector&lt;const sim::SimChannel*&gt; channels(maxChannel,<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">if</span>(!fTest)</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        std::vector&lt;const sim::SimChannel*&gt; chanHandle;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        evt.getView(fDriftEModuleLabel,chanHandle);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; simChannel : chanHandle) channels.at(simChannel-&gt;Channel()) = simChannel;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; testChannel : fTestSimChannel_v) channels.at(testChannel.Channel()) = &amp;testChannel;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// make a unique_ptr of sim::SimDigits that allows ownership of the produced</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">// digits to be transferred to the art::Event after the put statement below</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    std::unique_ptr&lt; std::vector&lt;raw::RawDigit&gt;&gt; digcol(<span class="keyword">new</span> std::vector&lt;raw::RawDigit&gt;);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    digcol-&gt;reserve(maxChannel);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">//--------------------------------------------------------------------</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">// Loop over channels a second time and produce the RawDigits by adding together</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// pedestal, noise, and direct &amp; induced charges</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">//--------------------------------------------------------------------</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">// vectors for working in the following for loop</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    std::vector&lt;short&gt;  adcvec(fNTimeSamples, 0);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="../../d3/d35/namespaceicarusutil.html#adf67ac919b7ff78e306c6e10586855d8">icarusutil::TimeVec</a> chargeWork(fNTimeSamples,0.);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="../../d3/d35/namespaceicarusutil.html#adf67ac919b7ff78e306c6e10586855d8">icarusutil::TimeVec</a> zeroCharge(fNTimeSamples,0.);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="../../d3/d35/namespaceicarusutil.html#adf67ac919b7ff78e306c6e10586855d8">icarusutil::TimeVec</a> noisetmp(fNTimeSamples,0.);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">// make sure chargeWork is correct size</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">if</span> (chargeWork.size() &lt; fNTimeSamples) <span class="keywordflow">throw</span> std::range_error(<span class="stringliteral">&quot;SimWireICARUS: chargeWork vector too small&quot;</span>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">//detector properties information</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> <a class="code" href="../../d2/d1a/namespacedetsim.html#a560adbb3abf95a23d45a53ed25d8c0c7">detProp</a> = art::ServiceHandle&lt;detinfo::DetectorPropertiesService const&gt;()-&gt;DataFor(evt);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="comment">// Let the tools know to update to the next event</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; noiseTool : fNoiseToolVec) noiseTool-&gt;nextEvent();</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="comment">// The original implementation would allow the option to skip channels for which there was no MC signal</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="comment">// present. We want to update this so that if there is an MC signal on any wire in a common group (a</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">// motherboard) then we keep all of those wires. This so we can implment noise mitigation techniques</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="comment">// with the simulation</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// Here we determine the first and last channel numbers based on whether we are outputting a single TPC or all</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keyword">using</span> ChannelPair    = std::pair&lt;raw::ChannelID_t,raw::ChannelID_t&gt;;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keyword">using</span> ChannelPairVec = std::vector&lt;ChannelPair&gt;;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    ChannelPairVec channelPairVec;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> <span class="keyword">const</span>&amp; tpcid : fTPCVec) </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> <span class="keyword">const</span>&amp; plane : fGeometry.IteratePlanes(tpcid)) </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <a class="code" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a> <span class="keyword">const</span> planeStartChannel = fGeometry.PlaneWireToChannel({ plane.ID(), 0U });</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <a class="code" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a> <span class="keyword">const</span> planeEndChannel = fGeometry.PlaneWireToChannel({ plane.ID(), plane.Nwires() - 1U }) + 1;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            channelPairVec.emplace_back(planeStartChannel, planeEndChannel);            </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        } <span class="comment">// for planes in TPC</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="comment">// Ok, define the structure for the MB info....</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keyword">using</span> MBWithSignalSet = std::set&lt;raw::ChannelID_t&gt;;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    MBWithSignalSet mbWithSignalSet;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">const</span> ChannelPair&amp; channelPair : channelPairVec)</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="comment">// If we are not suppressing the signal then we need to make sure there is an entry in the set for every motherboard</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keywordflow">if</span> (!fSuppressNoSignal)</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <a class="code" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a> firstMBIdx(channelPair.first / fNumChanPerMB);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <a class="code" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a> endMBIdx(channelPair.second / fNumChanPerMB);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="keywordflow">for</span>(<a class="code" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a> mbIdx = firstMBIdx; mbIdx &lt; endMBIdx; mbIdx++) mbWithSignalSet.insert(mbIdx);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; simChan : channels)</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                <span class="keywordflow">if</span> (simChan)</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                    <a class="code" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a> channel = simChan-&gt;Channel();</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                    <span class="keywordflow">if</span> (channel &gt;= channelPair.first &amp;&amp; channel &lt; channelPair.second) mbWithSignalSet.insert(channel/fNumChanPerMB);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">// Ok, now we can simply loop over MB&#39;s...</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; mb : mbWithSignalSet)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a> baseChannel = fNumChanPerMB * mb;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="comment">// And for a given MB we can loop over the channels it contains</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">for</span>(<a class="code" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a> channel = baseChannel; channel &lt; baseChannel + fNumChanPerMB; channel++)</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <span class="comment">//clean up working vectors from previous iteration of loop</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            adcvec.resize(fNTimeSamples, 0);  <span class="comment">//compression may have changed the size of this vector</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            noisetmp.resize(fNTimeSamples, 0.);     <span class="comment">//just in case</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <span class="comment">//use channel number to set some useful numbers</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            std::vector&lt;geo::WireID&gt; widVec  = fGeometry.ChannelToWire(channel);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <span class="keywordtype">size_t</span>                   plane   = widVec[0].Plane;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="keywordtype">size_t</span>                   wire    = widVec[0].Wire;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="keywordtype">size_t</span>                   board   = wire / 32;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            <span class="comment">//Get pedestal with random gaussian variation</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <span class="keywordtype">float</span> ped_mean = pedestalRetrievalAlg.<a class="code" href="../../d4/da6/classlariov_1_1DetPedestalProvider.html#a66cb9c383ace6cd42dc7a637656d593f">PedMean</a>(channel);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">if</span> (fSmearPedestals )</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                CLHEP::RandGaussQ rGaussPed(fPedestalEngine, 0.0, pedestalRetrievalAlg.<a class="code" href="../../d4/da6/classlariov_1_1DetPedestalProvider.html#a806f60c5934fd1e2dd2027474c889785">PedRms</a>(channel));</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                ped_mean += rGaussPed.fire();</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="comment">//Generate Noise</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordtype">double</span> noise_factor(0.);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <span class="keyword">auto</span>   tempNoiseVec = fSignalShapingService-&gt;GetNoiseFactVec();</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <span class="keywordtype">double</span> shapingTime  = fSignalShapingService-&gt;GetShapingTime(plane);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <span class="keywordtype">double</span> gain         = fSignalShapingService-&gt;GetASICGain(channel) * <a class="code" href="../../d7/d8a/namespacedetinfo.html#a0c4d3d5b85e37497364174c3513ffcae">sampling_rate</a>(clockData) * 1.e-3; <span class="comment">// Gain returned is electrons/us, this converts to electrons/tick</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <span class="keywordtype">int</span>    timeOffset   = fSignalShapingService-&gt;ResponseTOffset(channel);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <span class="comment">// Recover the response function information for this channel</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d3/d41/classicarus__tool_1_1IResponse.html">icarus_tool::IResponse</a>&amp; <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#aee0ff47603929464351716c40bbe3f42">response</a> = fSignalShapingService-&gt;GetResponse(channel);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">if</span> (fShapingTimeOrder.find( shapingTime ) != fShapingTimeOrder.end() )</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                noise_factor = tempNoiseVec[plane].at( fShapingTimeOrder.find( shapingTime )-&gt;second );</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="comment">//Throw exception...</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;SimWireICARUS&quot;</span>)</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;\033[93m&quot;</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;Shaping Time received from signalservices_icarus.fcl is not one of allowed values&quot;</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                &lt;&lt; std::endl</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;Allowed values: 0.6, 1.0, 1.3, 3.0 usec&quot;</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;\033[00m&quot;</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                &lt;&lt; std::endl;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <span class="comment">// Use the desired noise tool to actually generate the noise on this wire</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            fNoiseToolVec[plane]-&gt;generateNoise(fUncNoiseEngine,</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                                                fCorNoiseEngine,</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                                                noisetmp,</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                                                <a class="code" href="../../d2/d1a/namespacedetsim.html#a560adbb3abf95a23d45a53ed25d8c0c7">detProp</a>,</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                                                noise_factor,</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                                                widVec[0],</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                                board);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="comment">// Recover the SimChannel (if one) for this channel</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html">sim::SimChannel</a>* simChan = channels[channel];</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="comment">// If there is something on this wire, and it is not dead, then add the signal to the wire</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <span class="keywordflow">if</span>(simChan &amp;&amp; !(fSimDeadChannels &amp;&amp; (ChannelStatusProvider.<a class="code" href="../../d8/d7e/classlariov_1_1ChannelStatusProvider.html#abda9787c4790d2e8a5cfbd5d3a806fb1">IsBad</a>(channel) || !ChannelStatusProvider.<a class="code" href="../../d8/d7e/classlariov_1_1ChannelStatusProvider.html#a97a889ba0411426ccd1bfa02b72c14f2">IsPresent</a>(channel))))</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                <a class="code" href="../../d0/da2/namespacetrkf.html#a70c1b5920b45babb363628ea6e073ea8">std::fill</a>(chargeWork.begin(), chargeWork.end(), 0.);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                <span class="comment">// loop over the tdcs and grab the number of electrons for each</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">tick</a> = 0; <a class="code" href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">tick</a> &lt; fNTimeSamples; <a class="code" href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">tick</a>++)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                    <span class="keywordtype">int</span> tdc = clockData.TPCTick2TDC(<a class="code" href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">tick</a>);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                    </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                    <span class="comment">// continue if tdc &lt; 0</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                    <span class="keywordflow">if</span>( tdc &lt; 0 ) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                    </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                    <span class="keywordtype">double</span> charge = simChan-&gt;<a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#a7f0a222d6c3b11979cac01aab1245a53">Charge</a>(tdc);  <span class="comment">// Charge returned in number of electrons</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                    </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                    chargeWork[<a class="code" href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">tick</a>] += charge/gain;  <span class="comment">// # electrons / (# electrons/tick)</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                } <span class="comment">// loop over tdcs</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                <span class="comment">// now we have the tempWork for the adjacent wire of interest</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                <span class="comment">// convolve it with the appropriate response function</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                fFFT-&gt;convolute(chargeWork, response.<a class="code" href="../../d3/d41/classicarus__tool_1_1IResponse.html#a97bc0b5160233f479e6a5ea1e5c2f2d4">getConvKernel</a>(), timeOffset);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                <span class="comment">// &quot;Make&quot; the ADC vector</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                MakeADCVec(adcvec, noisetmp, chargeWork, ped_mean);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <span class="comment">// &quot;Make&quot; an ADC vector with zero charge added</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            <span class="keywordflow">else</span> MakeADCVec(adcvec, noisetmp, zeroCharge, ped_mean);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <span class="comment">// add this digit to the collection;</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <span class="comment">// adcvec is copied, not moved: in case of compression, adcvec will show</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="comment">// less data: e.g. if the uncompressed adcvec has 9600 items, after</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            <span class="comment">// compression it will have maybe 5000, but the memory of the other 4600</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <span class="comment">// is still there, although unused; a copy of adcvec will instead have</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="comment">// only 5000 items. All 9600 items of adcvec will be recovered for free</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            <span class="comment">// and used on the next loop.</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <a class="code" href="../../d7/d64/classraw_1_1RawDigit.html">raw::RawDigit</a> rd(channel, fNTimeSamples, adcvec, fCompression);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="keywordflow">if</span>(fMakeHistograms &amp;&amp; plane==2)</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                <span class="keywordtype">short</span> area = std::accumulate(adcvec.begin(),adcvec.end(),0,[](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; val,<span class="keyword">const</span> <span class="keyword">auto</span>&amp; sum){<span class="keywordflow">return</span> sum + val - 400;});</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                <span class="keywordflow">if</span>(area&gt;0)</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                    fSimCharge-&gt;Fill(area);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                    fSimChargeWire-&gt;Fill(widVec[0].Wire,area);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            rd.<a class="code" href="../../d7/d64/classraw_1_1RawDigit.html#aea2b5d1996e023a6df23f0b745eb7471">SetPedestal</a>(ped_mean);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            digcol-&gt;push_back(std::move(rd)); <span class="comment">// we do move the raw digit copy, though</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    evt.put(std::move(digcol), fOutInstanceLabel);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">//-------------------------------------------------</span></div>
<div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#ab11bb1268861f3bddea8380bcda9f280">  489</a></span>&#160;<span class="keywordtype">void</span> SimWireICARUS::MakeADCVec(std::vector&lt;short&gt;&amp; adcvec, <a class="code" href="../../d3/d35/namespaceicarusutil.html#adf67ac919b7ff78e306c6e10586855d8">icarusutil::TimeVec</a> <span class="keyword">const</span>&amp; noisevec,</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                               <a class="code" href="../../d3/d35/namespaceicarusutil.html#adf67ac919b7ff78e306c6e10586855d8">icarusutil::TimeVec</a> <span class="keyword">const</span>&amp; chargevec, <span class="keywordtype">float</span> ped_mean)<span class="keyword"> const</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; fNTimeSamples; ++i)</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordtype">float</span> adcval = noisevec[i] + chargevec[i] + ped_mean;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        adcval = <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(<span class="keywordtype">float</span>(0.), std::min(adcval, adcsaturation));</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        adcvec[i] = std::round(adcval);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    }<span class="comment">// end loop over signal size</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="comment">// compress the adc vector using the desired compression scheme,</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="comment">// if raw::kNone is selected nothing happens to adcvec</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="comment">// This shrinks adcvec, if fCompression is not kNone.</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <a class="code" href="../../d9/d63/namespaceraw.html#a24a5165586cd3126a6ae7e80ee82ae4d">raw::Compress</a>(adcvec, fCompression);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;}</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;}</div>
<div class="ttc" id="namespaceraw_html_a75392ac34cff2e6c998dcc1cb35670c4a91cda9f28ca81dc8c31f9618b50f3e6c"><div class="ttname"><a href="../../d9/d63/namespaceraw.html#a75392ac34cff2e6c998dcc1cb35670c4a91cda9f28ca81dc8c31f9618b50f3e6c">raw::kHuffman</a></div><div class="ttdoc">Huffman Encoding. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d38/RawTypes_8h_source.html#l00010">RawTypes.h:10</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a51c561313f00e1556c1bc2aa82557658"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a51c561313f00e1556c1bc2aa82557658">detsim::SimWireICARUS::fTestIndex</a></div><div class="ttdeci">std::vector&lt; size_t &gt; fTestIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00110">SimWireICARUS_module.cc:110</a></div></div>
<div class="ttc" id="namespacedetsim_html_a9e95297335cc9b0658662fb5659e716a"><div class="ttname"><a href="../../d2/d1a/namespacedetsim.html#a9e95297335cc9b0658662fb5659e716a">detsim::compression</a></div><div class="ttdeci">TString compression(pset.get&lt; std::string &gt;(&quot;CompressionType&quot;))</div></div>
<div class="ttc" id="namespaceraw_html_a5cccb6911a757c829a5ed5c61ad85a21"><div class="ttname"><a href="../../d9/d63/namespaceraw.html#a5cccb6911a757c829a5ed5c61ad85a21">raw::Compress_t</a></div><div class="ttdeci">enum raw::_compress Compress_t</div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_ad96476d4eecdccea5a923ca4cf4ce8c8"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#ad96476d4eecdccea5a923ca4cf4ce8c8">detsim::SimWireICARUS::fCompression</a></div><div class="ttdeci">raw::Compress_t fCompression</div><div class="ttdoc">compression type to use </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00095">SimWireICARUS_module.cc:95</a></div></div>
<div class="ttc" id="classraw_1_1RawDigit_html"><div class="ttname"><a href="../../d7/d64/classraw_1_1RawDigit.html">raw::RawDigit</a></div><div class="ttdoc">Collection of charge vs time digitized from a single readout channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5a/RawDigit_8h_source.html#l00069">RawDigit.h:69</a></div></div>
<div class="ttc" id="classsim_1_1SimChannel_html"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html">sim::SimChannel</a></div><div class="ttdoc">Energy deposited on a readout channel by simulated tracks. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00140">SimChannel.h:140</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a25361aad7b28f5407494a6355fe62765"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a25361aad7b28f5407494a6355fe62765">detsim::SimWireICARUS::TPCIDVec</a></div><div class="ttdeci">std::vector&lt; geo::TPCID &gt; TPCIDVec</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00088">SimWireICARUS_module.cc:88</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a26977bf69a91ca19a7cec6a34f3f4f32"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a26977bf69a91ca19a7cec6a34f3f4f32">detsim::SimWireICARUS::fMakeHistograms</a></div><div class="ttdeci">bool fMakeHistograms</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00106">SimWireICARUS_module.cc:106</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a2ab637a8243841f49b1174476248e636"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a2ab637a8243841f49b1174476248e636">detsim::SimWireICARUS::fSimCharge</a></div><div class="ttdeci">TH1F * fSimCharge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00113">SimWireICARUS_module.cc:113</a></div></div>
<div class="ttc" id="classlariov_1_1ChannelStatusProvider_html_abda9787c4790d2e8a5cfbd5d3a806fb1"><div class="ttname"><a href="../../d8/d7e/classlariov_1_1ChannelStatusProvider.html#abda9787c4790d2e8a5cfbd5d3a806fb1">lariov::ChannelStatusProvider::IsBad</a></div><div class="ttdeci">virtual bool IsBad(raw::ChannelID_t channel) const =0</div><div class="ttdoc">Returns whether the specified channel is bad in the current run. </div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a4d839477dea69d8d7d74870adf0dcdc1"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a4d839477dea69d8d7d74870adf0dcdc1">detsim::SimWireICARUS::fTestCharge</a></div><div class="ttdeci">std::vector&lt; double &gt; fTestCharge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00111">SimWireICARUS_module.cc:111</a></div></div>
<div class="ttc" id="classicarus__tool_1_1IResponse_html_a97bc0b5160233f479e6a5ea1e5c2f2d4"><div class="ttname"><a href="../../d3/d41/classicarus__tool_1_1IResponse.html#a97bc0b5160233f479e6a5ea1e5c2f2d4">icarus_tool::IResponse::getConvKernel</a></div><div class="ttdeci">virtual const icarusutil::FrequencyVec &amp; getConvKernel() const =0</div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a7d92e5e7a3bd40d7e1f135901ea270e3"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a7d92e5e7a3bd40d7e1f135901ea270e3">detsim::SimWireICARUS::fNoiseToolVec</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; icarus_tool::IGenNoise &gt; &gt; fNoiseToolVec</div><div class="ttdoc">Tool for generating noise. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00104">SimWireICARUS_module.cc:104</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a24c8335057af14a9b508d5ac18999ce5"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a></div><div class="ttdeci">pdgs p</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00022">selectors.fcl:22</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a9b3db6aba00c26b8f8e4aaf231fda84d"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a9b3db6aba00c26b8f8e4aaf231fda84d">detsim::SimWireICARUS::fUncNoiseEngine</a></div><div class="ttdeci">CLHEP::HepRandomEngine &amp; fUncNoiseEngine</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00118">SimWireICARUS_module.cc:118</a></div></div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="RawDigit_8h_html"><div class="ttname"><a href="../../d9/d5a/RawDigit_8h.html">RawDigit.h</a></div><div class="ttdoc">Definition of basic raw digits. </div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a58a73cab8d65b2df054e65c3ad2992ce"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a58a73cab8d65b2df054e65c3ad2992ce">detsim::SimWireICARUS::fTest</a></div><div class="ttdeci">bool fTest</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00107">SimWireICARUS_module.cc:107</a></div></div>
<div class="ttc" id="no__reconfigure__override_8sh_html_a43e0311a5eaaf93e2e55a29bbdd8990a"><div class="ttname"><a href="../../db/dc1/no__reconfigure__override_8sh.html#a43e0311a5eaaf93e2e55a29bbdd8990a">reconfigure</a></div><div class="ttdeci">for pfile in ack l reconfigure(.*) override&quot;` do echo &quot;checking $</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc1/no__reconfigure__override_8sh_source.html#l00003">no_reconfigure_override.sh:3</a></div></div>
<div class="ttc" id="DetPedestalProvider_8h_html"><div class="ttname"><a href="../../de/deb/DetPedestalProvider_8h.html">DetPedestalProvider.h</a></div></div>
<div class="ttc" id="namespaceraw_html_a75392ac34cff2e6c998dcc1cb35670c4a76fb4ec9d88a77500a556aab12c35703"><div class="ttname"><a href="../../d9/d63/namespaceraw.html#a75392ac34cff2e6c998dcc1cb35670c4a76fb4ec9d88a77500a556aab12c35703">raw::kNone</a></div><div class="ttdoc">no compression </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d38/RawTypes_8h_source.html#l00009">RawTypes.h:9</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_1_1ResponseParams_html_ab1320c39fb7c9e586ca0900f5ccf8aba"><div class="ttname"><a href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html#ab1320c39fb7c9e586ca0900f5ccf8aba">detsim::SimWireICARUS::ResponseParams::ResponseParams</a></div><div class="ttdeci">ResponseParams(double charge, size_t time)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00128">SimWireICARUS_module.cc:128</a></div></div>
<div class="ttc" id="DetPedestalService_8h_html"><div class="ttname"><a href="../../de/d04/DetPedestalService_8h.html">DetPedestalService.h</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a95c53f6168eaf453a6c8a02cf187d47d"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a95c53f6168eaf453a6c8a02cf187d47d">detsim::SimWireICARUS::fSmearPedestals</a></div><div class="ttdeci">bool fSmearPedestals</div><div class="ttdoc">If True then we smear the pedestals. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00101">SimWireICARUS_module.cc:101</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a454ef3e85b05fc39414c26465151b796"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a454ef3e85b05fc39414c26465151b796">detsim::SimWireICARUS::fSimChargeWire</a></div><div class="ttdeci">TH2F * fSimChargeWire</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00114">SimWireICARUS_module.cc:114</a></div></div>
<div class="ttc" id="DetectorPropertiesService_8h_html"><div class="ttname"><a href="../../de/df8/DetectorPropertiesService_8h.html">DetectorPropertiesService.h</a></div></div>
<div class="ttc" id="GeometryCore_8h_html"><div class="ttname"><a href="../../db/de7/GeometryCore_8h.html">GeometryCore.h</a></div><div class="ttdoc">Access the description of detector geometry. </div></div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_aee0ff47603929464351716c40bbe3f42"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#aee0ff47603929464351716c40bbe3f42">response</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE response</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00010">pmttriggerproducer.fcl:10</a></div></div>
<div class="ttc" id="classlariov_1_1ChannelStatusProvider_html_a97a889ba0411426ccd1bfa02b72c14f2"><div class="ttname"><a href="../../d8/d7e/classlariov_1_1ChannelStatusProvider.html#a97a889ba0411426ccd1bfa02b72c14f2">lariov::ChannelStatusProvider::IsPresent</a></div><div class="ttdeci">virtual bool IsPresent(raw::ChannelID_t channel) const =0</div><div class="ttdoc">Returns whether the specified channel is physical and connected to wire. </div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_1_1ResponseParams_html_a9aed6142c8830a6a4367f1f37f0c1f9e"><div class="ttname"><a href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html#a9aed6142c8830a6a4367f1f37f0c1f9e">detsim::SimWireICARUS::ResponseParams::m_time</a></div><div class="ttdeci">size_t m_time</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00133">SimWireICARUS_module.cc:133</a></div></div>
<div class="ttc" id="classicarus__tool_1_1IResponse_html"><div class="ttname"><a href="../../d3/d41/classicarus__tool_1_1IResponse.html">icarus_tool::IResponse</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/IResponse_8h_source.html#l00035">IResponse.h:35</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_1_1ResponseParams_html_a45ee72f587fe409547394dcdbd8722d2"><div class="ttname"><a href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html#a45ee72f587fe409547394dcdbd8722d2">detsim::SimWireICARUS::ResponseParams::getTime</a></div><div class="ttdeci">size_t getTime()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00130">SimWireICARUS_module.cc:130</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a5833c99c2593df5af8861824eb3d90a7"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a5833c99c2593df5af8861824eb3d90a7">detsim::SimWireICARUS::fOutInstanceLabel</a></div><div class="ttdeci">std::string fOutInstanceLabel</div><div class="ttdoc">The label to apply to the output data product. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00091">SimWireICARUS_module.cc:91</a></div></div>
<div class="ttc" id="classsim_1_1SimChannel_html_a7f0a222d6c3b11979cac01aab1245a53"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#a7f0a222d6c3b11979cac01aab1245a53">sim::SimChannel::Charge</a></div><div class="ttdeci">double Charge(TDC_t tdc) const </div><div class="ttdoc">Returns the total number of ionization electrons on this channel in the specified TDC...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1c/SimChannel_8cxx_source.html#l00134">SimChannel.cxx:134</a></div></div>
<div class="ttc" id="raw_8h_html"><div class="ttname"><a href="../../d6/df4/raw_8h.html">raw.h</a></div><div class="ttdoc">Collect all the RawData header files together. </div></div>
<div class="ttc" id="classgeo_1_1PlaneGeo_html"><div class="ttname"><a href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a></div><div class="ttdoc">Geometry information for a single wire plane.The plane is represented in the geometry by a solid whic...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/PlaneGeo_8h_source.html#l00082">PlaneGeo.h:82</a></div></div>
<div class="ttc" id="namespaceicarusutil_html_adf67ac919b7ff78e306c6e10586855d8"><div class="ttname"><a href="../../d3/d35/namespaceicarusutil.html#adf67ac919b7ff78e306c6e10586855d8">icarusutil::TimeVec</a></div><div class="ttdeci">std::vector&lt; SigProcPrecision &gt; TimeVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dfa/SignalProcessingDefs_8h_source.html#l00021">SignalProcessingDefs.h:21</a></div></div>
<div class="ttc" id="namespaceSortModuleTimes_html_a805854df4323f914a9a09f4e266b4794"><div class="ttname"><a href="../../d7/d8e/namespaceSortModuleTimes.html#a805854df4323f914a9a09f4e266b4794">SortModuleTimes.const</a></div><div class="ttdeci">string const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/SortModuleTimes_8py_source.html#l00871">SortModuleTimes.py:871</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_aa5326f828a6982bf58dd57bf915206eb"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#aa5326f828a6982bf58dd57bf915206eb">detsim::SimWireICARUS::fSuppressNoSignal</a></div><div class="ttdeci">bool fSuppressNoSignal</div><div class="ttdoc">If no signal on wire (simchannel) then suppress the channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00100">SimWireICARUS_module.cc:100</a></div></div>
<div class="ttc" id="namespaceutil_1_1quantities_html_a1a08bc762b79d6e1d7816c34d3e36f78"><div class="ttname"><a href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">util::quantities::tick</a></div><div class="ttdeci">tick_as&lt;&gt; tick</div><div class="ttdoc">Tick number, represented by std::ptrdiff_t. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d57/electronics_8h_source.html#l00075">electronics.h:75</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a4b6b552863b4f05a7995f48eaf4ddf80"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a4b6b552863b4f05a7995f48eaf4ddf80">detsim::SimWireICARUS::fTPCVec</a></div><div class="ttdeci">TPCIDVec fTPCVec</div><div class="ttdoc">List of TPCs to process for this instance of the module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00094">SimWireICARUS_module.cc:94</a></div></div>
<div class="ttc" id="namespacetrkf_html_a70c1b5920b45babb363628ea6e073ea8"><div class="ttname"><a href="../../d0/da2/namespacetrkf.html#a70c1b5920b45babb363628ea6e073ea8">trkf::fill</a></div><div class="ttdeci">void fill(const art::PtrVector&lt; recob::Hit &gt; &amp;hits, int only_plane)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/KHitContainer_8cxx_source.html#l00018">KHitContainer.cxx:18</a></div></div>
<div class="ttc" id="classlariov_1_1ChannelStatusProvider_html"><div class="ttname"><a href="../../d8/d7e/classlariov_1_1ChannelStatusProvider.html">lariov::ChannelStatusProvider</a></div><div class="ttdoc">Class providing information about the quality of channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/ded/ChannelStatusProvider_8h_source.html#l00049">ChannelStatusProvider.h:49</a></div></div>
<div class="ttc" id="structgeo_1_1TPCID_html"><div class="ttname"><a href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a></div><div class="ttdoc">The data type to uniquely identify a TPC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00386">geo_types.h:386</a></div></div>
<div class="ttc" id="namespacedetsim_html_a1694416336c9bd0bab8a3ded1795ccae"><div class="ttname"><a href="../../d2/d1a/namespacedetsim.html#a1694416336c9bd0bab8a3ded1795ccae">detsim::fCompression</a></div><div class="ttdeci">fCompression</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfd/SimWireSBND__module_8cc_source.html#l00123">SimWireSBND_module.cc:123</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a></div><div class="ttdoc">Description of geometry of one entire detector. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de7/GeometryCore_8h_source.html#l01468">GeometryCore.h:1468</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a28c406ea0150feb9eb409b6601d9fd7b"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a28c406ea0150feb9eb409b6601d9fd7b">detsim::SimWireICARUS::fNumChanPerMB</a></div><div class="ttdeci">int fNumChanPerMB</div><div class="ttdoc">Number of channels per motherboard. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00102">SimWireICARUS_module.cc:102</a></div></div>
<div class="ttc" id="classlariov_1_1DetPedestalProvider_html_a66cb9c383ace6cd42dc7a637656d593f"><div class="ttname"><a href="../../d4/da6/classlariov_1_1DetPedestalProvider.html#a66cb9c383ace6cd42dc7a637656d593f">lariov::DetPedestalProvider::PedMean</a></div><div class="ttdeci">virtual float PedMean(raw::ChannelID_t ch) const =0</div><div class="ttdoc">Retrieve pedestal information. </div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_1_1ResponseParams_html_ad835b46acdc96d9c1db74d2156f802ba"><div class="ttname"><a href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html#ad835b46acdc96d9c1db74d2156f802ba">detsim::SimWireICARUS::ResponseParams::m_charge</a></div><div class="ttdeci">double m_charge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00132">SimWireICARUS_module.cc:132</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a59e2a9dd1d1c6a5bddff19cb95a91917"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a59e2a9dd1d1c6a5bddff19cb95a91917">detsim::SimWireICARUS::fSimDeadChannels</a></div><div class="ttdeci">bool fSimDeadChannels</div><div class="ttdoc">if True, simulate dead channels using the ChannelStatus service. If false, do not simulate dead chann...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00099">SimWireICARUS_module.cc:99</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a66d437dc41c989c343e6e39f579424be"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a66d437dc41c989c343e6e39f579424be">detsim::SimWireICARUS::fFFT</a></div><div class="ttdeci">FFTPointer fFFT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00137">SimWireICARUS_module.cc:137</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a0fddb1040a9856ee3d18fb0e076a93bc"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a0fddb1040a9856ee3d18fb0e076a93bc">detsim::SimWireICARUS::fGeometry</a></div><div class="ttdeci">const geo::GeometryCore &amp; fGeometry</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00140">SimWireICARUS_module.cc:140</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_ab120e7d01e56d256597dab856c4822f9"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#ab120e7d01e56d256597dab856c4822f9">detsim::SimWireICARUS::fShapingTimeOrder</a></div><div class="ttdeci">std::map&lt; double, int &gt; fShapingTimeOrder</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00097">SimWireICARUS_module.cc:97</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_ab399690435f7d97c99b603d0ec32bd1c"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#ab399690435f7d97c99b603d0ec32bd1c">detsim::SimWireICARUS::fCorNoiseEngine</a></div><div class="ttdeci">CLHEP::HepRandomEngine &amp; fCorNoiseEngine</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00119">SimWireICARUS_module.cc:119</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a3e49c6e6ac772379fcaeb26cdc501902"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a3e49c6e6ac772379fcaeb26cdc501902">detsim::SimWireICARUS::FFTPointer</a></div><div class="ttdeci">std::unique_ptr&lt; icarus_signal_processing::ICARUSFFT&lt; double &gt;&gt; FFTPointer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00136">SimWireICARUS_module.cc:136</a></div></div>
<div class="ttc" id="BlipMaker__module_8cc_html_aceaf5d7ae408d0b68e850d3d0064c661"><div class="ttname"><a href="../../d4/d97/BlipMaker__module_8cc.html#aceaf5d7ae408d0b68e850d3d0064c661">m_charge</a></div><div class="ttdeci">m_charge</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d97/BlipMaker__module_8cc_source.html#l00051">BlipMaker_module.cc:51</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a4d868af9e0b88d2d65e75f39504e03e1"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a4d868af9e0b88d2d65e75f39504e03e1">detsim::SimWireICARUS::fPedestalEngine</a></div><div class="ttdeci">CLHEP::HepRandomEngine &amp; fPedestalEngine</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00117">SimWireICARUS_module.cc:117</a></div></div>
<div class="ttc" id="classraw_1_1RawDigit_html_aea2b5d1996e023a6df23f0b745eb7471"><div class="ttname"><a href="../../d7/d64/classraw_1_1RawDigit.html#aea2b5d1996e023a6df23f0b745eb7471">raw::RawDigit::SetPedestal</a></div><div class="ttdeci">void SetPedestal(float ped, float sigma=1.)</div><div class="ttdoc">Set pedestal and its RMS (the latter is 0 by default) </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d75/RawDigit_8cxx_source.html#l00068">RawDigit.cxx:68</a></div></div>
<div class="ttc" id="TriggerData_8h_html"><div class="ttname"><a href="../../d9/d16/TriggerData_8h.html">TriggerData.h</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a70af718e2d85c3b2a7300c8f30164fd6"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a70af718e2d85c3b2a7300c8f30164fd6">detsim::SimWireICARUS::fCryostat</a></div><div class="ttdeci">unsigned int fCryostat</div><div class="ttdoc">If ProcessAllTPCs is false then cryostat to use. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00093">SimWireICARUS_module.cc:93</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a777f005fa06c077fe5fcb865b16989eb"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a777f005fa06c077fe5fcb865b16989eb">detsim::SimWireICARUS::fProcessAllTPCs</a></div><div class="ttdeci">bool fProcessAllTPCs</div><div class="ttdoc">If true we process all TPCs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00092">SimWireICARUS_module.cc:92</a></div></div>
<div class="ttc" id="LArFFT_8h_html"><div class="ttname"><a href="../../d4/d33/LArFFT_8h.html">LArFFT.h</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a0dcb3b2f6b8613ea4cda4eb97fdf3311"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a0dcb3b2f6b8613ea4cda4eb97fdf3311">detsim::SimWireICARUS::fNTimeSamples</a></div><div class="ttdeci">unsigned int fNTimeSamples</div><div class="ttdoc">number of ADC readout samples in all readout frames (per event) </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00096">SimWireICARUS_module.cc:96</a></div></div>
<div class="ttc" id="SignalShapingICARUSService__service_8h_html"><div class="ttname"><a href="../../d8/d00/SignalShapingICARUSService__service_8h.html">SignalShapingICARUSService_service.h</a></div></div>
<div class="ttc" id="SimChannel_8h_html"><div class="ttname"><a href="../../d6/dde/SimChannel_8h.html">SimChannel.h</a></div><div class="ttdoc">object containing MC truth information necessary for making RawDigits and doing back tracking ...</div></div>
<div class="ttc" id="DetectorClocksService_8h_html"><div class="ttname"><a href="../../d3/dba/DetectorClocksService_8h.html">DetectorClocksService.h</a></div></div>
<div class="ttc" id="ChannelStatusProvider_8h_html"><div class="ttname"><a href="../../d7/ded/ChannelStatusProvider_8h.html">ChannelStatusProvider.h</a></div><div class="ttdoc">Interface for experiment-specific channel quality info provider. </div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html">detsim::SimWireICARUS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00070">SimWireICARUS_module.cc:70</a></div></div>
<div class="ttc" id="classlariov_1_1DetPedestalProvider_html_a806f60c5934fd1e2dd2027474c889785"><div class="ttname"><a href="../../d4/da6/classlariov_1_1DetPedestalProvider.html#a806f60c5934fd1e2dd2027474c889785">lariov::DetPedestalProvider::PedRms</a></div><div class="ttdeci">virtual float PedRms(raw::ChannelID_t ch) const =0</div></div>
<div class="ttc" id="namespaceraw_html_a24a5165586cd3126a6ae7e80ee82ae4d"><div class="ttname"><a href="../../d9/d63/namespaceraw.html#a24a5165586cd3126a6ae7e80ee82ae4d">raw::Compress</a></div><div class="ttdeci">void Compress(std::vector&lt; short &gt; &amp;adc, raw::Compress_t compress)</div><div class="ttdoc">Compresses a raw data buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df4/raw_8cxx_source.html#l00019">raw.cxx:19</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_1_1ResponseParams_html"><div class="ttname"><a href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html">detsim::SimWireICARUS::ResponseParams</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00126">SimWireICARUS_module.cc:126</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_ad65dd5851f1bb4a190cd4697423158d4"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#ad65dd5851f1bb4a190cd4697423158d4">detsim::SimWireICARUS::fTestSimChannel_v</a></div><div class="ttdeci">std::vector&lt; sim::SimChannel &gt; fTestSimChannel_v</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00108">SimWireICARUS_module.cc:108</a></div></div>
<div class="ttc" id="IGenNoise_8h_html"><div class="ttname"><a href="../../da/d30/IGenNoise_8h.html">IGenNoise.h</a></div><div class="ttdoc">This is the interface class for a tool to handle a GenNoise for the overall response. </div></div>
<div class="ttc" id="classlariov_1_1DetPedestalProvider_html"><div class="ttname"><a href="../../d4/da6/classlariov_1_1DetPedestalProvider.html">lariov::DetPedestalProvider</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/deb/DetPedestalProvider_8h_source.html#l00025">DetPedestalProvider.h:25</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a905a12b1a36d11d247137386ce2070f2"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a905a12b1a36d11d247137386ce2070f2">detsim::SimWireICARUS::fSignalShapingService</a></div><div class="ttdeci">icarusutil::SignalShapingICARUSService * fSignalShapingService</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00141">SimWireICARUS_module.cc:141</a></div></div>
<div class="ttc" id="NuVertexChargeTree__module_8cc_html_aa8ae0901ab0cec47d6c9bf9c22af764f"><div class="ttname"><a href="../../dd/d33/NuVertexChargeTree__module_8cc.html#aa8ae0901ab0cec47d6c9bf9c22af764f">tfs</a></div><div class="ttdeci">art::ServiceHandle&lt; art::TFileService &gt; tfs</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d33/NuVertexChargeTree__module_8cc_source.html#l00253">NuVertexChargeTree_module.cc:253</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_1_1ResponseParams_html_a8e1917b6b2ed033cb33eb7e93a31148d"><div class="ttname"><a href="../../d7/dcd/classdetsim_1_1SimWireICARUS_1_1ResponseParams.html#a8e1917b6b2ed033cb33eb7e93a31148d">detsim::SimWireICARUS::ResponseParams::getCharge</a></div><div class="ttdeci">double getCharge()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00129">SimWireICARUS_module.cc:129</a></div></div>
<div class="ttc" id="namespacetca_html_a3bc30aeace71ea50324b602afa2155f2"><div class="ttname"><a href="../../de/d0f/namespacetca.html#a3bc30aeace71ea50324b602afa2155f2">tca::evt</a></div><div class="ttdeci">TCEvent evt</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/DataStructs_8cxx_source.html#l00007">DataStructs.cxx:7</a></div></div>
<div class="ttc" id="namespaceraw_html_abfe7badfcad7fe0e9474829fbd1408b2"><div class="ttname"><a href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a></div><div class="ttdeci">unsigned int ChannelID_t</div><div class="ttdoc">Type representing the ID of a readout channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d38/RawTypes_8h_source.html#l00028">RawTypes.h:28</a></div></div>
<div class="ttc" id="ChannelStatusService_8h_html"><div class="ttname"><a href="../../d8/da1/ChannelStatusService_8h.html">ChannelStatusService.h</a></div><div class="ttdoc">Interface for experiment-specific service for channel quality info. </div></div>
<div class="ttc" id="namespacedetinfo_html_a0c4d3d5b85e37497364174c3513ffcae"><div class="ttname"><a href="../../d7/d8a/namespacedetinfo.html#a0c4d3d5b85e37497364174c3513ffcae">detinfo::sampling_rate</a></div><div class="ttdeci">double sampling_rate(DetectorClocksData const &amp;data)</div><div class="ttdoc">Returns the period of the TPC readout electronics clock. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5b/DetectorClocksData_8h_source.html#l00643">DetectorClocksData.h:643</a></div></div>
<div class="ttc" id="sim_8h_html"><div class="ttname"><a href="../../d2/d94/sim_8h.html">sim.h</a></div><div class="ttdoc">Tools and modules for checking out the basics of the Monte Carlo. </div></div>
<div class="ttc" id="BlipMaker__module_8cc_html_af974e25af518f7046ad6d72e67eadeda"><div class="ttname"><a href="../../d4/d97/BlipMaker__module_8cc.html#af974e25af518f7046ad6d72e67eadeda">m_time</a></div><div class="ttdeci">m_time</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d97/BlipMaker__module_8cc_source.html#l00050">BlipMaker_module.cc:50</a></div></div>
<div class="ttc" id="Geometry_8h_html"><div class="ttname"><a href="../../d3/d8b/Geometry_8h.html">Geometry.h</a></div><div class="ttdoc">art framework interface to geometry description </div></div>
<div class="ttc" id="namespacedetsim_html_a560adbb3abf95a23d45a53ed25d8c0c7"><div class="ttname"><a href="../../d2/d1a/namespacedetsim.html#a560adbb3abf95a23d45a53ed25d8c0c7">detsim::detProp</a></div><div class="ttdeci">auto const detProp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/SimWire__module_8cc_source.html#l00154">SimWire_module.cc:154</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_a52cf306dbc1209a06a1253113a1994b5"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#a52cf306dbc1209a06a1253113a1994b5">detsim::SimWireICARUS::fTestWire</a></div><div class="ttdeci">size_t fTestWire</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00109">SimWireICARUS_module.cc:109</a></div></div>
<div class="ttc" id="classicarusutil_1_1SignalShapingICARUSService_html"><div class="ttname"><a href="../../d4/db4/classicarusutil_1_1SignalShapingICARUSService.html">icarusutil::SignalShapingICARUSService</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/SignalShapingICARUSService__service_8h_source.html#l00096">SignalShapingICARUSService_service.h:96</a></div></div>
<div class="ttc" id="classdetsim_1_1SimWireICARUS_html_af5d7fa3437a14ff46125a5d508b8d979"><div class="ttname"><a href="../../d9/d0e/classdetsim_1_1SimWireICARUS.html#af5d7fa3437a14ff46125a5d508b8d979">detsim::SimWireICARUS::fDriftEModuleLabel</a></div><div class="ttdeci">art::InputTag fDriftEModuleLabel</div><div class="ttdoc">module making the ionization electrons </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d2a/SimWireICARUS__module_8cc_source.html#l00090">SimWireICARUS_module.cc:90</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
