<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>evgen::HepMCFileGen Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d4/d4d/namespaceevgen.html">evgen</a></li><li class="navelem"><a class="el" href="../../dc/de9/classevgen_1_1HepMCFileGen.html">HepMCFileGen</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d6/dc7/classevgen_1_1HepMCFileGen-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">evgen::HepMCFileGen Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for evgen::HepMCFileGen:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../dc/de9/classevgen_1_1HepMCFileGen.png" usemap="#evgen::HepMCFileGen_map" alt=""/>
  <map id="evgen::HepMCFileGen_map" name="evgen::HepMCFileGen_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2955b00c6e36a25efc91e8522fecf5bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a2955b00c6e36a25efc91e8522fecf5bd">HepMCFileGen</a> (fhicl::ParameterSet const &amp;<a class="el" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>)</td></tr>
<tr class="separator:a2955b00c6e36a25efc91e8522fecf5bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49c617cbe3a8ecbf09ccaffb64a171c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#af49c617cbe3a8ecbf09ccaffb64a171c">produce</a> (art::Event &amp;<a class="el" href="../../d9/dd2/selectors_8fcl.html#ad3fec9b8b789cdb7b6899bd350d3a726">e</a>) override</td></tr>
<tr class="separator:af49c617cbe3a8ecbf09ccaffb64a171c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac95afde949c04daa41b2f4f5452d1bd7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#ac95afde949c04daa41b2f4f5452d1bd7">beginJob</a> () override</td></tr>
<tr class="separator:ac95afde949c04daa41b2f4f5452d1bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c6f2b4e9dfc15d7a266c9131f3b45bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a9c6f2b4e9dfc15d7a266c9131f3b45bd">beginRun</a> (art::Run &amp;run) override</td></tr>
<tr class="separator:a9c6f2b4e9dfc15d7a266c9131f3b45bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c08a3da80e2bccdb6fda3d68dca1699"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a6c08a3da80e2bccdb6fda3d68dca1699">endSubRun</a> (art::SubRun &amp;sr) override</td></tr>
<tr class="separator:a6c08a3da80e2bccdb6fda3d68dca1699"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a6c855132c34d213175f0016e2e158387"><td class="memItemLeft" align="right" valign="top">std::ifstream&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a6c855132c34d213175f0016e2e158387">open_file</a> ()</td></tr>
<tr class="separator:a6c855132c34d213175f0016e2e158387"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2fb7385f897d164ce78844efba0de973"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a2fb7385f897d164ce78844efba0de973">fInputFilePath</a></td></tr>
<tr class="memdesc:a2fb7385f897d164ce78844efba0de973"><td class="mdescLeft">&#160;</td><td class="mdescRight">Path to the HEPMC input file, relative to <code>FW_SEARCH_PATH</code>.  <a href="#a2fb7385f897d164ce78844efba0de973">More...</a><br/></td></tr>
<tr class="separator:a2fb7385f897d164ce78844efba0de973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f86c85779d2a150621516e58aa591a7"><td class="memItemLeft" align="right" valign="top">std::ifstream *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a5f86c85779d2a150621516e58aa591a7">fInputFile</a></td></tr>
<tr class="separator:a5f86c85779d2a150621516e58aa591a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cc38e5b9e71df21b28b379ae49389c9"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a8cc38e5b9e71df21b28b379ae49389c9">fEventsPerPOT</a></td></tr>
<tr class="memdesc:a8cc38e5b9e71df21b28b379ae49389c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of events per POT (to be set)  <a href="#a8cc38e5b9e71df21b28b379ae49389c9">More...</a><br/></td></tr>
<tr class="separator:a8cc38e5b9e71df21b28b379ae49389c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3544ec61fa1152ae05ebc890dc177c93"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a3544ec61fa1152ae05ebc890dc177c93">fEventsPerSubRun</a></td></tr>
<tr class="memdesc:a3544ec61fa1152ae05ebc890dc177c93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keeps track of the number of processed events per subrun.  <a href="#a3544ec61fa1152ae05ebc890dc177c93">More...</a><br/></td></tr>
<tr class="separator:a3544ec61fa1152ae05ebc890dc177c93"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This module assumes that the input file has the hepevt format for each event to be simulated. In brief each event contains at least two lines. The first line contains two entries, the event number (which is ignored in ART/LArSoft) and the number of particles in the event. Each following line containes 15 entries to describe each particle. The entries are:</p>
<ol type="1">
<li>status code (should be set to 1 for any particle to be tracked, others won't be tracked)</li>
<li>the pdg code for the particle</li>
<li>the entry of the first mother for this particle in the event, 0 means no mother</li>
<li>the entry of the second mother for this particle in the event, 0 means no mother</li>
<li>the entry of the first daughter for this particle in the event, 0 means no daughter</li>
<li>the entry of the second daughter for this particle in the event, 0 means no daughter</li>
<li>x component of the particle momentum</li>
<li>y component of the particle momentum</li>
<li>z component of the particle momentum</li>
<li>energy of the particle</li>
<li>mass of the particle</li>
<li>x position of the particle initial position</li>
<li>y position of the particle initial position</li>
<li>z position of the particle initial position</li>
<li>time of the particle production</li>
</ol>
<p>For example, if you want to simulate a single muon with a 5 GeV energy moving only in the z direction, the entry would be (see onemuon.hepmc): </p>
<div class="fragment"><div class="line">0 1</div>
<div class="line">1 13 0 0 0 0 0. 0. 1.0 5.0011 0.105 1.0 1.0 1.0 0.0</div>
</div><!-- fragment --><p> Or if you want to simulate a muon neutrino event (see oneneutrino.hepmc): </p>
<div class="fragment"><div class="line">0 3</div>
<div class="line">0 14 0 0 0 0 0.00350383 0.002469 0.589751 0.589766 0 208.939 63.9671 10.9272 4026.32</div>
<div class="line">1 13 1 0 0 0 -0.168856 -0.0498011 0.44465 0.489765 105.658 208.939 63.9671 10.9272 4026.32</div>
<div class="line">1 2212 1 0 0 0 0.151902 -0.124578 0.0497377 0.959907 938.272 208.939 63.9671 10.9272 4026.32</div>
</div><!-- fragment --><p> here the first particle is the initial state neutrino (status code 0, meaning initial state, not to be prooagated by GEANT). The other particles are the initial state particles. For the neutrino, write ccnc in place of 1st daugther, and mode (qe, res, ...) in place of 2nd daugther.</p>
<p>There are some assumptions that go into using this format that may not be obvious. The first is that only particles with status code = 1 are tracked in the LArSoft/Geant4 combination making the mother daughter relations somewhat irrelevant. That also means that you should let Geant4 handle any decays.</p>
<p>The units in LArSoft are cm for distances and ns for time. The use of <code>TLorentzVector</code> below does not imply space and time have the same units (do not use <code>TLorentzVector::Boost()</code>). </p>

<p>Definition at line <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00101">101</a> of file <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html">HepMCFileGen_module.cc</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2955b00c6e36a25efc91e8522fecf5bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">evgen::HepMCFileGen::HepMCFileGen </td>
          <td>(</td>
          <td class="paramtype">fhicl::ParameterSet const &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00118">118</a> of file <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html">HepMCFileGen_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  : EDProducer{<a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>}</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  , <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a2fb7385f897d164ce78844efba0de973">fInputFilePath</a>(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>.get&lt;std::string&gt;(<span class="stringliteral">&quot;InputFilePath&quot;</span>))</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  , <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a5f86c85779d2a150621516e58aa591a7">fInputFile</a>(<span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  , <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a8cc38e5b9e71df21b28b379ae49389c9">fEventsPerPOT</a>{<a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>.get&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;EventsPerPOT&quot;</span>, -1.)}</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  , <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a3544ec61fa1152ae05ebc890dc177c93">fEventsPerSubRun</a>(0)</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  produces&lt; std::vector&lt;simb::MCTruth&gt;   &gt;();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="../../d4/d4d/namespaceevgen.html#a31fbf4ad9d853a87fefed5bf11c59aa6">produces&lt; sumdata::RunData, art::InRun &gt;</a>();</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  produces&lt; sumdata::POTSummary, art::InSubRun &gt;();</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
<div class="ttc" id="classevgen_1_1HepMCFileGen_html_a5f86c85779d2a150621516e58aa591a7"><div class="ttname"><a href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a5f86c85779d2a150621516e58aa591a7">evgen::HepMCFileGen::fInputFile</a></div><div class="ttdeci">std::ifstream * fInputFile</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00111">HepMCFileGen_module.cc:111</a></div></div>
<div class="ttc" id="classevgen_1_1HepMCFileGen_html_a3544ec61fa1152ae05ebc890dc177c93"><div class="ttname"><a href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a3544ec61fa1152ae05ebc890dc177c93">evgen::HepMCFileGen::fEventsPerSubRun</a></div><div class="ttdeci">int fEventsPerSubRun</div><div class="ttdoc">Keeps track of the number of processed events per subrun. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00114">HepMCFileGen_module.cc:114</a></div></div>
<div class="ttc" id="classevgen_1_1HepMCFileGen_html_a2fb7385f897d164ce78844efba0de973"><div class="ttname"><a href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a2fb7385f897d164ce78844efba0de973">evgen::HepMCFileGen::fInputFilePath</a></div><div class="ttdeci">std::string fInputFilePath</div><div class="ttdoc">Path to the HEPMC input file, relative to FW_SEARCH_PATH. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00110">HepMCFileGen_module.cc:110</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a24c8335057af14a9b508d5ac18999ce5"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a></div><div class="ttdeci">pdgs p</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00022">selectors.fcl:22</a></div></div>
<div class="ttc" id="namespaceevgen_html_a31fbf4ad9d853a87fefed5bf11c59aa6"><div class="ttname"><a href="../../d4/d4d/namespaceevgen.html#a31fbf4ad9d853a87fefed5bf11c59aa6">evgen::produces&lt; sumdata::RunData, art::InRun &gt;</a></div><div class="ttdeci">produces&lt; sumdata::RunData, art::InRun &gt;()</div></div>
<div class="ttc" id="classevgen_1_1HepMCFileGen_html_a8cc38e5b9e71df21b28b379ae49389c9"><div class="ttname"><a href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a8cc38e5b9e71df21b28b379ae49389c9">evgen::HepMCFileGen::fEventsPerPOT</a></div><div class="ttdeci">double fEventsPerPOT</div><div class="ttdoc">Number of events per POT (to be set) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00113">HepMCFileGen_module.cc:113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac95afde949c04daa41b2f4f5452d1bd7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void evgen::HepMCFileGen::beginJob </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00178">178</a> of file <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html">HepMCFileGen_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;{</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a5f86c85779d2a150621516e58aa591a7">fInputFile</a> = <span class="keyword">new</span> std::ifstream(<a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a6c855132c34d213175f0016e2e158387">open_file</a>());</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div>
<div class="ttc" id="classevgen_1_1HepMCFileGen_html_a5f86c85779d2a150621516e58aa591a7"><div class="ttname"><a href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a5f86c85779d2a150621516e58aa591a7">evgen::HepMCFileGen::fInputFile</a></div><div class="ttdeci">std::ifstream * fInputFile</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00111">HepMCFileGen_module.cc:111</a></div></div>
<div class="ttc" id="classevgen_1_1HepMCFileGen_html_a6c855132c34d213175f0016e2e158387"><div class="ttname"><a href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a6c855132c34d213175f0016e2e158387">evgen::HepMCFileGen::open_file</a></div><div class="ttdeci">std::ifstream open_file()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00131">HepMCFileGen_module.cc:131</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9c6f2b4e9dfc15d7a266c9131f3b45bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void evgen::HepMCFileGen::beginRun </td>
          <td>(</td>
          <td class="paramtype">art::Run &amp;&#160;</td>
          <td class="paramname"><em>run</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00184">184</a> of file <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html">HepMCFileGen_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;{</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a3544ec61fa1152ae05ebc890dc177c93">fEventsPerSubRun</a> = 0;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    art::ServiceHandle&lt;geo::Geometry const&gt; geo;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    run.put(std::make_unique&lt;sumdata::RunData&gt;(geo-&gt;DetectorName()));</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  }</div>
<div class="ttc" id="classevgen_1_1HepMCFileGen_html_a3544ec61fa1152ae05ebc890dc177c93"><div class="ttname"><a href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a3544ec61fa1152ae05ebc890dc177c93">evgen::HepMCFileGen::fEventsPerSubRun</a></div><div class="ttdeci">int fEventsPerSubRun</div><div class="ttdoc">Keeps track of the number of processed events per subrun. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00114">HepMCFileGen_module.cc:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6c08a3da80e2bccdb6fda3d68dca1699"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void evgen::HepMCFileGen::endSubRun </td>
          <td>(</td>
          <td class="paramtype">art::SubRun &amp;&#160;</td>
          <td class="paramname"><em>sr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00191">191</a> of file <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html">HepMCFileGen_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keyword">auto</span> <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a> = std::make_unique&lt;sumdata::POTSummary&gt;();</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>-&gt;totpot     = <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a3544ec61fa1152ae05ebc890dc177c93">fEventsPerSubRun</a> * <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a8cc38e5b9e71df21b28b379ae49389c9">fEventsPerPOT</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>-&gt;totgoodpot = <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a3544ec61fa1152ae05ebc890dc177c93">fEventsPerSubRun</a> * <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a8cc38e5b9e71df21b28b379ae49389c9">fEventsPerPOT</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    sr.put(std::move(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>));</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  }</div>
<div class="ttc" id="classevgen_1_1HepMCFileGen_html_a3544ec61fa1152ae05ebc890dc177c93"><div class="ttname"><a href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a3544ec61fa1152ae05ebc890dc177c93">evgen::HepMCFileGen::fEventsPerSubRun</a></div><div class="ttdeci">int fEventsPerSubRun</div><div class="ttdoc">Keeps track of the number of processed events per subrun. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00114">HepMCFileGen_module.cc:114</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a24c8335057af14a9b508d5ac18999ce5"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a></div><div class="ttdeci">pdgs p</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00022">selectors.fcl:22</a></div></div>
<div class="ttc" id="classevgen_1_1HepMCFileGen_html_a8cc38e5b9e71df21b28b379ae49389c9"><div class="ttname"><a href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a8cc38e5b9e71df21b28b379ae49389c9">evgen::HepMCFileGen::fEventsPerPOT</a></div><div class="ttdeci">double fEventsPerPOT</div><div class="ttdoc">Number of events per POT (to be set) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00113">HepMCFileGen_module.cc:113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6c855132c34d213175f0016e2e158387"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ifstream evgen::HepMCFileGen::open_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00131">131</a> of file <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html">HepMCFileGen_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;{</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">   * The plan:</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">   *  1. expand the path in FW_SEARCH_PATH (only if relative path)</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">   *  2. copy it into scratch area (only if starts with `/pnfs`)</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">   *  3. open the file (original or copy) and return the opened file</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">   * </span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">   * Throws a cet::exception if eventually file is not found.</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  std::string fullFileName = <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a2fb7385f897d164ce78844efba0de973">fInputFilePath</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  cet::search_path searchPath(<span class="stringliteral">&quot;FW_SEARCH_PATH&quot;</span>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordflow">if</span> (searchPath.find_file(<a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a2fb7385f897d164ce78844efba0de973">fInputFilePath</a>, fullFileName)) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    mf::LogDebug(<span class="stringliteral">&quot;HepMCFileGen&quot;</span>)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;Input file &#39;&quot;</span> &lt;&lt; <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a2fb7385f897d164ce78844efba0de973">fInputFilePath</a> &lt;&lt; <span class="stringliteral">&quot;&#39; found in FW_SEARCH_PATH:\n&quot;</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      &lt;&lt; fullFileName</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      ;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">// prepare the file with IFDH, if path starts with `/pnfs`</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordflow">if</span> (fullFileName.compare(0, 6, <span class="stringliteral">&quot;/pnfs/&quot;</span>) == 0) { </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    fullFileName = art::ServiceHandle&lt;IFDH&gt;()-&gt;fetchInput(fullFileName);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    mf::LogDebug(<span class="stringliteral">&quot;HepMCFileGen&quot;</span>)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;IFDH fetch: &#39;&quot;</span> &lt;&lt; <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a2fb7385f897d164ce78844efba0de973">fInputFilePath</a> &lt;&lt; <span class="stringliteral">&quot;&#39; -&gt; &#39;&quot;</span> &lt;&lt; fullFileName &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// attempt to open</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  mf::LogDebug(<span class="stringliteral">&quot;HepMCFileGen&quot;</span>)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;Reading input file &#39;&quot;</span> &lt;&lt; <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a2fb7385f897d164ce78844efba0de973">fInputFilePath</a> &lt;&lt; <span class="stringliteral">&quot;&#39; as:\n&quot;</span> &lt;&lt; fullFileName;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  std::ifstream inputFile(fullFileName);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">if</span> (inputFile) <span class="keywordflow">return</span> inputFile;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">// all attempts failed, give up:</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;HepMCFileGen&quot;</span>)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;HEPMC input file &#39;&quot;</span> &lt;&lt; <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a2fb7385f897d164ce78844efba0de973">fInputFilePath</a> &lt;&lt; <span class="stringliteral">&quot;&#39; can&#39;t be opened.\n&quot;</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;} <span class="comment">// evgen::HepMCFileGen::open_file()</span></div>
<div class="ttc" id="classevgen_1_1HepMCFileGen_html_a2fb7385f897d164ce78844efba0de973"><div class="ttname"><a href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a2fb7385f897d164ce78844efba0de973">evgen::HepMCFileGen::fInputFilePath</a></div><div class="ttdeci">std::string fInputFilePath</div><div class="ttdoc">Path to the HEPMC input file, relative to FW_SEARCH_PATH. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00110">HepMCFileGen_module.cc:110</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af49c617cbe3a8ecbf09ccaffb64a171c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void evgen::HepMCFileGen::produce </td>
          <td>(</td>
          <td class="paramtype">art::Event &amp;&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00200">200</a> of file <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html">HepMCFileGen_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">// check that the file is still good</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">if</span>( !<a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a5f86c85779d2a150621516e58aa591a7">fInputFile</a>-&gt;good() || <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a5f86c85779d2a150621516e58aa591a7">fInputFile</a>-&gt;peek() == EOF) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a6c855132c34d213175f0016e2e158387">open_file</a>();</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">if</span>( !<a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a5f86c85779d2a150621516e58aa591a7">fInputFile</a>-&gt;good() || <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a5f86c85779d2a150621516e58aa591a7">fInputFile</a>-&gt;peek() == EOF) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;HepMCFileGen&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;input text file &quot;</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                                        &lt;&lt; <span class="stringliteral">&quot; cannot be read in produce().\n&quot;</span>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  std::unique_ptr&lt; std::vector&lt;simb::MCTruth&gt; &gt; truthcol(<span class="keyword">new</span> std::vector&lt;simb::MCTruth&gt;);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  simb::MCTruth truth;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">// declare the variables for reading in the event record</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordtype">int</span>            <span class="keyword">event</span>          = 0;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> nParticles           = 0;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordtype">int</span>            status         = 0;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="keywordtype">int</span>                   <a class="code" href="../../d9/dd2/selectors_8fcl.html#a697017f6ca07cbb4f47653babf318012">pdg</a>            = 0;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordtype">int</span>                   firstMother    = 0;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordtype">int</span>                   secondMother   = 0;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordtype">int</span>                   firstDaughter  = 0;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordtype">int</span>                   secondDaughter = 0;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordtype">double</span>          xMomentum      = 0.;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordtype">double</span>          yMomentum           = 0.;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordtype">double</span>          zMomentum           = 0.;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordtype">double</span>          energy              = 0.;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordtype">double</span>          <a class="code" href="../../d3/d5d/namespacelib_1_1dedx.html#af9508f78ba8143119daa95dbd8220f91">mass</a>                = 0.;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordtype">double</span>          xPosition           = 0.;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordtype">double</span>          yPosition           = 0.;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordtype">double</span>          zPosition           = 0.;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordtype">double</span>          time                = 0.;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordtype">bool</span> set_neutrino = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">// neutrino</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordtype">int</span> ccnc = -1, <a class="code" href="../../d4/d03/noise__ana_8cxx.html#a166889fdc8b9a698a68cedffc20aed31">mode</a> = -1, itype = -1, target = -1, nucleon = -1, quark = -1;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="../../d8/ddf/namespacegen__crt__frags.html#a8cdc67339147aad209b4122a38d7e246">w</a> = -1, <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a> = -1, <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a> = -1, qsqr = -1;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// read in line to get event number and number of particles</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  std::string oneLine;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  std::getline(*<a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a5f86c85779d2a150621516e58aa591a7">fInputFile</a>, oneLine);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  std::istringstream inputLine;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  inputLine.str(oneLine);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  inputLine &gt;&gt; <span class="keyword">event</span> &gt;&gt; nParticles;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="comment">// now read in all the lines for the particles</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="comment">// in this interaction. only particles with</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// status = 1 get tracked in Geant4. see GENIE GHepStatus</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> i = 0; i &lt; nParticles; ++i){</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    std::getline(*<a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a5f86c85779d2a150621516e58aa591a7">fInputFile</a>, oneLine);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    inputLine.clear();</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    inputLine.str(oneLine);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    inputLine &gt;&gt; status &gt;&gt; pdg</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;              &gt;&gt; firstMother &gt;&gt; secondMother &gt;&gt; firstDaughter &gt;&gt; secondDaughter</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;              &gt;&gt; xMomentum   &gt;&gt; yMomentum    &gt;&gt; zMomentum     &gt;&gt; energy &gt;&gt; mass</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;              &gt;&gt; xPosition   &gt;&gt; yPosition    &gt;&gt; zPosition     &gt;&gt; time;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;pdg_all&quot;</span>&lt;&lt;pdg&lt;&lt;<span class="stringliteral">&quot;xmomentum_all&quot;</span>&lt;&lt;xMomentum&lt;&lt;<span class="stringliteral">&quot;ymomentum_all&quot;</span>&lt;&lt;yMomentum&lt;&lt;<span class="stringliteral">&quot;zposition_all&quot;</span>&lt;&lt;zPosition&lt;&lt;std::endl;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    TLorentzVector pos(xPosition, yPosition, zPosition, time);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    TLorentzVector mom(xMomentum, yMomentum, zMomentum, energy);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    simb::MCParticle part(i, pdg, <span class="stringliteral">&quot;primary&quot;</span>, firstMother, mass, status);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    part.AddTrajectoryPoint(pos, mom);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">//if (abs(pdg) == 18 || abs(pdg) == 12) </span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a>(pdg) == 52 )  <span class="comment">// Animesh made changes</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      set_neutrino = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      ccnc = firstDaughter; <span class="comment">// for the neutrino we write ccnc in place of 1st daugther</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <a class="code" href="../../d4/d03/noise__ana_8cxx.html#a166889fdc8b9a698a68cedffc20aed31">mode</a> = secondDaughter; <span class="comment">// for the neutrino we write mode in place of 2nd daugther</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      itype = -1;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      target = nucleon = quark = w = <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a> = <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a> = qsqr = -1;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;     <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;pdg_mother&quot;</span>&lt;&lt;pdg&lt;&lt;<span class="stringliteral">&quot;xmomentum_mother&quot;</span>&lt;&lt;xMomentum&lt;&lt;<span class="stringliteral">&quot;ymomentum_mother&quot;</span>&lt;&lt;yMomentum&lt;&lt;<span class="stringliteral">&quot;zposition_mother&quot;</span>&lt;&lt;zPosition&lt;&lt;std::endl;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    } </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    truth.Add(part);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;     <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;  Particle added with Pdg &quot;</span> &lt;&lt; part.PdgCode() &lt;&lt; <span class="stringliteral">&quot;, Mother &quot;</span> &lt;&lt; part.Mother() &lt;&lt; <span class="stringliteral">&quot;, track id &quot;</span> &lt;&lt; part.TrackId() &lt;&lt; <span class="stringliteral">&quot;, ene &quot;</span> &lt;&lt; part.E() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">if</span> (set_neutrino) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    truth.SetNeutrino(ccnc,</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                      <a class="code" href="../../d4/d03/noise__ana_8cxx.html#a166889fdc8b9a698a68cedffc20aed31">mode</a>,</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                      itype,</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                      target,</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                      nucleon,</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                      quark,</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                      w,</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                      <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>,</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                      <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a>,</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                      qsqr);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// set the neutrino information in MCTruth</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    truth.SetOrigin(simb::kBeamNeutrino);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="comment">// truth.SetGeneratorInfo(simb::Generator_t::kGENIE,</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">//                          __GENIE_RELEASE__,</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">//                          {{&quot;tune&quot;, fTuneName}});</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="comment">//std::cout &lt;&lt; &quot; neutrino &quot; &lt;&lt; truth.GetNeutrino() &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">//std::cout &lt;&lt; &quot; lepton pdg &quot; &lt;&lt; truth.GetNeutrino().Lepton().PdgCode() &lt;&lt; &quot; ene &quot; &lt;&lt; truth.GetNeutrino().Lepton().E() &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  truthcol-&gt;push_back(truth);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a>.put(std::move(truthcol));</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <a class="code" href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a3544ec61fa1152ae05ebc890dc177c93">fEventsPerSubRun</a>++;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
<div class="ttc" id="classevgen_1_1HepMCFileGen_html_a5f86c85779d2a150621516e58aa591a7"><div class="ttname"><a href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a5f86c85779d2a150621516e58aa591a7">evgen::HepMCFileGen::fInputFile</a></div><div class="ttdeci">std::ifstream * fInputFile</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00111">HepMCFileGen_module.cc:111</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a697017f6ca07cbb4f47653babf318012"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a697017f6ca07cbb4f47653babf318012">pdg</a></div><div class="ttdeci">var pdg</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00014">selectors.fcl:14</a></div></div>
<div class="ttc" id="classevgen_1_1HepMCFileGen_html_a3544ec61fa1152ae05ebc890dc177c93"><div class="ttname"><a href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a3544ec61fa1152ae05ebc890dc177c93">evgen::HepMCFileGen::fEventsPerSubRun</a></div><div class="ttdeci">int fEventsPerSubRun</div><div class="ttdoc">Keeps track of the number of processed events per subrun. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00114">HepMCFileGen_module.cc:114</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a6673f03521899f7844189bcfd8ee5941"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a></div><div class="ttdeci">process_name opflash particleana ie x</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00090">run_opflash_electron.fcl:90</a></div></div>
<div class="ttc" id="sparse__vector__test_8cc_html_a39f16bf854ba527dee7eba5bbbd93f3f"><div class="ttname"><a href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a></div><div class="ttdeci">T abs(T value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d59/sparse__vector__test_8cc_source.html#l00030">sparse_vector_test.cc:30</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a1e5aaaf25e8609a835e8c7c6fda71456"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a></div><div class="ttdeci">process_name opflash particleana ie ie y</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00091">run_opflash_electron.fcl:91</a></div></div>
<div class="ttc" id="noise__ana_8cxx_html_a166889fdc8b9a698a68cedffc20aed31"><div class="ttname"><a href="../../d4/d03/noise__ana_8cxx.html#a166889fdc8b9a698a68cedffc20aed31">mode</a></div><div class="ttdeci">const char mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d03/noise__ana_8cxx_source.html#l00020">noise_ana.cxx:20</a></div></div>
<div class="ttc" id="namespacegen__crt__frags_html_a8cdc67339147aad209b4122a38d7e246"><div class="ttname"><a href="../../d8/ddf/namespacegen__crt__frags.html#a8cdc67339147aad209b4122a38d7e246">gen_crt_frags.w</a></div><div class="ttdeci">tuple w</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8c/gen__crt__frags_8py_source.html#l01416">gen_crt_frags.py:1416</a></div></div>
<div class="ttc" id="classevgen_1_1HepMCFileGen_html_a6c855132c34d213175f0016e2e158387"><div class="ttname"><a href="../../dc/de9/classevgen_1_1HepMCFileGen.html#a6c855132c34d213175f0016e2e158387">evgen::HepMCFileGen::open_file</a></div><div class="ttdeci">std::ifstream open_file()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00131">HepMCFileGen_module.cc:131</a></div></div>
<div class="ttc" id="namespacelib_1_1dedx_html_af9508f78ba8143119daa95dbd8220f91"><div class="ttname"><a href="../../d3/d5d/namespacelib_1_1dedx.html#af9508f78ba8143119daa95dbd8220f91">lib.dedx.mass</a></div><div class="ttdeci">float mass</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df9/dedx_8py_source.html#l00047">dedx.py:47</a></div></div>
<div class="ttc" id="updateVersionList_8sh_html_a067a8c1534d6da9b2c501a6cf4ef89bd"><div class="ttname"><a href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a></div><div class="ttdeci">do i e</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dca/updateVersionList_8sh_source.html#l00068">updateVersionList.sh:68</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a8cc38e5b9e71df21b28b379ae49389c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double evgen::HepMCFileGen::fEventsPerPOT</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of events per POT (to be set) </p>

<p>Definition at line <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00113">113</a> of file <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html">HepMCFileGen_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a3544ec61fa1152ae05ebc890dc177c93"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int evgen::HepMCFileGen::fEventsPerSubRun</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Keeps track of the number of processed events per subrun. </p>

<p>Definition at line <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00114">114</a> of file <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html">HepMCFileGen_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a5f86c85779d2a150621516e58aa591a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ifstream* evgen::HepMCFileGen::fInputFile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00111">111</a> of file <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html">HepMCFileGen_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a2fb7385f897d164ce78844efba0de973"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string evgen::HepMCFileGen::fInputFilePath</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Path to the HEPMC input file, relative to <code>FW_SEARCH_PATH</code>. </p>

<p>Definition at line <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html#l00110">110</a> of file <a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html">HepMCFileGen_module.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../d0/d4a/HepMCFileGen__module_8cc_source.html">HepMCFileGen_module.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
