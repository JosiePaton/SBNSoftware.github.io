<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>trkf::TrackStatePropagator Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d0/da2/namespacetrkf.html">trkf</a></li><li class="navelem"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html">TrackStatePropagator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../db/dcb/classtrkf_1_1TrackStatePropagator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">trkf::TrackStatePropagator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class for propagation of a <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html" title="Class for track parameters (and errors) defined on a recob::tracking::Plane. ">trkf::TrackState</a> to a <a class="el" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html" title="Class defining a plane for tracking. It provides various functionalities to convert track parameters ...">recob::tracking::Plane</a>.  
 <a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d3e/structtrkf_1_1TrackStatePropagator_1_1Config.html">Config</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ae5eff788f74ea79d40466328fd943a1b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1b">PropDirection</a> { <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1ba6351b029d52cf3f64d523db56d4a532a">FORWARD</a> = 0, 
<a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1ba815fdae095e62f7826692abe63e9e458">BACKWARD</a> = 1, 
<a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1ba1f00a67bb6cd3eaa012ddd8882246359">UNKNOWN</a> = 2
 }</td></tr>
<tr class="memdesc:ae5eff788f74ea79d40466328fd943a1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Propagation direction enum.  <a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1b">More...</a><br/></td></tr>
<tr class="separator:ae5eff788f74ea79d40466328fd943a1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08b9c8618734f8c3cf6d3d261ba92357"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> = <a class="el" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html">recob::tracking::Plane</a></td></tr>
<tr class="separator:a08b9c8618734f8c3cf6d3d261ba92357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a20b80c4665cd48a17b7b746a86d3b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa6a20b80c4665cd48a17b7b746a86d3b">Point_t</a> = <a class="el" href="../../d6/d6b/namespacerecob_1_1tracking.html#ac47dae625a7d05a88210fb997948c07a">recob::tracking::Point_t</a></td></tr>
<tr class="separator:aa6a20b80c4665cd48a17b7b746a86d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad72c47c5fdfc6200d246e3928aed450"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aad72c47c5fdfc6200d246e3928aed450">Vector_t</a> = <a class="el" href="../../d6/d6b/namespacerecob_1_1tracking.html#a0ddfef5f5ab9ad68a59b9a1029d4ac78">recob::tracking::Vector_t</a></td></tr>
<tr class="separator:aad72c47c5fdfc6200d246e3928aed450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a496a4f7cc5166743f76aa1056d59f00b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a496a4f7cc5166743f76aa1056d59f00b">SVector6</a> = <a class="el" href="../../d6/d6b/namespacerecob_1_1tracking.html#a766858a87f70cc693391f3605a4fba17">recob::tracking::SVector6</a></td></tr>
<tr class="separator:a496a4f7cc5166743f76aa1056d59f00b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4708bfd77d52a46d03e1e0aa0310752b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a4708bfd77d52a46d03e1e0aa0310752b">Parameters</a> = fhicl::Table&lt; <a class="el" href="../../d8/d3e/structtrkf_1_1TrackStatePropagator_1_1Config.html">Config</a> &gt;</td></tr>
<tr class="separator:a4708bfd77d52a46d03e1e0aa0310752b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adce3add1ade942ed1dce73395e1d8063"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#adce3add1ade942ed1dce73395e1d8063">TrackStatePropagator</a> (double minStep, double maxElossFrac, int maxNit, double tcut, double wrongDirDistTolerance, bool propPinvErr)</td></tr>
<tr class="memdesc:adce3add1ade942ed1dce73395e1d8063"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor from parameter values.  <a href="#adce3add1ade942ed1dce73395e1d8063">More...</a><br/></td></tr>
<tr class="separator:adce3add1ade942ed1dce73395e1d8063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1620ac7456743b34cd96034a3671882"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#af1620ac7456743b34cd96034a3671882">TrackStatePropagator</a> (<a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a4708bfd77d52a46d03e1e0aa0310752b">Parameters</a> const &amp;<a class="el" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>)</td></tr>
<tr class="memdesc:af1620ac7456743b34cd96034a3671882"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor from Parameters (fhicl::Table&lt;Config&gt;).  <a href="#af1620ac7456743b34cd96034a3671882">More...</a><br/></td></tr>
<tr class="separator:af1620ac7456743b34cd96034a3671882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae46e7c518db95bfca7418cd582682c95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae46e7c518db95bfca7418cd582682c95">propagateToPlane</a> (bool &amp;success, const <a class="el" href="../../d1/d11/classdetinfo_1_1DetectorPropertiesData.html">detinfo::DetectorPropertiesData</a> &amp;detProp, const <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a> &amp;origin, const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;target, bool dodedx, bool domcs, <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1b">PropDirection</a> <a class="el" href="../../d6/d91/make__tar__sbnd_8sh.html#aaf78092b2b7e15dcd60eda6328769a09">dir</a>=<a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1ba6351b029d52cf3f64d523db56d4a532a">FORWARD</a>) const </td></tr>
<tr class="memdesc:ae46e7c518db95bfca7418cd582682c95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function for propagation of a <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html" title="Class for track parameters (and errors) defined on a recob::tracking::Plane. ">TrackState</a> to a Plane.  <a href="#ae46e7c518db95bfca7418cd582682c95">More...</a><br/></td></tr>
<tr class="separator:ae46e7c518db95bfca7418cd582682c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b604e378ad14c086e7ac6dc481ab9c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a0b604e378ad14c086e7ac6dc481ab9c2">rotateToPlane</a> (bool &amp;success, const <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a> &amp;origin, const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;target) const </td></tr>
<tr class="memdesc:a0b604e378ad14c086e7ac6dc481ab9c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotation of a <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html" title="Class for track parameters (and errors) defined on a recob::tracking::Plane. ">TrackState</a> to a Plane (zero distance propagation)  <a href="#a0b604e378ad14c086e7ac6dc481ab9c2">More...</a><br/></td></tr>
<tr class="separator:a0b604e378ad14c086e7ac6dc481ab9c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cfd10afaba7da8024bdc2e25e6f7cde"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa6a20b80c4665cd48a17b7b746a86d3b">Point_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a7cfd10afaba7da8024bdc2e25e6f7cde">propagatedPosByDistance</a> (const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa6a20b80c4665cd48a17b7b746a86d3b">Point_t</a> &amp;origpos, const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aad72c47c5fdfc6200d246e3928aed450">Vector_t</a> &amp;origdir, double distance) const </td></tr>
<tr class="memdesc:a7cfd10afaba7da8024bdc2e25e6f7cde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quick accesss to the propagated position given a distance.  <a href="#a7cfd10afaba7da8024bdc2e25e6f7cde">More...</a><br/></td></tr>
<tr class="separator:a7cfd10afaba7da8024bdc2e25e6f7cde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12c7c8faadb5a97fbf135e8d48a0cefe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a12c7c8faadb5a97fbf135e8d48a0cefe">apply_dedx</a> (double &amp;pinv, <a class="el" href="../../d1/d11/classdetinfo_1_1DetectorPropertiesData.html">detinfo::DetectorPropertiesData</a> const &amp;detProp, double dedx, double <a class="el" href="../../d1/d3b/test__ptrmaker_8fcl.html#a07fbfef6c53a7ed684db7d9f21876cb8">e1</a>, double mass, double <a class="el" href="../../dd/dea/fix__cmake__genie3_8pl.html#a3691308f2a4c2f6983f2880d32e29c84">s</a>, double &amp;deriv) const </td></tr>
<tr class="memdesc:a12c7c8faadb5a97fbf135e8d48a0cefe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply energy loss.  <a href="#a12c7c8faadb5a97fbf135e8d48a0cefe">More...</a><br/></td></tr>
<tr class="separator:a12c7c8faadb5a97fbf135e8d48a0cefe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10120a08c91d9c4ebb2ec5a71e6fd6a9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a10120a08c91d9c4ebb2ec5a71e6fd6a9">apply_mcs</a> (<a class="el" href="../../d1/d11/classdetinfo_1_1DetectorPropertiesData.html">detinfo::DetectorPropertiesData</a> const &amp;detProp, double dudw, double dvdw, double pinv, double mass, double <a class="el" href="../../dd/dea/fix__cmake__genie3_8pl.html#a3691308f2a4c2f6983f2880d32e29c84">s</a>, double range, double <a class="el" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>, double e2, bool flipSign, <a class="el" href="../../d0/da2/namespacetrkf.html#afce9d7f4b81473c0ba04bac01ee6fa51">SMatrixSym55</a> &amp;noise_matrix) const </td></tr>
<tr class="memdesc:a10120a08c91d9c4ebb2ec5a71e6fd6a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply multiple coulomb scattering.  <a href="#a10120a08c91d9c4ebb2ec5a71e6fd6a9">More...</a><br/></td></tr>
<tr class="separator:a10120a08c91d9c4ebb2ec5a71e6fd6a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07d9666720e1e26c7fd3758fdad06fbf"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a07d9666720e1e26c7fd3758fdad06fbf">getTcut</a> () const </td></tr>
<tr class="memdesc:a07d9666720e1e26c7fd3758fdad06fbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">get Tcut parameter used in DetectorPropertiesService Eloss method  <a href="#a07d9666720e1e26c7fd3758fdad06fbf">More...</a><br/></td></tr>
<tr class="separator:a07d9666720e1e26c7fd3758fdad06fbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:ab4f06dfff7579a24d5748096cb49bf06"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ab4f06dfff7579a24d5748096cb49bf06">distanceToPlane</a> (bool &amp;success, const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa6a20b80c4665cd48a17b7b746a86d3b">Point_t</a> &amp;origpos, const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aad72c47c5fdfc6200d246e3928aed450">Vector_t</a> &amp;origdir, const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;target) const </td></tr>
<tr class="memdesc:ab4f06dfff7579a24d5748096cb49bf06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distance of a <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html" title="Class for track parameters (and errors) defined on a recob::tracking::Plane. ">TrackState</a> (Point and Vector) to a Plane, along the <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html" title="Class for track parameters (and errors) defined on a recob::tracking::Plane. ">TrackState</a> direction.  <a href="#ab4f06dfff7579a24d5748096cb49bf06">More...</a><br/></td></tr>
<tr class="separator:ab4f06dfff7579a24d5748096cb49bf06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe9b3e6a12283ca739595eb895adfa9a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#afe9b3e6a12283ca739595eb895adfa9a">distanceToPlane</a> (bool &amp;success, const <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a> &amp;origin, const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;target) const </td></tr>
<tr class="separator:afe9b3e6a12283ca739595eb895adfa9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a2346610a0b5efedbffdeb275233dd1be"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a2346610a0b5efedbffdeb275233dd1be">perpDistanceToPlane</a> (bool &amp;success, const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa6a20b80c4665cd48a17b7b746a86d3b">Point_t</a> &amp;origpos, const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;target) const </td></tr>
<tr class="memdesc:a2346610a0b5efedbffdeb275233dd1be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distance of a <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html" title="Class for track parameters (and errors) defined on a recob::tracking::Plane. ">TrackState</a> (Point) to a Plane along the direction orthogonal to the Plane.  <a href="#a2346610a0b5efedbffdeb275233dd1be">More...</a><br/></td></tr>
<tr class="separator:a2346610a0b5efedbffdeb275233dd1be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5b88bda9386aa534caa68d0c0897687"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ab5b88bda9386aa534caa68d0c0897687">perpDistanceToPlane</a> (bool &amp;success, const <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a> &amp;origin, const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;target) const </td></tr>
<tr class="separator:ab5b88bda9386aa534caa68d0c0897687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a73b150a8113444439f4f4b5163cc9ac4"><td class="memItemLeft" align="right" valign="top">std::pair&lt; double, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a73b150a8113444439f4f4b5163cc9ac4">distancePairToPlane</a> (bool &amp;success, const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa6a20b80c4665cd48a17b7b746a86d3b">Point_t</a> &amp;origpos, const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aad72c47c5fdfc6200d246e3928aed450">Vector_t</a> &amp;origdir, const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;target) const </td></tr>
<tr class="memdesc:a73b150a8113444439f4f4b5163cc9ac4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return both direction types in one go.  <a href="#a73b150a8113444439f4f4b5163cc9ac4">More...</a><br/></td></tr>
<tr class="separator:a73b150a8113444439f4f4b5163cc9ac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1b3c0392a9e32e8155bcfda8ac2cd2"><td class="memItemLeft" align="right" valign="top">std::pair&lt; double, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#abd1b3c0392a9e32e8155bcfda8ac2cd2">distancePairToPlane</a> (bool &amp;success, const <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a> &amp;origin, const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;target) const </td></tr>
<tr class="separator:abd1b3c0392a9e32e8155bcfda8ac2cd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:af5fc41cd012558fb72fb88e718bd9835"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#af5fc41cd012558fb72fb88e718bd9835">rotateToPlane</a> (bool &amp;success, const <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a> &amp;origin, const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;target, double &amp;dw2dw1) const </td></tr>
<tr class="memdesc:af5fc41cd012558fb72fb88e718bd9835"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotation of a <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html" title="Class for track parameters (and errors) defined on a recob::tracking::Plane. ">TrackState</a> to a Plane (zero distance propagation), keeping track of dw2dw1 (needed by mcs)  <a href="#af5fc41cd012558fb72fb88e718bd9835">More...</a><br/></td></tr>
<tr class="separator:af5fc41cd012558fb72fb88e718bd9835"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a1968135a98246560aa881c33a4e2b0e1"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a1968135a98246560aa881c33a4e2b0e1">fMinStep</a></td></tr>
<tr class="memdesc:a1968135a98246560aa881c33a4e2b0e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum propagation step length guaranteed.  <a href="#a1968135a98246560aa881c33a4e2b0e1">More...</a><br/></td></tr>
<tr class="separator:a1968135a98246560aa881c33a4e2b0e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cba0de431d2cc0d115ce1c200c1eee9"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a2cba0de431d2cc0d115ce1c200c1eee9">fMaxElossFrac</a></td></tr>
<tr class="memdesc:a2cba0de431d2cc0d115ce1c200c1eee9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum propagation step length based on fraction of energy loss.  <a href="#a2cba0de431d2cc0d115ce1c200c1eee9">More...</a><br/></td></tr>
<tr class="separator:a2cba0de431d2cc0d115ce1c200c1eee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51e322148c735d15100745efcea10ab0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a51e322148c735d15100745efcea10ab0">fMaxNit</a></td></tr>
<tr class="memdesc:a51e322148c735d15100745efcea10ab0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of iterations.  <a href="#a51e322148c735d15100745efcea10ab0">More...</a><br/></td></tr>
<tr class="separator:a51e322148c735d15100745efcea10ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60ebf055e6cf27305edada92cb46179f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a60ebf055e6cf27305edada92cb46179f">fTcut</a></td></tr>
<tr class="memdesc:a60ebf055e6cf27305edada92cb46179f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum delta ray energy for dE/dx.  <a href="#a60ebf055e6cf27305edada92cb46179f">More...</a><br/></td></tr>
<tr class="separator:a60ebf055e6cf27305edada92cb46179f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0da7a8a533a07f6de55b2ab8749d498"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa0da7a8a533a07f6de55b2ab8749d498">fWrongDirDistTolerance</a></td></tr>
<tr class="memdesc:aa0da7a8a533a07f6de55b2ab8749d498"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allowed propagation distance in the wrong direction.  <a href="#aa0da7a8a533a07f6de55b2ab8749d498">More...</a><br/></td></tr>
<tr class="separator:aa0da7a8a533a07f6de55b2ab8749d498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27c7fcf95e56167573eddc93b78b53d5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a27c7fcf95e56167573eddc93b78b53d5">fPropPinvErr</a></td></tr>
<tr class="memdesc:a27c7fcf95e56167573eddc93b78b53d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Propagate error on 1/p or not (in order to avoid infs, it should be set to false when 1/p not updated)  <a href="#a27c7fcf95e56167573eddc93b78b53d5">More...</a><br/></td></tr>
<tr class="separator:a27c7fcf95e56167573eddc93b78b53d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfa8d5284157b060b8a6722489c8a407"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../dc/d37/classdetinfo_1_1LArProperties.html">detinfo::LArProperties</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#acfa8d5284157b060b8a6722489c8a407">larprop</a></td></tr>
<tr class="separator:acfa8d5284157b060b8a6722489c8a407"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for propagation of a <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html" title="Class for track parameters (and errors) defined on a recob::tracking::Plane. ">trkf::TrackState</a> to a <a class="el" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html" title="Class defining a plane for tracking. It provides various functionalities to convert track parameters ...">recob::tracking::Plane</a>. </p>
<dl class="section author"><dt>Author</dt><dd>G. Cerati (FNAL, MicroBooNE) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2017 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0</dd></dl>
<p>This class holds the functionalities needed to propagate a <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html" title="Class for track parameters (and errors) defined on a recob::tracking::Plane. ">trkf::TrackState</a> to a <a class="el" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html" title="Class defining a plane for tracking. It provides various functionalities to convert track parameters ...">recob::tracking::Plane</a>. While the core physics is mainly duplicated from <a class="el" href="../../d3/d02/classtrkf_1_1Propagator.html">trkf::Propagator</a> and its derived classes (kudos to H. Greenlee), the code and the interface are optimized for usage with classes based on SMatrix (e.g. <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html" title="Class for track parameters (and errors) defined on a recob::tracking::Plane. ">TrackState</a>) and for the needs of <a class="el" href="../../d6/dca/classtrkf_1_1TrackKalmanFitter.html" title="Fit tracks using Kalman Filter fit+smooth. ">TrackKalmanFitter</a>.</p>
<p>While the propagated position can be directly computed, accounting for the material effects in the covariance matrix requires an iterative procedure in case of long propagations distances.</p>
<p>For configuration options see <a class="el" href="../../d8/d3e/structtrkf_1_1TrackStatePropagator_1_1Config.html">TrackStatePropagator::Config</a> </p>

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00038">38</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a4708bfd77d52a46d03e1e0aa0310752b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a4708bfd77d52a46d03e1e0aa0310752b">trkf::TrackStatePropagator::Parameters</a> =  fhicl::Table&lt;<a class="el" href="../../d8/d3e/structtrkf_1_1TrackStatePropagator_1_1Config.html">Config</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00070">70</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>

</div>
</div>
<a class="anchor" id="a08b9c8618734f8c3cf6d3d261ba92357"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">trkf::TrackStatePropagator::Plane</a> =  <a class="el" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html">recob::tracking::Plane</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00040">40</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa6a20b80c4665cd48a17b7b746a86d3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa6a20b80c4665cd48a17b7b746a86d3b">trkf::TrackStatePropagator::Point_t</a> =  <a class="el" href="../../d6/d6b/namespacerecob_1_1tracking.html#ac47dae625a7d05a88210fb997948c07a">recob::tracking::Point_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00041">41</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>

</div>
</div>
<a class="anchor" id="a496a4f7cc5166743f76aa1056d59f00b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a496a4f7cc5166743f76aa1056d59f00b">trkf::TrackStatePropagator::SVector6</a> =  <a class="el" href="../../d6/d6b/namespacerecob_1_1tracking.html#a766858a87f70cc693391f3605a4fba17">recob::tracking::SVector6</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00043">43</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>

</div>
</div>
<a class="anchor" id="aad72c47c5fdfc6200d246e3928aed450"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aad72c47c5fdfc6200d246e3928aed450">trkf::TrackStatePropagator::Vector_t</a> =  <a class="el" href="../../d6/d6b/namespacerecob_1_1tracking.html#a0ddfef5f5ab9ad68a59b9a1029d4ac78">recob::tracking::Vector_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00042">42</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="ae5eff788f74ea79d40466328fd943a1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1b">trkf::TrackStatePropagator::PropDirection</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Propagation direction enum. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ae5eff788f74ea79d40466328fd943a1ba6351b029d52cf3f64d523db56d4a532a"></a>FORWARD</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ae5eff788f74ea79d40466328fd943a1ba815fdae095e62f7826692abe63e9e458"></a>BACKWARD</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ae5eff788f74ea79d40466328fd943a1ba1f00a67bb6cd3eaa012ddd8882246359"></a>UNKNOWN</em>&nbsp;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00073">73</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;{ <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1ba6351b029d52cf3f64d523db56d4a532a">FORWARD</a> = 0, <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1ba815fdae095e62f7826692abe63e9e458">BACKWARD</a> = 1, <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1ba1f00a67bb6cd3eaa012ddd8882246359">UNKNOWN</a> = 2 };</div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_ae5eff788f74ea79d40466328fd943a1ba815fdae095e62f7826692abe63e9e458"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1ba815fdae095e62f7826692abe63e9e458">trkf::TrackStatePropagator::BACKWARD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00073">TrackStatePropagator.h:73</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_ae5eff788f74ea79d40466328fd943a1ba6351b029d52cf3f64d523db56d4a532a"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1ba6351b029d52cf3f64d523db56d4a532a">trkf::TrackStatePropagator::FORWARD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00073">TrackStatePropagator.h:73</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_ae5eff788f74ea79d40466328fd943a1ba1f00a67bb6cd3eaa012ddd8882246359"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1ba1f00a67bb6cd3eaa012ddd8882246359">trkf::TrackStatePropagator::UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00073">TrackStatePropagator.h:73</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="adce3add1ade942ed1dce73395e1d8063"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">trkf::TrackStatePropagator::TrackStatePropagator </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>minStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxElossFrac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxNit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tcut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>wrongDirDistTolerance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>propPinvErr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor from parameter values. </p>

<p>Definition at line <a class="el" href="../../d8/d00/TrackStatePropagator_8cxx_source.html#l00011">11</a> of file <a class="el" href="../../d8/d00/TrackStatePropagator_8cxx_source.html">TrackStatePropagator.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    : <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a1968135a98246560aa881c33a4e2b0e1">fMinStep</a>(minStep)</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    , <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a2cba0de431d2cc0d115ce1c200c1eee9">fMaxElossFrac</a>(maxElossFrac)</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    , <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a51e322148c735d15100745efcea10ab0">fMaxNit</a>(maxNit)</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    , <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a60ebf055e6cf27305edada92cb46179f">fTcut</a>(tcut)</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    , <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa0da7a8a533a07f6de55b2ab8749d498">fWrongDirDistTolerance</a>(wrongDirDistTolerance)</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    , <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a27c7fcf95e56167573eddc93b78b53d5">fPropPinvErr</a>(propPinvErr)</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#acfa8d5284157b060b8a6722489c8a407">larprop</a> = lar::providerFrom&lt;detinfo::LArPropertiesService&gt;();</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  }</div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a51e322148c735d15100745efcea10ab0"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a51e322148c735d15100745efcea10ab0">trkf::TrackStatePropagator::fMaxNit</a></div><div class="ttdeci">int fMaxNit</div><div class="ttdoc">Maximum number of iterations. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00191">TrackStatePropagator.h:191</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a1968135a98246560aa881c33a4e2b0e1"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a1968135a98246560aa881c33a4e2b0e1">trkf::TrackStatePropagator::fMinStep</a></div><div class="ttdeci">double fMinStep</div><div class="ttdoc">Minimum propagation step length guaranteed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00189">TrackStatePropagator.h:189</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a60ebf055e6cf27305edada92cb46179f"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a60ebf055e6cf27305edada92cb46179f">trkf::TrackStatePropagator::fTcut</a></div><div class="ttdeci">double fTcut</div><div class="ttdoc">Maximum delta ray energy for dE/dx. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00192">TrackStatePropagator.h:192</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_acfa8d5284157b060b8a6722489c8a407"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#acfa8d5284157b060b8a6722489c8a407">trkf::TrackStatePropagator::larprop</a></div><div class="ttdeci">const detinfo::LArProperties * larprop</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00196">TrackStatePropagator.h:196</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a27c7fcf95e56167573eddc93b78b53d5"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a27c7fcf95e56167573eddc93b78b53d5">trkf::TrackStatePropagator::fPropPinvErr</a></div><div class="ttdeci">bool fPropPinvErr</div><div class="ttdoc">Propagate error on 1/p or not (in order to avoid infs, it should be set to false when 1/p not updated...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00195">TrackStatePropagator.h:195</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_aa0da7a8a533a07f6de55b2ab8749d498"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa0da7a8a533a07f6de55b2ab8749d498">trkf::TrackStatePropagator::fWrongDirDistTolerance</a></div><div class="ttdeci">double fWrongDirDistTolerance</div><div class="ttdoc">Allowed propagation distance in the wrong direction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00193">TrackStatePropagator.h:193</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a2cba0de431d2cc0d115ce1c200c1eee9"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a2cba0de431d2cc0d115ce1c200c1eee9">trkf::TrackStatePropagator::fMaxElossFrac</a></div><div class="ttdeci">double fMaxElossFrac</div><div class="ttdoc">Maximum propagation step length based on fraction of energy loss. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00190">TrackStatePropagator.h:190</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af1620ac7456743b34cd96034a3671882"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">trkf::TrackStatePropagator::TrackStatePropagator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a4708bfd77d52a46d03e1e0aa0310752b">Parameters</a> const &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor from Parameters (fhicl::Table&lt;Config&gt;). </p>

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00084">84</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      : <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#adce3add1ade942ed1dce73395e1d8063">TrackStatePropagator</a>(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>().minStep(),</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                             <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>().maxElossFrac(),</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                             <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>().maxNit(),</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                             <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>().tcut(),</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                             <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>().wrongDirDistTolerance(),</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                             <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>().propPinvErr())</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    {}</div>
<div class="ttc" id="selectors_8fcl_html_a24c8335057af14a9b508d5ac18999ce5"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a></div><div class="ttdeci">pdgs p</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00022">selectors.fcl:22</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_adce3add1ade942ed1dce73395e1d8063"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#adce3add1ade942ed1dce73395e1d8063">trkf::TrackStatePropagator::TrackStatePropagator</a></div><div class="ttdeci">TrackStatePropagator(double minStep, double maxElossFrac, int maxNit, double tcut, double wrongDirDistTolerance, bool propPinvErr)</div><div class="ttdoc">Constructor from parameter values. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/TrackStatePropagator_8cxx_source.html#l00011">TrackStatePropagator.cxx:11</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a12c7c8faadb5a97fbf135e8d48a0cefe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trkf::TrackStatePropagator::apply_dedx </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>pinv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d11/classdetinfo_1_1DetectorPropertiesData.html">detinfo::DetectorPropertiesData</a> const &amp;&#160;</td>
          <td class="paramname"><em>detProp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dedx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>e1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>deriv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply energy loss. </p>

<p>Definition at line <a class="el" href="../../d8/d00/TrackStatePropagator_8cxx_source.html#l00269">269</a> of file <a class="el" href="../../d8/d00/TrackStatePropagator_8cxx_source.html">TrackStatePropagator.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">// For infinite initial momentum, return with infinite momentum.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span> (pinv == 0.) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> emid = <a class="code" href="../../d1/dbb/test__associatedgroups__full_8fcl.html#a07fbfef6c53a7ed684db7d9f21876cb8">e1</a> - 0.5 * <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a> * dedx;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">if</span> (emid &gt; <a class="code" href="../../d3/d5d/namespacelib_1_1dedx.html#af9508f78ba8143119daa95dbd8220f91">mass</a>) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> pmid = std::sqrt(emid * emid - <a class="code" href="../../d3/d5d/namespacelib_1_1dedx.html#af9508f78ba8143119daa95dbd8220f91">mass</a> * <a class="code" href="../../d3/d5d/namespacelib_1_1dedx.html#af9508f78ba8143119daa95dbd8220f91">mass</a>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> e2 = <a class="code" href="../../d1/dbb/test__associatedgroups__full_8fcl.html#a07fbfef6c53a7ed684db7d9f21876cb8">e1</a> - 0.001 * <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a> * <a class="code" href="../../d2/d1a/namespacedetsim.html#a560adbb3abf95a23d45a53ed25d8c0c7">detProp</a>.Eloss(pmid, <a class="code" href="../../d3/d5d/namespacelib_1_1dedx.html#af9508f78ba8143119daa95dbd8220f91">mass</a>, <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a60ebf055e6cf27305edada92cb46179f">fTcut</a>);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      <span class="keywordflow">if</span> (e2 &gt; <a class="code" href="../../d3/d5d/namespacelib_1_1dedx.html#af9508f78ba8143119daa95dbd8220f91">mass</a>) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> p2 = std::sqrt(e2 * e2 - <a class="code" href="../../d3/d5d/namespacelib_1_1dedx.html#af9508f78ba8143119daa95dbd8220f91">mass</a> * <a class="code" href="../../d3/d5d/namespacelib_1_1dedx.html#af9508f78ba8143119daa95dbd8220f91">mass</a>);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordtype">double</span> pinv2 = 1. / p2;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">if</span> (pinv &lt; 0.) pinv2 = -pinv2;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="comment">// derivative</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        deriv = pinv2 * pinv2 * pinv2 * e2 / (pinv * pinv * pinv * <a class="code" href="../../d1/dbb/test__associatedgroups__full_8fcl.html#a07fbfef6c53a7ed684db7d9f21876cb8">e1</a>);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="comment">// update result.</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        pinv = pinv2;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  }</div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a60ebf055e6cf27305edada92cb46179f"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a60ebf055e6cf27305edada92cb46179f">trkf::TrackStatePropagator::fTcut</a></div><div class="ttdeci">double fTcut</div><div class="ttdoc">Maximum delta ray energy for dE/dx. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00192">TrackStatePropagator.h:192</a></div></div>
<div class="ttc" id="file__to__url_8sh_html_a096ad3d3698082826189c839d7a6e46f"><div class="ttname"><a href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a></div><div class="ttdeci">then echo File list $list not found else cat $list while read file do echo $file sed s</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dea/file__to__url_8sh_source.html#l00060">file_to_url.sh:60</a></div></div>
<div class="ttc" id="namespacelib_1_1dedx_html_af9508f78ba8143119daa95dbd8220f91"><div class="ttname"><a href="../../d3/d5d/namespacelib_1_1dedx.html#af9508f78ba8143119daa95dbd8220f91">lib.dedx.mass</a></div><div class="ttdeci">float mass</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df9/dedx_8py_source.html#l00047">dedx.py:47</a></div></div>
<div class="ttc" id="test__associatedgroups__full_8fcl_html_a07fbfef6c53a7ed684db7d9f21876cb8"><div class="ttname"><a href="../../d1/dbb/test__associatedgroups__full_8fcl.html#a07fbfef6c53a7ed684db7d9f21876cb8">e1</a></div><div class="ttdeci">physics pm2 e1</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/test__associatedgroups__full_8fcl_source.html#l00028">test_associatedgroups_full.fcl:28</a></div></div>
<div class="ttc" id="namespacedetsim_html_a560adbb3abf95a23d45a53ed25d8c0c7"><div class="ttname"><a href="../../d2/d1a/namespacedetsim.html#a560adbb3abf95a23d45a53ed25d8c0c7">detsim::detProp</a></div><div class="ttdeci">auto const detProp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/SimWire__module_8cc_source.html#l00154">SimWire_module.cc:154</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a10120a08c91d9c4ebb2ec5a71e6fd6a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool trkf::TrackStatePropagator::apply_mcs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d11/classdetinfo_1_1DetectorPropertiesData.html">detinfo::DetectorPropertiesData</a> const &amp;&#160;</td>
          <td class="paramname"><em>detProp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dudw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dvdw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>pinv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>e2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flipSign</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/da2/namespacetrkf.html#afce9d7f4b81473c0ba04bac01ee6fa51">SMatrixSym55</a> &amp;&#160;</td>
          <td class="paramname"><em>noise_matrix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply multiple coulomb scattering. </p>

<p>Definition at line <a class="el" href="../../d8/d00/TrackStatePropagator_8cxx_source.html#l00298">298</a> of file <a class="el" href="../../d8/d00/TrackStatePropagator_8cxx_source.html">TrackStatePropagator.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">// If distance is zero, or momentum is infinite, return zero noise.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (pinv == 0. || <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a> == 0.) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="comment">// Use crude estimate of the range of the track.</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">if</span> (range &gt; 100.) range = 100.;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> p2 = <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a> * <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">// Calculate the radiation length in cm.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> x0 = <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#acfa8d5284157b060b8a6722489c8a407">larprop</a>-&gt;<a class="code" href="../../dc/d37/classdetinfo_1_1LArProperties.html#a74d642b786c0460c5b66eeff5d521b90">RadiationLength</a>() / <a class="code" href="../../d2/d1a/namespacedetsim.html#a560adbb3abf95a23d45a53ed25d8c0c7">detProp</a>.Density();</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">// Calculate projected rms scattering angle.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// Use the estimted range in the logarithm factor.</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="comment">// Use the incremental propagation distance in the square root factor.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> betainv = std::sqrt(1. + pinv * pinv * <a class="code" href="../../d3/d5d/namespacelib_1_1dedx.html#af9508f78ba8143119daa95dbd8220f91">mass</a> * <a class="code" href="../../d3/d5d/namespacelib_1_1dedx.html#af9508f78ba8143119daa95dbd8220f91">mass</a>);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> theta_fact = (0.0136 * pinv * betainv) * (1. + 0.038 * std::log(range / x0));</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> theta02 = theta_fact * theta_fact * <a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(<a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a> / x0);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="comment">// Calculate some common factors needed for multiple scattering.</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> ufact2 = 1. + dudw * dudw;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> vfact2 = 1. + dvdw * dvdw;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> uvfact2 = 1. + dudw * dudw + dvdw * dvdw;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> uvfact = std::sqrt(uvfact2);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> uv = dudw * dvdw;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> dist2_3 = <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a> * <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a> / 3.;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordtype">double</span> dist_2 = <a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(<a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>) / 2.;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">if</span> (flipSign) dist_2 = -dist_2;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="comment">// Calculate energy loss fluctuations.</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> evar = 1.e-6 * <a class="code" href="../../d2/d1a/namespacedetsim.html#a560adbb3abf95a23d45a53ed25d8c0c7">detProp</a>.ElossVar(p, <a class="code" href="../../d3/d5d/namespacelib_1_1dedx.html#af9508f78ba8143119daa95dbd8220f91">mass</a>) * <a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(<a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>); <span class="comment">// E variance (GeV^2).</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> pinvvar = evar * e2 / (p2 * p2 * p2); <span class="comment">// Inv. p variance (1/GeV^2)</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="comment">// Update elements of noise matrix.</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">// Position submatrix.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    noise_matrix(0, 0) += dist2_3 * theta02 * ufact2; <span class="comment">// sigma^2(u,u)</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    noise_matrix(1, 0) += dist2_3 * theta02 * uv;     <span class="comment">// sigma^2(u,v)</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    noise_matrix(1, 1) += dist2_3 * theta02 * vfact2; <span class="comment">// sigma^2(v,v)</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="comment">// Slope submatrix.</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    noise_matrix(2, 2) += theta02 * uvfact2 * ufact2; <span class="comment">// sigma^2(u&#39;, u&#39;)</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    noise_matrix(3, 2) += theta02 * uvfact2 * uv;     <span class="comment">// sigma^2(v&#39;, u&#39;)</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    noise_matrix(3, 3) += theta02 * uvfact2 * vfact2; <span class="comment">// sigma^2(v&#39;, v&#39;)</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">// Same-view position-slope correlations.</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    noise_matrix(2, 0) += dist_2 * theta02 * uvfact * ufact2; <span class="comment">// sigma^2(u&#39;, u)</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    noise_matrix(3, 1) += dist_2 * theta02 * uvfact * vfact2; <span class="comment">// sigma^2(v&#39;, v)</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">// Opposite-view position-slope correlations.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    noise_matrix(2, 1) += dist_2 * theta02 * uvfact * uv; <span class="comment">// sigma^2(u&#39;, v)</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    noise_matrix(3, 0) += dist_2 * theta02 * uvfact * uv; <span class="comment">// sigma^2(v&#39;, u)</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// Momentum correlations (zero).</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="comment">// noise_matrix(4,0) += 0.;                                   // sigma^2(pinv, u)</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="comment">// noise_matrix(4,1) += 0.;                                   // sigma^2(pinv, v)</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="comment">// noise_matrix(4,2) += 0.;                                   // sigma^2(pinv, u&#39;)</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment">// noise_matrix(4,3) += 0.;                                   // sigma^2(pinv, v&#39;)</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">// Energy loss fluctuations.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a27c7fcf95e56167573eddc93b78b53d5">fPropPinvErr</a>) noise_matrix(4, 4) += pinvvar; <span class="comment">// sigma^2(pinv, pinv)</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">// Done (success).</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  }</div>
<div class="ttc" id="selectors_8fcl_html_a24c8335057af14a9b508d5ac18999ce5"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a></div><div class="ttdeci">pdgs p</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00022">selectors.fcl:22</a></div></div>
<div class="ttc" id="sparse__vector__test_8cc_html_a39f16bf854ba527dee7eba5bbbd93f3f"><div class="ttname"><a href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a></div><div class="ttdeci">T abs(T value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d59/sparse__vector__test_8cc_source.html#l00030">sparse_vector_test.cc:30</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_acfa8d5284157b060b8a6722489c8a407"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#acfa8d5284157b060b8a6722489c8a407">trkf::TrackStatePropagator::larprop</a></div><div class="ttdeci">const detinfo::LArProperties * larprop</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00196">TrackStatePropagator.h:196</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a27c7fcf95e56167573eddc93b78b53d5"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a27c7fcf95e56167573eddc93b78b53d5">trkf::TrackStatePropagator::fPropPinvErr</a></div><div class="ttdeci">bool fPropPinvErr</div><div class="ttdoc">Propagate error on 1/p or not (in order to avoid infs, it should be set to false when 1/p not updated...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00195">TrackStatePropagator.h:195</a></div></div>
<div class="ttc" id="file__to__url_8sh_html_a096ad3d3698082826189c839d7a6e46f"><div class="ttname"><a href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a></div><div class="ttdeci">then echo File list $list not found else cat $list while read file do echo $file sed s</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dea/file__to__url_8sh_source.html#l00060">file_to_url.sh:60</a></div></div>
<div class="ttc" id="namespacelib_1_1dedx_html_af9508f78ba8143119daa95dbd8220f91"><div class="ttname"><a href="../../d3/d5d/namespacelib_1_1dedx.html#af9508f78ba8143119daa95dbd8220f91">lib.dedx.mass</a></div><div class="ttdeci">float mass</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df9/dedx_8py_source.html#l00047">dedx.py:47</a></div></div>
<div class="ttc" id="classdetinfo_1_1LArProperties_html_a74d642b786c0460c5b66eeff5d521b90"><div class="ttname"><a href="../../dc/d37/classdetinfo_1_1LArProperties.html#a74d642b786c0460c5b66eeff5d521b90">detinfo::LArProperties::RadiationLength</a></div><div class="ttdeci">virtual double RadiationLength() const =0</div></div>
<div class="ttc" id="namespacedetsim_html_a560adbb3abf95a23d45a53ed25d8c0c7"><div class="ttname"><a href="../../d2/d1a/namespacedetsim.html#a560adbb3abf95a23d45a53ed25d8c0c7">detsim::detProp</a></div><div class="ttdeci">auto const detProp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/SimWire__module_8cc_source.html#l00154">SimWire_module.cc:154</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a73b150a8113444439f4f4b5163cc9ac4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; double, double &gt; trkf::TrackStatePropagator::distancePairToPlane </td>
          <td>(</td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>success</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa6a20b80c4665cd48a17b7b746a86d3b">Point_t</a> &amp;&#160;</td>
          <td class="paramname"><em>origpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aad72c47c5fdfc6200d246e3928aed450">Vector_t</a> &amp;&#160;</td>
          <td class="paramname"><em>origdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return both direction types in one go. </p>

<p>Definition at line <a class="el" href="../../d8/d00/TrackStatePropagator_8cxx_source.html#l00248">248</a> of file <a class="el" href="../../d8/d00/TrackStatePropagator_8cxx_source.html">TrackStatePropagator.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d6/d6b/namespacerecob_1_1tracking.html#ac47dae625a7d05a88210fb997948c07a">Point_t</a>&amp; targpos = target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae891b54e37ac8e82dc2060ea07253e7a">position</a>();</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d6/d6b/namespacerecob_1_1tracking.html#a0ddfef5f5ab9ad68a59b9a1029d4ac78">Vector_t</a>&amp; targdir = target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae1134cfa724b007dcca267d20f475c7c">direction</a>();</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">//check that origmom is not along the plane, i.e. targdir.Dot(origmom.Unit())=0</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span> (targdir.Dot(origmom.Unit()) == 0) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="keywordflow">return</span> std::pair&lt;double, double&gt;(DBL_MAX, DBL_MAX);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">//point-plane distance projected along direction orthogonal to the plane</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordtype">double</span> sperp = targdir.Dot(targpos - origpos);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">//distance along track direction</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a> = sperp / targdir.Dot(origmom.Unit());</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    success = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">return</span> std::pair&lt;double, double&gt;(<a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>, sperp);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  }</div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_ae1134cfa724b007dcca267d20f475c7c"><div class="ttname"><a href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae1134cfa724b007dcca267d20f475c7c">recob::tracking::Plane::direction</a></div><div class="ttdeci">Vector_t const &amp; direction() const </div><div class="ttdoc">Reference direction orthogonal to the plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1e/TrackingPlane_8h_source.html#l00070">TrackingPlane.h:70</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_a0ddfef5f5ab9ad68a59b9a1029d4ac78"><div class="ttname"><a href="../../d6/d6b/namespacerecob_1_1tracking.html#a0ddfef5f5ab9ad68a59b9a1029d4ac78">recob::tracking::Vector_t</a></div><div class="ttdeci">ROOT::Math::DisplacementVector3D&lt; ROOT::Math::Cartesian3D&lt; Coord_t &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Vector_t</div><div class="ttdoc">Type for representation of momenta in 3D space. See recob::tracking::Coord_t for more details on the ...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da9/TrackingTypes_8h_source.html#l00029">TrackingTypes.h:29</a></div></div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_ae891b54e37ac8e82dc2060ea07253e7a"><div class="ttname"><a href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae891b54e37ac8e82dc2060ea07253e7a">recob::tracking::Plane::position</a></div><div class="ttdeci">Point_t const &amp; position() const </div><div class="ttdoc">Reference position on the plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1e/TrackingPlane_8h_source.html#l00066">TrackingPlane.h:66</a></div></div>
<div class="ttc" id="file__to__url_8sh_html_a096ad3d3698082826189c839d7a6e46f"><div class="ttname"><a href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a></div><div class="ttdeci">then echo File list $list not found else cat $list while read file do echo $file sed s</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dea/file__to__url_8sh_source.html#l00060">file_to_url.sh:60</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_ac47dae625a7d05a88210fb997948c07a"><div class="ttname"><a href="../../d6/d6b/namespacerecob_1_1tracking.html#ac47dae625a7d05a88210fb997948c07a">recob::tracking::Point_t</a></div><div class="ttdeci">ROOT::Math::PositionVector3D&lt; ROOT::Math::Cartesian3D&lt; Coord_t &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Point_t</div><div class="ttdoc">Type for representation of position in physical 3D space. See recob::tracking::Coord_t for more detai...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da9/TrackingTypes_8h_source.html#l00026">TrackingTypes.h:26</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abd1b3c0392a9e32e8155bcfda8ac2cd2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt;double, double&gt; trkf::TrackStatePropagator::distancePairToPlane </td>
          <td>(</td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>success</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a> &amp;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00147">147</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a73b150a8113444439f4f4b5163cc9ac4">distancePairToPlane</a>(success, <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.position(), <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.momentum().Unit(), target);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    }</div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a73b150a8113444439f4f4b5163cc9ac4"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a73b150a8113444439f4f4b5163cc9ac4">trkf::TrackStatePropagator::distancePairToPlane</a></div><div class="ttdeci">std::pair&lt; double, double &gt; distancePairToPlane(bool &amp;success, const Point_t &amp;origpos, const Vector_t &amp;origdir, const Plane &amp;target) const </div><div class="ttdoc">Return both direction types in one go. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/TrackStatePropagator_8cxx_source.html#l00248">TrackStatePropagator.cxx:248</a></div></div>
<div class="ttc" id="namespacegeo_html_a6155d04d62c8bb11135137324ab26b5c"><div class="ttname"><a href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">geo::origin</a></div><div class="ttdeci">constexpr Point origin()</div><div class="ttdoc">Returns a origin position with a point of the specified type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/geo__vectors_8h_source.html#l00227">geo_vectors.h:227</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab4f06dfff7579a24d5748096cb49bf06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double trkf::TrackStatePropagator::distanceToPlane </td>
          <td>(</td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>success</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa6a20b80c4665cd48a17b7b746a86d3b">Point_t</a> &amp;&#160;</td>
          <td class="paramname"><em>origpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aad72c47c5fdfc6200d246e3928aed450">Vector_t</a> &amp;&#160;</td>
          <td class="paramname"><em>origdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Distance of a <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html" title="Class for track parameters (and errors) defined on a recob::tracking::Plane. ">TrackState</a> (Point and Vector) to a Plane, along the <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html" title="Class for track parameters (and errors) defined on a recob::tracking::Plane. ">TrackState</a> direction. </p>

<p>Definition at line <a class="el" href="../../d8/d00/TrackStatePropagator_8cxx_source.html#l00216">216</a> of file <a class="el" href="../../d8/d00/TrackStatePropagator_8cxx_source.html">TrackStatePropagator.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d6/d6b/namespacerecob_1_1tracking.html#ac47dae625a7d05a88210fb997948c07a">Point_t</a>&amp; targpos = target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae891b54e37ac8e82dc2060ea07253e7a">position</a>();</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d6/d6b/namespacerecob_1_1tracking.html#a0ddfef5f5ab9ad68a59b9a1029d4ac78">Vector_t</a>&amp; targdir = target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae1134cfa724b007dcca267d20f475c7c">direction</a>();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">//check that origmom is not along the plane, i.e. targdir.Dot(origmom.Unit())=0</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">if</span> (targdir.Dot(origmom.Unit()) == 0) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="keywordflow">return</span> DBL_MAX;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">//distance along track direction</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a> = targdir.Dot(targpos - origpos) / targdir.Dot(origmom.Unit());</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    success = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  }</div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_ae1134cfa724b007dcca267d20f475c7c"><div class="ttname"><a href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae1134cfa724b007dcca267d20f475c7c">recob::tracking::Plane::direction</a></div><div class="ttdeci">Vector_t const &amp; direction() const </div><div class="ttdoc">Reference direction orthogonal to the plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1e/TrackingPlane_8h_source.html#l00070">TrackingPlane.h:70</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_a0ddfef5f5ab9ad68a59b9a1029d4ac78"><div class="ttname"><a href="../../d6/d6b/namespacerecob_1_1tracking.html#a0ddfef5f5ab9ad68a59b9a1029d4ac78">recob::tracking::Vector_t</a></div><div class="ttdeci">ROOT::Math::DisplacementVector3D&lt; ROOT::Math::Cartesian3D&lt; Coord_t &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Vector_t</div><div class="ttdoc">Type for representation of momenta in 3D space. See recob::tracking::Coord_t for more details on the ...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da9/TrackingTypes_8h_source.html#l00029">TrackingTypes.h:29</a></div></div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_ae891b54e37ac8e82dc2060ea07253e7a"><div class="ttname"><a href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae891b54e37ac8e82dc2060ea07253e7a">recob::tracking::Plane::position</a></div><div class="ttdeci">Point_t const &amp; position() const </div><div class="ttdoc">Reference position on the plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1e/TrackingPlane_8h_source.html#l00066">TrackingPlane.h:66</a></div></div>
<div class="ttc" id="file__to__url_8sh_html_a096ad3d3698082826189c839d7a6e46f"><div class="ttname"><a href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a></div><div class="ttdeci">then echo File list $list not found else cat $list while read file do echo $file sed s</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dea/file__to__url_8sh_source.html#l00060">file_to_url.sh:60</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_ac47dae625a7d05a88210fb997948c07a"><div class="ttname"><a href="../../d6/d6b/namespacerecob_1_1tracking.html#ac47dae625a7d05a88210fb997948c07a">recob::tracking::Point_t</a></div><div class="ttdeci">ROOT::Math::PositionVector3D&lt; ROOT::Math::Cartesian3D&lt; Coord_t &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Point_t</div><div class="ttdoc">Type for representation of position in physical 3D space. See recob::tracking::Coord_t for more detai...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da9/TrackingTypes_8h_source.html#l00026">TrackingTypes.h:26</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afe9b3e6a12283ca739595eb895adfa9a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double trkf::TrackStatePropagator::distanceToPlane </td>
          <td>(</td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>success</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a> &amp;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00124">124</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ab4f06dfff7579a24d5748096cb49bf06">distanceToPlane</a>(success, <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.position(), <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.momentum().Unit(), target);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    }</div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_ab4f06dfff7579a24d5748096cb49bf06"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ab4f06dfff7579a24d5748096cb49bf06">trkf::TrackStatePropagator::distanceToPlane</a></div><div class="ttdeci">double distanceToPlane(bool &amp;success, const Point_t &amp;origpos, const Vector_t &amp;origdir, const Plane &amp;target) const </div><div class="ttdoc">Distance of a TrackState (Point and Vector) to a Plane, along the TrackState direction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/TrackStatePropagator_8cxx_source.html#l00216">TrackStatePropagator.cxx:216</a></div></div>
<div class="ttc" id="namespacegeo_html_a6155d04d62c8bb11135137324ab26b5c"><div class="ttname"><a href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">geo::origin</a></div><div class="ttdeci">constexpr Point origin()</div><div class="ttdoc">Returns a origin position with a point of the specified type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/geo__vectors_8h_source.html#l00227">geo_vectors.h:227</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a07d9666720e1e26c7fd3758fdad06fbf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double trkf::TrackStatePropagator::getTcut </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get Tcut parameter used in DetectorPropertiesService Eloss method </p>

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00177">177</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a60ebf055e6cf27305edada92cb46179f">fTcut</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a60ebf055e6cf27305edada92cb46179f"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a60ebf055e6cf27305edada92cb46179f">trkf::TrackStatePropagator::fTcut</a></div><div class="ttdeci">double fTcut</div><div class="ttdoc">Maximum delta ray energy for dE/dx. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00192">TrackStatePropagator.h:192</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2346610a0b5efedbffdeb275233dd1be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double trkf::TrackStatePropagator::perpDistanceToPlane </td>
          <td>(</td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>success</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa6a20b80c4665cd48a17b7b746a86d3b">Point_t</a> &amp;&#160;</td>
          <td class="paramname"><em>origpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Distance of a <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html" title="Class for track parameters (and errors) defined on a recob::tracking::Plane. ">TrackState</a> (Point) to a Plane along the direction orthogonal to the Plane. </p>

<p>Definition at line <a class="el" href="../../d8/d00/TrackStatePropagator_8cxx_source.html#l00235">235</a> of file <a class="el" href="../../d8/d00/TrackStatePropagator_8cxx_source.html">TrackStatePropagator.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d6/d6b/namespacerecob_1_1tracking.html#ac47dae625a7d05a88210fb997948c07a">Point_t</a>&amp; targpos = target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae891b54e37ac8e82dc2060ea07253e7a">position</a>();</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d6/d6b/namespacerecob_1_1tracking.html#a0ddfef5f5ab9ad68a59b9a1029d4ac78">Vector_t</a>&amp; targdir = target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae1134cfa724b007dcca267d20f475c7c">direction</a>();</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">//point-plane distance projected along direction orthogonal to the plane</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordtype">double</span> sperp = targdir.Dot(targpos - origpos);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    success = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">return</span> sperp;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  }</div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_ae1134cfa724b007dcca267d20f475c7c"><div class="ttname"><a href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae1134cfa724b007dcca267d20f475c7c">recob::tracking::Plane::direction</a></div><div class="ttdeci">Vector_t const &amp; direction() const </div><div class="ttdoc">Reference direction orthogonal to the plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1e/TrackingPlane_8h_source.html#l00070">TrackingPlane.h:70</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_a0ddfef5f5ab9ad68a59b9a1029d4ac78"><div class="ttname"><a href="../../d6/d6b/namespacerecob_1_1tracking.html#a0ddfef5f5ab9ad68a59b9a1029d4ac78">recob::tracking::Vector_t</a></div><div class="ttdeci">ROOT::Math::DisplacementVector3D&lt; ROOT::Math::Cartesian3D&lt; Coord_t &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Vector_t</div><div class="ttdoc">Type for representation of momenta in 3D space. See recob::tracking::Coord_t for more details on the ...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da9/TrackingTypes_8h_source.html#l00029">TrackingTypes.h:29</a></div></div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_ae891b54e37ac8e82dc2060ea07253e7a"><div class="ttname"><a href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae891b54e37ac8e82dc2060ea07253e7a">recob::tracking::Plane::position</a></div><div class="ttdeci">Point_t const &amp; position() const </div><div class="ttdoc">Reference position on the plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1e/TrackingPlane_8h_source.html#l00066">TrackingPlane.h:66</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_ac47dae625a7d05a88210fb997948c07a"><div class="ttname"><a href="../../d6/d6b/namespacerecob_1_1tracking.html#ac47dae625a7d05a88210fb997948c07a">recob::tracking::Point_t</a></div><div class="ttdeci">ROOT::Math::PositionVector3D&lt; ROOT::Math::Cartesian3D&lt; Coord_t &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Point_t</div><div class="ttdoc">Type for representation of position in physical 3D space. See recob::tracking::Coord_t for more detai...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da9/TrackingTypes_8h_source.html#l00026">TrackingTypes.h:26</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab5b88bda9386aa534caa68d0c0897687"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double trkf::TrackStatePropagator::perpDistanceToPlane </td>
          <td>(</td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>success</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a> &amp;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00134">134</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a2346610a0b5efedbffdeb275233dd1be">perpDistanceToPlane</a>(success, <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.position(), target);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a2346610a0b5efedbffdeb275233dd1be"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a2346610a0b5efedbffdeb275233dd1be">trkf::TrackStatePropagator::perpDistanceToPlane</a></div><div class="ttdeci">double perpDistanceToPlane(bool &amp;success, const Point_t &amp;origpos, const Plane &amp;target) const </div><div class="ttdoc">Distance of a TrackState (Point) to a Plane along the direction orthogonal to the Plane...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/TrackStatePropagator_8cxx_source.html#l00235">TrackStatePropagator.cxx:235</a></div></div>
<div class="ttc" id="namespacegeo_html_a6155d04d62c8bb11135137324ab26b5c"><div class="ttname"><a href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">geo::origin</a></div><div class="ttdeci">constexpr Point origin()</div><div class="ttdoc">Returns a origin position with a point of the specified type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/geo__vectors_8h_source.html#l00227">geo_vectors.h:227</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7cfd10afaba7da8024bdc2e25e6f7cde"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa6a20b80c4665cd48a17b7b746a86d3b">Point_t</a> trkf::TrackStatePropagator::propagatedPosByDistance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa6a20b80c4665cd48a17b7b746a86d3b">Point_t</a> &amp;&#160;</td>
          <td class="paramname"><em>origpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aad72c47c5fdfc6200d246e3928aed450">Vector_t</a> &amp;&#160;</td>
          <td class="paramname"><em>origdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>distance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Quick accesss to the propagated position given a distance. </p>

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00112">112</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      <span class="keywordflow">return</span> origpos + distance * origdir;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae46e7c518db95bfca7418cd582682c95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a> trkf::TrackStatePropagator::propagateToPlane </td>
          <td>(</td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>success</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/d11/classdetinfo_1_1DetectorPropertiesData.html">detinfo::DetectorPropertiesData</a> &amp;&#160;</td>
          <td class="paramname"><em>detProp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a> &amp;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>dodedx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>domcs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1b">PropDirection</a>&#160;</td>
          <td class="paramname"><em>dir</em> = <code><a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1ba6351b029d52cf3f64d523db56d4a532a">FORWARD</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function for propagation of a <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html" title="Class for track parameters (and errors) defined on a recob::tracking::Plane. ">TrackState</a> to a Plane. </p>

<p>Definition at line <a class="el" href="../../d8/d00/TrackStatePropagator_8cxx_source.html#l00030">30</a> of file <a class="el" href="../../d8/d00/TrackStatePropagator_8cxx_source.html">TrackStatePropagator.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="comment">// 1- find distance to target plane</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keyword">auto</span> [distance, sperp] = <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a73b150a8113444439f4f4b5163cc9ac4">distancePairToPlane</a>(success, <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>, target);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">if</span> ((distance &lt; -<a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa0da7a8a533a07f6de55b2ab8749d498">fWrongDirDistTolerance</a> &amp;&amp; <a class="code" href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dir</a> == <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1ba6351b029d52cf3f64d523db56d4a532a">FORWARD</a>) ||</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        (distance &gt; <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa0da7a8a533a07f6de55b2ab8749d498">fWrongDirDistTolerance</a> &amp;&amp; <a class="code" href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dir</a> == <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1ba815fdae095e62f7826692abe63e9e458">BACKWARD</a>)) {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;      success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="comment">// 2- propagate 3d position by distance, form propagated state on plane parallel to origin plane</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="../../d6/d6b/namespacerecob_1_1tracking.html#ac47dae625a7d05a88210fb997948c07a">Point_t</a> <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a> = <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a7cfd10afaba7da8024bdc2e25e6f7cde">propagatedPosByDistance</a>(</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.position(), <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.momentum() * <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.parameters()[4], distance);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    TrackState tmpState(</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      <a class="code" href="../../d0/da2/namespacetrkf.html#a76b468986d4bcee16d17dfcae57efae2">SVector5</a>(0., 0., <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.parameters()[2], <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.parameters()[3], <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.parameters()[4]),</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.covariance(),</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a>(p, <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.plane().direction()),</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.isTrackAlongPlaneDir(),</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.pID());</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">// 3- rotate state to target plane</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordtype">double</span> dw2dw1 = 0;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    tmpState = <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a0b604e378ad14c086e7ac6dc481ab9c2">rotateToPlane</a>(success, tmpState, target, dw2dw1);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="../../d6/d6b/namespacerecob_1_1tracking.html#a0d6af9187d2c4bb632f167099fc061eb">SVector5</a> par5d = tmpState.parameters();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="../../d6/d6b/namespacerecob_1_1tracking.html#aedd77b5ebb70d48a9b4673b8efcbc32e">SMatrixSym55</a> cov5d = tmpState.covariance();</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">// 4- compute jacobian to propagate uncertainties</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="../../d6/d6b/namespacerecob_1_1tracking.html#a28274753fcdb2d37c9867ae960cc4826">SMatrix55</a> pm = ROOT::Math::SMatrixIdentity(); <span class="comment">//diagonal elements are 1</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    pm(0, 2) = sperp;                             <span class="comment">// du2/d(dudw1);</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    pm(1, 3) = sperp;                             <span class="comment">// dv2/d(dvdw1);</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// 5- apply material effects, performing more iterations if the distance is long</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordtype">bool</span> arrived = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordtype">int</span> nit = 0; <span class="comment">// Iteration count.</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordtype">double</span> deriv = 1.;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="../../d6/d6b/namespacerecob_1_1tracking.html#aedd77b5ebb70d48a9b4673b8efcbc32e">SMatrixSym55</a> noise_matrix;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">while</span> (!arrived) {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      ++nit;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      <span class="keywordflow">if</span> (nit &gt; <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a51e322148c735d15100745efcea10ab0">fMaxNit</a>) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <span class="comment">// Estimate maximum step distance, such that fMaxElossFrac of initial energy is lost by dedx</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="../../d3/d5d/namespacelib_1_1dedx.html#af9508f78ba8143119daa95dbd8220f91">mass</a> = <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.mass();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> p = 1. / par5d[4];</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a> = std::hypot(p, mass);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> t = e - <a class="code" href="../../d3/d5d/namespacelib_1_1dedx.html#af9508f78ba8143119daa95dbd8220f91">mass</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> dedx = 0.001 * detProp.<a class="code" href="../../d1/d11/classdetinfo_1_1DetectorPropertiesData.html#a579732df4f5e4719435325f065be345f">Eloss</a>(<a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(p), mass, <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a60ebf055e6cf27305edada92cb46179f">fTcut</a>);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> range = t / dedx;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> smax = <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(<a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a1968135a98246560aa881c33a4e2b0e1">fMinStep</a>, <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a2cba0de431d2cc0d115ce1c200c1eee9">fMaxElossFrac</a> * range);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <span class="keywordtype">double</span> <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a> = distance;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <span class="keywordflow">if</span> (domcs &amp;&amp; smax &gt; 0 &amp;&amp; <a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(s) &gt; smax) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a51e322148c735d15100745efcea10ab0">fMaxNit</a> == 1) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;          success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        s = (s &gt; 0 ? smax : -smax);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        distance -= <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        arrived = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <span class="comment">// now apply material effects</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="keywordflow">if</span> (domcs) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordtype">bool</span> flip = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.isTrackAlongPlaneDir() == <span class="keyword">true</span> &amp;&amp; dw2dw1 &lt; 0.) flip = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.isTrackAlongPlaneDir() == <span class="keyword">false</span> &amp;&amp; dw2dw1 &gt; 0.) flip = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordtype">bool</span> ok = <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a10120a08c91d9c4ebb2ec5a71e6fd6a9">apply_mcs</a>(detProp,</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                            par5d[2],</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                            par5d[3],</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                            par5d[4],</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                            <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.mass(),</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                            <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>,</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                            range,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                            <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>,</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                            e * <a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a>,</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                            flip,</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                            noise_matrix);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">if</span> (!ok) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;          success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      <span class="keywordflow">if</span> (dodedx) { <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a12c7c8faadb5a97fbf135e8d48a0cefe">apply_dedx</a>(par5d(4), detProp, dedx, e, <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.mass(), <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>, deriv); }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a27c7fcf95e56167573eddc93b78b53d5">fPropPinvErr</a>) pm(4, 4) *= deriv;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// 6- create final track state</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    cov5d = ROOT::Math::Similarity(pm, cov5d); <span class="comment">//*rj</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    cov5d = cov5d + noise_matrix;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    TrackState trackState(</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      par5d, cov5d, target, <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.momentum().Dot(target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae1134cfa724b007dcca267d20f475c7c">direction</a>()) &gt; 0, <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.pID());</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">return</span> trackState;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  }</div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a08b9c8618734f8c3cf6d3d261ba92357"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">trkf::TrackStatePropagator::Plane</a></div><div class="ttdeci">recob::tracking::Plane Plane</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00040">TrackStatePropagator.h:40</a></div></div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_ae1134cfa724b007dcca267d20f475c7c"><div class="ttname"><a href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae1134cfa724b007dcca267d20f475c7c">recob::tracking::Plane::direction</a></div><div class="ttdeci">Vector_t const &amp; direction() const </div><div class="ttdoc">Reference direction orthogonal to the plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1e/TrackingPlane_8h_source.html#l00070">TrackingPlane.h:70</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a51e322148c735d15100745efcea10ab0"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a51e322148c735d15100745efcea10ab0">trkf::TrackStatePropagator::fMaxNit</a></div><div class="ttdeci">int fMaxNit</div><div class="ttdoc">Maximum number of iterations. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00191">TrackStatePropagator.h:191</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_a28274753fcdb2d37c9867ae960cc4826"><div class="ttname"><a href="../../d6/d6b/namespacerecob_1_1tracking.html#a28274753fcdb2d37c9867ae960cc4826">recob::tracking::SMatrix55</a></div><div class="ttdeci">ROOT::Math::SMatrix&lt; Double32_t, 5, 5 &gt; SMatrix55</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da9/TrackingTypes_8h_source.html#l00089">TrackingTypes.h:89</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_aedd77b5ebb70d48a9b4673b8efcbc32e"><div class="ttname"><a href="../../d6/d6b/namespacerecob_1_1tracking.html#aedd77b5ebb70d48a9b4673b8efcbc32e">recob::tracking::SMatrixSym55</a></div><div class="ttdeci">ROOT::Math::SMatrix&lt; Double32_t, 5, 5, ROOT::Math::MatRepSym&lt; Double32_t, 5 &gt; &gt; SMatrixSym55</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da9/TrackingTypes_8h_source.html#l00085">TrackingTypes.h:85</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a24c8335057af14a9b508d5ac18999ce5"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a></div><div class="ttdeci">pdgs p</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00022">selectors.fcl:22</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_ae5eff788f74ea79d40466328fd943a1ba815fdae095e62f7826692abe63e9e458"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1ba815fdae095e62f7826692abe63e9e458">trkf::TrackStatePropagator::BACKWARD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00073">TrackStatePropagator.h:73</a></div></div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a10120a08c91d9c4ebb2ec5a71e6fd6a9"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a10120a08c91d9c4ebb2ec5a71e6fd6a9">trkf::TrackStatePropagator::apply_mcs</a></div><div class="ttdeci">bool apply_mcs(detinfo::DetectorPropertiesData const &amp;detProp, double dudw, double dvdw, double pinv, double mass, double s, double range, double p, double e2, bool flipSign, SMatrixSym55 &amp;noise_matrix) const </div><div class="ttdoc">Apply multiple coulomb scattering. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/TrackStatePropagator_8cxx_source.html#l00298">TrackStatePropagator.cxx:298</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a1968135a98246560aa881c33a4e2b0e1"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a1968135a98246560aa881c33a4e2b0e1">trkf::TrackStatePropagator::fMinStep</a></div><div class="ttdeci">double fMinStep</div><div class="ttdoc">Minimum propagation step length guaranteed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00189">TrackStatePropagator.h:189</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_a0d6af9187d2c4bb632f167099fc061eb"><div class="ttname"><a href="../../d6/d6b/namespacerecob_1_1tracking.html#a0d6af9187d2c4bb632f167099fc061eb">recob::tracking::SVector5</a></div><div class="ttdeci">ROOT::Math::SVector&lt; Double32_t, 5 &gt; SVector5</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da9/TrackingTypes_8h_source.html#l00092">TrackingTypes.h:92</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a12c7c8faadb5a97fbf135e8d48a0cefe"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a12c7c8faadb5a97fbf135e8d48a0cefe">trkf::TrackStatePropagator::apply_dedx</a></div><div class="ttdeci">void apply_dedx(double &amp;pinv, detinfo::DetectorPropertiesData const &amp;detProp, double dedx, double e1, double mass, double s, double &amp;deriv) const </div><div class="ttdoc">Apply energy loss. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/TrackStatePropagator_8cxx_source.html#l00269">TrackStatePropagator.cxx:269</a></div></div>
<div class="ttc" id="sparse__vector__test_8cc_html_a39f16bf854ba527dee7eba5bbbd93f3f"><div class="ttname"><a href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a></div><div class="ttdeci">T abs(T value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d59/sparse__vector__test_8cc_source.html#l00030">sparse_vector_test.cc:30</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a60ebf055e6cf27305edada92cb46179f"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a60ebf055e6cf27305edada92cb46179f">trkf::TrackStatePropagator::fTcut</a></div><div class="ttdeci">double fTcut</div><div class="ttdoc">Maximum delta ray energy for dE/dx. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00192">TrackStatePropagator.h:192</a></div></div>
<div class="ttc" id="namespacetrkf_html_a76b468986d4bcee16d17dfcae57efae2"><div class="ttname"><a href="../../d0/da2/namespacetrkf.html#a76b468986d4bcee16d17dfcae57efae2">trkf::SVector5</a></div><div class="ttdeci">recob::tracking::SVector5 SVector5</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2f/TrackState_8h_source.html#l00012">TrackState.h:12</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_ae5eff788f74ea79d40466328fd943a1ba6351b029d52cf3f64d523db56d4a532a"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#ae5eff788f74ea79d40466328fd943a1ba6351b029d52cf3f64d523db56d4a532a">trkf::TrackStatePropagator::FORWARD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00073">TrackStatePropagator.h:73</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a0b604e378ad14c086e7ac6dc481ab9c2"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a0b604e378ad14c086e7ac6dc481ab9c2">trkf::TrackStatePropagator::rotateToPlane</a></div><div class="ttdeci">TrackState rotateToPlane(bool &amp;success, const TrackState &amp;origin, const Plane &amp;target) const </div><div class="ttdoc">Rotation of a TrackState to a Plane (zero distance propagation) </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00104">TrackStatePropagator.h:104</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a7cfd10afaba7da8024bdc2e25e6f7cde"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a7cfd10afaba7da8024bdc2e25e6f7cde">trkf::TrackStatePropagator::propagatedPosByDistance</a></div><div class="ttdeci">Point_t propagatedPosByDistance(const Point_t &amp;origpos, const Vector_t &amp;origdir, double distance) const </div><div class="ttdoc">Quick accesss to the propagated position given a distance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00112">TrackStatePropagator.h:112</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a73b150a8113444439f4f4b5163cc9ac4"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a73b150a8113444439f4f4b5163cc9ac4">trkf::TrackStatePropagator::distancePairToPlane</a></div><div class="ttdeci">std::pair&lt; double, double &gt; distancePairToPlane(bool &amp;success, const Point_t &amp;origpos, const Vector_t &amp;origdir, const Plane &amp;target) const </div><div class="ttdoc">Return both direction types in one go. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/TrackStatePropagator_8cxx_source.html#l00248">TrackStatePropagator.cxx:248</a></div></div>
<div class="ttc" id="namespacedropbox_html_a407b5b895ba9265893768748aaa73825"><div class="ttname"><a href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dropbox.dir</a></div><div class="ttdeci">tuple dir</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d81/dropbox_8py_source.html#l00028">dropbox.py:28</a></div></div>
<div class="ttc" id="classdetinfo_1_1DetectorPropertiesData_html_a579732df4f5e4719435325f065be345f"><div class="ttname"><a href="../../d1/d11/classdetinfo_1_1DetectorPropertiesData.html#a579732df4f5e4719435325f065be345f">detinfo::DetectorPropertiesData::Eloss</a></div><div class="ttdeci">double Eloss(double mom, double mass, double tcut) const </div><div class="ttdoc">Restricted mean energy loss (dE/dx) </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d64/DetectorPropertiesData_8cc_source.html#l00087">DetectorPropertiesData.cc:87</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a27c7fcf95e56167573eddc93b78b53d5"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a27c7fcf95e56167573eddc93b78b53d5">trkf::TrackStatePropagator::fPropPinvErr</a></div><div class="ttdeci">bool fPropPinvErr</div><div class="ttdoc">Propagate error on 1/p or not (in order to avoid infs, it should be set to false when 1/p not updated...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00195">TrackStatePropagator.h:195</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_aa0da7a8a533a07f6de55b2ab8749d498"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#aa0da7a8a533a07f6de55b2ab8749d498">trkf::TrackStatePropagator::fWrongDirDistTolerance</a></div><div class="ttdeci">double fWrongDirDistTolerance</div><div class="ttdoc">Allowed propagation distance in the wrong direction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00193">TrackStatePropagator.h:193</a></div></div>
<div class="ttc" id="file__to__url_8sh_html_a096ad3d3698082826189c839d7a6e46f"><div class="ttname"><a href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a></div><div class="ttdeci">then echo File list $list not found else cat $list while read file do echo $file sed s</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dea/file__to__url_8sh_source.html#l00060">file_to_url.sh:60</a></div></div>
<div class="ttc" id="namespacelib_1_1dedx_html_af9508f78ba8143119daa95dbd8220f91"><div class="ttname"><a href="../../d3/d5d/namespacelib_1_1dedx.html#af9508f78ba8143119daa95dbd8220f91">lib.dedx.mass</a></div><div class="ttdeci">float mass</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df9/dedx_8py_source.html#l00047">dedx.py:47</a></div></div>
<div class="ttc" id="updateVersionList_8sh_html_a067a8c1534d6da9b2c501a6cf4ef89bd"><div class="ttname"><a href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a></div><div class="ttdeci">do i e</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dca/updateVersionList_8sh_source.html#l00068">updateVersionList.sh:68</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a2cba0de431d2cc0d115ce1c200c1eee9"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a2cba0de431d2cc0d115ce1c200c1eee9">trkf::TrackStatePropagator::fMaxElossFrac</a></div><div class="ttdeci">double fMaxElossFrac</div><div class="ttdoc">Maximum propagation step length based on fraction of energy loss. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00190">TrackStatePropagator.h:190</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_ac47dae625a7d05a88210fb997948c07a"><div class="ttname"><a href="../../d6/d6b/namespacerecob_1_1tracking.html#ac47dae625a7d05a88210fb997948c07a">recob::tracking::Point_t</a></div><div class="ttdeci">ROOT::Math::PositionVector3D&lt; ROOT::Math::Cartesian3D&lt; Coord_t &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Point_t</div><div class="ttdoc">Type for representation of position in physical 3D space. See recob::tracking::Coord_t for more detai...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da9/TrackingTypes_8h_source.html#l00026">TrackingTypes.h:26</a></div></div>
<div class="ttc" id="namespacegeo_html_a6155d04d62c8bb11135137324ab26b5c"><div class="ttname"><a href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">geo::origin</a></div><div class="ttdeci">constexpr Point origin()</div><div class="ttdoc">Returns a origin position with a point of the specified type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/geo__vectors_8h_source.html#l00227">geo_vectors.h:227</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0b604e378ad14c086e7ac6dc481ab9c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a> trkf::TrackStatePropagator::rotateToPlane </td>
          <td>(</td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>success</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a> &amp;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rotation of a <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html" title="Class for track parameters (and errors) defined on a recob::tracking::Plane. ">TrackState</a> to a Plane (zero distance propagation) </p>

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00104">104</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="keywordtype">double</span> dw2dw1 = 0.;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a0b604e378ad14c086e7ac6dc481ab9c2">rotateToPlane</a>(success, <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>, target, dw2dw1);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a0b604e378ad14c086e7ac6dc481ab9c2"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a0b604e378ad14c086e7ac6dc481ab9c2">trkf::TrackStatePropagator::rotateToPlane</a></div><div class="ttdeci">TrackState rotateToPlane(bool &amp;success, const TrackState &amp;origin, const Plane &amp;target) const </div><div class="ttdoc">Rotation of a TrackState to a Plane (zero distance propagation) </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00104">TrackStatePropagator.h:104</a></div></div>
<div class="ttc" id="namespacegeo_html_a6155d04d62c8bb11135137324ab26b5c"><div class="ttname"><a href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">geo::origin</a></div><div class="ttdeci">constexpr Point origin()</div><div class="ttdoc">Returns a origin position with a point of the specified type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/geo__vectors_8h_source.html#l00227">geo_vectors.h:227</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af5fc41cd012558fb72fb88e718bd9835"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a> trkf::TrackStatePropagator::rotateToPlane </td>
          <td>(</td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>success</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html">TrackState</a> &amp;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>dw2dw1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rotation of a <a class="el" href="../../d0/d1e/classtrkf_1_1TrackState.html" title="Class for track parameters (and errors) defined on a recob::tracking::Plane. ">TrackState</a> to a Plane (zero distance propagation), keeping track of dw2dw1 (needed by mcs) </p>

<p>Definition at line <a class="el" href="../../d8/d00/TrackStatePropagator_8cxx_source.html#l00133">133</a> of file <a class="el" href="../../d8/d00/TrackStatePropagator_8cxx_source.html">TrackStatePropagator.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> isTrackAlongPlaneDir = <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.momentum().Dot(target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae1134cfa724b007dcca267d20f475c7c">direction</a>()) &gt; 0;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="../../d6/d6b/namespacerecob_1_1tracking.html#a0d6af9187d2c4bb632f167099fc061eb">SVector5</a> par5 = <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.parameters();</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> sinA1 = <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.plane().sinAlpha();</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> cosA1 = <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.plane().cosAlpha();</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> sinA2 = target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae2def62951ff97d4600dc070e4f20594">sinAlpha</a>();</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> cosA2 = target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#a40fb501514d3e0fbf31de8cedce03bee">cosAlpha</a>();</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> sinB1 = <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.plane().sinBeta();</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> cosB1 = <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.plane().cosBeta();</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> sinB2 = target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#a8de3ffcd102408a0772b3e8b2b636486">sinBeta</a>();</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> cosB2 = target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#aff781ba3cbbd75d6e4f4308e536eb605">cosBeta</a>();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> sindB = -sinB1 * cosB2 + cosB1 * sinB2;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> cosdB = cosB1 * cosB2 + sinB1 * sinB2;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> ruu = cosA1 * cosA2 + sinA1 * sinA2 * cosdB;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> ruv = sinA2 * sindB;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> ruw = sinA1 * cosA2 - cosA1 * sinA2 * cosdB;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> rvu = -sinA1 * sindB;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> rvv = cosdB;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> rvw = cosA1 * sindB;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> rwu = cosA1 * sinA2 - sinA1 * cosA2 * cosdB;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> rwv = -cosA2 * sindB;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> rww = sinA1 * sinA2 + cosA1 * cosA2 * cosdB;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    dw2dw1 = par5[2] * rwu + par5[3] * rwv + rww;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">if</span> (dw2dw1 == 0.) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> dudw2 = (par5[2] * ruu + par5[3] * ruv + ruw) / dw2dw1;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> dvdw2 = (par5[2] * rvu + par5[3] * rvv + rvw) / dw2dw1;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="../../d6/d6b/namespacerecob_1_1tracking.html#a28274753fcdb2d37c9867ae960cc4826">SMatrix55</a> pm;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    pm(0, 0) = ruu - dudw2 * rwu; <span class="comment">// du2/du1</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    pm(1, 0) = rvu - dvdw2 * rwu; <span class="comment">// dv2/du1</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    pm(2, 0) = 0.;                <span class="comment">// d(dudw2)/du1</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    pm(3, 0) = 0.;                <span class="comment">// d(dvdw2)/du1</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    pm(4, 0) = 0.;                <span class="comment">// d(pinv2)/du1</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    pm(0, 1) = ruv - dudw2 * rwv; <span class="comment">// du2/dv1</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    pm(1, 1) = rvv - dvdw2 * rwv; <span class="comment">// dv2/dv1</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    pm(2, 1) = 0.;                <span class="comment">// d(dudw2)/dv1</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    pm(3, 1) = 0.;                <span class="comment">// d(dvdw2)/dv1</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    pm(4, 1) = 0.;                <span class="comment">// d(pinv2)/dv1</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    pm(0, 2) = 0.;                           <span class="comment">// du2/d(dudw1);</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    pm(1, 2) = 0.;                           <span class="comment">// dv2/d(dudw1);</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    pm(2, 2) = (ruu - dudw2 * rwu) / dw2dw1; <span class="comment">// d(dudw2)/d(dudw1);</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    pm(3, 2) = (rvu - dvdw2 * rwu) / dw2dw1; <span class="comment">// d(dvdw2)/d(dudw1);</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    pm(4, 2) = 0.;                           <span class="comment">// d(pinv2)/d(dudw1);</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    pm(0, 3) = 0.;                           <span class="comment">// du2/d(dvdw1);</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    pm(1, 3) = 0.;                           <span class="comment">// dv2/d(dvdw1);</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    pm(2, 3) = (ruv - dudw2 * rwv) / dw2dw1; <span class="comment">// d(dudw2)/d(dvdw1);</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    pm(3, 3) = (rvv - dvdw2 * rwv) / dw2dw1; <span class="comment">// d(dvdw2)/d(dvdw1);</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    pm(4, 3) = 0.;                           <span class="comment">// d(pinv2)/d(dvdw1);</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    pm(0, 4) = 0.; <span class="comment">// du2/d(pinv1);</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    pm(1, 4) = 0.; <span class="comment">// dv2/d(pinv1);</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    pm(2, 4) = 0.; <span class="comment">// d(dudw2)/d(pinv1);</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    pm(3, 4) = 0.; <span class="comment">// d(dvdw2)/d(pinv1);</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    pm(4, 4) = 1.; <span class="comment">// d(pinv2)/d(pinv1);</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    par5[0] = (<a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.position().X() - target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae891b54e37ac8e82dc2060ea07253e7a">position</a>().X()) * cosA2 +</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;              (<a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.position().Y() - target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae891b54e37ac8e82dc2060ea07253e7a">position</a>().Y()) * sinA2 * sinB2 -</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;              (<a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.position().Z() - target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae891b54e37ac8e82dc2060ea07253e7a">position</a>().Z()) * sinA2 * cosB2;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    par5[1] = (<a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.position().Y() - target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae891b54e37ac8e82dc2060ea07253e7a">position</a>().Y()) * cosB2 +</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;              (<a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.position().Z() - target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae891b54e37ac8e82dc2060ea07253e7a">position</a>().Z()) * sinB2;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    par5[2] = dudw2;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    par5[3] = dvdw2;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    success = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">return</span> TrackState(par5,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                      ROOT::Math::Similarity(pm, <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.covariance()),</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                      <a class="code" href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">Plane</a>(<a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.position(), target.<a class="code" href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae1134cfa724b007dcca267d20f475c7c">direction</a>()),</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                      isTrackAlongPlaneDir,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                      <a class="code" href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">origin</a>.pID());</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  }</div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_a40fb501514d3e0fbf31de8cedce03bee"><div class="ttname"><a href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#a40fb501514d3e0fbf31de8cedce03bee">recob::tracking::Plane::cosAlpha</a></div><div class="ttdeci">double cosAlpha() const </div><div class="ttdoc">Return cached values of trigonometric function for angles defining the plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1e/TrackingPlane_8h_source.html#l00120">TrackingPlane.h:120</a></div></div>
<div class="ttc" id="classtrkf_1_1TrackStatePropagator_html_a08b9c8618734f8c3cf6d3d261ba92357"><div class="ttname"><a href="../../dc/d5e/classtrkf_1_1TrackStatePropagator.html#a08b9c8618734f8c3cf6d3d261ba92357">trkf::TrackStatePropagator::Plane</a></div><div class="ttdeci">recob::tracking::Plane Plane</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00040">TrackStatePropagator.h:40</a></div></div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_ae1134cfa724b007dcca267d20f475c7c"><div class="ttname"><a href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae1134cfa724b007dcca267d20f475c7c">recob::tracking::Plane::direction</a></div><div class="ttdeci">Vector_t const &amp; direction() const </div><div class="ttdoc">Reference direction orthogonal to the plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1e/TrackingPlane_8h_source.html#l00070">TrackingPlane.h:70</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_a28274753fcdb2d37c9867ae960cc4826"><div class="ttname"><a href="../../d6/d6b/namespacerecob_1_1tracking.html#a28274753fcdb2d37c9867ae960cc4826">recob::tracking::SMatrix55</a></div><div class="ttdeci">ROOT::Math::SMatrix&lt; Double32_t, 5, 5 &gt; SMatrix55</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da9/TrackingTypes_8h_source.html#l00089">TrackingTypes.h:89</a></div></div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_aff781ba3cbbd75d6e4f4308e536eb605"><div class="ttname"><a href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#aff781ba3cbbd75d6e4f4308e536eb605">recob::tracking::Plane::cosBeta</a></div><div class="ttdeci">double cosBeta() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1e/TrackingPlane_8h_source.html#l00122">TrackingPlane.h:122</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_a0d6af9187d2c4bb632f167099fc061eb"><div class="ttname"><a href="../../d6/d6b/namespacerecob_1_1tracking.html#a0d6af9187d2c4bb632f167099fc061eb">recob::tracking::SVector5</a></div><div class="ttdeci">ROOT::Math::SVector&lt; Double32_t, 5 &gt; SVector5</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da9/TrackingTypes_8h_source.html#l00092">TrackingTypes.h:92</a></div></div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_ae891b54e37ac8e82dc2060ea07253e7a"><div class="ttname"><a href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae891b54e37ac8e82dc2060ea07253e7a">recob::tracking::Plane::position</a></div><div class="ttdeci">Point_t const &amp; position() const </div><div class="ttdoc">Reference position on the plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1e/TrackingPlane_8h_source.html#l00066">TrackingPlane.h:66</a></div></div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_ae2def62951ff97d4600dc070e4f20594"><div class="ttname"><a href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#ae2def62951ff97d4600dc070e4f20594">recob::tracking::Plane::sinAlpha</a></div><div class="ttdeci">double sinAlpha() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1e/TrackingPlane_8h_source.html#l00121">TrackingPlane.h:121</a></div></div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_a8de3ffcd102408a0772b3e8b2b636486"><div class="ttname"><a href="../../d9/dff/classrecob_1_1tracking_1_1Plane.html#a8de3ffcd102408a0772b3e8b2b636486">recob::tracking::Plane::sinBeta</a></div><div class="ttdeci">double sinBeta() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1e/TrackingPlane_8h_source.html#l00123">TrackingPlane.h:123</a></div></div>
<div class="ttc" id="namespacegeo_html_a6155d04d62c8bb11135137324ab26b5c"><div class="ttname"><a href="../../d6/d23/namespacegeo.html#a6155d04d62c8bb11135137324ab26b5c">geo::origin</a></div><div class="ttdeci">constexpr Point origin()</div><div class="ttdoc">Returns a origin position with a point of the specified type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/geo__vectors_8h_source.html#l00227">geo_vectors.h:227</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a2cba0de431d2cc0d115ce1c200c1eee9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double trkf::TrackStatePropagator::fMaxElossFrac</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum propagation step length based on fraction of energy loss. </p>

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00190">190</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>

</div>
</div>
<a class="anchor" id="a51e322148c735d15100745efcea10ab0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int trkf::TrackStatePropagator::fMaxNit</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum number of iterations. </p>

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00191">191</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1968135a98246560aa881c33a4e2b0e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double trkf::TrackStatePropagator::fMinStep</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minimum propagation step length guaranteed. </p>

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00189">189</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>

</div>
</div>
<a class="anchor" id="a27c7fcf95e56167573eddc93b78b53d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool trkf::TrackStatePropagator::fPropPinvErr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Propagate error on 1/p or not (in order to avoid infs, it should be set to false when 1/p not updated) </p>

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00195">195</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>

</div>
</div>
<a class="anchor" id="a60ebf055e6cf27305edada92cb46179f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double trkf::TrackStatePropagator::fTcut</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum delta ray energy for dE/dx. </p>

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00192">192</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa0da7a8a533a07f6de55b2ab8749d498"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double trkf::TrackStatePropagator::fWrongDirDistTolerance</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allowed propagation distance in the wrong direction. </p>

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00193">193</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>

</div>
</div>
<a class="anchor" id="acfa8d5284157b060b8a6722489c8a407"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../dc/d37/classdetinfo_1_1LArProperties.html">detinfo::LArProperties</a>* trkf::TrackStatePropagator::larprop</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html#l00196">196</a> of file <a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d3/d9d/TrackStatePropagator_8h_source.html">TrackStatePropagator.h</a></li>
<li><a class="el" href="../../d8/d00/TrackStatePropagator_8cxx_source.html">TrackStatePropagator.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
