<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>lar::CountersMap&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelar.html">lar</a></li><li class="navelem"><a class="el" href="classlar_1_1CountersMap.html">CountersMap</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="classlar_1_1CountersMap-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">lar::CountersMap&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Map storing counters in a compact way.  
 <a href="classlar_1_1CountersMap.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for lar::CountersMap&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classlar_1_1CountersMap.png" usemap="#lar::CountersMap&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;_map" alt=""/>
  <map id="lar::CountersMap&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;_map" name="lar::CountersMap&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;_map">
<area href="classcluster_1_1HoughTransformCounters.html" title="CountersMap with access optimized for Hough Transform algorithm. " alt="cluster::HoughTransformCounters&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;" shape="rect" coords="0,56,506,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap_1_1const__iterator.html">const_iterator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlar_1_1CountersMap_1_1CounterKey__t.html">CounterKey_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure with the index of the counter, split as needed.  <a href="structlar_1_1CountersMap_1_1CounterKey__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a088479e62de13f6c269b74212f2aeb60"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a> = KEY</td></tr>
<tr class="memdesc:a088479e62de13f6c269b74212f2aeb60"><td class="mdescLeft">&#160;</td><td class="mdescRight">type of counter key in the map  <a href="#a088479e62de13f6c269b74212f2aeb60">More...</a><br/></td></tr>
<tr class="separator:a088479e62de13f6c269b74212f2aeb60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3a57c54a2ac6efac9bfab9983af2f8e"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#ad3a57c54a2ac6efac9bfab9983af2f8e">Counter_t</a> = COUNTER</td></tr>
<tr class="memdesc:ad3a57c54a2ac6efac9bfab9983af2f8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">type of the single counter  <a href="#ad3a57c54a2ac6efac9bfab9983af2f8e">More...</a><br/></td></tr>
<tr class="separator:ad3a57c54a2ac6efac9bfab9983af2f8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cdd9ecb0d642eabbeea97a38530772c"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a6cdd9ecb0d642eabbeea97a38530772c">Allocator_t</a> = ALLOC</td></tr>
<tr class="memdesc:a6cdd9ecb0d642eabbeea97a38530772c"><td class="mdescLeft">&#160;</td><td class="mdescRight">type of the single counter  <a href="#a6cdd9ecb0d642eabbeea97a38530772c">More...</a><br/></td></tr>
<tr class="separator:a6cdd9ecb0d642eabbeea97a38530772c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f8533199b3c591ebebfeec9d9b9a953"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a0f8533199b3c591ebebfeec9d9b9a953">CounterMap_t</a> = <a class="el" href="classlar_1_1CountersMap.html">CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;</td></tr>
<tr class="memdesc:a0f8533199b3c591ebebfeec9d9b9a953"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class.  <a href="#a0f8533199b3c591ebebfeec9d9b9a953">More...</a><br/></td></tr>
<tr class="separator:a0f8533199b3c591ebebfeec9d9b9a953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cdc997a3d3477aae3a37badc66c78f8"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a> = <a class="el" href="classlar_1_1CountersMap.html#ad3a57c54a2ac6efac9bfab9983af2f8e">Counter_t</a></td></tr>
<tr class="memdesc:a9cdc997a3d3477aae3a37badc66c78f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of the subcounter (that is, the actual counter)  <a href="#a9cdc997a3d3477aae3a37badc66c78f8">More...</a><br/></td></tr>
<tr class="separator:a9cdc997a3d3477aae3a37badc66c78f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af08853f973ead79c80d4e08feecff3df"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#af08853f973ead79c80d4e08feecff3df">CounterBlock_t</a> = typename <a class="el" href="structlar_1_1details_1_1CountersMapTraits.html#a809405bdc3898e730c1345463e5cf101">Traits_t::CounterBlock_t</a></td></tr>
<tr class="separator:af08853f973ead79c80d4e08feecff3df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39179293bdf7689b440f48c0bedb0f6b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a39179293bdf7689b440f48c0bedb0f6b">BaseMap_t</a> = typename Traits_t::template <a class="el" href="classlar_1_1CountersMap.html#a39179293bdf7689b440f48c0bedb0f6b">BaseMap_t</a>&lt; typename std::allocator_traits&lt; <a class="el" href="classlar_1_1CountersMap.html#a6cdd9ecb0d642eabbeea97a38530772c">Allocator_t</a> &gt;::template rebind_alloc&lt; typename <a class="el" href="structlar_1_1details_1_1CountersMapTraits.html#ae9bde51f5e4bbb4febc6904c923cca40">Traits_t::MapValue_t</a> &gt; &gt;</td></tr>
<tr class="memdesc:a39179293bdf7689b440f48c0bedb0f6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of the map used in the implementation.  <a href="#a39179293bdf7689b440f48c0bedb0f6b">More...</a><br/></td></tr>
<tr class="separator:a39179293bdf7689b440f48c0bedb0f6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbeab14a5d91a0afe4c59a3b2ce314e0"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#acbeab14a5d91a0afe4c59a3b2ce314e0">value_type</a> = std::pair&lt; const <a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a>, <a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a> &gt;</td></tr>
<tr class="separator:acbeab14a5d91a0afe4c59a3b2ce314e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">STL type definitions</div></td></tr>
<tr class="memitem:a987d27d0d669a1aabb0c744ac54f3528"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a987d27d0d669a1aabb0c744ac54f3528">mapped_type</a> = <a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a></td></tr>
<tr class="separator:a987d27d0d669a1aabb0c744ac54f3528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ae397699f9bf12c6739cc718ccc2ad8"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a4ae397699f9bf12c6739cc718ccc2ad8">allocator_type</a> = <a class="el" href="classlar_1_1CountersMap.html#a6cdd9ecb0d642eabbeea97a38530772c">Allocator_t</a></td></tr>
<tr class="memdesc:a4ae397699f9bf12c6739cc718ccc2ad8"><td class="mdescLeft">&#160;</td><td class="mdescRight">type of the single counter  <a href="#a4ae397699f9bf12c6739cc718ccc2ad8">More...</a><br/></td></tr>
<tr class="separator:a4ae397699f9bf12c6739cc718ccc2ad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2ba316fc8d1b3896d5e80ea8537538a6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a2ba316fc8d1b3896d5e80ea8537538a6">CountersMap</a> ()</td></tr>
<tr class="memdesc:a2ba316fc8d1b3896d5e80ea8537538a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor (empty map)  <a href="#a2ba316fc8d1b3896d5e80ea8537538a6">More...</a><br/></td></tr>
<tr class="separator:a2ba316fc8d1b3896d5e80ea8537538a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59dcfe5b5d656a73151b7c2c4c764b64"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a59dcfe5b5d656a73151b7c2c4c764b64">CountersMap</a> (<a class="el" href="classlar_1_1CountersMap.html#a6cdd9ecb0d642eabbeea97a38530772c">Allocator_t</a> alloc)</td></tr>
<tr class="memdesc:a59dcfe5b5d656a73151b7c2c4c764b64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor, specifies an allocator.  <a href="#a59dcfe5b5d656a73151b7c2c4c764b64">More...</a><br/></td></tr>
<tr class="separator:a59dcfe5b5d656a73151b7c2c4c764b64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5123a50baa77f654b0b82b2483b113e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#ae5123a50baa77f654b0b82b2483b113e">operator[]</a> (<a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a> key) const </td></tr>
<tr class="memdesc:ae5123a50baa77f654b0b82b2483b113e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read-only access to an element; returns 0 if no counter is present.  <a href="#ae5123a50baa77f654b0b82b2483b113e">More...</a><br/></td></tr>
<tr class="separator:ae5123a50baa77f654b0b82b2483b113e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4001fda1d252e4665d8f1a83525bb832"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a4001fda1d252e4665d8f1a83525bb832">set</a> (<a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a> key, <a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a> <a class="el" href="pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>)</td></tr>
<tr class="memdesc:a4001fda1d252e4665d8f1a83525bb832"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the specified counter to a count.  <a href="#a4001fda1d252e4665d8f1a83525bb832">More...</a><br/></td></tr>
<tr class="separator:a4001fda1d252e4665d8f1a83525bb832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f4a0d2abd5f304ab7f82d58d38bd761"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a6f4a0d2abd5f304ab7f82d58d38bd761">increment</a> (<a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a> key)</td></tr>
<tr class="memdesc:a6f4a0d2abd5f304ab7f82d58d38bd761"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments by 1 the specified counter.  <a href="#a6f4a0d2abd5f304ab7f82d58d38bd761">More...</a><br/></td></tr>
<tr class="separator:a6f4a0d2abd5f304ab7f82d58d38bd761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5b0a2143d100253fc24081f1f4173b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#aa5b0a2143d100253fc24081f1f4173b9">decrement</a> (<a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a> key)</td></tr>
<tr class="memdesc:aa5b0a2143d100253fc24081f1f4173b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements by 1 the specified counter.  <a href="#aa5b0a2143d100253fc24081f1f4173b9">More...</a><br/></td></tr>
<tr class="separator:aa5b0a2143d100253fc24081f1f4173b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a64bda8e96db666e737919e26d93218"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a7a64bda8e96db666e737919e26d93218">empty</a> () const </td></tr>
<tr class="memdesc:a7a64bda8e96db666e737919e26d93218"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the map has no counters.  <a href="#a7a64bda8e96db666e737919e26d93218">More...</a><br/></td></tr>
<tr class="separator:a7a64bda8e96db666e737919e26d93218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86b675a2cf689e1353b1749b05cc8bfc"><td class="memItemLeft" align="right" valign="top">std::make_unsigned&lt; <a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a> &gt;::<a class="el" href="structtype.html">type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a86b675a2cf689e1353b1749b05cc8bfc">n_counters</a> () const </td></tr>
<tr class="memdesc:a86b675a2cf689e1353b1749b05cc8bfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of allocated counters.  <a href="#a86b675a2cf689e1353b1749b05cc8bfc">More...</a><br/></td></tr>
<tr class="separator:a86b675a2cf689e1353b1749b05cc8bfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3af186b1424975a1b9f2e9992e29d91"><td class="memTemplParams" colspan="2">template&lt;typename OALLOC &gt; </td></tr>
<tr class="memitem:af3af186b1424975a1b9f2e9992e29d91"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#af3af186b1424975a1b9f2e9992e29d91">is_equal</a> (const std::map&lt; <a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a>, <a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a>, std::less&lt; <a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a> &gt;, OALLOC &gt; &amp;to, <a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a> &amp;first_difference) const </td></tr>
<tr class="memdesc:af3af186b1424975a1b9f2e9992e29d91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the counters in this map are equivalent to another.  <a href="#af3af186b1424975a1b9f2e9992e29d91">More...</a><br/></td></tr>
<tr class="separator:af3af186b1424975a1b9f2e9992e29d91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a914dd7274f591cbd41aea6fd055598cc"><td class="memTemplParams" colspan="2">template&lt;typename OALLOC &gt; </td></tr>
<tr class="memitem:a914dd7274f591cbd41aea6fd055598cc"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a914dd7274f591cbd41aea6fd055598cc">is_equal</a> (const std::map&lt; <a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a>, <a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a>, std::less&lt; <a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a> &gt;, OALLOC &gt; &amp;to) const </td></tr>
<tr class="memdesc:a914dd7274f591cbd41aea6fd055598cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the counters in this map are equivalent to another.  <a href="#a914dd7274f591cbd41aea6fd055598cc">More...</a><br/></td></tr>
<tr class="separator:a914dd7274f591cbd41aea6fd055598cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Iterators (experimental)</div></td></tr>
<tr class="memitem:a62510dc58e0ca949db8806194d43955c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlar_1_1CountersMap_1_1const__iterator.html">const_iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a62510dc58e0ca949db8806194d43955c">begin</a> () const </td></tr>
<tr class="memdesc:a62510dc58e0ca949db8806194d43955c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an iterator to the begin of the counters.  <a href="#a62510dc58e0ca949db8806194d43955c">More...</a><br/></td></tr>
<tr class="separator:a62510dc58e0ca949db8806194d43955c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78c7d5d9d4cfbf1edbb013545e538901"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlar_1_1CountersMap_1_1const__iterator.html">const_iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a78c7d5d9d4cfbf1edbb013545e538901">end</a> () const </td></tr>
<tr class="memdesc:a78c7d5d9d4cfbf1edbb013545e538901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an iterator past-the-end of the counters.  <a href="#a78c7d5d9d4cfbf1edbb013545e538901">More...</a><br/></td></tr>
<tr class="separator:a78c7d5d9d4cfbf1edbb013545e538901"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a3fa99973494bb441eb5f6b7a7df09961"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a3fa99973494bb441eb5f6b7a7df09961">NCounters</a> = Traits_t::NCounters</td></tr>
<tr class="memdesc:a3fa99973494bb441eb5f6b7a7df09961"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of counters in one counter block.  <a href="#a3fa99973494bb441eb5f6b7a7df09961">More...</a><br/></td></tr>
<tr class="separator:a3fa99973494bb441eb5f6b7a7df09961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c434445280b01afbd3fb04a9cbb6c18"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a3c434445280b01afbd3fb04a9cbb6c18">NSubcounters</a> = <a class="el" href="classlar_1_1CountersMap.html#a3fa99973494bb441eb5f6b7a7df09961">NCounters</a> * SUBCOUNTERS</td></tr>
<tr class="memdesc:a3c434445280b01afbd3fb04a9cbb6c18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of subcounters in one counter block.  <a href="#a3c434445280b01afbd3fb04a9cbb6c18">More...</a><br/></td></tr>
<tr class="separator:a3c434445280b01afbd3fb04a9cbb6c18"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:a667ecad2b4c0cff62e941565cb04044b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a667ecad2b4c0cff62e941565cb04044b">BlockKey_t</a> = <a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a></td></tr>
<tr class="memdesc:a667ecad2b4c0cff62e941565cb04044b"><td class="mdescLeft">&#160;</td><td class="mdescRight">type of block key  <a href="#a667ecad2b4c0cff62e941565cb04044b">More...</a><br/></td></tr>
<tr class="separator:a667ecad2b4c0cff62e941565cb04044b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae29a62e94c5bbb4d4144729385424313"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#ae29a62e94c5bbb4d4144729385424313">CounterIndex_t</a> = typename std::make_unsigned&lt; <a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a> &gt;::<a class="el" href="structtype.html">type</a></td></tr>
<tr class="memdesc:ae29a62e94c5bbb4d4144729385424313"><td class="mdescLeft">&#160;</td><td class="mdescRight">type of index in the block  <a href="#ae29a62e94c5bbb4d4144729385424313">More...</a><br/></td></tr>
<tr class="separator:ae29a62e94c5bbb4d4144729385424313"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aef66db7dbba350a719d9c903fcb52ada"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlar_1_1CountersMap.html#ad3a57c54a2ac6efac9bfab9983af2f8e">Counter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#aef66db7dbba350a719d9c903fcb52ada">GetCounter</a> (<a class="el" href="structlar_1_1CountersMap_1_1CounterKey__t.html">CounterKey_t</a> key) const </td></tr>
<tr class="memdesc:aef66db7dbba350a719d9c903fcb52ada"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of the counter at the specified split key.  <a href="#aef66db7dbba350a719d9c903fcb52ada">More...</a><br/></td></tr>
<tr class="separator:aef66db7dbba350a719d9c903fcb52ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab82a9cf9f4d986616b892f9ff7e11480"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#ab82a9cf9f4d986616b892f9ff7e11480">GetSubCounter</a> (<a class="el" href="structlar_1_1CountersMap_1_1CounterKey__t.html">CounterKey_t</a> key) const </td></tr>
<tr class="memdesc:ab82a9cf9f4d986616b892f9ff7e11480"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of the subcounter at the specified split key.  <a href="#ab82a9cf9f4d986616b892f9ff7e11480">More...</a><br/></td></tr>
<tr class="separator:ab82a9cf9f4d986616b892f9ff7e11480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bbb41e94ebab8bb793a008672d56410"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlar_1_1CountersMap.html#ad3a57c54a2ac6efac9bfab9983af2f8e">Counter_t</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a9bbb41e94ebab8bb793a008672d56410">GetOrCreateCounter</a> (<a class="el" href="structlar_1_1CountersMap_1_1CounterKey__t.html">CounterKey_t</a> key)</td></tr>
<tr class="memdesc:a9bbb41e94ebab8bb793a008672d56410"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the counter at the specified split key.  <a href="#a9bbb41e94ebab8bb793a008672d56410">More...</a><br/></td></tr>
<tr class="separator:a9bbb41e94ebab8bb793a008672d56410"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:ab7c87215bf87b65e5cb70f3faa3267f4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structlar_1_1CountersMap_1_1CounterKey__t.html">CounterKey_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#ab7c87215bf87b65e5cb70f3faa3267f4">SplitKey</a> (<a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a> key)</td></tr>
<tr class="memdesc:ab7c87215bf87b65e5cb70f3faa3267f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a split key corresponding to the specified key.  <a href="#ab7c87215bf87b65e5cb70f3faa3267f4">More...</a><br/></td></tr>
<tr class="separator:ab7c87215bf87b65e5cb70f3faa3267f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9acead9ea34a5b4a76c91502faa2f12"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classlar_1_1CountersMap_1_1const__iterator.html">const_iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#af9acead9ea34a5b4a76c91502faa2f12">make_const_iterator</a> (typename BaseMap_t::const_iterator it, size_t ix)</td></tr>
<tr class="memdesc:af9acead9ea34a5b4a76c91502faa2f12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="classlar_1_1CountersMap_1_1const__iterator.html">const_iterator</a> (useful in derived classes)  <a href="#af9acead9ea34a5b4a76c91502faa2f12">More...</a><br/></td></tr>
<tr class="separator:af9acead9ea34a5b4a76c91502faa2f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:afcd8632d4b8662da8e0ea197c3920089"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlar_1_1CountersMap.html#a39179293bdf7689b440f48c0bedb0f6b">BaseMap_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">counter_map</a></td></tr>
<tr class="memdesc:afcd8632d4b8662da8e0ea197c3920089"><td class="mdescLeft">&#160;</td><td class="mdescRight">the actual data structure for counters  <a href="#afcd8632d4b8662da8e0ea197c3920089">More...</a><br/></td></tr>
<tr class="separator:afcd8632d4b8662da8e0ea197c3920089"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a07a3f2a946004a8304c25d2f7a4894cf"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#a07a3f2a946004a8304c25d2f7a4894cf">Traits_t</a> = <a class="el" href="structlar_1_1details_1_1CountersMapTraits.html">details::CountersMapTraits</a>&lt; KEY, COUNTER, SIZE &gt;</td></tr>
<tr class="memdesc:a07a3f2a946004a8304c25d2f7a4894cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of data types pertaining this counter.  <a href="#a07a3f2a946004a8304c25d2f7a4894cf">More...</a><br/></td></tr>
<tr class="separator:a07a3f2a946004a8304c25d2f7a4894cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aa3c43075f0ba49f47fbe9c467afedc10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#aa3c43075f0ba49f47fbe9c467afedc10">unchecked_set</a> (<a class="el" href="structlar_1_1CountersMap_1_1CounterKey__t.html">CounterKey_t</a> key, <a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a> delta)</td></tr>
<tr class="memdesc:aa3c43075f0ba49f47fbe9c467afedc10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the specified counter to a value (no check on value range)  <a href="#aa3c43075f0ba49f47fbe9c467afedc10">More...</a><br/></td></tr>
<tr class="separator:aa3c43075f0ba49f47fbe9c467afedc10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f694ac4d693e8d2e007e1baded4c88"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlar_1_1CountersMap.html#af4f694ac4d693e8d2e007e1baded4c88">unchecked_add</a> (<a class="el" href="structlar_1_1CountersMap_1_1CounterKey__t.html">CounterKey_t</a> key, <a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a> delta)</td></tr>
<tr class="memdesc:af4f694ac4d693e8d2e007e1baded4c88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a delta to the specified counter (no check on underflow/overflow)  <a href="#af4f694ac4d693e8d2e007e1baded4c88">More...</a><br/></td></tr>
<tr class="separator:af4f694ac4d693e8d2e007e1baded4c88"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt;<br/>
class lar::CountersMap&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;</h3>

<p>Map storing counters in a compact way. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">KEY</td><td>the type of the key of the counters map </td></tr>
    <tr><td class="paramname">COUNTER</td><td>the type of a basic counter (can be signed or unsigned) </td></tr>
    <tr><td class="paramname">BLOCKSIZE</td><td>the number of counters in a cluster </td></tr>
    <tr><td class="paramname">ALLOC</td><td>allocator for the underlying STL map </td></tr>
    <tr><td class="paramname">SUBCOUNTERS</td><td>split each counter in subcounters (not implemented yet)</td></tr>
  </table>
  </dd>
</dl>
<p>This class is designed for the need of a vast number of counters with a integral numerical key, when the counter keys are usually clustered. This can be more or less efficient than a straight counters STL map according to how often the counters are clustered (if that does not happen often, <a class="el" href="classlar_1_1CountersMap.html" title="Map storing counters in a compact way. ">CountersMap</a> can have considerable memory overhead).</p>
<p>Counters are allocated in contiguous blocks of BLOCKSIZE counters. The selling point here is that a map node has some overhead (typically at least 3 pointers) and dynamically allocating it costs a lot (40 bytes have been observed). If you need a counter with a range of 100 (1 byte), that's far from optimal in many aspects (memory allocation also takes time).</p>
<p>The requirement of the key to be numerical is so that the concept of "next counter" is well defined and we can store contiguous counters in a fixed structure.</p>
<h3>Subcounters</h3>
<p>The idea behind subcounters is that you migt want to split a counter into subcounters to save memory if the maximum counter value is smaller than the range of the counter type. <b>The implementation is delayed</b> since in the end the same effect can be achieved by using a small counter type (e.g. signed char), unless the range is smaller that 16 (or 4, or 2), in which case the character can be split into bits. That will cause some overhead for increment and decrement instructions. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00138">138</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a6cdd9ecb0d642eabbeea97a38530772c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::<a class="el" href="classlar_1_1CountersMap.html#a6cdd9ecb0d642eabbeea97a38530772c">Allocator_t</a> =  ALLOC</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>type of the single counter </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00149">149</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4ae397699f9bf12c6739cc718ccc2ad8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::<a class="el" href="classlar_1_1CountersMap.html#a4ae397699f9bf12c6739cc718ccc2ad8">allocator_type</a> =  <a class="el" href="classlar_1_1CountersMap.html#a6cdd9ecb0d642eabbeea97a38530772c">Allocator_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>type of the single counter </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00184">184</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a39179293bdf7689b440f48c0bedb0f6b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::<a class="el" href="classlar_1_1CountersMap.html#a39179293bdf7689b440f48c0bedb0f6b">BaseMap_t</a> =  typename Traits_t::template <a class="el" href="classlar_1_1CountersMap.html#a39179293bdf7689b440f48c0bedb0f6b">BaseMap_t</a>&lt; typename std::allocator_traits&lt;<a class="el" href="classlar_1_1CountersMap.html#a6cdd9ecb0d642eabbeea97a38530772c">Allocator_t</a>&gt;::template rebind_alloc &lt;typename <a class="el" href="structlar_1_1details_1_1CountersMapTraits.html#ae9bde51f5e4bbb4febc6904c923cca40">Traits_t::MapValue_t</a>&gt; &gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of the map used in the implementation. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00171">171</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a667ecad2b4c0cff62e941565cb04044b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::<a class="el" href="classlar_1_1CountersMap.html#a667ecad2b4c0cff62e941565cb04044b">BlockKey_t</a> =  <a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>type of block key </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00290">290</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad3a57c54a2ac6efac9bfab9983af2f8e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::<a class="el" href="classlar_1_1CountersMap.html#ad3a57c54a2ac6efac9bfab9983af2f8e">Counter_t</a> =  COUNTER</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>type of the single counter </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00148">148</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>

</div>
</div>
<a class="anchor" id="af08853f973ead79c80d4e08feecff3df"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::<a class="el" href="classlar_1_1CountersMap.html#af08853f973ead79c80d4e08feecff3df">CounterBlock_t</a> =  typename <a class="el" href="structlar_1_1details_1_1CountersMapTraits.html#a809405bdc3898e730c1345463e5cf101">Traits_t::CounterBlock_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00165">165</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae29a62e94c5bbb4d4144729385424313"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::<a class="el" href="classlar_1_1CountersMap.html#ae29a62e94c5bbb4d4144729385424313">CounterIndex_t</a> =  typename std::make_unsigned&lt;<a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a>&gt;::<a class="el" href="structtype.html">type</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>type of index in the block </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00292">292</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0f8533199b3c591ebebfeec9d9b9a953"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::<a class="el" href="classlar_1_1CountersMap.html#a0f8533199b3c591ebebfeec9d9b9a953">CounterMap_t</a> =  <a class="el" href="classlar_1_1CountersMap.html">CountersMap</a>&lt;KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This class. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00152">152</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a088479e62de13f6c269b74212f2aeb60"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::<a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a> =  KEY</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>type of counter key in the map </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00147">147</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a987d27d0d669a1aabb0c744ac54f3528"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::<a class="el" href="classlar_1_1CountersMap.html#a987d27d0d669a1aabb0c744ac54f3528">mapped_type</a> =  <a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00183">183</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9cdc997a3d3477aae3a37badc66c78f8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::<a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a> =  <a class="el" href="classlar_1_1CountersMap.html#ad3a57c54a2ac6efac9bfab9983af2f8e">Counter_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of the subcounter (that is, the actual counter) </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00162">162</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a07a3f2a946004a8304c25d2f7a4894cf"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::<a class="el" href="classlar_1_1CountersMap.html#a07a3f2a946004a8304c25d2f7a4894cf">Traits_t</a> =  <a class="el" href="structlar_1_1details_1_1CountersMapTraits.html">details::CountersMapTraits</a>&lt;KEY, COUNTER, SIZE&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set of data types pertaining this counter. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00144">144</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>

</div>
</div>
<a class="anchor" id="acbeab14a5d91a0afe4c59a3b2ce314e0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::<a class="el" href="classlar_1_1CountersMap.html#acbeab14a5d91a0afe4c59a3b2ce314e0">value_type</a> =  std::pair&lt;const <a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a>, <a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00188">188</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2ba316fc8d1b3896d5e80ea8537538a6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::<a class="el" href="classlar_1_1CountersMap.html">CountersMap</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor (empty map) </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00195">195</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a59dcfe5b5d656a73151b7c2c4c764b64"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::<a class="el" href="classlar_1_1CountersMap.html">CountersMap</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlar_1_1CountersMap.html#a6cdd9ecb0d642eabbeea97a38530772c">Allocator_t</a>&#160;</td>
          <td class="paramname"><em>alloc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor, specifies an allocator. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00198">198</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;: <a class="code" href="classlar_1_1CountersMap.html#a39179293bdf7689b440f48c0bedb0f6b">BaseMap_t</a>(alloc) {}</div>
<div class="ttc" id="classlar_1_1CountersMap_html_a39179293bdf7689b440f48c0bedb0f6b"><div class="ttname"><a href="classlar_1_1CountersMap.html#a39179293bdf7689b440f48c0bedb0f6b">lar::CountersMap::BaseMap_t</a></div><div class="ttdeci">typename Traits_t::template BaseMap_t&lt; typename std::allocator_traits&lt; Allocator_t &gt;::template rebind_alloc&lt; typename Traits_t::MapValue_t &gt; &gt; BaseMap_t</div><div class="ttdoc">Type of the map used in the implementation. </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00171">CountersMap.h:171</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a62510dc58e0ca949db8806194d43955c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K , typename C , size_t S, typename A , unsigned int SUB&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlar_1_1CountersMap.html">CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::<a class="el" href="classlar_1_1CountersMap_1_1const__iterator.html">const_iterator</a> <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an iterator to the begin of the counters. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00511">511</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    { <span class="keywordflow">return</span> const_iterator{ <a class="code" href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">counter_map</a>.begin(), 0 }; }</div>
<div class="ttc" id="classlar_1_1CountersMap_html_afcd8632d4b8662da8e0ea197c3920089"><div class="ttname"><a href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">lar::CountersMap::counter_map</a></div><div class="ttdeci">BaseMap_t counter_map</div><div class="ttdoc">the actual data structure for counters </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00359">CountersMap.h:359</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa5b0a2143d100253fc24081f1f4173b9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K , typename C , size_t S, typename A , unsigned int SUB&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlar_1_1CountersMap.html">CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::<a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a> <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::decrement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decrements by 1 the specified counter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>key of the counter to be decreased </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>new value of the counter </dd></dl>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00505">505</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    { <span class="keywordflow">return</span> <a class="code" href="classlar_1_1CountersMap.html#af4f694ac4d693e8d2e007e1baded4c88">unchecked_add</a>(CounterKey_t(key), -1); }</div>
<div class="ttc" id="classlar_1_1CountersMap_html_af4f694ac4d693e8d2e007e1baded4c88"><div class="ttname"><a href="classlar_1_1CountersMap.html#af4f694ac4d693e8d2e007e1baded4c88">lar::CountersMap::unchecked_add</a></div><div class="ttdeci">SubCounter_t unchecked_add(CounterKey_t key, SubCounter_t delta)</div><div class="ttdoc">Adds a delta to the specified counter (no check on underflow/overflow) </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00631">CountersMap.h:631</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7a64bda8e96db666e737919e26d93218"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the map has no counters. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00245">245</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">counter_map</a>.empty(); }</div>
<div class="ttc" id="classlar_1_1CountersMap_html_afcd8632d4b8662da8e0ea197c3920089"><div class="ttname"><a href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">lar::CountersMap::counter_map</a></div><div class="ttdeci">BaseMap_t counter_map</div><div class="ttdoc">the actual data structure for counters </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00359">CountersMap.h:359</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a78c7d5d9d4cfbf1edbb013545e538901"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K , typename C , size_t S, typename A , unsigned int SUB&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlar_1_1CountersMap.html">CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::<a class="el" href="classlar_1_1CountersMap_1_1const__iterator.html">const_iterator</a> <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an iterator past-the-end of the counters. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00516">516</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    { <span class="keywordflow">return</span> const_iterator{ <a class="code" href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">counter_map</a>.end(), 0 }; }</div>
<div class="ttc" id="classlar_1_1CountersMap_html_afcd8632d4b8662da8e0ea197c3920089"><div class="ttname"><a href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">lar::CountersMap::counter_map</a></div><div class="ttdeci">BaseMap_t counter_map</div><div class="ttdoc">the actual data structure for counters </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00359">CountersMap.h:359</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aef66db7dbba350a719d9c903fcb52ada"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K , typename C , size_t S, typename A , unsigned int SUB&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlar_1_1CountersMap.html">CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::<a class="el" href="classlar_1_1CountersMap.html#ad3a57c54a2ac6efac9bfab9983af2f8e">Counter_t</a> <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::GetCounter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlar_1_1CountersMap_1_1CounterKey__t.html">CounterKey_t</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the value of the counter at the specified split key. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00592">592</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keyword">typename</span> BaseMap_t::const_iterator iBlock = <a class="code" href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">counter_map</a>.find(key.block);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">return</span> (iBlock == <a class="code" href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">counter_map</a>.end())? 0: iBlock-&gt;second[key.counter];</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  } <span class="comment">// CountersMap&lt;&gt;::GetCounter() const</span></div>
<div class="ttc" id="classlar_1_1CountersMap_html_afcd8632d4b8662da8e0ea197c3920089"><div class="ttname"><a href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">lar::CountersMap::counter_map</a></div><div class="ttdeci">BaseMap_t counter_map</div><div class="ttdoc">the actual data structure for counters </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00359">CountersMap.h:359</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9bbb41e94ebab8bb793a008672d56410"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K , typename C , size_t S, typename A , unsigned int SUB&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlar_1_1CountersMap.html">CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::<a class="el" href="classlar_1_1CountersMap.html#ad3a57c54a2ac6efac9bfab9983af2f8e">Counter_t</a> &amp; <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::GetOrCreateCounter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlar_1_1CountersMap_1_1CounterKey__t.html">CounterKey_t</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the counter at the specified split key. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00601">601</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    { <span class="keywordflow">return</span> <a class="code" href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">counter_map</a>[key.block][key.counter]; }</div>
<div class="ttc" id="classlar_1_1CountersMap_html_afcd8632d4b8662da8e0ea197c3920089"><div class="ttname"><a href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">lar::CountersMap::counter_map</a></div><div class="ttdeci">BaseMap_t counter_map</div><div class="ttdoc">the actual data structure for counters </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00359">CountersMap.h:359</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab82a9cf9f4d986616b892f9ff7e11480"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a> <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::GetSubCounter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlar_1_1CountersMap_1_1CounterKey__t.html">CounterKey_t</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the value of the subcounter at the specified split key. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00367">367</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      { <span class="keywordflow">return</span> <a class="code" href="classlar_1_1CountersMap.html#aef66db7dbba350a719d9c903fcb52ada">GetCounter</a>(key); }</div>
<div class="ttc" id="classlar_1_1CountersMap_html_aef66db7dbba350a719d9c903fcb52ada"><div class="ttname"><a href="classlar_1_1CountersMap.html#aef66db7dbba350a719d9c903fcb52ada">lar::CountersMap::GetCounter</a></div><div class="ttdeci">Counter_t GetCounter(CounterKey_t key) const </div><div class="ttdoc">Returns the value of the counter at the specified split key. </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00592">CountersMap.h:592</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6f4a0d2abd5f304ab7f82d58d38bd761"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K , typename C , size_t S, typename A , unsigned int SUB&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlar_1_1CountersMap.html">CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::<a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a> <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::increment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increments by 1 the specified counter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>key of the counter to be increased </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>new value of the counter </dd></dl>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00500">500</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    { <span class="keywordflow">return</span> <a class="code" href="classlar_1_1CountersMap.html#af4f694ac4d693e8d2e007e1baded4c88">unchecked_add</a>(CounterKey_t(key), +1); }</div>
<div class="ttc" id="classlar_1_1CountersMap_html_af4f694ac4d693e8d2e007e1baded4c88"><div class="ttname"><a href="classlar_1_1CountersMap.html#af4f694ac4d693e8d2e007e1baded4c88">lar::CountersMap::unchecked_add</a></div><div class="ttdeci">SubCounter_t unchecked_add(CounterKey_t key, SubCounter_t delta)</div><div class="ttdoc">Adds a delta to the specified counter (no check on underflow/overflow) </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00631">CountersMap.h:631</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af3af186b1424975a1b9f2e9992e29d91"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K , typename C , size_t S, typename A , unsigned int SUB&gt; </div>
<div class="memtemplate">
template&lt;typename OALLOC &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::is_equal </td>
          <td>(</td>
          <td class="paramtype">const std::map&lt; <a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a>, <a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a>, std::less&lt; <a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a> &gt;, OALLOC &gt; &amp;&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a> &amp;&#160;</td>
          <td class="paramname"><em>first_difference</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether the counters in this map are equivalent to another. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">to</td><td>a STL map </td></tr>
    <tr><td class="paramname">first_difference</td><td>key of the first difference </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether the counters are equivalent</dd></dl>
<p>The maps are considered equal if all keys in each are present in the other, and their counters have the same value, with one exception: counters in <a class="el" href="classlar_1_1CountersMap.html" title="Map storing counters in a compact way. ">CountersMap</a> can not to exist in the other map, but only if their count is 0 (these should be plenty of them since counters are created in blocks).</p>
<p>If there is a key in one map but not in the other, first_difference stores that key; if a counter is present in both maps but with a different count, first_difference reports the key of that counter. If no difference is found, first_difference is left untouched. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00522">522</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;          {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="comment">// this function is not optimised</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keyword">using</span> CompMap_t</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      = <span class="keyword">const</span> std::map&lt;Key_t, SubCounter_t, std::less&lt;Key_t&gt;, OALLOC&gt;;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keyword">typename</span> CompMap_t::const_iterator to_iter = to.begin(), to_end = to.end();</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="classlar_1_1CountersMap_1_1const__iterator.html#a8cb23c5608cfdf68a59578c690faa1ae">const_iterator::value_type</a>&amp; <a class="code" href="selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>: *<span class="keyword">this</span>) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="keywordflow">if</span> (to_iter != to_end) { <span class="comment">// we have still counters to find</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="comment">// if counter is already beyond the next non-empty one froml STL map,</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="comment">// then we are missing some</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">if</span> (p.first &gt; to_iter-&gt;first) {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;          first_difference = to_iter-&gt;first;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="comment">//    while (p.first &gt; to_iter-&gt;first) {</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="comment">//      ++nMissingKeys;</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="comment">//      std::cout &lt;&lt; &quot;ERROR missing key &quot; &lt;&lt; to_iter-&gt;first &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">//      if (++to_iter == to_end) break;</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="comment">//    } // while</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="comment">//  } // if</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="comment">//  if (to_iter != to_end) { // we have still counters to find</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="keywordflow">if</span> (p.first == to_iter-&gt;first) {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;          <span class="comment">// if the counter is in SLT map, the two counts must match</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="comment">//  std::cout &lt;&lt; &quot;  &quot; &lt;&lt; p.first &lt;&lt; &quot; &quot; &lt;&lt; p.second &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;          <span class="keywordflow">if</span> (to_iter-&gt;second != p.second) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;          <span class="comment">//  std::cout &lt;&lt; &quot;ERROR wrong counter value &quot; &lt;&lt; p.second</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;          <span class="comment">//    &lt;&lt; &quot;, expected &quot; &lt;&lt; to_iter-&gt;second &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;          <span class="comment">//  ++nMismatchValue;</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            first_difference = to_iter-&gt;first;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;          }</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;          ++to_iter; <span class="comment">// done with it</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p.first &lt; to_iter-&gt;first) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;          <span class="comment">// if the counter is not in STL map, then it must be 0</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;          <span class="keywordflow">if</span> (p.second != 0) {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;          <span class="comment">//  ++nExtraKeys;</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;          <span class="comment">//  std::cout &lt;&lt; &quot;ERROR extra key &quot; &lt;&lt; p.first &lt;&lt; &quot; (&quot; &lt;&lt; p.second &lt;&lt; &quot;)&quot;</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;          <span class="comment">//    &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            first_difference = p.first;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;          }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="comment">//  else {</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="comment">//    std::cout &lt;&lt; &quot;  &quot; &lt;&lt; p.first &lt;&lt; &quot; &quot; &lt;&lt; p.second &lt;&lt; &quot; (not in STL)&quot;</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <span class="comment">//      &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="comment">//  }</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="keywordflow">else</span> { <span class="comment">// if we are at the end of compared map</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="comment">// no more keys in STL map</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordflow">if</span> (p.second != 0) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <span class="comment">//  ++nExtraKeys;</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="comment">//  std::cout &lt;&lt; &quot;ERROR extra key &quot; &lt;&lt; p.first &lt;&lt; &quot; (&quot; &lt;&lt; p.second &lt;&lt; &quot;)&quot;</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="comment">//    &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;          first_difference = p.first;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    } <span class="comment">// for element in map</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  } <span class="comment">// CountersMap&lt;&gt;::is_equal()</span></div>
<div class="ttc" id="selectors_8fcl_html_a24c8335057af14a9b508d5ac18999ce5"><div class="ttname"><a href="selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a></div><div class="ttdeci">pdgs p</div><div class="ttdef"><b>Definition:</b> <a href="selectors_8fcl_source.html#l00022">selectors.fcl:22</a></div></div>
<div class="ttc" id="classlar_1_1CountersMap_1_1const__iterator_html_a8cb23c5608cfdf68a59578c690faa1ae"><div class="ttname"><a href="classlar_1_1CountersMap_1_1const__iterator.html#a8cb23c5608cfdf68a59578c690faa1ae">lar::CountersMap::const_iterator::value_type</a></div><div class="ttdeci">typename CounterMap_t::value_type value_type</div><div class="ttdoc">value type: pair </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00441">CountersMap.h:441</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a914dd7274f591cbd41aea6fd055598cc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
<div class="memtemplate">
template&lt;typename OALLOC &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::is_equal </td>
          <td>(</td>
          <td class="paramtype">const std::map&lt; <a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a>, <a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a>, std::less&lt; <a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a> &gt;, OALLOC &gt; &amp;&#160;</td>
          <td class="paramname"><em>to</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the counters in this map are equivalent to another. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">to</td><td>a STL map </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether the counters are equivalent </dd></dl>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00284">284</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      { <a class="code" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a> dummy; <span class="keywordflow">return</span> <a class="code" href="classlar_1_1CountersMap.html#af3af186b1424975a1b9f2e9992e29d91">is_equal</a>(to, dummy); }</div>
<div class="ttc" id="classlar_1_1CountersMap_html_a088479e62de13f6c269b74212f2aeb60"><div class="ttname"><a href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">lar::CountersMap::Key_t</a></div><div class="ttdeci">KEY Key_t</div><div class="ttdoc">type of counter key in the map </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00147">CountersMap.h:147</a></div></div>
<div class="ttc" id="classlar_1_1CountersMap_html_af3af186b1424975a1b9f2e9992e29d91"><div class="ttname"><a href="classlar_1_1CountersMap.html#af3af186b1424975a1b9f2e9992e29d91">lar::CountersMap::is_equal</a></div><div class="ttdeci">bool is_equal(const std::map&lt; Key_t, SubCounter_t, std::less&lt; Key_t &gt;, OALLOC &gt; &amp;to, Key_t &amp;first_difference) const </div><div class="ttdoc">Returns whether the counters in this map are equivalent to another. </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00522">CountersMap.h:522</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af9acead9ea34a5b4a76c91502faa2f12"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classlar_1_1CountersMap_1_1const__iterator.html">const_iterator</a> <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::make_const_iterator </td>
          <td>(</td>
          <td class="paramtype">typename BaseMap_t::const_iterator&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>ix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a <a class="el" href="classlar_1_1CountersMap_1_1const__iterator.html">const_iterator</a> (useful in derived classes) </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00379">379</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      { <span class="keywordflow">return</span> { it, ix }; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a86b675a2cf689e1353b1749b05cc8bfc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::make_unsigned&lt;<a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a>&gt;::<a class="el" href="structtype.html">type</a> <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::n_counters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of allocated counters. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00249">249</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      { <span class="keywordflow">return</span> <a class="code" href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">counter_map</a>.size() * <a class="code" href="classlar_1_1CountersMap.html#a3c434445280b01afbd3fb04a9cbb6c18">NSubcounters</a>; }</div>
<div class="ttc" id="classlar_1_1CountersMap_html_afcd8632d4b8662da8e0ea197c3920089"><div class="ttname"><a href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">lar::CountersMap::counter_map</a></div><div class="ttdeci">BaseMap_t counter_map</div><div class="ttdoc">the actual data structure for counters </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00359">CountersMap.h:359</a></div></div>
<div class="ttc" id="classlar_1_1CountersMap_html_a3c434445280b01afbd3fb04a9cbb6c18"><div class="ttname"><a href="classlar_1_1CountersMap.html#a3c434445280b01afbd3fb04a9cbb6c18">lar::CountersMap::NSubcounters</a></div><div class="ttdeci">static constexpr size_t NSubcounters</div><div class="ttdoc">Number of subcounters in one counter block. </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00159">CountersMap.h:159</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae5123a50baa77f654b0b82b2483b113e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a> <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::operator[] </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read-only access to an element; returns 0 if no counter is present. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00202">202</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlar_1_1CountersMap.html#ab82a9cf9f4d986616b892f9ff7e11480">GetSubCounter</a>(key); }</div>
<div class="ttc" id="classlar_1_1CountersMap_html_ab82a9cf9f4d986616b892f9ff7e11480"><div class="ttname"><a href="classlar_1_1CountersMap.html#ab82a9cf9f4d986616b892f9ff7e11480">lar::CountersMap::GetSubCounter</a></div><div class="ttdeci">SubCounter_t GetSubCounter(CounterKey_t key) const </div><div class="ttdoc">Returns the value of the subcounter at the specified split key. </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00367">CountersMap.h:367</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4001fda1d252e4665d8f1a83525bb832"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K , typename C , size_t S, typename A , unsigned int SUB&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlar_1_1CountersMap.html">CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::<a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a> <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the specified counter to a count. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>key of the counter to be increased </td></tr>
    <tr><td class="paramname">value</td><td>count value to be set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>new value of the counter</dd></dl>
<p>Given the complex underlying structure (especially when subcounters are involved), a special method is used to set the value of a counter. This is equivalent to map's operator[] in non-constant version, but the creation of a new counter is explicit. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00495">495</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    { <span class="keywordflow">return</span> <a class="code" href="classlar_1_1CountersMap.html#aa3c43075f0ba49f47fbe9c467afedc10">unchecked_set</a>(CounterKey_t(key), <a class="code" href="pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>); }</div>
<div class="ttc" id="classlar_1_1CountersMap_html_aa3c43075f0ba49f47fbe9c467afedc10"><div class="ttname"><a href="classlar_1_1CountersMap.html#aa3c43075f0ba49f47fbe9c467afedc10">lar::CountersMap::unchecked_set</a></div><div class="ttdeci">SubCounter_t unchecked_set(CounterKey_t key, SubCounter_t delta)</div><div class="ttdoc">Sets the specified counter to a value (no check on value range) </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00608">CountersMap.h:608</a></div></div>
<div class="ttc" id="pmtsimulation__icarus_8fcl_html_a9fc569190f32b40862f18ac3c03a8e49"><div class="ttname"><a href="pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a></div><div class="ttdeci">temporary value</div><div class="ttdef"><b>Definition:</b> <a href="pmtsimulation__icarus_8fcl_source.html#l00158">pmtsimulation_icarus.fcl:158</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab7c87215bf87b65e5cb70f3faa3267f4"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structlar_1_1CountersMap_1_1CounterKey__t.html">CounterKey_t</a> <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::SplitKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlar_1_1CountersMap.html#a088479e62de13f6c269b74212f2aeb60">Key_t</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a split key corresponding to the specified key. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00375">375</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;{ <span class="keywordflow">return</span> key; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af4f694ac4d693e8d2e007e1baded4c88"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K , typename C , size_t S, typename A , unsigned int SUB&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlar_1_1CountersMap.html">CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::<a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a> <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::unchecked_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlar_1_1CountersMap_1_1CounterKey__t.html">CounterKey_t</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a>&#160;</td>
          <td class="paramname"><em>delta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a delta to the specified counter (no check on underflow/overflow) </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00631">631</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="comment">// take it low level here</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="comment">// first get the iterator to the block</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keyword">typename</span> BaseMap_t::iterator iBlock = <a class="code" href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">counter_map</a>.lower_bound(key.block);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">if</span> (iBlock != <a class="code" href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">counter_map</a>.end()) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <span class="keywordflow">if</span> (iBlock-&gt;first == key.block) { <span class="comment">// sweet, we have that counter already</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="keywordflow">return</span> iBlock-&gt;second[key.counter] += delta;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="comment">// no counter there yet: create one;</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="comment">// hint to insert before the block in the position we jave already found</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="comment">// (this is optimal in STL map for C++11);</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="comment">// create a block using the special constructor;</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="comment">// the temporary value created here is moved to the map</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <a class="code" href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">counter_map</a>.insert(iBlock, { key.block, { key.counter, delta } } );</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">return</span> delta;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  } <span class="comment">// CountersMap&lt;&gt;::unchecked_add() const</span></div>
<div class="ttc" id="classlar_1_1CountersMap_html_afcd8632d4b8662da8e0ea197c3920089"><div class="ttname"><a href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">lar::CountersMap::counter_map</a></div><div class="ttdeci">BaseMap_t counter_map</div><div class="ttdoc">the actual data structure for counters </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00359">CountersMap.h:359</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa3c43075f0ba49f47fbe9c467afedc10"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K , typename C , size_t S, typename A , unsigned int SUB&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlar_1_1CountersMap.html">CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::<a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a> <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::unchecked_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlar_1_1CountersMap_1_1CounterKey__t.html">CounterKey_t</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlar_1_1CountersMap.html#a9cdc997a3d3477aae3a37badc66c78f8">SubCounter_t</a>&#160;</td>
          <td class="paramname"><em>delta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the specified counter to a value (no check on value range) </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00608">608</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="comment">// take it low level here</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="comment">// first get the iterator to the block</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keyword">typename</span> BaseMap_t::iterator iBlock = <a class="code" href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">counter_map</a>.lower_bound(key.block);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">if</span> (iBlock != <a class="code" href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">counter_map</a>.end()) {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="keywordflow">if</span> (iBlock-&gt;first == key.block) { <span class="comment">// sweet, we have that counter already</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="keywordflow">return</span> iBlock-&gt;second[key.counter] = <a class="code" href="pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="comment">// no counter there yet: create one;</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="comment">// hint to insert before the block in the position we jave already found</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="comment">// (this is optimal in STL map for C++11);</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="comment">// create a block using the special constructor;</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="comment">// the temporary value created here is moved to the map</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">counter_map</a>.insert(iBlock, { key.block, { key.counter, <a class="code" href="pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a> } } );</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  } <span class="comment">// CountersMap&lt;&gt;::unchecked_add() const</span></div>
<div class="ttc" id="classlar_1_1CountersMap_html_afcd8632d4b8662da8e0ea197c3920089"><div class="ttname"><a href="classlar_1_1CountersMap.html#afcd8632d4b8662da8e0ea197c3920089">lar::CountersMap::counter_map</a></div><div class="ttdeci">BaseMap_t counter_map</div><div class="ttdoc">the actual data structure for counters </div><div class="ttdef"><b>Definition:</b> <a href="CountersMap_8h_source.html#l00359">CountersMap.h:359</a></div></div>
<div class="ttc" id="pmtsimulation__icarus_8fcl_html_a9fc569190f32b40862f18ac3c03a8e49"><div class="ttname"><a href="pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a></div><div class="ttdeci">temporary value</div><div class="ttdef"><b>Definition:</b> <a href="pmtsimulation__icarus_8fcl_source.html#l00158">pmtsimulation_icarus.fcl:158</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="afcd8632d4b8662da8e0ea197c3920089"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlar_1_1CountersMap.html#a39179293bdf7689b440f48c0bedb0f6b">BaseMap_t</a> <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; KEY, COUNTER, SIZE, ALLOC, SUBCOUNTERS &gt;::counter_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the actual data structure for counters </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00359">359</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3fa99973494bb441eb5f6b7a7df09961"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::NCounters = Traits_t::NCounters</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of counters in one counter block. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00156">156</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3c434445280b01afbd3fb04a9cbb6c18"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY, typename COUNTER, size_t SIZE, typename ALLOC = typename details::CountersMapTraits&lt;KEY, COUNTER, SIZE&gt;::DefaultAllocator_t, unsigned int SUBCOUNTERS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t <a class="el" href="classlar_1_1CountersMap.html">lar::CountersMap</a>&lt; K, C, <a class="el" href="find__global__symbol_8sh.html#a04e39dabfbb7bad6da7fd87b7431a845">S</a>, A, SUB &gt;::NSubcounters = <a class="el" href="classlar_1_1CountersMap.html#a3fa99973494bb441eb5f6b7a7df09961">NCounters</a> * SUBCOUNTERS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of subcounters in one counter block. </p>

<p>Definition at line <a class="el" href="CountersMap_8h_source.html#l00159">159</a> of file <a class="el" href="CountersMap_8h_source.html">CountersMap.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lardata/lardata/Utilities/<a class="el" href="CountersMap_8h_source.html">CountersMap.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
