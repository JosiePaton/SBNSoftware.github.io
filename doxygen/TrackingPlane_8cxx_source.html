<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>lardataobj/lardataobj/RecoBase/TrackingPlane.cxx Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bb37844bcbb3e0a5f711eed36287198d.html">lardataobj</a></li><li class="navelem"><a class="el" href="dir_ee195f8a0e898f10d9e917ef16ab6f51.html">lardataobj</a></li><li class="navelem"><a class="el" href="dir_a57e1f82168c25773f2e439f6a541f63.html">RecoBase</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">TrackingPlane.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="TrackingPlane_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TrackingPlane_8h.html">TrackingPlane.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">namespace </span>recob {</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  <span class="keyword">namespace </span>tracking {</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    <span class="comment">// formulas for 5-&gt;6 and 6-&gt;5 transformations</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    <span class="comment">// par6d[0] = planePos.X() + par5d[0]*cosalpha;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <span class="comment">// par6d[1] = planePos.Y() + par5d[0]*sinalpha*sinbeta + par5d[1]*cosbeta;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    <span class="comment">// par6d[2] = planePos.Z() - par5d[0]*sinalpha*cosbeta + par5d[1]*sinbeta;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    <span class="comment">// par6d[3] = (par5d[2]*cosalpha + 1.*sinalpha)/(par5d[4]*std::sqrt(1. + par5d[2]*par5d[2] + par5d[3]*par5d[3]));</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    <span class="comment">// par6d[4] = (par5d[2]*sinalpha*sinbeta + par5d[3]*cosbeta - cosalpha*sinbeta)/(par5d[4]*std::sqrt(1. + par5d[2]*par5d[2] + par5d[3]*par5d[3]));</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <span class="comment">// par6d[5] = (-par5d[2]*sinalpha*cosbeta + par5d[3]*sinbeta + cosalpha*cosbeta)/(par5d[4]*std::sqrt(1. + par5d[2]*par5d[2] + par5d[3]*par5d[3]));</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="comment">// par5d[0] = (par6d[0]-planePos.X())*cosalpha + (par6d[1]-planePos.Y())*sinalpha*sinbeta - (par6d[2]-planePos.Z())*sinalpha*cosbeta;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <span class="comment">// par5d[1] = (par6d[1]-planePos.Y())*cosbeta + (par6d[2]-planePos.Z())*sinbeta;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <span class="comment">// par5d[2] = (par6d[3]*cosalpha + par6d[4]*sinalpha*sinbeta - par6d[5]*sinalpha*cosbeta)/(par6d[3]*sinalpha - par6d[4]*cosalpha*sinbeta + par6d[5]*cosalpha*cosbeta);</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <span class="comment">// par5d[3] = (par6d[4]*cosbeta + par6d[5]*sinbeta)/(par6d[3]*sinalpha - par6d[4]*cosalpha*sinbeta + par6d[5]*cosalpha*cosbeta);</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <span class="comment">// par5d[4] = 1./sqrt(par6d[3]*par6d[3]+par6d[4]*par6d[4]+par6d[5]*par6d[5]);</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="classrecob_1_1tracking_1_1Plane.html#aca1bba422ac631b8ccd23239e91054c5">   21</a></span>&#160;    <a class="code" href="namespacerecob_1_1tracking.html#a766858a87f70cc693391f3605a4fba17">SVector6</a> <a class="code" href="classrecob_1_1tracking_1_1Plane.html#ac3248ebda77e3577d5a12aede5e5be54">Plane::Local5DToGlobal6DParameters</a>(<span class="keyword">const</span> <a class="code" href="namespacerecob_1_1tracking.html#a0d6af9187d2c4bb632f167099fc061eb">SVector5</a>&amp; par5d, <span class="keyword">const</span> <a class="code" href="namespacerecob_1_1tracking.html#ac47dae625a7d05a88210fb997948c07a">Point_t</a>&amp; planePos,<span class="keyword">const</span> <a class="code" href="namespacerecob_1_1tracking.html#a0ddfef5f5ab9ad68a59b9a1029d4ac78">Vector_t</a>&amp; <span class="comment">/* planeDir */</span>, <span class="keyword">const</span> <a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html">TrigCache</a>&amp; trigCache, <span class="keywordtype">bool</span> trackAlongPlaneDir)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; sinalpha = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#acd936db1a18681c87bc6e1372565971e">fSinA</a>;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; cosalpha = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a6c177aba270c630f529195231e0830e2">fCosA</a>;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; sinbeta  = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a2c6bf532f3957c9c27ad366630cb9919">fSinB</a>;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; cosbeta  = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a32366fd89d65d99192fddf45db906f68">fCosB</a>;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> denom = (trackAlongPlaneDir ? par5d[4]*std::sqrt(1. + par5d[2]*par5d[2] + par5d[3]*par5d[3]) : -par5d[4]*std::sqrt(1. + par5d[2]*par5d[2] + par5d[3]*par5d[3]) );</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;      <a class="code" href="namespacerecob_1_1tracking.html#a766858a87f70cc693391f3605a4fba17">SVector6</a> par6d;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;      par6d[0] = planePos.X() + par5d[0]*cosalpha;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;      par6d[1] = planePos.Y() + par5d[0]*sinalpha*sinbeta + par5d[1]*cosbeta;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;      par6d[2] = planePos.Z() - par5d[0]*sinalpha*cosbeta + par5d[1]*sinbeta;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;      par6d[3] = (par5d[2]*cosalpha + 1.*sinalpha)/denom;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;      par6d[4] = (par5d[2]*sinalpha*sinbeta + par5d[3]*cosbeta - cosalpha*sinbeta)/denom;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;      par6d[5] = (-par5d[2]*sinalpha*cosbeta + par5d[3]*sinbeta + cosalpha*cosbeta)/denom;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;      <span class="keywordflow">return</span> par6d;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    }</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="classrecob_1_1tracking_1_1Plane.html#a656051e1fb806b0694791c731de4abc9">   37</a></span>&#160;    <a class="code" href="namespacerecob_1_1tracking.html#a0d6af9187d2c4bb632f167099fc061eb">SVector5</a> <a class="code" href="classrecob_1_1tracking_1_1Plane.html#a9c944beffe43fc4c62a1a1c4bafe1a32">Plane::Global6DToLocal5DParameters</a>(<span class="keyword">const</span> <a class="code" href="namespacerecob_1_1tracking.html#a766858a87f70cc693391f3605a4fba17">SVector6</a>&amp; par6d, <span class="keyword">const</span> <a class="code" href="namespacerecob_1_1tracking.html#ac47dae625a7d05a88210fb997948c07a">Point_t</a>&amp; planePos,<span class="keyword">const</span> <a class="code" href="namespacerecob_1_1tracking.html#a0ddfef5f5ab9ad68a59b9a1029d4ac78">Vector_t</a>&amp; <span class="comment">/* planeDir */</span>, <span class="keyword">const</span> <a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html">TrigCache</a>&amp; trigCache)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; sinalpha = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#acd936db1a18681c87bc6e1372565971e">fSinA</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; cosalpha = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a6c177aba270c630f529195231e0830e2">fCosA</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; sinbeta  = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a2c6bf532f3957c9c27ad366630cb9919">fSinB</a>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; cosbeta  = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a32366fd89d65d99192fddf45db906f68">fCosB</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> pu = par6d[3]*cosalpha + par6d[4]*sinalpha*sinbeta - par6d[5]*sinalpha*cosbeta;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespacegen__crt__frags.html#a50bbf36adc7ac93ce0e827b50c076237">pv</a> = par6d[4]*cosbeta + par6d[5]*sinbeta;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespacechannelDBConverter.html#ae5567873d34e2ef6776d884b49b82c50">pw</a> = par6d[3]*sinalpha - par6d[4]*cosalpha*sinbeta + par6d[5]*cosalpha*cosbeta;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> pval = sqrt(par6d[3]*par6d[3]+par6d[4]*par6d[4]+par6d[5]*par6d[5]);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;      <a class="code" href="namespacerecob_1_1tracking.html#a0d6af9187d2c4bb632f167099fc061eb">SVector5</a> par5d;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      par5d[0] = (par6d[0]-planePos.X())*cosalpha + (par6d[1]-planePos.Y())*sinalpha*sinbeta - (par6d[2]-planePos.Z())*sinalpha*cosbeta;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      par5d[1] = (par6d[1]-planePos.Y())*cosbeta + (par6d[2]-planePos.Z())*sinbeta;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      par5d[2] = pu/<a class="code" href="namespacechannelDBConverter.html#ae5567873d34e2ef6776d884b49b82c50">pw</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      par5d[3] = pv/<a class="code" href="namespacechannelDBConverter.html#ae5567873d34e2ef6776d884b49b82c50">pw</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      par5d[4] = (pval&gt;0 ? 1./pval : 1.);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      <span class="keywordflow">return</span> par5d;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="classrecob_1_1tracking_1_1Plane.html#a4ab7f299c952e809d13ca8b979bfe9d8">   55</a></span>&#160;    <a class="code" href="namespacerecob_1_1tracking.html#a99329fd0a6204ee4f8400de76ff14f3f">SMatrix65</a> <a class="code" href="classrecob_1_1tracking_1_1Plane.html#a6d5cd2525e8c4c51e0e722dcaa5026c2">Plane::Local5DToGlobal6DJacobian</a>(<span class="keywordtype">bool</span> hasMomentum, <span class="keyword">const</span> <a class="code" href="namespacerecob_1_1tracking.html#a0ddfef5f5ab9ad68a59b9a1029d4ac78">Vector_t</a>&amp; trackMomOrDir, <span class="keyword">const</span> <a class="code" href="namespacerecob_1_1tracking.html#a0ddfef5f5ab9ad68a59b9a1029d4ac78">Vector_t</a>&amp; planeDir, <span class="keyword">const</span> <a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html">TrigCache</a>&amp; trigCache)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <span class="keywordtype">bool</span> trackAlongPlaneDir = trackMomOrDir.Dot(planeDir)&gt;0;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; sinalpha = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#acd936db1a18681c87bc6e1372565971e">fSinA</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; cosalpha = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a6c177aba270c630f529195231e0830e2">fCosA</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; sinbeta  = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a2c6bf532f3957c9c27ad366630cb9919">fSinB</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; cosbeta  = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a32366fd89d65d99192fddf45db906f68">fCosB</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> pu = trackMomOrDir.X()*cosalpha + trackMomOrDir.Y()*sinalpha*sinbeta - trackMomOrDir.Z()*sinalpha*cosbeta;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespacegen__crt__frags.html#a50bbf36adc7ac93ce0e827b50c076237">pv</a> = trackMomOrDir.Y()*cosbeta + trackMomOrDir.Z()*sinbeta;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespacechannelDBConverter.html#ae5567873d34e2ef6776d884b49b82c50">pw</a> = trackMomOrDir.X()*sinalpha - trackMomOrDir.Y()*cosalpha*sinbeta + trackMomOrDir.Z()*cosalpha*cosbeta;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="comment">//local parameters 2,3,4</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> l2 = pu/<a class="code" href="namespacechannelDBConverter.html#ae5567873d34e2ef6776d884b49b82c50">pw</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> l3 = pv/<a class="code" href="namespacechannelDBConverter.html#ae5567873d34e2ef6776d884b49b82c50">pw</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> p2 = trackMomOrDir.X()*trackMomOrDir.X() + trackMomOrDir.Y()*trackMomOrDir.Y() + trackMomOrDir.Z()*trackMomOrDir.Z();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> l4 = (hasMomentum ? 1./sqrt(p2) : 1.);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> den23 = ( trackAlongPlaneDir ? l4*(l2*l2+l3*l3+1.)*sqrt(l2*l2+l3*l3+1.) : -l4*(l2*l2+l3*l3+1.)*sqrt(l2*l2+l3*l3+1.) );</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> den4 = l4*l4*sqrt(l2*l2+l3*l3+1.);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <a class="code" href="namespacerecob_1_1tracking.html#a99329fd0a6204ee4f8400de76ff14f3f">SMatrix65</a> j;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      j(0,0) = cosalpha;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      j(0,1) = 0.;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      j(0,2) = 0.;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      j(0,3) = 0.;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      j(0,4) = 0.;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      j(1,0) = sinalpha*sinbeta;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      j(1,1) = cosbeta;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      j(1,2) = 0.;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      j(1,3) = 0.;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      j(1,4) = 0.;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      j(2,0) = -sinalpha*cosbeta;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      j(2,1) = sinbeta;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      j(2,2) = 0.;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      j(2,3) = 0.;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      j(2,4) = 0.;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      j(3,0) = 0.;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      j(3,1) = 0.;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      j(3,2) = (cosalpha*(l3*l3+1.) - sinalpha*l2)/den23;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      j(3,3) = -l3*(l2*cosalpha + sinalpha)/den23;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      j(3,4) = (hasMomentum ? -(l2*cosalpha + sinalpha)/den4 : 0.);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      j(4,0) = 0.;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      j(4,1) = 0.;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      j(4,2) = (cosalpha*sinbeta*l2 - cosbeta*l2*l3 + sinalpha*sinbeta*(l3*l3+1.))/den23;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      j(4,3) = (sinbeta*l3*(cosalpha-sinalpha*l2) + cosbeta*(l2*l2+1.))/den23;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      j(4,4) = (hasMomentum ? (cosalpha*sinbeta - cosbeta*l3 - sinalpha*sinbeta*l2)/den4 : 0.);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      j(5,0) = 0.;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      j(5,1) = 0.;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      j(5,2) = -(cosalpha*cosbeta*l2 + cosbeta*sinalpha*l3*l3 + cosbeta*sinalpha + sinbeta*l2*l3)/den23;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      j(5,3) = (-cosalpha*cosbeta*l3 + cosbeta*sinalpha*l2*l3 + sinbeta*l2*l2 + sinbeta)/den23;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      j(5,4) = (hasMomentum ? (-cosalpha*cosbeta + cosbeta*sinalpha*l2 - sinbeta*l3)/den4 : 0.);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      <span class="keywordflow">return</span> j;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="classrecob_1_1tracking_1_1Plane.html#ab6fe329a818ddc121a27df1e93f553ab">  112</a></span>&#160;    <a class="code" href="namespacerecob_1_1tracking.html#ada25f21f414ae9cfb447ffbfbae2976e">SMatrix56</a> <a class="code" href="classrecob_1_1tracking_1_1Plane.html#a8618cad705485af9ed1754c8df1ab158">Plane::Global6DToLocal5DJacobian</a>(<span class="keywordtype">bool</span> hasMomentum, <span class="keyword">const</span> <a class="code" href="namespacerecob_1_1tracking.html#a0ddfef5f5ab9ad68a59b9a1029d4ac78">Vector_t</a>&amp; trackMomOrDir, <span class="keyword">const</span> <a class="code" href="namespacerecob_1_1tracking.html#a0ddfef5f5ab9ad68a59b9a1029d4ac78">Vector_t</a>&amp; <span class="comment">/* planeDir */</span>, <span class="keyword">const</span> <a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html">TrigCache</a>&amp; trigCache)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; sinalpha = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#acd936db1a18681c87bc6e1372565971e">fSinA</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; cosalpha = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a6c177aba270c630f529195231e0830e2">fCosA</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; sinbeta  = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a2c6bf532f3957c9c27ad366630cb9919">fSinB</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; cosbeta  = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a32366fd89d65d99192fddf45db906f68">fCosB</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> den23 = (cosalpha*(cosbeta*trackMomOrDir.Z() - sinbeta*trackMomOrDir.Y()) + sinalpha*trackMomOrDir.X())*(cosalpha*(cosbeta*trackMomOrDir.Z() - sinbeta*trackMomOrDir.Y()) + sinalpha*trackMomOrDir.X());</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> den4 = sqrt(trackMomOrDir.X()*trackMomOrDir.X()+trackMomOrDir.Y()*trackMomOrDir.Y()+trackMomOrDir.Z()*trackMomOrDir.Z())*(trackMomOrDir.X()*trackMomOrDir.X()+trackMomOrDir.Y()*trackMomOrDir.Y()+trackMomOrDir.Z()*trackMomOrDir.Z());</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      <a class="code" href="namespacerecob_1_1tracking.html#ada25f21f414ae9cfb447ffbfbae2976e">SMatrix56</a> j;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      j(0,0) = cosalpha;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      j(0,1) = sinalpha*sinbeta ;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      j(0,2) = -sinalpha*cosbeta;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      j(0,3) = 0.;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      j(0,4) = 0.;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      j(0,5) = 0.;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      j(1,0) = 0.;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      j(1,1) = cosbeta;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      j(1,2) = sinbeta;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      j(1,3) = 0.;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      j(1,4) = 0.;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      j(1,5) = 0.;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      j(2,0) = 0.;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      j(2,1) = 0.;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      j(2,2) = 0.;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      j(2,3) = ((cosalpha*cosalpha + sinalpha*sinalpha)*(cosbeta*trackMomOrDir.Z() - sinbeta*trackMomOrDir.Y()))/den23;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      j(2,4) = (sinbeta*trackMomOrDir.X()*(cosalpha*cosalpha + sinalpha*sinalpha))/den23;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      j(2,5) = -(cosbeta*trackMomOrDir.X()*(cosalpha*cosalpha + sinalpha*sinalpha))/den23;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      j(3,0) = 0.;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      j(3,1) = 0.;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      j(3,2) = 0.;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      j(3,3) = -(sinalpha*(cosbeta*trackMomOrDir.Y() + sinbeta*trackMomOrDir.Z()))/den23;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      j(3,4) = (cosalpha*trackMomOrDir.Z()*(cosbeta*cosbeta + sinbeta*sinbeta) + cosbeta*sinalpha*trackMomOrDir.X())/den23;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      j(3,5) = (-cosalpha*cosbeta*cosbeta*trackMomOrDir.Y() - cosalpha*sinbeta*sinbeta*trackMomOrDir.Y() + sinalpha*sinbeta*trackMomOrDir.X())/den23;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      j(4,0) = 0.;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      j(4,1) = 0.;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      j(4,2) = 0.;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      j(4,3) = (hasMomentum ? -trackMomOrDir.X()/den4 : 0.);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      j(4,4) = (hasMomentum ? -trackMomOrDir.Y()/den4 : 0.);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      j(4,5) = (hasMomentum ? -trackMomOrDir.Z()/den4 : 0.);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="keywordflow">return</span> j;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="classrecob_1_1tracking_1_1Plane.html#afb337aa289886d27f3a512295d673ef6">  159</a></span>&#160;    <a class="code" href="namespacerecob_1_1tracking.html#a6241de674194b0af9cd4db722e47ebd4">Rotation_t</a> <a class="code" href="classrecob_1_1tracking_1_1Plane.html#acc4279489010cef0e77b1b7e230ad8f2">Plane::Global3DToLocal3DRotation</a>(<span class="keyword">const</span> <a class="code" href="namespacerecob_1_1tracking.html#a0ddfef5f5ab9ad68a59b9a1029d4ac78">Vector_t</a>&amp; <span class="comment">/* planeDir */</span>, <span class="keyword">const</span> <a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html">TrigCache</a>&amp; trigCache)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; sinalpha = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#acd936db1a18681c87bc6e1372565971e">fSinA</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; cosalpha = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a6c177aba270c630f529195231e0830e2">fCosA</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; sinbeta  = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a2c6bf532f3957c9c27ad366630cb9919">fSinB</a>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; cosbeta  = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a32366fd89d65d99192fddf45db906f68">fCosB</a>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <span class="keywordflow">return</span> {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        cosalpha <span class="comment">/* xx */</span>,  sinalpha * sinbeta <span class="comment">/* xy */</span>, -sinalpha * cosbeta <span class="comment">/* xz */</span>,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        0.0      <span class="comment">/* yx */</span>,  cosbeta            <span class="comment">/* yy */</span>,  sinbeta            <span class="comment">/* yz */</span>,</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        sinalpha <span class="comment">/* zx */</span>, -cosalpha * sinbeta <span class="comment">/* zy */</span>,  cosalpha * cosbeta <span class="comment">/* zz */</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      };</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="classrecob_1_1tracking_1_1Plane.html#a04c763dd64359657496906fca5b2f19d">  171</a></span>&#160;    <a class="code" href="namespacerecob_1_1tracking.html#a6241de674194b0af9cd4db722e47ebd4">Rotation_t</a> <a class="code" href="classrecob_1_1tracking_1_1Plane.html#ac7c7f4df7f2949d92d682ec873cafa52">Plane::Local3DToGlobal3DRotation</a>(<span class="keyword">const</span> <a class="code" href="namespacerecob_1_1tracking.html#a0ddfef5f5ab9ad68a59b9a1029d4ac78">Vector_t</a>&amp; <span class="comment">/* planeDir */</span>, <span class="keyword">const</span> <a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html">TrigCache</a>&amp; trigCache)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; sinalpha = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#acd936db1a18681c87bc6e1372565971e">fSinA</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; cosalpha = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a6c177aba270c630f529195231e0830e2">fCosA</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; sinbeta  = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a2c6bf532f3957c9c27ad366630cb9919">fSinB</a>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; cosbeta  = trigCache.<a class="code" href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a32366fd89d65d99192fddf45db906f68">fCosB</a>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keywordflow">return</span> {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        cosalpha            <span class="comment">/* xx */</span>, 0.      <span class="comment">/* xy */</span>,  sinalpha           <span class="comment">/* xz */</span>,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        sinalpha * sinbeta  <span class="comment">/* yx */</span>, cosbeta <span class="comment">/* yy */</span>, -cosalpha * sinbeta <span class="comment">/* yz */</span>,</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        -sinalpha * cosbeta <span class="comment">/* zx */</span>, sinbeta <span class="comment">/* zy */</span>,  cosalpha * cosbeta <span class="comment">/* zz */</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      };</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_a6d5cd2525e8c4c51e0e722dcaa5026c2"><div class="ttname"><a href="classrecob_1_1tracking_1_1Plane.html#a6d5cd2525e8c4c51e0e722dcaa5026c2">recob::tracking::Plane::Local5DToGlobal6DJacobian</a></div><div class="ttdeci">SMatrix65 Local5DToGlobal6DJacobian(bool hasMomentum, const Vector_t &amp;trackMomOrDir) const </div><div class="ttdoc">Compute the jacobian to translate track covariance from local to global coordinates. The track momentum (or direction) is needed to compute the jacobian. Local coordinates are on the plane orthogonal to planeDir (it may be the same direction as the momentum, but the function is generic). </div><div class="ttdef"><b>Definition:</b> <a href="TrackingPlane_8h_source.html#l00086">TrackingPlane.h:86</a></div></div>
<div class="ttc" id="structrecob_1_1tracking_1_1Plane_1_1TrigCache_html"><div class="ttname"><a href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html">recob::tracking::Plane::TrigCache</a></div><div class="ttdoc">Struct caching trigonometric function results. </div><div class="ttdef"><b>Definition:</b> <a href="TrackingPlane_8h_source.html#l00041">TrackingPlane.h:41</a></div></div>
<div class="ttc" id="structrecob_1_1tracking_1_1Plane_1_1TrigCache_html_a2c6bf532f3957c9c27ad366630cb9919"><div class="ttname"><a href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a2c6bf532f3957c9c27ad366630cb9919">recob::tracking::Plane::TrigCache::fSinB</a></div><div class="ttdeci">double fSinB</div><div class="ttdef"><b>Definition:</b> <a href="TrackingPlane_8h_source.html#l00054">TrackingPlane.h:54</a></div></div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_acc4279489010cef0e77b1b7e230ad8f2"><div class="ttname"><a href="classrecob_1_1tracking_1_1Plane.html#acc4279489010cef0e77b1b7e230ad8f2">recob::tracking::Plane::Global3DToLocal3DRotation</a></div><div class="ttdeci">Rotation_t Global3DToLocal3DRotation() const </div><div class="ttdoc">Calculate rotation matrices from global (x,y,z) to local (u,v,w) coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="TrackingPlane_8h_source.html#l00108">TrackingPlane.h:108</a></div></div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_a9c944beffe43fc4c62a1a1c4bafe1a32"><div class="ttname"><a href="classrecob_1_1tracking_1_1Plane.html#a9c944beffe43fc4c62a1a1c4bafe1a32">recob::tracking::Plane::Global6DToLocal5DParameters</a></div><div class="ttdeci">SVector5 Global6DToLocal5DParameters(const SVector6 &amp;par6d) const </div><div class="ttdoc">Function to convert parameters from global to local coordinates. Local coordinates are on the plane w...</div><div class="ttdef"><b>Definition:</b> <a href="TrackingPlane_8h_source.html#l00074">TrackingPlane.h:74</a></div></div>
<div class="ttc" id="structrecob_1_1tracking_1_1Plane_1_1TrigCache_html_acd936db1a18681c87bc6e1372565971e"><div class="ttname"><a href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#acd936db1a18681c87bc6e1372565971e">recob::tracking::Plane::TrigCache::fSinA</a></div><div class="ttdeci">double fSinA</div><div class="ttdef"><b>Definition:</b> <a href="TrackingPlane_8h_source.html#l00052">TrackingPlane.h:52</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_ada25f21f414ae9cfb447ffbfbae2976e"><div class="ttname"><a href="namespacerecob_1_1tracking.html#ada25f21f414ae9cfb447ffbfbae2976e">recob::tracking::SMatrix56</a></div><div class="ttdeci">ROOT::Math::SMatrix&lt; Double32_t, 5, 6 &gt; SMatrix56</div><div class="ttdef"><b>Definition:</b> <a href="TrackingTypes_8h_source.html#l00088">TrackingTypes.h:88</a></div></div>
<div class="ttc" id="structrecob_1_1tracking_1_1Plane_1_1TrigCache_html_a32366fd89d65d99192fddf45db906f68"><div class="ttname"><a href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a32366fd89d65d99192fddf45db906f68">recob::tracking::Plane::TrigCache::fCosB</a></div><div class="ttdeci">double fCosB</div><div class="ttdef"><b>Definition:</b> <a href="TrackingPlane_8h_source.html#l00053">TrackingPlane.h:53</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_a0d6af9187d2c4bb632f167099fc061eb"><div class="ttname"><a href="namespacerecob_1_1tracking.html#a0d6af9187d2c4bb632f167099fc061eb">recob::tracking::SVector5</a></div><div class="ttdeci">ROOT::Math::SVector&lt; Double32_t, 5 &gt; SVector5</div><div class="ttdef"><b>Definition:</b> <a href="TrackingTypes_8h_source.html#l00092">TrackingTypes.h:92</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_a0ddfef5f5ab9ad68a59b9a1029d4ac78"><div class="ttname"><a href="namespacerecob_1_1tracking.html#a0ddfef5f5ab9ad68a59b9a1029d4ac78">recob::tracking::Vector_t</a></div><div class="ttdeci">ROOT::Math::DisplacementVector3D&lt; ROOT::Math::Cartesian3D&lt; Coord_t &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Vector_t</div><div class="ttdoc">Type for representation of momenta in 3D space. See recob::tracking::Coord_t for more details on the ...</div><div class="ttdef"><b>Definition:</b> <a href="TrackingTypes_8h_source.html#l00029">TrackingTypes.h:29</a></div></div>
<div class="ttc" id="namespacegen__crt__frags_html_a50bbf36adc7ac93ce0e827b50c076237"><div class="ttname"><a href="namespacegen__crt__frags.html#a50bbf36adc7ac93ce0e827b50c076237">gen_crt_frags.pv</a></div><div class="ttdeci">tuple pv</div><div class="ttdef"><b>Definition:</b> <a href="gen__crt__frags_8py_source.html#l01419">gen_crt_frags.py:1419</a></div></div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_ac3248ebda77e3577d5a12aede5e5be54"><div class="ttname"><a href="classrecob_1_1tracking_1_1Plane.html#ac3248ebda77e3577d5a12aede5e5be54">recob::tracking::Plane::Local5DToGlobal6DParameters</a></div><div class="ttdeci">SVector6 Local5DToGlobal6DParameters(const SVector5 &amp;par5d, bool trackAlongPlaneDir=true) const </div><div class="ttdoc">Function to convert parameters from local to global coordinates. Local coordinates are on the plane w...</div><div class="ttdef"><b>Definition:</b> <a href="TrackingPlane_8h_source.html#l00080">TrackingPlane.h:80</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_a6241de674194b0af9cd4db722e47ebd4"><div class="ttname"><a href="namespacerecob_1_1tracking.html#a6241de674194b0af9cd4db722e47ebd4">recob::tracking::Rotation_t</a></div><div class="ttdeci">ROOT::Math::Rotation3D Rotation_t</div><div class="ttdoc">Type for representation of space rotations. </div><div class="ttdef"><b>Definition:</b> <a href="TrackingTypes_8h_source.html#l00038">TrackingTypes.h:38</a></div></div>
<div class="ttc" id="TrackingPlane_8h_html"><div class="ttname"><a href="TrackingPlane_8h.html">TrackingPlane.h</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_a766858a87f70cc693391f3605a4fba17"><div class="ttname"><a href="namespacerecob_1_1tracking.html#a766858a87f70cc693391f3605a4fba17">recob::tracking::SVector6</a></div><div class="ttdeci">ROOT::Math::SVector&lt; Double32_t, 6 &gt; SVector6</div><div class="ttdef"><b>Definition:</b> <a href="TrackingTypes_8h_source.html#l00091">TrackingTypes.h:91</a></div></div>
<div class="ttc" id="namespacechannelDBConverter_html_ae5567873d34e2ef6776d884b49b82c50"><div class="ttname"><a href="namespacechannelDBConverter.html#ae5567873d34e2ef6776d884b49b82c50">channelDBConverter.pw</a></div><div class="ttdeci">list pw</div><div class="ttdef"><b>Definition:</b> <a href="channelDBConverter_8py_source.html#l00096">channelDBConverter.py:96</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_ac47dae625a7d05a88210fb997948c07a"><div class="ttname"><a href="namespacerecob_1_1tracking.html#ac47dae625a7d05a88210fb997948c07a">recob::tracking::Point_t</a></div><div class="ttdeci">ROOT::Math::PositionVector3D&lt; ROOT::Math::Cartesian3D&lt; Coord_t &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Point_t</div><div class="ttdoc">Type for representation of position in physical 3D space. See recob::tracking::Coord_t for more detai...</div><div class="ttdef"><b>Definition:</b> <a href="TrackingTypes_8h_source.html#l00026">TrackingTypes.h:26</a></div></div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_ac7c7f4df7f2949d92d682ec873cafa52"><div class="ttname"><a href="classrecob_1_1tracking_1_1Plane.html#ac7c7f4df7f2949d92d682ec873cafa52">recob::tracking::Plane::Local3DToGlobal3DRotation</a></div><div class="ttdeci">Rotation_t Local3DToGlobal3DRotation() const </div><div class="ttdoc">Calculate rotation matrices from local (u,v,w) to global (x,y,z) coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="TrackingPlane_8h_source.html#l00114">TrackingPlane.h:114</a></div></div>
<div class="ttc" id="structrecob_1_1tracking_1_1Plane_1_1TrigCache_html_a6c177aba270c630f529195231e0830e2"><div class="ttname"><a href="structrecob_1_1tracking_1_1Plane_1_1TrigCache.html#a6c177aba270c630f529195231e0830e2">recob::tracking::Plane::TrigCache::fCosA</a></div><div class="ttdeci">double fCosA</div><div class="ttdef"><b>Definition:</b> <a href="TrackingPlane_8h_source.html#l00051">TrackingPlane.h:51</a></div></div>
<div class="ttc" id="classrecob_1_1tracking_1_1Plane_html_a8618cad705485af9ed1754c8df1ab158"><div class="ttname"><a href="classrecob_1_1tracking_1_1Plane.html#a8618cad705485af9ed1754c8df1ab158">recob::tracking::Plane::Global6DToLocal5DJacobian</a></div><div class="ttdeci">SMatrix56 Global6DToLocal5DJacobian(bool hasMomentum, const Vector_t &amp;trackMomOrDir) const </div><div class="ttdoc">Compute the jacobian to translate track covariance from global to local coordinates. The track momentum (or direction) is needed to compute the jacobian. Local coordinates are on the plane orthogonal to planeDir (it may be the same direction as the momentum, but the function is generic). Warning: some information may be lost in degenerate cases, e.g. the unceratinty along z position when converting to a x-y plane (fixed z) </div><div class="ttdef"><b>Definition:</b> <a href="TrackingPlane_8h_source.html#l00092">TrackingPlane.h:92</a></div></div>
<div class="ttc" id="namespacerecob_1_1tracking_html_a99329fd0a6204ee4f8400de76ff14f3f"><div class="ttname"><a href="namespacerecob_1_1tracking.html#a99329fd0a6204ee4f8400de76ff14f3f">recob::tracking::SMatrix65</a></div><div class="ttdeci">ROOT::Math::SMatrix&lt; Double32_t, 6, 5 &gt; SMatrix65</div><div class="ttdef"><b>Definition:</b> <a href="TrackingTypes_8h_source.html#l00087">TrackingTypes.h:87</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
