<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>larg4::LArG4 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelarg4.html">larg4</a></li><li class="navelem"><a class="el" href="classlarg4_1_1LArG4.html">LArG4</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classlarg4_1_1LArG4-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">larg4::LArG4 Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Runs Geant4 simulation and propagation of electrons and photons to readout.  
 <a href="classlarg4_1_1LArG4.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for larg4::LArG4:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classlarg4_1_1LArG4.png" usemap="#larg4::LArG4_map" alt=""/>
  <map id="larg4::LArG4_map" name="larg4::LArG4_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aeeeda4fd2859a0820df166309952443c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#aeeeda4fd2859a0820df166309952443c">LArG4</a> (fhicl::ParameterSet const &amp;pset)</td></tr>
<tr class="separator:aeeeda4fd2859a0820df166309952443c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a07e7e9a8aed9a5150c95cb2d7fe86dc9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#a07e7e9a8aed9a5150c95cb2d7fe86dc9">produce</a> (art::Event &amp;evt) override</td></tr>
<tr class="separator:a07e7e9a8aed9a5150c95cb2d7fe86dc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de9234ebce9a1ca6993e0518ea79d70"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#a3de9234ebce9a1ca6993e0518ea79d70">beginJob</a> () override</td></tr>
<tr class="separator:a3de9234ebce9a1ca6993e0518ea79d70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46b30e1250e58b7466414ab6a39fb53c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#a46b30e1250e58b7466414ab6a39fb53c">beginRun</a> (art::Run &amp;run) override</td></tr>
<tr class="separator:a46b30e1250e58b7466414ab6a39fb53c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a2d831b1b2bc3c5b551ba4d80a77429"><td class="memItemLeft" align="right" valign="top">std::unique_ptr<br class="typebreak"/>
&lt; <a class="el" href="classutil_1_1PositionInVolumeFilter.html">util::PositionInVolumeFilter</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#a9a2d831b1b2bc3c5b551ba4d80a77429">CreateParticleVolumeFilter</a> (std::set&lt; std::string &gt; const &amp;vol_names) const </td></tr>
<tr class="memdesc:a9a2d831b1b2bc3c5b551ba4d80a77429"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer used for correctly updating the clock data state.  <a href="#a9a2d831b1b2bc3c5b551ba4d80a77429">More...</a><br/></td></tr>
<tr class="separator:a9a2d831b1b2bc3c5b551ba4d80a77429"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a5f0ed84f928dc27ff76cd10da8afaf2e"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; g4b::G4Helper &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#a5f0ed84f928dc27ff76cd10da8afaf2e">fG4Help</a> {nullptr}</td></tr>
<tr class="memdesc:a5f0ed84f928dc27ff76cd10da8afaf2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">G4 interface object.  <a href="#a5f0ed84f928dc27ff76cd10da8afaf2e">More...</a><br/></td></tr>
<tr class="separator:a5f0ed84f928dc27ff76cd10da8afaf2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5287f3d6b9cadceaf6f6fbcba549b757"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlarg4_1_1ParticleListAction.html">larg4::ParticleListAction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#a5287f3d6b9cadceaf6f6fbcba549b757">fparticleListAction</a></td></tr>
<tr class="memdesc:a5287f3d6b9cadceaf6f6fbcba549b757"><td class="mdescLeft">&#160;</td><td class="mdescRight">Geant4 user action to particle information.  <a href="#a5287f3d6b9cadceaf6f6fbcba549b757">More...</a><br/></td></tr>
<tr class="separator:a5287f3d6b9cadceaf6f6fbcba549b757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad873278e3e05274e4cc279b68950a7a3"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#ad873278e3e05274e4cc279b68950a7a3">fG4PhysListName</a></td></tr>
<tr class="memdesc:ad873278e3e05274e4cc279b68950a7a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">predefined physics list to use if not making a custom one  <a href="#ad873278e3e05274e4cc279b68950a7a3">More...</a><br/></td></tr>
<tr class="separator:ad873278e3e05274e4cc279b68950a7a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3cff7a2ead780dcdb44afcd15e03d39"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#ac3cff7a2ead780dcdb44afcd15e03d39">fG4MacroPath</a></td></tr>
<tr class="separator:ac3cff7a2ead780dcdb44afcd15e03d39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b2c4d9ca46b9269df74a33439764b39"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelarg4.html#a42b3ada02e272fe2fa2b641ba06ab7d4">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#a1b2c4d9ca46b9269df74a33439764b39">fCheckOverlaps</a></td></tr>
<tr class="memdesc:a1b2c4d9ca46b9269df74a33439764b39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to use the G4 overlap checker.  <a href="#a1b2c4d9ca46b9269df74a33439764b39">More...</a><br/></td></tr>
<tr class="separator:a1b2c4d9ca46b9269df74a33439764b39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af619c38dd997badad308100e4e13fe6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelarg4.html#a42b3ada02e272fe2fa2b641ba06ab7d4">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#af619c38dd997badad308100e4e13fe6e">fMakeMCParticles</a></td></tr>
<tr class="memdesc:af619c38dd997badad308100e4e13fe6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to keep a <code>sim::MCParticle</code> list.  <a href="#af619c38dd997badad308100e4e13fe6e">More...</a><br/></td></tr>
<tr class="separator:af619c38dd997badad308100e4e13fe6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5a5fb4c16d08452ea7f101ccb01cac0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelarg4.html#a42b3ada02e272fe2fa2b641ba06ab7d4">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#ae5a5fb4c16d08452ea7f101ccb01cac0">fdumpParticleList</a></td></tr>
<tr class="memdesc:ae5a5fb4c16d08452ea7f101ccb01cac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether each event's sim::ParticleList will be displayed.  <a href="#ae5a5fb4c16d08452ea7f101ccb01cac0">More...</a><br/></td></tr>
<tr class="separator:ae5a5fb4c16d08452ea7f101ccb01cac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a097631e100ecd65f1095383aeb66870b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelarg4.html#a42b3ada02e272fe2fa2b641ba06ab7d4">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#a097631e100ecd65f1095383aeb66870b">fdumpSimChannels</a></td></tr>
<tr class="memdesc:a097631e100ecd65f1095383aeb66870b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether each event's sim::Channel will be displayed.  <a href="#a097631e100ecd65f1095383aeb66870b">More...</a><br/></td></tr>
<tr class="separator:a097631e100ecd65f1095383aeb66870b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d6ebb61407b876db4fef7ab9dab3990"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelarg4.html#a42b3ada02e272fe2fa2b641ba06ab7d4">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#a2d6ebb61407b876db4fef7ab9dab3990">fUseLitePhotons</a></td></tr>
<tr class="separator:a2d6ebb61407b876db4fef7ab9dab3990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab894fc99d86aa457e9913a6a408abe57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelarg4.html#a42b3ada02e272fe2fa2b641ba06ab7d4">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#ab894fc99d86aa457e9913a6a408abe57">fStoreReflected</a> {<a class="el" href="namespacelarg4.html#a7eeba60c219f2d1b4094606a12d28d18">false</a>}</td></tr>
<tr class="separator:ab894fc99d86aa457e9913a6a408abe57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa73751198cdd4210411d6e05aba2aa4f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#aa73751198cdd4210411d6e05aba2aa4f">fSmartStacking</a></td></tr>
<tr class="memdesc:aa73751198cdd4210411d6e05aba2aa4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to instantiate and use class to.  <a href="#aa73751198cdd4210411d6e05aba2aa4f">More...</a><br/></td></tr>
<tr class="separator:aa73751198cdd4210411d6e05aba2aa4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a144a565ae2d6c77a38ad83fd6f3635d4"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#a144a565ae2d6c77a38ad83fd6f3635d4">fOffPlaneMargin</a> = 0.</td></tr>
<tr class="separator:a144a565ae2d6c77a38ad83fd6f3635d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a580b38b4043c52fa530f01bec3c0a7ff"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#a580b38b4043c52fa530f01bec3c0a7ff">fInputLabels</a></td></tr>
<tr class="separator:a580b38b4043c52fa530f01bec3c0a7ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0022a081d3e77083fe96b477a811442f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#a0022a081d3e77083fe96b477a811442f">fKeepParticlesInVolumes</a></td></tr>
<tr class="memdesc:a0022a081d3e77083fe96b477a811442f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only write particles that have trajectories through these volumes.  <a href="#a0022a081d3e77083fe96b477a811442f">More...</a><br/></td></tr>
<tr class="separator:a0022a081d3e77083fe96b477a811442f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d26298a9dd18460ce63123451bdaf61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelarg4.html#a42b3ada02e272fe2fa2b641ba06ab7d4">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#a3d26298a9dd18460ce63123451bdaf61">fSparsifyTrajectories</a></td></tr>
<tr class="memdesc:a3d26298a9dd18460ce63123451bdaf61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sparsify MCParticle Trajectories.  <a href="#a3d26298a9dd18460ce63123451bdaf61">More...</a><br/></td></tr>
<tr class="separator:a3d26298a9dd18460ce63123451bdaf61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e1b94409713ba076811b2aefda27c74"><td class="memItemLeft" align="right" valign="top">CLHEP::HepRandomEngine &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#a8e1b94409713ba076811b2aefda27c74">fEngine</a></td></tr>
<tr class="separator:a8e1b94409713ba076811b2aefda27c74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29bf27db1d642d3d197f9d279dcd5390"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdetinfo_1_1DetectorPropertiesData.html">detinfo::DetectorPropertiesData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#a29bf27db1d642d3d197f9d279dcd5390">fDetProp</a></td></tr>
<tr class="memdesc:a29bf27db1d642d3d197f9d279dcd5390"><td class="mdescLeft">&#160;</td><td class="mdescRight">Must outlive fAllPhysicsLists!  <a href="#a29bf27db1d642d3d197f9d279dcd5390">More...</a><br/></td></tr>
<tr class="separator:a29bf27db1d642d3d197f9d279dcd5390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8187cfa8f3e214e55b8c523233585b08"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlarg4_1_1AllPhysicsLists.html">AllPhysicsLists</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#a8187cfa8f3e214e55b8c523233585b08">fAllPhysicsLists</a></td></tr>
<tr class="separator:a8187cfa8f3e214e55b8c523233585b08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8232ce83bddf3109633edca45c73743"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlarg4_1_1LArVoxelReadoutGeometry.html">LArVoxelReadoutGeometry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlarg4_1_1LArG4.html#ab8232ce83bddf3109633edca45c73743">fVoxelReadoutGeometry</a></td></tr>
<tr class="separator:ab8232ce83bddf3109633edca45c73743"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Runs Geant4 simulation and propagation of electrons and photons to readout. </p>
<p>This module collects generated particles from one or more generators and processes them through Geant4.</p>
<h2>Input </h2>
<p>The module reads the particles to process from <code>simb::MCTruth</code> records. Each particle generator is required to produce a vector of such records: <code>std::vector&lt;simb::MCTruth&gt;</code>.</p>
<p>The module allows two operation modes:</p>
<ol type="1">
<li>process specific generators: the label of the generator modules to be processed is specified explicitly in <code><a class="el" href="classlarg4_1_1LArG4.html" title="Runs Geant4 simulation and propagation of electrons and photons to readout. ">LArG4</a></code> configuration</li>
<li>process all truth information generated so far: no generator is specified in the <code><a class="el" href="classlarg4_1_1LArG4.html" title="Runs Geant4 simulation and propagation of electrons and photons to readout. ">LArG4</a></code> module configuration, and the module will process all data products of type <code>std::vector&lt;simb::MCTruth&gt;</code>, in a non-specified order</li>
</ol>
<p>For each <code>simb::MCTruth</code>, a Geant4 run is started. The interface with Geant4 is via a helper class provided by <em>nug4</em>. Only the particles in the truth record which have status code (<code>simb::MCParticle::StatusCode()</code>) equal to <code>1</code> are processed. These particles are called, in <code><a class="el" href="classlarg4_1_1LArG4.html" title="Runs Geant4 simulation and propagation of electrons and photons to readout. ">LArG4</a></code> jargon, <em>primaries</em>.</p>
<h2>Output </h2>
<p>The <code><a class="el" href="classlarg4_1_1LArG4.html" title="Runs Geant4 simulation and propagation of electrons and photons to readout. ">LArG4</a></code> module produces:</p>
<ul>
<li>a collection of <code><a class="el" href="classsim_1_1SimChannel.html" title="Energy deposited on a readout channel by simulated tracks. ">sim::SimChannel</a></code>: each <code><a class="el" href="classsim_1_1SimChannel.html" title="Energy deposited on a readout channel by simulated tracks. ">sim::SimChannel</a></code> represents the set of energy depositions in liquid argon which drifted and were observed on a certain channel; it includes physics effects like attenuation, diffusion, electric field distortion, etc. Information of the generating Geant4 "track" is retained;</li>
<li>a collection of <code><a class="el" href="classsim_1_1SimPhotons.html" title="Collection of photons which recorded on one channel. ">sim::SimPhotons</a></code> or <code><a class="el" href="classsim_1_1SimPhotonsLite.html" title="Compact representation of photons on a channel. ">sim::SimPhotonsLite</a></code>: each <code><a class="el" href="classsim_1_1SimPhotons.html" title="Collection of photons which recorded on one channel. ">sim::SimPhotons</a></code> represents the set of individual photons reaching a channel of the optical detector; it includes physics effects as well as quantum efficiency of the detector (to reduce data size early in the process); <code><a class="el" href="classsim_1_1SimPhotonsLite.html" title="Compact representation of photons on a channel. ">sim::SimPhotonsLite</a></code> drops the information of the single photons and stores only collective information (e.g. their number).</li>
<li>a collection of <code><a class="el" href="classsim_1_1OpDetBacktrackerRecord.html" title="Energy deposited on a readout Optical Detector by simulated tracks. ">sim::OpDetBacktrackerRecord</a></code> (to be documented)</li>
<li>a collection of <code><a class="el" href="classsim_1_1AuxDetSimChannel.html" title="Collection of particles crossing one auxiliary detector cell. ">sim::AuxDetSimChannel</a></code> (to be documented)</li>
<li>a collection of <code>simb::MCParticle</code>: the particles generated in the interaction of the primary particles with the material in the world are stored, but minor filtering by geometry and by physics is possible. An association of them with the originating <code>simb::MCTruth</code> object is also produced.</li>
</ul>
<h2>Notes on the conventions </h2>
<ul>
<li>all and the particles in the truth record (<code>simb::MCTruth</code>) which have status code (<code>simb::MCParticle::StatusCode()</code>) equal to <code>1</code> are passed to Geant4. These particles are called, in <code><a class="el" href="classlarg4_1_1LArG4.html" title="Runs Geant4 simulation and propagation of electrons and photons to readout. ">LArG4</a></code> jargon, <em>primaries</em>. The interface with Geant4 is via a helper class provided by <em>nug4</em>.</li>
<li>normally, information about each particle that Geant4 propagates (which Geant4 calls <em>tracks</em>), primary or not, is saved as an individual <code>simb::MCParticle</code> object into the output particle list. Each <code>simb::MCParticle</code> includes a Geant4-like track ID which is also recorded into each <code><a class="el" href="structsim_1_1IDE.html" title="Ionization at a point of the TPC sensitive volume. ">sim::IDE</a></code> deposited by that particle. This information can be used to track all the deposition from a particle, or to backtrack the particle responsible of a deposition (but see below...). Note that the stored track ID may be different than the one Geant4 used (and, in particular, it's guaranteed to be unique within a <code>sim::LArG4</code> instance output).</li>
<li>there are options (some set in <code><a class="el" href="classsim_1_1LArG4Parameters.html">sim::LArG4Parameters</a></code> service) which allow for Geant4 tracks not to be saved as <code>simb::MCParticle</code> (e.g. <code>ParticleKineticEnergyCut</code>, <code>KeepEMShowerDaughters</code>). When these particles have deposited energy, their <code><a class="el" href="structsim_1_1IDE.html" title="Ionization at a point of the TPC sensitive volume. ">sim::IDE</a></code> will report the ID of the first parent Geant4 track which is saved in the <code>simb::MCParticle</code> list, but <em>with its sign flipped</em>. Therefore, when tracking or backtracking (see above), comparisons should be performed using the absolute value of the <code><a class="el" href="structsim_1_1IDE.html" title="Ionization at a point of the TPC sensitive volume. ">sim::IDE</a></code> (e.g. <code>std::abs(ide.trackID)</code>).</li>
</ul>
<h2>Timing </h2>
<p>The <code><a class="el" href="classlarg4_1_1LArG4.html" title="Runs Geant4 simulation and propagation of electrons and photons to readout. ">LArG4</a></code> module produces <code><a class="el" href="classsim_1_1SimChannel.html" title="Energy deposited on a readout channel by simulated tracks. ">sim::SimChannel</a></code> objects from generated <code>simb::MCParticle</code>. Each particle ("primary") is assigned the time taken from its vertex (a 4-vector), which is expected to be represented in nanoseconds. The <code><a class="el" href="classsim_1_1SimChannel.html" title="Energy deposited on a readout channel by simulated tracks. ">sim::SimChannel</a></code> object is a collection of <code><a class="el" href="structsim_1_1IDE.html" title="Ionization at a point of the TPC sensitive volume. ">sim::IDE</a></code> in time. The position in the <code><a class="el" href="structsim_1_1IDE.html" title="Ionization at a point of the TPC sensitive volume. ">sim::IDE</a></code> is the location where some ionization occurred. The time associated to a <code><a class="el" href="structsim_1_1IDE.html" title="Ionization at a point of the TPC sensitive volume. ">sim::IDE</a></code> is stored in tick units. The time it represents is the time when the ionization happened, which is the time of the primary particle plus the propagation time to the ionization location, plus the drift time, which the ionized electrons take to reach the anode wire. This time is then shifted to the frame of the electronics time via <code>detinfo::DetectorClocks::G4ToElecTime()</code>, which adds a configurable time offset. The time is converted into ticks via <code>detinfo::DetectorClocks::TPCClock()</code>, and this is the final value associated to the <code><a class="el" href="structsim_1_1IDE.html" title="Ionization at a point of the TPC sensitive volume. ">sim::IDE</a></code>. For a more complete overview, see <a href="https://cdcvs.fnal.gov/redmine/projects/larsoft/wiki/Simulation#Simulation-Timing">https://cdcvs.fnal.gov/redmine/projects/larsoft/wiki/Simulation#Simulation-Timing</a></p>
<h2>Randomness </h2>
<p>The random number generators used by this process are:</p>
<ul>
<li>'GEANT' instance: used by Geant4</li>
<li>'propagation' instance: used in electron propagation</li>
</ul>
<h2>Configuration parameters </h2>
<ul>
<li><em>G4PhysListName</em> (string, default: <code>"larg4::PhysicsList"</code>): whether to use the G4 overlap checker, which catches different issues than <a class="el" href="namespaceROOT.html">ROOT</a></li>
<li><em>CheckOverlaps</em> (bool, default: <code>false</code>): whether to use the G4 overlap checker</li>
<li><em>DumpParticleList</em> (bool, default: <code>false</code>): whether to print all MCParticles tracked; requires <code>MakeMCParticles</code> being <code>true</code></li>
<li><em>DumpSimChannels</em> (bool, default: <code>false</code>): whether to print all depositions on each SimChannel</li>
<li><em>SmartStacking</em> (int, default: <code>0</code>): whether to use class to dictate how tracks are put on stack (nonzero is on)</li>
<li><em>MakeMCParticles</em> (flag, default: <code>true</code>): keep a list of the particles seen in the detector, and eventually save it; you almost always want this on</li>
<li><em>KeepParticlesInVolumes</em> (list of strings, default: <em>empty</em>): list of volumes in which to keep <code>simb::MCParticle</code> objects (empty keeps all); requires <code>MakeMCParticles</code> being <code>true</code></li>
<li><em>GeantCommandFile</em> (string, <em>required</em>): G4 macro file to pass to <code>G4Helper</code> for setting G4 command</li>
<li><em>Seed</em> (integer, not defined by default): if defined, override the seed for random number generator used in Geant4 simulation (which is obtained from <code>NuRandomService</code> by default)</li>
<li><em>PropagationSeed</em> (integer, not defined by default): if defined, override the seed for the random generator used for electrons propagation to the wire planes (obtained from the <code>NuRandomService</code> by default)</li>
<li><em>InputLabels</em> (list of strings, default: process all truth): optional list of generator labels whose produced <code>simb::MCTruth</code> will be simulated; if not specified, all <code>simb::MCTruth</code> vector data products are simulated</li>
<li><em>ChargeRecoveryMargin</em> (double, default: <code>0</code>): sets the maximum distance from a plane for the wire charge recovery to occur, in centimeters; for details on how it works, see <code><a class="el" href="classlarg4_1_1LArVoxelReadout.html#aa6c468c3f742afca6e944d63c289eb46" title="Sets the margin for recovery of charge drifted off-plane. ">larg4::LArVoxelReadout::SetOffPlaneChargeRecoveryMargin()</a></code>. A value of <code>0</code> effectively disables this feature. All TPCs will have the same margin applied.</li>
</ul>
<h1>Simulation details </h1>
<h2>Source of the operational parameters </h2>
<p><a class="anchor" id="LArG4_MaterialProperties"></a> Some of the physical properties have their values set in FHiCL configuration (e.g. <code>detinfo::LArParameters</code>). Then, GEANT4 is informed of them via <code><a class="el" href="classlarg4_1_1MaterialPropertyLoader.html" title="Stores material properties and sends them to GEANT4 geometry. ">larg4::MaterialPropertyLoader</a></code>. The material property table in GEANT4 is then used by other LArSoft components to discover the parameter values.</p>
<p>Among the parameters registered to GEANT4, the scintillation yields, i.e. how many scintillation photons are produced on average by 1 MeV of deposited energy, are also stored by type of ioniziong particle. These scintillation yields <em>do include a prescale factor</em> (that may include, for example, the photomultiplier quantum efficiency), from the <code>ScintPreScale</code> parameter of <code><a class="el" href="classdetinfo_1_1LArPropertiesStandard.html" title="Properties related to liquid argon environment in the detector. ">detinfo::LArPropertiesStandard</a></code> or equivalent.</p>
<h2>Reflectivity to optical photons </h2>
<p>Two models are supported for the simulation of (scintillation) light crossing detector surfaces:</p>
<ol type="1">
<li>the standard one from GEANT4, implemented in <code>G4OpBoundaryProcess</code></li>
<li>a simplified one, implemented in <code><a class="el" href="classlarg4_1_1OpBoundaryProcessSimple.html" title="Discrete process for reflection and diffusion at optical interfaces. ">larg4::OpBoundaryProcessSimple</a></code></li>
</ol>
<p>The model is chosen according to the value of <code><a class="el" href="classdetinfo_1_1DetectorProperties.html#af4ca39bfe78ead3e917dd5798acefbca">detinfo::DetectorProperties::SimpleBoundary()</a></code>, and the choice is currently exerted by <code><a class="el" href="classlarg4_1_1OpticalPhysics.html">larg4::OpticalPhysics</a></code>.</p>
<p>The simplified model is faster and simpler: it only deals with absorption and reflection (both specular and diffues). This is the "default" model used in most contexts.</p>
<p>GEANT4 model is more complete and slower. It may take some art to fully configure all the properties of the materials at the sides of the surfaces. The price is a detailed simulation that includes among others refraction and wavelength shifting.</p>
<h2>Scintillation </h2>
<p>When using the fast optical simulation, which is the "standard" running mode, energy depositions from GEANT4 are "converted" into a number of scintillation photons by the global <code><a class="el" href="classlarg4_1_1IonizationAndScintillation.html">larg4::IonizationAndScintillation</a></code> object instance, which internally utilizes the algorithm set up via configuration parameter <code>IonAndScintCalculator</code> in <code>LArG4Parameters</code> service (at the time of writing, <code>"Separate"</code> is supported and <code>"NEST"</code> is accepted too). The number of scintillation photons per energy unit is read from GEANT4 <a class="el" href="classlarg4_1_1LArG4.html#LArG4_MaterialProperties">material properties table</a>. It includes already quantum efficiency ("prescale") and it may depend on the type of ionizing particle, depending on the configuration (<code>LArPropertiesStandard</code> parameter <code>ScintByParticleType</code>). This value ("yield") is used as the average of a Poisson distribution from which the actual number of scintillation photons is extracted case by case. The implementation <code><a class="el" href="classlarg4_1_1ISCalculationSeparate.html">larg4::ISCalculationSeparate</a></code> may also include medium saturation effects as well, if configured, but only if the scintillation yield is set not to depend on the type of ionizing particle. The number of scintillation photons is then distributed between the fast and slow component by a yield ratio also set in the material parameters, and the single photons are distributed in time accordingly to their component. </p>

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00314">314</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aeeeda4fd2859a0820df166309952443c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">larg4::LArG4::LArG4 </td>
          <td>(</td>
          <td class="paramtype">fhicl::ParameterSet const &amp;&#160;</td>
          <td class="paramname"><em>pset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00404">404</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    : art::EDProducer{pset}</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    , <a class="code" href="classlarg4_1_1LArG4.html#ad873278e3e05274e4cc279b68950a7a3">fG4PhysListName</a>(pset.get&lt;std::string&gt;(<span class="stringliteral">&quot;G4PhysListName&quot;</span>, <span class="stringliteral">&quot;larg4::PhysicsList&quot;</span>))</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    , <a class="code" href="classlarg4_1_1LArG4.html#a1b2c4d9ca46b9269df74a33439764b39">fCheckOverlaps</a>(pset.get&lt;<span class="keywordtype">bool</span>&gt;(<span class="stringliteral">&quot;CheckOverlaps&quot;</span>, <span class="keyword">false</span>))</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    , <a class="code" href="classlarg4_1_1LArG4.html#af619c38dd997badad308100e4e13fe6e">fMakeMCParticles</a>(pset.get&lt;<span class="keywordtype">bool</span>&gt;(<span class="stringliteral">&quot;MakeMCParticles&quot;</span>, <span class="keyword">true</span>))</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    , <a class="code" href="classlarg4_1_1LArG4.html#ae5a5fb4c16d08452ea7f101ccb01cac0">fdumpParticleList</a>(pset.get&lt;<span class="keywordtype">bool</span>&gt;(<span class="stringliteral">&quot;DumpParticleList&quot;</span>, <span class="keyword">false</span>))</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    , <a class="code" href="classlarg4_1_1LArG4.html#a097631e100ecd65f1095383aeb66870b">fdumpSimChannels</a>(pset.get&lt;<span class="keywordtype">bool</span>&gt;(<span class="stringliteral">&quot;DumpSimChannels&quot;</span>, <span class="keyword">false</span>))</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    , <a class="code" href="classlarg4_1_1LArG4.html#aa73751198cdd4210411d6e05aba2aa4f">fSmartStacking</a>(pset.get&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;SmartStacking&quot;</span>, 0))</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    , <a class="code" href="classlarg4_1_1LArG4.html#a144a565ae2d6c77a38ad83fd6f3635d4">fOffPlaneMargin</a>(pset.get&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;ChargeRecoveryMargin&quot;</span>, 0.0))</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    , <a class="code" href="classlarg4_1_1LArG4.html#a0022a081d3e77083fe96b477a811442f">fKeepParticlesInVolumes</a>(pset.get&lt;std::vector&lt;std::string&gt;&gt;(<span class="stringliteral">&quot;KeepParticlesInVolumes&quot;</span>, {}))</div>
<div class="ttc" id="classlarg4_1_1LArG4_html_af619c38dd997badad308100e4e13fe6e"><div class="ttname"><a href="classlarg4_1_1LArG4.html#af619c38dd997badad308100e4e13fe6e">larg4::LArG4::fMakeMCParticles</a></div><div class="ttdeci">bool fMakeMCParticles</div><div class="ttdoc">Whether to keep a sim::MCParticle list. </div><div class="ttdef"><b>Definition:</b> <a href="LArG4__module_8cc_source.html#l00334">LArG4_module.cc:334</a></div></div>
<div class="ttc" id="classlarg4_1_1LArG4_html_a0022a081d3e77083fe96b477a811442f"><div class="ttname"><a href="classlarg4_1_1LArG4.html#a0022a081d3e77083fe96b477a811442f">larg4::LArG4::fKeepParticlesInVolumes</a></div><div class="ttdeci">std::vector&lt; std::string &gt; fKeepParticlesInVolumes</div><div class="ttdoc">Only write particles that have trajectories through these volumes. </div><div class="ttdef"><b>Definition:</b> <a href="LArG4__module_8cc_source.html#l00344">LArG4_module.cc:344</a></div></div>
<div class="ttc" id="classlarg4_1_1LArG4_html_aa73751198cdd4210411d6e05aba2aa4f"><div class="ttname"><a href="classlarg4_1_1LArG4.html#aa73751198cdd4210411d6e05aba2aa4f">larg4::LArG4::fSmartStacking</a></div><div class="ttdeci">int fSmartStacking</div><div class="ttdoc">Whether to instantiate and use class to. </div><div class="ttdef"><b>Definition:</b> <a href="LArG4__module_8cc_source.html#l00339">LArG4_module.cc:339</a></div></div>
<div class="ttc" id="classlarg4_1_1LArG4_html_a097631e100ecd65f1095383aeb66870b"><div class="ttname"><a href="classlarg4_1_1LArG4.html#a097631e100ecd65f1095383aeb66870b">larg4::LArG4::fdumpSimChannels</a></div><div class="ttdeci">bool fdumpSimChannels</div><div class="ttdoc">Whether each event&amp;#39;s sim::Channel will be displayed. </div><div class="ttdef"><b>Definition:</b> <a href="LArG4__module_8cc_source.html#l00336">LArG4_module.cc:336</a></div></div>
<div class="ttc" id="classlarg4_1_1LArG4_html_ae5a5fb4c16d08452ea7f101ccb01cac0"><div class="ttname"><a href="classlarg4_1_1LArG4.html#ae5a5fb4c16d08452ea7f101ccb01cac0">larg4::LArG4::fdumpParticleList</a></div><div class="ttdeci">bool fdumpParticleList</div><div class="ttdoc">Whether each event&amp;#39;s sim::ParticleList will be displayed. </div><div class="ttdef"><b>Definition:</b> <a href="LArG4__module_8cc_source.html#l00335">LArG4_module.cc:335</a></div></div>
<div class="ttc" id="classlarg4_1_1LArG4_html_ad873278e3e05274e4cc279b68950a7a3"><div class="ttname"><a href="classlarg4_1_1LArG4.html#ad873278e3e05274e4cc279b68950a7a3">larg4::LArG4::fG4PhysListName</a></div><div class="ttdeci">std::string fG4PhysListName</div><div class="ttdoc">predefined physics list to use if not making a custom one </div><div class="ttdef"><b>Definition:</b> <a href="LArG4__module_8cc_source.html#l00330">LArG4_module.cc:330</a></div></div>
<div class="ttc" id="classlarg4_1_1LArG4_html_a1b2c4d9ca46b9269df74a33439764b39"><div class="ttname"><a href="classlarg4_1_1LArG4.html#a1b2c4d9ca46b9269df74a33439764b39">larg4::LArG4::fCheckOverlaps</a></div><div class="ttdeci">bool fCheckOverlaps</div><div class="ttdoc">Whether to use the G4 overlap checker. </div><div class="ttdef"><b>Definition:</b> <a href="LArG4__module_8cc_source.html#l00333">LArG4_module.cc:333</a></div></div>
<div class="ttc" id="classlarg4_1_1LArG4_html_a144a565ae2d6c77a38ad83fd6f3635d4"><div class="ttname"><a href="classlarg4_1_1LArG4.html#a144a565ae2d6c77a38ad83fd6f3635d4">larg4::LArG4::fOffPlaneMargin</a></div><div class="ttdeci">double fOffPlaneMargin</div><div class="ttdef"><b>Definition:</b> <a href="LArG4__module_8cc_source.html#l00340">LArG4_module.cc:340</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3de9234ebce9a1ca6993e0518ea79d70"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void larg4::LArG4::beginJob </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a46b30e1250e58b7466414ab6a39fb53c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void larg4::LArG4::beginRun </td>
          <td>(</td>
          <td class="paramtype">art::Run &amp;&#160;</td>
          <td class="paramname"><em>run</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9a2d831b1b2bc3c5b551ba4d80a77429"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classutil_1_1PositionInVolumeFilter.html">util::PositionInVolumeFilter</a>&gt; larg4::LArG4::CreateParticleVolumeFilter </td>
          <td>(</td>
          <td class="paramtype">std::set&lt; std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>vol_names</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer used for correctly updating the clock data state. </p>
<p>Configures and returns a particle filter </p>

</div>
</div>
<a class="anchor" id="a07e7e9a8aed9a5150c95cb2d7fe86dc9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void larg4::LArG4::produce </td>
          <td>(</td>
          <td class="paramtype">art::Event &amp;&#160;</td>
          <td class="paramname"><em>evt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The main routine of this module: Fetch the primary particles from the event, simulate their evolution in the detector, and produce the detector response. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a8187cfa8f3e214e55b8c523233585b08"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlarg4_1_1AllPhysicsLists.html">AllPhysicsLists</a> larg4::LArG4::fAllPhysicsLists</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00352">352</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a1b2c4d9ca46b9269df74a33439764b39"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelarg4.html#a42b3ada02e272fe2fa2b641ba06ab7d4">bool</a> larg4::LArG4::fCheckOverlaps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether to use the G4 overlap checker. </p>

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00333">333</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a29bf27db1d642d3d197f9d279dcd5390"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdetinfo_1_1DetectorPropertiesData.html">detinfo::DetectorPropertiesData</a> larg4::LArG4::fDetProp</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Must outlive fAllPhysicsLists! </p>

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00351">351</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ae5a5fb4c16d08452ea7f101ccb01cac0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelarg4.html#a42b3ada02e272fe2fa2b641ba06ab7d4">bool</a> larg4::LArG4::fdumpParticleList</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether each event's sim::ParticleList will be displayed. </p>

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00335">335</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a097631e100ecd65f1095383aeb66870b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelarg4.html#a42b3ada02e272fe2fa2b641ba06ab7d4">bool</a> larg4::LArG4::fdumpSimChannels</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether each event's sim::Channel will be displayed. </p>

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00336">336</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a8e1b94409713ba076811b2aefda27c74"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CLHEP::HepRandomEngine&amp; larg4::LArG4::fEngine</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Random-number engine for <a class="el" href="classlarg4_1_1IonizationAndScintillation.html">IonizationAndScintillation</a> initialization </p>

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00348">348</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a5f0ed84f928dc27ff76cd10da8afaf2e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;g4b::G4Helper&gt; larg4::LArG4::fG4Help {nullptr}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>G4 interface object. </p>

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00326">326</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ac3cff7a2ead780dcdb44afcd15e03d39"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string larg4::LArG4::fG4MacroPath</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>directory path for Geant4 macro file to be executed before main MC processing. </p>

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00331">331</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ad873278e3e05274e4cc279b68950a7a3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string larg4::LArG4::fG4PhysListName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>predefined physics list to use if not making a custom one </p>

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00330">330</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a580b38b4043c52fa530f01bec3c0a7ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; larg4::LArG4::fInputLabels</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00342">342</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a0022a081d3e77083fe96b477a811442f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; larg4::LArG4::fKeepParticlesInVolumes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Only write particles that have trajectories through these volumes. </p>

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00344">344</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="af619c38dd997badad308100e4e13fe6e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelarg4.html#a42b3ada02e272fe2fa2b641ba06ab7d4">bool</a> larg4::LArG4::fMakeMCParticles</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether to keep a <code>sim::MCParticle</code> list. </p>

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00334">334</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a144a565ae2d6c77a38ad83fd6f3635d4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double larg4::LArG4::fOffPlaneMargin = 0.</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Off-plane charge recovery margin dictate how tracks are put on stack. </p>

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00340">340</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a5287f3d6b9cadceaf6f6fbcba549b757"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlarg4_1_1ParticleListAction.html">larg4::ParticleListAction</a>* larg4::LArG4::fparticleListAction</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div>
<div class="line">      <span class="keyword">nullptr</span>}</div>
</div><!-- fragment -->
<p>Geant4 user action to particle information. </p>

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00327">327</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aa73751198cdd4210411d6e05aba2aa4f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int larg4::LArG4::fSmartStacking</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether to instantiate and use class to. </p>

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00339">339</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a3d26298a9dd18460ce63123451bdaf61"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelarg4.html#a42b3ada02e272fe2fa2b641ba06ab7d4">bool</a> larg4::LArG4::fSparsifyTrajectories</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sparsify MCParticle Trajectories. </p>

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00346">346</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ab894fc99d86aa457e9913a6a408abe57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelarg4.html#a42b3ada02e272fe2fa2b641ba06ab7d4">bool</a> larg4::LArG4::fStoreReflected {<a class="el" href="namespacelarg4.html#a7eeba60c219f2d1b4094606a12d28d18">false</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00338">338</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a2d6ebb61407b876db4fef7ab9dab3990"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelarg4.html#a42b3ada02e272fe2fa2b641ba06ab7d4">bool</a> larg4::LArG4::fUseLitePhotons</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00337">337</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ab8232ce83bddf3109633edca45c73743"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlarg4_1_1LArVoxelReadoutGeometry.html">LArVoxelReadoutGeometry</a>* larg4::LArG4::fVoxelReadoutGeometry</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div>
<div class="line">      <span class="keyword">nullptr</span>}</div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="LArG4__module_8cc_source.html#l00353">353</a> of file <a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>larsim/larsim/LegacyLArG4/<a class="el" href="LArG4__module_8cc_source.html">LArG4_module.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
