<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>icaruscode/icaruscode/PMT/Algorithms/DiscretePhotoelectronPulse.cxx Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_3bfe4976819e8434ce603ce37432c4f4.html">icaruscode</a></li><li class="navelem"><a class="el" href="dir_dd542699a33b65b3e6b0c52d22a2f906.html">icaruscode</a></li><li class="navelem"><a class="el" href="dir_c0642123dde85802ab4d8ff511e24f98.html">PMT</a></li><li class="navelem"><a class="el" href="dir_03de7904e03cd8d5b08fb4b86960f47c.html">Algorithms</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">DiscretePhotoelectronPulse.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="DiscretePhotoelectronPulse_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * @file   icaruscode/PMT/Algorithms/DiscretePhotoelectronPulse.cxx</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * @brief  Sampling of a photoelectron pulse (implementation file).</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * @author Gianluca Petrillo (petrillo@slac.stanford.edu)</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * @date   March 17, 2020</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * @see    `icaruscode/PMT/Algorithms/DiscretePhotoelectronPulse.h`</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// library header</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DiscretePhotoelectronPulse_8h.html">icaruscode/PMT/Algorithms/DiscretePhotoelectronPulse.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="WaveformOperations_8h.html">icarusalg/Utilities/WaveformOperations.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// framework libraries</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;messagefacility/MessageLogger/MessageLogger.h&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// C++ standard library</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span> <span class="comment">// std::function</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span> <span class="comment">// std::cref()</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// ---  icarus::opdet::DiscretePhotoelectronPulse</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="classicarus_1_1opdet_1_1DiscretePhotoelectronPulse.html#a26d952d97306e67da7cb5207b07bf240">   25</a></span>&#160;<span class="keyword">auto</span> <a class="code" href="classicarus_1_1opdet_1_1DiscretePhotoelectronPulse.html#a26d952d97306e67da7cb5207b07bf240">icarus::opdet::DiscretePhotoelectronPulse::sampleShape</a>(</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  <a class="code" href="classicarus_1_1opdet_1_1PhotoelectronPulseFunction.html">PulseFunction_t</a> <span class="keyword">const</span>&amp; pulseShape,</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <a class="code" href="structutil_1_1quantities_1_1concepts_1_1Quantity.html">gigahertz</a> samplingFreq, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nSubsamples,</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  <a class="code" href="structutil_1_1quantities_1_1concepts_1_1Quantity.html">ADCcount</a> threshold</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;) -&gt; <a class="code" href="classutil_1_1SampledFunction.html">SampledFunction_t</a></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;{</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="keyword">using namespace </span>util::quantities::time_literals;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="keyword">using namespace </span>icarus::waveform_operations;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="comment">// pick the function according to polarity;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="comment">// the pulse polarity is included in the values,</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="comment">// the two functions (lambda) are of different type, so they are being wrapped</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="comment">// in the common `std::function` type</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="comment">// FIXME Clang 7.0.0 can&#39;t figure out the parameters of std::function</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="comment">// (GCC 8.2 can): specifying them explicitly...</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> isBelowThreshold = (pulseShape.polarity() == +1)</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;#<span class="keywordflow">if</span> <a class="code" href="find__global__symbol_8sh.html#a3a387acccfc92fdf604b2123af7ae574">defined</a>(__clang__) &amp;&amp; (__clang_major__ &lt; 8)</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    ? std::function&lt;<span class="keywordtype">bool</span>(<a class="code" href="structutil_1_1quantities_1_1concepts_1_1Quantity.html">nanoseconds</a>, <a class="code" href="structutil_1_1quantities_1_1concepts_1_1Quantity.html">ADCcount</a>)&gt;(</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#else // not Clang &lt;8</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor"></span>    ? std::function(</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;#endif <span class="comment">// defined(__clang__) &amp;&amp; (__clang_major__ &lt; 8)</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      [<a class="code" href="OnlineDecoder_8fcl.html#ac3bc64ff22523df5f35d8f928ec038cd">baseline</a>=pulseShape.baseline(), threshold](<a class="code" href="namespaceutil_1_1quantities.html#aa91557fc57eb5a7cedf4200661a07141">nanoseconds</a>, <a class="code" href="structutil_1_1quantities_1_1concepts_1_1Quantity.html">ADCcount</a> <a class="code" href="file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;          <span class="keywordflow">return</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <a class="code" href="namespaceicarus_1_1waveform__operations.html#aeb58758c2f7c1e3fb09927a05ceef839">PositivePolarityOperations&lt;ADCcount&gt;::subtractBaseline</a>(<a class="code" href="file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>, <a class="code" href="OnlineDecoder_8fcl.html#ac3bc64ff22523df5f35d8f928ec038cd">baseline</a>)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;              &lt; threshold</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            ;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      )</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;#<span class="keywordflow">if</span> <a class="code" href="find__global__symbol_8sh.html#a3a387acccfc92fdf604b2123af7ae574">defined</a>(__clang__) &amp;&amp; (__clang_major__ &lt; 8)</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    : std::function&lt;<span class="keywordtype">bool</span>(<a class="code" href="structutil_1_1quantities_1_1concepts_1_1Quantity.html">nanoseconds</a>, <a class="code" href="structutil_1_1quantities_1_1concepts_1_1Quantity.html">ADCcount</a>)&gt;(</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#else // not Clang &lt;8</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor"></span>    : std::function(</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;#endif <span class="comment">// defined(__clang__) &amp;&amp; (__clang_major__ &lt; 8)</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      [<a class="code" href="OnlineDecoder_8fcl.html#ac3bc64ff22523df5f35d8f928ec038cd">baseline</a>=pulseShape.baseline(), threshold](<a class="code" href="namespaceutil_1_1quantities.html#aa91557fc57eb5a7cedf4200661a07141">nanoseconds</a>, <a class="code" href="structutil_1_1quantities_1_1concepts_1_1Quantity.html">ADCcount</a> <a class="code" href="file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;          <span class="keywordflow">return</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <a class="code" href="namespaceicarus_1_1waveform__operations.html#a8f9c26773e02814e9ba285b88432de62">NegativePolarityOperations&lt;ADCcount&gt;::subtractBaseline</a>(<a class="code" href="file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>, <a class="code" href="OnlineDecoder_8fcl.html#ac3bc64ff22523df5f35d8f928ec038cd">baseline</a>)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;              &lt; threshold</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            ;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      )</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    ;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classutil_1_1SampledFunction.html">SampledFunction_t</a>{</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    std::cref(pulseShape), <span class="comment">// function to sample (by reference because abstract)</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    0.0_ns,                <span class="comment">// sampling start time</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    1.0 / samplingFreq,    <span class="comment">// tick duration</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    isBelowThreshold,      <span class="comment">// when to stop the sampling</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keyword">static_cast&lt;</span>gsl::index<span class="keyword">&gt;</span>(nSubsamples), <span class="comment">// how many subsamples per tick</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    pulseShape.peakTime() <span class="comment">// sample at least until here</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    };</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;} <span class="comment">// icarus::opdet::DiscretePhotoelectronPulse::sampleShape()</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classicarus_1_1opdet_1_1DiscretePhotoelectronPulse.html#a8f7918fda3df50c8fc4f672a7da13747">icarus::opdet::DiscretePhotoelectronPulse::checkRange</a></div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="classicarus_1_1opdet_1_1DiscretePhotoelectronPulse.html#a8f7918fda3df50c8fc4f672a7da13747">   84</a></span>&#160;  (<a class="code" href="structutil_1_1quantities_1_1concepts_1_1Quantity.html">ADCcount</a> limit, std::string <span class="keyword">const</span>&amp; outputCat <span class="comment">/* = &quot;&quot; */</span>) <span class="keyword">const</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;{</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  assert(pulseLength() &gt; 0);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> <a class="code" href="clusteralgorithms_8fcl.html#ae8c2886a2cc7a0fb0fbf4efdb2d32257">low</a> = *(fSampledShape.subsample(0).begin());</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> high</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    = *(fSampledShape.subsample(fSampledShape.nSubsamples() - 1).rbegin());</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordtype">bool</span> <span class="keyword">const</span> bLowOk = (<a class="code" href="clusteralgorithms_8fcl.html#ae8c2886a2cc7a0fb0fbf4efdb2d32257">low</a>.abs() &lt; limit);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordtype">bool</span> <span class="keyword">const</span> bHighOk = (high.abs() &lt; limit);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">if</span> (bLowOk &amp;&amp; bHighOk) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">if</span> (!outputCat.empty()) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    mf::LogWarning log(outputCat);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    log &lt;&lt; <span class="stringliteral">&quot;Check on sampled photoelectron waveform template failed!&quot;</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">if</span> (!bLowOk) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      log &lt;&lt; <span class="stringliteral">&quot;\n =&gt; low tail at the starting of sampling is already &quot;</span> &lt;&lt; <a class="code" href="clusteralgorithms_8fcl.html#ae8c2886a2cc7a0fb0fbf4efdb2d32257">low</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">if</span> (!bHighOk) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      log</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;\n =&gt; high tail at the end of sampling (&quot;</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;          &lt;&lt; duration() &lt;&lt; <span class="stringliteral">&quot;) is still at &quot;</span> &lt;&lt; high</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        ;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    log &lt;&lt; <span class="stringliteral">&quot;\nShape parameters:&quot;</span> &lt;&lt; shape().toString(<span class="stringliteral">&quot;  &quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  } <span class="comment">// if writing a message on failure</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;} <span class="comment">// icarus::opdet::DiscretePhotoelectronPulse::checkRange()</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="ttc" id="clusteralgorithms_8fcl_html_ae8c2886a2cc7a0fb0fbf4efdb2d32257"><div class="ttname"><a href="clusteralgorithms_8fcl.html#ae8c2886a2cc7a0fb0fbf4efdb2d32257">low</a></div><div class="ttdeci">standard_dbscan3dalg useful for diagnostics hits not in a line will not be clustered on on only for track like only for track like on on the smaller the less shower like tracks low</div><div class="ttdef"><b>Definition:</b> <a href="clusteralgorithms_8fcl_source.html#l00253">clusteralgorithms.fcl:253</a></div></div>
<div class="ttc" id="namespaceicarus_1_1waveform__operations_html_a8f9c26773e02814e9ba285b88432de62"><div class="ttname"><a href="namespaceicarus_1_1waveform__operations.html#a8f9c26773e02814e9ba285b88432de62">icarus::waveform_operations::NegativePolarityOperations</a></div><div class="ttdeci">Operations&lt; Sample,-1 &gt; NegativePolarityOperations</div><div class="ttdoc">Waveform operations for negative polarity waveforms. </div><div class="ttdef"><b>Definition:</b> <a href="WaveformOperations_8h_source.html#l00178">WaveformOperations.h:178</a></div></div>
<div class="ttc" id="classicarus_1_1opdet_1_1DiscretePhotoelectronPulse_html_a8f7918fda3df50c8fc4f672a7da13747"><div class="ttname"><a href="classicarus_1_1opdet_1_1DiscretePhotoelectronPulse.html#a8f7918fda3df50c8fc4f672a7da13747">icarus::opdet::DiscretePhotoelectronPulse::checkRange</a></div><div class="ttdeci">bool checkRange(ADCcount limit, std::string const &amp;outputCat) const </div><div class="ttdoc">Checks that the waveform tails not sampled are negligible. </div><div class="ttdef"><b>Definition:</b> <a href="DiscretePhotoelectronPulse_8cxx_source.html#l00084">DiscretePhotoelectronPulse.cxx:84</a></div></div>
<div class="ttc" id="structutil_1_1quantities_1_1concepts_1_1Quantity_html"><div class="ttname"><a href="structutil_1_1quantities_1_1concepts_1_1Quantity.html">util::quantities::concepts::Quantity</a></div><div class="ttdoc">A value measured in the specified unit. </div><div class="ttdef"><b>Definition:</b> <a href="quantities_8h_source.html#l00566">quantities.h:566</a></div></div>
<div class="ttc" id="OnlineDecoder_8fcl_html_ac3bc64ff22523df5f35d8f928ec038cd"><div class="ttname"><a href="OnlineDecoder_8fcl.html#ac3bc64ff22523df5f35d8f928ec038cd">baseline</a></div><div class="ttdeci">BEGIN_PROLOG baseline</div><div class="ttdef"><b>Definition:</b> <a href="OnlineDecoder_8fcl_source.html#l00014">OnlineDecoder.fcl:14</a></div></div>
<div class="ttc" id="classicarus_1_1opdet_1_1DiscretePhotoelectronPulse_html_a26d952d97306e67da7cb5207b07bf240"><div class="ttname"><a href="classicarus_1_1opdet_1_1DiscretePhotoelectronPulse.html#a26d952d97306e67da7cb5207b07bf240">icarus::opdet::DiscretePhotoelectronPulse::sampleShape</a></div><div class="ttdeci">static SampledFunction_t sampleShape(PulseFunction_t const &amp;pulseShape, gigahertz samplingFreq, unsigned int nSubsamples, ADCcount threshold)</div><div class="ttdoc">Builds the sampling cache. </div><div class="ttdef"><b>Definition:</b> <a href="DiscretePhotoelectronPulse_8cxx_source.html#l00025">DiscretePhotoelectronPulse.cxx:25</a></div></div>
<div class="ttc" id="classicarus_1_1opdet_1_1PhotoelectronPulseFunction_html"><div class="ttname"><a href="classicarus_1_1opdet_1_1PhotoelectronPulseFunction.html">icarus::opdet::PhotoelectronPulseFunction</a></div><div class="ttdoc">Interface for a function describing a pulse from a photoelectron. </div><div class="ttdef"><b>Definition:</b> <a href="PhotoelectronPulseFunction_8h_source.html#l00026">PhotoelectronPulseFunction.h:26</a></div></div>
<div class="ttc" id="WaveformOperations_8h_html"><div class="ttname"><a href="WaveformOperations_8h.html">WaveformOperations.h</a></div><div class="ttdoc">Operations on waveform samples. </div></div>
<div class="ttc" id="DiscretePhotoelectronPulse_8h_html"><div class="ttname"><a href="DiscretePhotoelectronPulse_8h.html">DiscretePhotoelectronPulse.h</a></div><div class="ttdoc">Sampling of a photoelectron pulse. </div></div>
<div class="ttc" id="find__global__symbol_8sh_html_a3a387acccfc92fdf604b2123af7ae574"><div class="ttname"><a href="find__global__symbol_8sh.html#a3a387acccfc92fdf604b2123af7ae574">defined</a></div><div class="ttdeci">then echo echo For and will not be changed by echo further linking echo echo B echo The symbol is in the uninitialized data multiple common symbols may appear with the echo same name If the symbol is defined the common echo symbols are treated as undefined references For more echo details on common see the discussion of warn common echo in *Note Linker see the discussion of warn common echo in *Note Linker such as a global int variable echo as opposed to a large global array echo echo I echo The symbol is an indirect reference to another symbol This echo is a GNU extension to the a out object file format which is echo rarely used echo echo N echo The symbol is a debugging symbol echo echo R echo The symbol is in a read only data section echo echo S echo The symbol is in an uninitialized data section for small echo objects echo echo T echo The symbol is in the the normal defined echo symbol is used with no error When a weak undefined symbol echo is linked and the symbol is not defined</div><div class="ttdef"><b>Definition:</b> <a href="find__global__symbol_8sh_source.html#l00107">find_global_symbol.sh:107</a></div></div>
<div class="ttc" id="file__to__url_8sh_html_a096ad3d3698082826189c839d7a6e46f"><div class="ttname"><a href="file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a></div><div class="ttdeci">then echo File list $list not found else cat $list while read file do echo $file sed s</div><div class="ttdef"><b>Definition:</b> <a href="file__to__url_8sh_source.html#l00060">file_to_url.sh:60</a></div></div>
<div class="ttc" id="classutil_1_1SampledFunction_html"><div class="ttname"><a href="classutil_1_1SampledFunction.html">util::SampledFunction&lt; nanoseconds, ADCcount &gt;</a></div></div>
<div class="ttc" id="namespaceicarus_1_1waveform__operations_html_aeb58758c2f7c1e3fb09927a05ceef839"><div class="ttname"><a href="namespaceicarus_1_1waveform__operations.html#aeb58758c2f7c1e3fb09927a05ceef839">icarus::waveform_operations::PositivePolarityOperations</a></div><div class="ttdeci">Operations&lt; Sample,+1 &gt; PositivePolarityOperations</div><div class="ttdoc">Waveform operations for positive polarity waveforms. </div><div class="ttdef"><b>Definition:</b> <a href="WaveformOperations_8h_source.html#l00174">WaveformOperations.h:174</a></div></div>
<div class="ttc" id="namespaceutil_1_1quantities_html_aa91557fc57eb5a7cedf4200661a07141"><div class="ttname"><a href="namespaceutil_1_1quantities.html#aa91557fc57eb5a7cedf4200661a07141">util::quantities::nanoseconds</a></div><div class="ttdeci">nanosecond nanoseconds</div><div class="ttdoc">Alias for common language habits. </div><div class="ttdef"><b>Definition:</b> <a href="spacetime_8h_source.html#l00139">spacetime.h:139</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
