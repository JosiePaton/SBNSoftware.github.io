<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>icarus::trigger::MajorityTriggerSimulation Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceicarus.html">icarus</a></li><li class="navelem"><a class="el" href="namespaceicarus_1_1trigger.html">trigger</a></li><li class="navelem"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html">MajorityTriggerSimulation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">icarus::trigger::MajorityTriggerSimulation Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Simulates a "majority" trigger.  
 <a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for icarus::trigger::MajorityTriggerSimulation:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classicarus_1_1trigger_1_1MajorityTriggerSimulation.png" usemap="#icarus::trigger::MajorityTriggerSimulation_map" alt=""/>
  <map id="icarus::trigger::MajorityTriggerSimulation_map" name="icarus::trigger::MajorityTriggerSimulation_map">
<area href="structlar_1_1UncopiableAndUnmovableClass.html" title="An empty class that can&#39;t be copied nor moved. " alt="lar::UncopiableAndUnmovableClass" shape="rect" coords="250,0,490,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structicarus_1_1trigger_1_1MajorityTriggerSimulation_1_1Config.html">Config</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a5913bc446077543a73c21218abc62c70"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a5913bc446077543a73c21218abc62c70">microseconds</a> = <a class="el" href="namespaceutil_1_1quantities_1_1intervals.html#a07912d3786fd25377de6216b0c77b532">util::quantities::intervals::microseconds</a></td></tr>
<tr class="separator:a5913bc446077543a73c21218abc62c70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0805878bb4a5ea06513a9a52e516c70a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a0805878bb4a5ea06513a9a52e516c70a">nanoseconds</a> = <a class="el" href="namespaceutil_1_1quantities_1_1intervals.html#a439758e928a1b5231e459628ae43fe98">util::quantities::intervals::nanoseconds</a></td></tr>
<tr class="separator:a0805878bb4a5ea06513a9a52e516c70a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb0b67a30f178627cd4d028aea0afb4a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#aeb0b67a30f178627cd4d028aea0afb4a">Parameters</a> = art::EDProducer::Table&lt; <a class="el" href="structicarus_1_1trigger_1_1MajorityTriggerSimulation_1_1Config.html">Config</a> &gt;</td></tr>
<tr class="separator:aeb0b67a30f178627cd4d028aea0afb4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a743fb3694fe8fb8ead3a5294601625c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a743fb3694fe8fb8ead3a5294601625c4">MajorityTriggerSimulation</a> (<a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#aeb0b67a30f178627cd4d028aea0afb4a">Parameters</a> const &amp;config)</td></tr>
<tr class="separator:a743fb3694fe8fb8ead3a5294601625c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59a2f55f6d3b96ca30d0a23bab59466f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a59a2f55f6d3b96ca30d0a23bab59466f">beginJob</a> () override</td></tr>
<tr class="memdesc:a59a2f55f6d3b96ca30d0a23bab59466f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the plots.  <a href="#a59a2f55f6d3b96ca30d0a23bab59466f">More...</a><br/></td></tr>
<tr class="separator:a59a2f55f6d3b96ca30d0a23bab59466f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77c9d67b4e6171b3f9f57e49bcde5067"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a77c9d67b4e6171b3f9f57e49bcde5067">produce</a> (art::Event &amp;event) override</td></tr>
<tr class="memdesc:a77c9d67b4e6171b3f9f57e49bcde5067"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the simulation and saves the results into the <em>art</em> event.  <a href="#a77c9d67b4e6171b3f9f57e49bcde5067">More...</a><br/></td></tr>
<tr class="separator:a77c9d67b4e6171b3f9f57e49bcde5067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a417a0af68bb205bbe52080e9a21be80d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a417a0af68bb205bbe52080e9a21be80d">endJob</a> () override</td></tr>
<tr class="memdesc:a417a0af68bb205bbe52080e9a21be80d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints end-of-job summaries.  <a href="#a417a0af68bb205bbe52080e9a21be80d">More...</a><br/></td></tr>
<tr class="separator:a417a0af68bb205bbe52080e9a21be80d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a11d4cc520446a5b2c80e0aa8ac58e710"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a> = <a class="el" href="structicarus_1_1trigger_1_1details_1_1TriggerInfo__t.html">details::TriggerInfo_t</a></td></tr>
<tr class="memdesc:a11d4cc520446a5b2c80e0aa8ac58e710"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type alias.  <a href="#a11d4cc520446a5b2c80e0aa8ac58e710">More...</a><br/></td></tr>
<tr class="separator:a11d4cc520446a5b2c80e0aa8ac58e710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3d951ec07bfae3c6c571f72f5e3a0c3"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#af3d951ec07bfae3c6c571f72f5e3a0c3">InputTriggerGate_t</a> = <a class="el" href="classicarus_1_1trigger_1_1MultiChannelOpticalTriggerGate.html">icarus::trigger::MultiChannelOpticalTriggerGate</a></td></tr>
<tr class="memdesc:af3d951ec07bfae3c6c571f72f5e3a0c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of trigger gate extracted from the input event.  <a href="#af3d951ec07bfae3c6c571f72f5e3a0c3">More...</a><br/></td></tr>
<tr class="separator:af3d951ec07bfae3c6c571f72f5e3a0c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3722247ce6c8add9897943a83d078bca"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3722247ce6c8add9897943a83d078bca">TriggerGates_t</a> = std::vector&lt; <a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#af3d951ec07bfae3c6c571f72f5e3a0c3">InputTriggerGate_t</a> &gt;</td></tr>
<tr class="memdesc:a3722247ce6c8add9897943a83d078bca"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list of trigger gates from input.  <a href="#a3722247ce6c8add9897943a83d078bca">More...</a><br/></td></tr>
<tr class="separator:a3722247ce6c8add9897943a83d078bca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a14d326dbb3b86526c7bc88cd8a4e09"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a1a14d326dbb3b86526c7bc88cd8a4e09">TriggerGateData_t</a> = <a class="el" href="classicarus_1_1trigger_1_1OpticalTriggerGate.html#a2b9986e0e920b11a5dfdc5a963f2a1c2">InputTriggerGate_t::GateData_t</a></td></tr>
<tr class="memdesc:a1a14d326dbb3b86526c7bc88cd8a4e09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of gate data without channel information.  <a href="#a1a14d326dbb3b86526c7bc88cd8a4e09">More...</a><br/></td></tr>
<tr class="separator:a1a14d326dbb3b86526c7bc88cd8a4e09"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:af881e7723e9bbd1b5eef8c732b8dda84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#af881e7723e9bbd1b5eef8c732b8dda84">initializePlots</a> ()</td></tr>
<tr class="memdesc:af881e7723e9bbd1b5eef8c732b8dda84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the full set of plots (all ADC thresholds).  <a href="#af881e7723e9bbd1b5eef8c732b8dda84">More...</a><br/></td></tr>
<tr class="separator:af881e7723e9bbd1b5eef8c732b8dda84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6153a9cad897564005e09257573ff713"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a6153a9cad897564005e09257573ff713">produceForThreshold</a> (art::Event &amp;event, <a class="el" href="classdetinfo_1_1DetectorTimings.html">detinfo::DetectorTimings</a> const &amp;<a class="el" href="ExtractEnergyDepositionSummary__module_8cc.html#ac977879c6351c98d7eb034f13e4758a6">detTimings</a>, <a class="el" href="classicarus_1_1trigger_1_1ApplyBeamGateClass.html">ApplyBeamGateClass</a> const &amp;beamGate, std::size_t const iThr, <a class="el" href="namespaceicarus_1_1trigger.html#a49a4799819d963216971a31116ca8bc4">icarus::trigger::ADCCounts_t</a> const thr)</td></tr>
<tr class="memdesc:a6153a9cad897564005e09257573ff713"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the simulation for the specified ADC threshold.  <a href="#a6153a9cad897564005e09257573ff713">More...</a><br/></td></tr>
<tr class="separator:a6153a9cad897564005e09257573ff713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e279ad1ce39096bf94d351e5193e442"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a9e279ad1ce39096bf94d351e5193e442">simulate</a> (<a class="el" href="classicarus_1_1trigger_1_1ApplyBeamGateClass.html">ApplyBeamGateClass</a> const &amp;clockData, <a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3722247ce6c8add9897943a83d078bca">TriggerGates_t</a> const &amp;gates) const </td></tr>
<tr class="memdesc:a9e279ad1ce39096bf94d351e5193e442"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the simulation of the configured trigger on <code>gates</code> input.  <a href="#a9e279ad1ce39096bf94d351e5193e442">More...</a><br/></td></tr>
<tr class="separator:a9e279ad1ce39096bf94d351e5193e442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23c336d9eeea4041dcc02bbdc7984c7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a23c336d9eeea4041dcc02bbdc7984c7d">simulateCryostat</a> (<a class="el" href="classicarus_1_1trigger_1_1ApplyBeamGateClass.html">ApplyBeamGateClass</a> const &amp;beamGate, std::size_t iCryo, <a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3722247ce6c8add9897943a83d078bca">TriggerGates_t</a> const &amp;gates) const </td></tr>
<tr class="memdesc:a23c336d9eeea4041dcc02bbdc7984c7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simulates the trigger response within a single cryostat.  <a href="#a23c336d9eeea4041dcc02bbdc7984c7d">More...</a><br/></td></tr>
<tr class="separator:a23c336d9eeea4041dcc02bbdc7984c7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73544f8af8cec1427d54af25bbac705d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classraw_1_1Trigger.html">raw::Trigger</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a73544f8af8cec1427d54af25bbac705d">triggerInfoToTriggerData</a> (<a class="el" href="classdetinfo_1_1DetectorTimings.html">detinfo::DetectorTimings</a> const &amp;<a class="el" href="ExtractEnergyDepositionSummary__module_8cc.html#ac977879c6351c98d7eb034f13e4758a6">detTimings</a>, unsigned int triggerNumber, <a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a> const &amp;info) const </td></tr>
<tr class="memdesc:a73544f8af8cec1427d54af25bbac705d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the trigger information into a <code><a class="el" href="classraw_1_1Trigger.html">raw::Trigger</a></code> object.  <a href="#a73544f8af8cec1427d54af25bbac705d">More...</a><br/></td></tr>
<tr class="separator:a73544f8af8cec1427d54af25bbac705d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec449c4f433da2f63ab0f6df063a215"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#afec449c4f433da2f63ab0f6df063a215">plotTriggerResponse</a> (std::size_t iThr, <a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a> const &amp;triggerInfo) const </td></tr>
<tr class="memdesc:afec449c4f433da2f63ab0f6df063a215"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills the plots for threshold index <code>iThr</code> with trigger information.  <a href="#afec449c4f433da2f63ab0f6df063a215">More...</a><br/></td></tr>
<tr class="separator:afec449c4f433da2f63ab0f6df063a215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ec9715a889874319f264c1428895044"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a5ec9715a889874319f264c1428895044">printSummary</a> () const </td></tr>
<tr class="memdesc:a5ec9715a889874319f264c1428895044"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the summary of fired triggers on screen.  <a href="#a5ec9715a889874319f264c1428895044">More...</a><br/></td></tr>
<tr class="separator:a5ec9715a889874319f264c1428895044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a4f70269bde9aa0a0ad259f7630d05b63"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a4f70269bde9aa0a0ad259f7630d05b63">makeMyBeamGate</a> (art::Event const *event=nullptr) const </td></tr>
<tr class="memdesc:a4f70269bde9aa0a0ad259f7630d05b63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shortcut to create an <code>ApplyBeamGate</code> with the current configuration.  <a href="#a4f70269bde9aa0a0ad259f7630d05b63">More...</a><br/></td></tr>
<tr class="separator:a4f70269bde9aa0a0ad259f7630d05b63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b60675095654d3b7aed5d101272671a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a7b60675095654d3b7aed5d101272671a">makeMyBeamGate</a> (art::Event const &amp;event) const </td></tr>
<tr class="separator:a7b60675095654d3b7aed5d101272671a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_structlar_1_1UncopiableClass"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_structlar_1_1UncopiableClass')"><img src="closed.png" alt="-"/>&#160;Private Member Functions inherited from <a class="el" href="structlar_1_1UncopiableClass.html">lar::UncopiableClass</a></td></tr>
<tr class="memitem:ae35fd93c96d5c299aa8880b7c6050b31 inherit pub_methods_structlar_1_1UncopiableClass"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlar_1_1UncopiableClass.html#ae35fd93c96d5c299aa8880b7c6050b31">UncopiableClass</a> ()=<a class="el" href="crtt0matchingalg__sbnd_8fcl.html#a6c2384a9e3f7a8c21ae6f762a8ee0ece">default</a></td></tr>
<tr class="memdesc:ae35fd93c96d5c299aa8880b7c6050b31 inherit pub_methods_structlar_1_1UncopiableClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#ae35fd93c96d5c299aa8880b7c6050b31">More...</a><br/></td></tr>
<tr class="separator:ae35fd93c96d5c299aa8880b7c6050b31 inherit pub_methods_structlar_1_1UncopiableClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9354a98a90014c1892b7109b94fa87b inherit pub_methods_structlar_1_1UncopiableClass"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlar_1_1UncopiableClass.html#ab9354a98a90014c1892b7109b94fa87b">~UncopiableClass</a> ()=<a class="el" href="crtt0matchingalg__sbnd_8fcl.html#a6c2384a9e3f7a8c21ae6f762a8ee0ece">default</a></td></tr>
<tr class="memdesc:ab9354a98a90014c1892b7109b94fa87b inherit pub_methods_structlar_1_1UncopiableClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor.  <a href="#ab9354a98a90014c1892b7109b94fa87b">More...</a><br/></td></tr>
<tr class="separator:ab9354a98a90014c1892b7109b94fa87b inherit pub_methods_structlar_1_1UncopiableClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa14947b66c4446b5f9ac10ff53e95b6a inherit pub_methods_structlar_1_1UncopiableClass"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlar_1_1UncopiableClass.html#aa14947b66c4446b5f9ac10ff53e95b6a">UncopiableClass</a> (<a class="el" href="structlar_1_1UncopiableClass.html">UncopiableClass</a> const &amp;)=delete</td></tr>
<tr class="memdesc:aa14947b66c4446b5f9ac10ff53e95b6a inherit pub_methods_structlar_1_1UncopiableClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted copy and move constructors and assignments.  <a href="#aa14947b66c4446b5f9ac10ff53e95b6a">More...</a><br/></td></tr>
<tr class="separator:aa14947b66c4446b5f9ac10ff53e95b6a inherit pub_methods_structlar_1_1UncopiableClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53b05b7a6fa51616d790a617e6d26afc inherit pub_methods_structlar_1_1UncopiableClass"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlar_1_1UncopiableClass.html#a53b05b7a6fa51616d790a617e6d26afc">UncopiableClass</a> (<a class="el" href="structlar_1_1UncopiableClass.html">UncopiableClass</a> &amp;&amp;)=<a class="el" href="crtt0matchingalg__sbnd_8fcl.html#a6c2384a9e3f7a8c21ae6f762a8ee0ece">default</a></td></tr>
<tr class="separator:a53b05b7a6fa51616d790a617e6d26afc inherit pub_methods_structlar_1_1UncopiableClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4f93567a132b6903f6d0aa366e2cf8a inherit pub_methods_structlar_1_1UncopiableClass"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlar_1_1UncopiableClass.html">UncopiableClass</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlar_1_1UncopiableClass.html#ac4f93567a132b6903f6d0aa366e2cf8a">operator=</a> (<a class="el" href="structlar_1_1UncopiableClass.html">UncopiableClass</a> const &amp;)=delete</td></tr>
<tr class="separator:ac4f93567a132b6903f6d0aa366e2cf8a inherit pub_methods_structlar_1_1UncopiableClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a124ec503b32c66045245aff1a1be2337 inherit pub_methods_structlar_1_1UncopiableClass"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlar_1_1UncopiableClass.html">UncopiableClass</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlar_1_1UncopiableClass.html#a124ec503b32c66045245aff1a1be2337">operator=</a> (<a class="el" href="structlar_1_1UncopiableClass.html">UncopiableClass</a> &amp;&amp;)=<a class="el" href="crtt0matchingalg__sbnd_8fcl.html#a6c2384a9e3f7a8c21ae6f762a8ee0ece">default</a></td></tr>
<tr class="separator:a124ec503b32c66045245aff1a1be2337 inherit pub_methods_structlar_1_1UncopiableClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_structlar_1_1UnmovableClass"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_structlar_1_1UnmovableClass')"><img src="closed.png" alt="-"/>&#160;Private Member Functions inherited from <a class="el" href="structlar_1_1UnmovableClass.html">lar::UnmovableClass</a></td></tr>
<tr class="memitem:a6612bc6916db4d685f52483d0dde2c0d inherit pub_methods_structlar_1_1UnmovableClass"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlar_1_1UnmovableClass.html#a6612bc6916db4d685f52483d0dde2c0d">UnmovableClass</a> ()=<a class="el" href="crtt0matchingalg__sbnd_8fcl.html#a6c2384a9e3f7a8c21ae6f762a8ee0ece">default</a></td></tr>
<tr class="memdesc:a6612bc6916db4d685f52483d0dde2c0d inherit pub_methods_structlar_1_1UnmovableClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#a6612bc6916db4d685f52483d0dde2c0d">More...</a><br/></td></tr>
<tr class="separator:a6612bc6916db4d685f52483d0dde2c0d inherit pub_methods_structlar_1_1UnmovableClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c70c78e12e5617ed67d37c40976db4b inherit pub_methods_structlar_1_1UnmovableClass"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlar_1_1UnmovableClass.html#a0c70c78e12e5617ed67d37c40976db4b">~UnmovableClass</a> ()=<a class="el" href="crtt0matchingalg__sbnd_8fcl.html#a6c2384a9e3f7a8c21ae6f762a8ee0ece">default</a></td></tr>
<tr class="memdesc:a0c70c78e12e5617ed67d37c40976db4b inherit pub_methods_structlar_1_1UnmovableClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor.  <a href="#a0c70c78e12e5617ed67d37c40976db4b">More...</a><br/></td></tr>
<tr class="separator:a0c70c78e12e5617ed67d37c40976db4b inherit pub_methods_structlar_1_1UnmovableClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bdabfb428506abfc2502a1618ee8f25 inherit pub_methods_structlar_1_1UnmovableClass"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlar_1_1UnmovableClass.html#a1bdabfb428506abfc2502a1618ee8f25">UnmovableClass</a> (<a class="el" href="structlar_1_1UnmovableClass.html">UnmovableClass</a> const &amp;)=<a class="el" href="crtt0matchingalg__sbnd_8fcl.html#a6c2384a9e3f7a8c21ae6f762a8ee0ece">default</a></td></tr>
<tr class="memdesc:a1bdabfb428506abfc2502a1618ee8f25 inherit pub_methods_structlar_1_1UnmovableClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default copy constructor and assignment.  <a href="#a1bdabfb428506abfc2502a1618ee8f25">More...</a><br/></td></tr>
<tr class="separator:a1bdabfb428506abfc2502a1618ee8f25 inherit pub_methods_structlar_1_1UnmovableClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08c0f87732e377ef3440109a8d89b089 inherit pub_methods_structlar_1_1UnmovableClass"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlar_1_1UnmovableClass.html">UnmovableClass</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlar_1_1UnmovableClass.html#a08c0f87732e377ef3440109a8d89b089">operator=</a> (<a class="el" href="structlar_1_1UnmovableClass.html">UnmovableClass</a> const &amp;)=<a class="el" href="crtt0matchingalg__sbnd_8fcl.html#a6c2384a9e3f7a8c21ae6f762a8ee0ece">default</a></td></tr>
<tr class="separator:a08c0f87732e377ef3440109a8d89b089 inherit pub_methods_structlar_1_1UnmovableClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a336144fbeec4e17c8c61d3543616e9c8 inherit pub_methods_structlar_1_1UnmovableClass"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlar_1_1UnmovableClass.html#a336144fbeec4e17c8c61d3543616e9c8">UnmovableClass</a> (<a class="el" href="structlar_1_1UnmovableClass.html">UnmovableClass</a> &amp;&amp;)=delete</td></tr>
<tr class="memdesc:a336144fbeec4e17c8c61d3543616e9c8 inherit pub_methods_structlar_1_1UnmovableClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted move constructor and assignment.  <a href="#a336144fbeec4e17c8c61d3543616e9c8">More...</a><br/></td></tr>
<tr class="separator:a336144fbeec4e17c8c61d3543616e9c8 inherit pub_methods_structlar_1_1UnmovableClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c14295f163bb7f80ffb4d3a6bf702f inherit pub_methods_structlar_1_1UnmovableClass"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlar_1_1UnmovableClass.html">UnmovableClass</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlar_1_1UnmovableClass.html#a96c14295f163bb7f80ffb4d3a6bf702f">operator=</a> (<a class="el" href="structlar_1_1UnmovableClass.html">UnmovableClass</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a96c14295f163bb7f80ffb4d3a6bf702f inherit pub_methods_structlar_1_1UnmovableClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a3b456e8d5158aa26eb72d5e879dc6bcd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3722247ce6c8add9897943a83d078bca">TriggerGates_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3b456e8d5158aa26eb72d5e879dc6bcd">readTriggerGates</a> (art::Event const &amp;event, art::InputTag const &amp;dataTag)</td></tr>
<tr class="separator:a3b456e8d5158aa26eb72d5e879dc6bcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a669a264de8d33b790d0d32ef8973cdf3"><td class="memItemLeft" align="right" valign="top">std::map<br class="typebreak"/>
&lt; <a class="el" href="namespaceicarus_1_1trigger.html#a49a4799819d963216971a31116ca8bc4">icarus::trigger::ADCCounts_t</a>, <br class="typebreak"/>
art::InputTag &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a669a264de8d33b790d0d32ef8973cdf3">fADCthresholds</a></td></tr>
<tr class="memdesc:a669a264de8d33b790d0d32ef8973cdf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC thresholds to read, and the input tag connected to their data.  <a href="#a669a264de8d33b790d0d32ef8973cdf3">More...</a><br/></td></tr>
<tr class="separator:a669a264de8d33b790d0d32ef8973cdf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b2ed4edbe26a93b5b726665a964f270"><td class="memItemLeft" align="right" valign="top">unsigned int const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a7b2ed4edbe26a93b5b726665a964f270">fMinimumPrimitives</a></td></tr>
<tr class="memdesc:a7b2ed4edbe26a93b5b726665a964f270"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum number of trigger primitives for a trigger to happen.  <a href="#a7b2ed4edbe26a93b5b726665a964f270">More...</a><br/></td></tr>
<tr class="separator:a7b2ed4edbe26a93b5b726665a964f270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa374708731e46077434e46aacc8f98e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a5913bc446077543a73c21218abc62c70">microseconds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#aa374708731e46077434e46aacc8f98e1">fBeamGateDuration</a></td></tr>
<tr class="memdesc:aa374708731e46077434e46aacc8f98e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Duration of the gate during with global optical triggers are accepted.  <a href="#aa374708731e46077434e46aacc8f98e1">More...</a><br/></td></tr>
<tr class="separator:aa374708731e46077434e46aacc8f98e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bcd2f6292da5b5bdc8839ad0229b36d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a0805878bb4a5ea06513a9a52e516c70a">nanoseconds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a5bcd2f6292da5b5bdc8839ad0229b36d">fTriggerTimeResolution</a></td></tr>
<tr class="memdesc:a5bcd2f6292da5b5bdc8839ad0229b36d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger resolution in time.  <a href="#a5bcd2f6292da5b5bdc8839ad0229b36d">More...</a><br/></td></tr>
<tr class="separator:a5bcd2f6292da5b5bdc8839ad0229b36d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec4bb5d03329fd0fca1c05c2a9f105e9"><td class="memItemLeft" align="right" valign="top">std::uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#aec4bb5d03329fd0fca1c05c2a9f105e9">fBeamBits</a></td></tr>
<tr class="memdesc:aec4bb5d03329fd0fca1c05c2a9f105e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bits for the beam gate being simulated.  <a href="#aec4bb5d03329fd0fca1c05c2a9f105e9">More...</a><br/></td></tr>
<tr class="separator:aec4bb5d03329fd0fca1c05c2a9f105e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f35bb6cf61d371521debe5964cc5691"><td class="memItemLeft" align="right" valign="top">std::string const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3f35bb6cf61d371521debe5964cc5691">fLogCategory</a></td></tr>
<tr class="memdesc:a3f35bb6cf61d371521debe5964cc5691"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message facility stream category for output.  <a href="#a3f35bb6cf61d371521debe5964cc5691">More...</a><br/></td></tr>
<tr class="separator:a3f35bb6cf61d371521debe5964cc5691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19dabddeb6b86a81cc0f431755aefbcf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgeo_1_1GeometryCore.html">geo::GeometryCore</a> const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a19dabddeb6b86a81cc0f431755aefbcf">fGeom</a></td></tr>
<tr class="separator:a19dabddeb6b86a81cc0f431755aefbcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae56659f7447bd97c5613ce87a6996adb"><td class="memItemLeft" align="right" valign="top">art::TFileDirectory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#ae56659f7447bd97c5613ce87a6996adb">fOutputDir</a></td></tr>
<tr class="memdesc:ae56659f7447bd97c5613ce87a6996adb"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="namespaceROOT.html">ROOT</a> directory where all the plots are written.  <a href="#ae56659f7447bd97c5613ce87a6996adb">More...</a><br/></td></tr>
<tr class="separator:ae56659f7447bd97c5613ce87a6996adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77d80618091473a0a252e60d95ed089e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerCombiner.html">MajorityTriggerCombiner</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a77d80618091473a0a252e60d95ed089e">fCombiner</a></td></tr>
<tr class="memdesc:a77d80618091473a0a252e60d95ed089e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Algorithm to combine primitives.  <a href="#a77d80618091473a0a252e60d95ed089e">More...</a><br/></td></tr>
<tr class="separator:a77d80618091473a0a252e60d95ed089e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2371fcb98a5b99642be22b38f10a653"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classicarus_1_1trigger_1_1GeometryChannelSplitter.html">GeometryChannelSplitter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#af2371fcb98a5b99642be22b38f10a653">fChannelSplitter</a></td></tr>
<tr class="memdesc:af2371fcb98a5b99642be22b38f10a653"><td class="mdescLeft">&#160;</td><td class="mdescRight">Algorithm to sort trigger gates by cryostat or TPC.  <a href="#af2371fcb98a5b99642be22b38f10a653">More...</a><br/></td></tr>
<tr class="separator:af2371fcb98a5b99642be22b38f10a653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30348cc6450984b2785d0d74f64ff0f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classicarus_1_1trigger_1_1PlotSandbox.html">icarus::trigger::PlotSandbox</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a30348cc6450984b2785d0d74f64ff0f4">fPlots</a></td></tr>
<tr class="memdesc:a30348cc6450984b2785d0d74f64ff0f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">All plots in one practical sandbox.  <a href="#a30348cc6450984b2785d0d74f64ff0f4">More...</a><br/></td></tr>
<tr class="separator:a30348cc6450984b2785d0d74f64ff0f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f78981d2920fc967428a83bc42013bd"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::atomic<br class="typebreak"/>
&lt; unsigned int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a2f78981d2920fc967428a83bc42013bd">fTriggerCount</a></td></tr>
<tr class="separator:a2f78981d2920fc967428a83bc42013bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8722f10ea4611e41c6c0f0bb985fdb42"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a8722f10ea4611e41c6c0f0bb985fdb42">fTotalEvents</a> { 0U }</td></tr>
<tr class="memdesc:a8722f10ea4611e41c6c0f0bb985fdb42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count of fired triggers.  <a href="#a8722f10ea4611e41c6c0f0bb985fdb42">More...</a><br/></td></tr>
<tr class="separator:a8722f10ea4611e41c6c0f0bb985fdb42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e924eaf83efb6cc12f58a8439a65bd7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classicarus_1_1ns_1_1util_1_1ThreadSafeChangeMonitor.html">icarus::ns::util::ThreadSafeChangeMonitor</a><br class="typebreak"/>
&lt; <a class="el" href="classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a8e924eaf83efb6cc12f58a8439a65bd7">fGateChangeCheck</a></td></tr>
<tr class="memdesc:a8e924eaf83efb6cc12f58a8439a65bd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functor returning whether a gate has changed.  <a href="#a8e924eaf83efb6cc12f58a8439a65bd7">More...</a><br/></td></tr>
<tr class="separator:a8e924eaf83efb6cc12f58a8439a65bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simulates a "majority" trigger. </p>
<p>A trigger primitive is a two-level function of time which describes when that primitive is on and when it is off. Trigger primitives are given as input to this module and their origin may vary, but the standard source in ICARUS is single trigger request.</p>
<p>This module simulates a trigger requesting a minimum number of single trigger requests in the event, and saves the result as <code><a class="el" href="classraw_1_1Trigger.html">raw::Trigger</a></code> data products. While only one trigger definition is used, inputs with different thresholds may be specified to have the different responses.</p>
<h1>Configuration </h1>
<ul>
<li><code>TriggerGatesTag</code> (string, mandatory): name of the module instance which produced the trigger primitives to be used as input; it must not include any instance name, as the instance names will be automatically added from <code>Thresholds</code> parameter. The typical trigger primitives used as input may be LVDS discriminated output (e.g. from <code><a class="el" href="classicarus_1_1trigger_1_1LVDSgates.html" title="Combines discriminated PMT outputs into V1730 LVDS gates. ">icarus::trigger::LVDSgates</a></code> module) or combinations of them (e.g. from <code><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html" title="Combines trigger channels (V1730 LVDS gates) into sliding windows. ">icarus::trigger::SlidingWindowTrigger</a></code> module).</li>
<li><code>Thresholds</code> (list of integers, mandatory): list of the discrimination thresholds to consider, in ADC counts. A data product containing a digital signal is read for each one of the thresholds, and the tag of the data product is expected to be the module label <code>TriggerGatesTag</code> with as instance name the value of the threshold (e.g. for a threshold of 60 ADC counts the data product tag might be <code><a class="el" href="classicarus_1_1trigger_1_1LVDSgates.html" title="Combines discriminated PMT outputs into V1730 LVDS gates. ">LVDSgates</a>:60</code>).</li>
<li><code>MinimumPrimitives</code> (integer, <em>mandatory</em>): the required number of single trigger requests in order for the trigger to fire;</li>
<li><code>BeamGateDuration</code> (time, <em>mandatory</em>): the duration of the beam gate; <em>the time requires the unit to be explicitly specified</em>: use <code>"1.6 us"</code> for BNB, <code>9.5 us</code> for NuMI (also available as <code>BNB_settings.spill_duration</code> and <code>NuMI_settings.spill_duration</code> in <code>trigger_icarus.fcl</code>);</li>
<li><code>TriggerTimeResolution</code> (time, default: <code>8 ns</code>): time resolution for the trigger primitives;</li>
<li><code>LogCategory</code> (string, default <code><a class="el" href="classicarus_1_1trigger_1_1TriggerEfficiencyPlots.html" title="Produces plots about trigger simulation and trigger efficiency. ">TriggerEfficiencyPlots</a></code>): name of category used to stream messages from this module into message facility.</li>
</ul>
<p>An example job configuration is provided as <code>simulatemajoritytriggers_icarus.fcl</code>.</p>
<h1>Output data products </h1>
<ul>
<li><code>std::vector&lt;<a class="el" href="classraw_1_1Trigger.html">raw::Trigger</a>&gt;</code> (one instance per ADC threshold): list of triggers fired according to the configured trigger definition; there is one collection (and data product) per ADC threshold, and the data product has the same instance name as the input data one (see <code>TriggerGatesTag</code> and <code>Thresholds</code> configuration parameters); currently only at most one trigger is emitted, with time stamp matching the first time the trigger criteria are satisfied.</li>
</ul>
<h1>Trigger logic algorithm </h1>
<p><a class="anchor" id="MajorityTriggerSimulation_Algorithm"></a> This section describes the trigger logic algorithm used in <code><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html" title="Simulates a &quot;majority&quot; trigger. ">icarus::trigger::MajorityTriggerSimulation</a></code> and its assumptions.</p>
<p>The algorithm keeps the trigger primitives from the different cryostats separate for the most time. Within each cryostat, all trigger primitives are treated equally, whether they originate from one or from two channels (or 10 or 30), and wherever their channels are in the cryostat. The trigger primitives in each cryostat are combined in a multi-level gate by adding them, so that the level of the resulting gate matches at any time how many trigger primitives are on at that time. Finally, the maximum number of trigger primitives open in any of the cryostats at each time is the level to be compared to the trigger requirements.</p>
<p>This multi-level gate is set in coincidence with the beam gate by multiplying the multi-level and the beam gates. The beam gate opens at a time configured in <code>DetectorClocks</code> service provider (<code>detinfo::DetectorClocks::BeamGateTime()</code>) and has a duration configured in this module (<code>BeamGateDuration</code>).</p>
<p>At this point, the trigger gate is a multi-level gate suppressed everywhere except than during the beam gate. The trigger requirement is simply how many trigger primitives must be open at the same time in a single cryostat for the trigger to fire. The requirement is set in the configuration (<code>MinimumPrimitives</code>). To determine whether a trigger with the given minimum number of primitives open at the same time has fired, the gate combined as described above is scanned to find <em>the first tick</em> where the level of the gate reaches or passes this minimum required number. If such tick exists, the trigger is considered to have fired, and at that time.</p>
<p>While there <em>is</em> a parameter describing the time resolution of the trigger (<code>TriggerTimeResolution</code>), this is currently only used for aesthetic purposes to choose the binning of some plots: the resolution is <em>not</em> superimposed to the gates (yet).</p>
<h2>Output plots </h2>
<p>Plots are directly stored in the producer folder of the <code>TFileService</code> <a class="el" href="namespaceROOT.html">ROOT</a> output file.</p>
<p>Summary plots are generated:</p>
<ul>
<li><code>NTriggers</code>: total number of triggers, per threshold</li>
<li><code>Eff</code>: fraction of events with at least one trigger, per threshold</li>
<li><code>TriggerTick</code>: trigger time distribution (optical tick), per threshold</li>
</ul>
<p>The plots marked "per threshold" have a "threshold" axis where each bin corresponds to the threshold specified in the <code>Thresholds</code> configuration parameter. Note that the numerical value of the axis on that bin does not match the threshold value. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00342">342</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="af3d951ec07bfae3c6c571f72f5e3a0c3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#af3d951ec07bfae3c6c571f72f5e3a0c3">icarus::trigger::MajorityTriggerSimulation::InputTriggerGate_t</a> =  <a class="el" href="classicarus_1_1trigger_1_1MultiChannelOpticalTriggerGate.html">icarus::trigger::MultiChannelOpticalTriggerGate</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Type of trigger gate extracted from the input event. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00433">433</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a5913bc446077543a73c21218abc62c70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a5913bc446077543a73c21218abc62c70">icarus::trigger::MajorityTriggerSimulation::microseconds</a> =  <a class="el" href="namespaceutil_1_1quantities_1_1intervals.html#a07912d3786fd25377de6216b0c77b532">util::quantities::intervals::microseconds</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00349">349</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a0805878bb4a5ea06513a9a52e516c70a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a0805878bb4a5ea06513a9a52e516c70a">icarus::trigger::MajorityTriggerSimulation::nanoseconds</a> =  <a class="el" href="namespaceutil_1_1quantities_1_1intervals.html#a439758e928a1b5231e459628ae43fe98">util::quantities::intervals::nanoseconds</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00350">350</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aeb0b67a30f178627cd4d028aea0afb4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#aeb0b67a30f178627cd4d028aea0afb4a">icarus::trigger::MajorityTriggerSimulation::Parameters</a> =  art::EDProducer::Table&lt;<a class="el" href="structicarus_1_1trigger_1_1MajorityTriggerSimulation_1_1Config.html">Config</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00398">398</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a1a14d326dbb3b86526c7bc88cd8a4e09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a1a14d326dbb3b86526c7bc88cd8a4e09">icarus::trigger::MajorityTriggerSimulation::TriggerGateData_t</a> =  <a class="el" href="classicarus_1_1trigger_1_1OpticalTriggerGate.html#a2b9986e0e920b11a5dfdc5a963f2a1c2">InputTriggerGate_t::GateData_t</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Type of gate data without channel information. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00439">439</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a3722247ce6c8add9897943a83d078bca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3722247ce6c8add9897943a83d078bca">icarus::trigger::MajorityTriggerSimulation::TriggerGates_t</a> =  std::vector&lt;<a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#af3d951ec07bfae3c6c571f72f5e3a0c3">InputTriggerGate_t</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A list of trigger gates from input. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00436">436</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a11d4cc520446a5b2c80e0aa8ac58e710"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a11d4cc520446a5b2c80e0aa8ac58e710">icarus::trigger::MajorityTriggerSimulation::TriggerInfo_t</a> =  <a class="el" href="structicarus_1_1trigger_1_1details_1_1TriggerInfo__t.html">details::TriggerInfo_t</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Type alias. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00430">430</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a743fb3694fe8fb8ead3a5294601625c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">icarus::trigger::MajorityTriggerSimulation::MajorityTriggerSimulation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#aeb0b67a30f178627cd4d028aea0afb4a">Parameters</a> const &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00613">613</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  : art::EDProducer       (config)</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="comment">// configuration</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  , <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a7b2ed4edbe26a93b5b726665a964f270">fMinimumPrimitives</a>    (config().MinimumPrimitives())</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  , <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#aa374708731e46077434e46aacc8f98e1">fBeamGateDuration</a>     (config().BeamGateDuration())</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  , <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a5bcd2f6292da5b5bdc8839ad0229b36d">fTriggerTimeResolution</a>(config().TriggerTimeResolution())</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  , <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#aec4bb5d03329fd0fca1c05c2a9f105e9">fBeamBits</a>             (config().BeamBits())</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  , <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3f35bb6cf61d371521debe5964cc5691">fLogCategory</a>          (config().LogCategory())</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="comment">// services</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  , <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a19dabddeb6b86a81cc0f431755aefbcf">fGeom</a>      (*lar::providerFrom&lt;geo::Geometry&gt;())</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  , <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#ae56659f7447bd97c5613ce87a6996adb">fOutputDir</a> (*art::ServiceHandle&lt;art::TFileService&gt;())</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="comment">// internal and cached</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  , <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a77d80618091473a0a252e60d95ed089e">fCombiner</a>       (<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3f35bb6cf61d371521debe5964cc5691">fLogCategory</a>)</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  , <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#af2371fcb98a5b99642be22b38f10a653">fChannelSplitter</a>(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a19dabddeb6b86a81cc0f431755aefbcf">fGeom</a>, <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3f35bb6cf61d371521debe5964cc5691">fLogCategory</a>)</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  , <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a30348cc6450984b2785d0d74f64ff0f4">fPlots</a>(</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;     <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#ae56659f7447bd97c5613ce87a6996adb">fOutputDir</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;minimum primitives: &quot;</span> + <a class="code" href="namespaceicarus_1_1trigger.html#a7718dbf2e5e4aa346e7fbabaa451457f">std::to_string</a>(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a7b2ed4edbe26a93b5b726665a964f270">fMinimumPrimitives</a>)</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    )</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;{</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="comment">// more complex parameter parsing</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  std::string <span class="keyword">const</span> discrModuleLabel = config().TriggerGatesTag();</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespaceraw.html#a8b8fff2e2c09178dd4d634156f54863e">raw::ADC_Count_t</a> threshold: config().<a class="code" href="triggersim__eastmodule__icarus__data_8fcl.html#a761fa70180817806779086b27954f099">Thresholds</a>()) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a669a264de8d33b790d0d32ef8973cdf3">fADCthresholds</a>[<a class="code" href="structutil_1_1quantities_1_1concepts_1_1Quantity.html">icarus::trigger::ADCCounts_t</a>{threshold}]</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      = art::InputTag{ discrModuleLabel, <a class="code" href="group__LArSoft__CoreUtils__StdUtils.html#ga3bb735c2329d4f88fa7e771cd92f8bdf">util::to_string</a>(threshold) };</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="comment">// initialization of a vector of atomic is not as trivial as it sounds...</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a2f78981d2920fc967428a83bc42013bd">fTriggerCount</a> = std::vector&lt;std::atomic&lt;unsigned int&gt;&gt;(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a669a264de8d33b790d0d32ef8973cdf3">fADCthresholds</a>.size());</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <a class="code" href="namespacetrkf.html#a70c1b5920b45babb363628ea6e073ea8">std::fill</a>(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a2f78981d2920fc967428a83bc42013bd">fTriggerCount</a>.begin(), <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a2f78981d2920fc967428a83bc42013bd">fTriggerCount</a>.end(), 0U);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="comment">// input data declaration</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keyword">using</span> <a class="code" href="namespaceicarus_1_1trigger.html#a910f46c9a8fc50918c7ec07af219aa92">icarus::trigger::OpticalTriggerGateData_t</a>; <span class="comment">// for convenience</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="comment">// trigger primitives</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordflow">for</span> (art::InputTag <span class="keyword">const</span>&amp; inputDataTag: <a class="code" href="namespaceutil.html#aac4707f84c6dc5c269f147302722611f">util::const_values</a>(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a669a264de8d33b790d0d32ef8973cdf3">fADCthresholds</a>)) {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    consumes&lt;std::vector&lt;OpticalTriggerGateData_t&gt;&gt;(inputDataTag);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    consumes&lt;art::Assns&lt;OpticalTriggerGateData_t, raw::OpDetWaveform&gt;&gt;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      (inputDataTag);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  } <span class="comment">// for</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="comment">// output data declaration</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordflow">for</span> (art::InputTag <span class="keyword">const</span>&amp; inputDataTag: <a class="code" href="namespaceutil.html#aac4707f84c6dc5c269f147302722611f">util::const_values</a>(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a669a264de8d33b790d0d32ef8973cdf3">fADCthresholds</a>))</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    produces&lt;std::vector&lt;raw::Trigger&gt;&gt;(inputDataTag.instance());</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  mf::LogInfo(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3f35bb6cf61d371521debe5964cc5691">fLogCategory</a>)</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;Requirement of minimum &quot;</span> &lt;&lt; <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a7b2ed4edbe26a93b5b726665a964f270">fMinimumPrimitives</a> &lt;&lt; <span class="stringliteral">&quot; primitives.&quot;</span>;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;} <span class="comment">// icarus::trigger::MajorityTriggerSimulation::MajorityTriggerSimulation()</span></div>
<div class="ttc" id="triggersim__eastmodule__icarus__data_8fcl_html_a761fa70180817806779086b27954f099"><div class="ttname"><a href="triggersim__eastmodule__icarus__data_8fcl.html#a761fa70180817806779086b27954f099">Thresholds</a></div><div class="ttdeci">BEGIN_PROLOG BeamGateDuration pmtthr physics producers trigtilewindowORS Thresholds</div><div class="ttdef"><b>Definition:</b> <a href="triggersim__eastmodule__icarus__data_8fcl_source.html#l00124">triggersim_eastmodule_icarus_data.fcl:124</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a2f78981d2920fc967428a83bc42013bd"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a2f78981d2920fc967428a83bc42013bd">icarus::trigger::MajorityTriggerSimulation::fTriggerCount</a></div><div class="ttdeci">std::vector&lt; std::atomic&lt; unsigned int &gt; &gt; fTriggerCount</div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00483">MajorityTriggerSimulation_module.cc:483</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a19dabddeb6b86a81cc0f431755aefbcf"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a19dabddeb6b86a81cc0f431755aefbcf">icarus::trigger::MajorityTriggerSimulation::fGeom</a></div><div class="ttdeci">geo::GeometryCore const &amp; fGeom</div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00464">MajorityTriggerSimulation_module.cc:464</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a3f35bb6cf61d371521debe5964cc5691"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3f35bb6cf61d371521debe5964cc5691">icarus::trigger::MajorityTriggerSimulation::fLogCategory</a></div><div class="ttdeci">std::string const fLogCategory</div><div class="ttdoc">Message facility stream category for output. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00458">MajorityTriggerSimulation_module.cc:458</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_ae56659f7447bd97c5613ce87a6996adb"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#ae56659f7447bd97c5613ce87a6996adb">icarus::trigger::MajorityTriggerSimulation::fOutputDir</a></div><div class="ttdeci">art::TFileDirectory fOutputDir</div><div class="ttdoc">ROOT directory where all the plots are written. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00467">MajorityTriggerSimulation_module.cc:467</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a669a264de8d33b790d0d32ef8973cdf3"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a669a264de8d33b790d0d32ef8973cdf3">icarus::trigger::MajorityTriggerSimulation::fADCthresholds</a></div><div class="ttdeci">std::map&lt; icarus::trigger::ADCCounts_t, art::InputTag &gt; fADCthresholds</div><div class="ttdoc">ADC thresholds to read, and the input tag connected to their data. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00445">MajorityTriggerSimulation_module.cc:445</a></div></div>
<div class="ttc" id="namespaceutil_html_aac4707f84c6dc5c269f147302722611f"><div class="ttname"><a href="namespaceutil.html#aac4707f84c6dc5c269f147302722611f">util::const_values</a></div><div class="ttdeci">decltype(auto) const_values(Coll &amp;&amp;coll)</div><div class="ttdoc">Range-for loop helper iterating across the constant values of the specified collection. </div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a7b2ed4edbe26a93b5b726665a964f270"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a7b2ed4edbe26a93b5b726665a964f270">icarus::trigger::MajorityTriggerSimulation::fMinimumPrimitives</a></div><div class="ttdeci">unsigned int const fMinimumPrimitives</div><div class="ttdoc">Minimum number of trigger primitives for a trigger to happen. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00448">MajorityTriggerSimulation_module.cc:448</a></div></div>
<div class="ttc" id="group__LArSoft__CoreUtils__StdUtils_html_ga3bb735c2329d4f88fa7e771cd92f8bdf"><div class="ttname"><a href="group__LArSoft__CoreUtils__StdUtils.html#ga3bb735c2329d4f88fa7e771cd92f8bdf">util::to_string</a></div><div class="ttdeci">decltype(auto) constexpr to_string(T &amp;&amp;obj)</div><div class="ttdoc">ADL-aware version of std::to_string. </div></div>
<div class="ttc" id="structutil_1_1quantities_1_1concepts_1_1Quantity_html"><div class="ttname"><a href="structutil_1_1quantities_1_1concepts_1_1Quantity.html">util::quantities::concepts::Quantity</a></div><div class="ttdoc">A value measured in the specified unit. </div><div class="ttdef"><b>Definition:</b> <a href="quantities_8h_source.html#l00566">quantities.h:566</a></div></div>
<div class="ttc" id="namespaceicarus_1_1trigger_html_a910f46c9a8fc50918c7ec07af219aa92"><div class="ttname"><a href="namespaceicarus_1_1trigger.html#a910f46c9a8fc50918c7ec07af219aa92">icarus::trigger::OpticalTriggerGateData_t</a></div><div class="ttdeci">icarus::trigger::ReadoutTriggerGate&lt; TriggerGateTick_t, TriggerGateTicks_t, raw::Channel_t &gt; OpticalTriggerGateData_t</div><div class="ttdoc">Type of trigger gate data serialized into art data products. </div><div class="ttdef"><b>Definition:</b> <a href="OpticalTriggerGate_8h_source.html#l00044">OpticalTriggerGate.h:44</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_aec4bb5d03329fd0fca1c05c2a9f105e9"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#aec4bb5d03329fd0fca1c05c2a9f105e9">icarus::trigger::MajorityTriggerSimulation::fBeamBits</a></div><div class="ttdeci">std::uint32_t fBeamBits</div><div class="ttdoc">Bits for the beam gate being simulated. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00455">MajorityTriggerSimulation_module.cc:455</a></div></div>
<div class="ttc" id="namespacetrkf_html_a70c1b5920b45babb363628ea6e073ea8"><div class="ttname"><a href="namespacetrkf.html#a70c1b5920b45babb363628ea6e073ea8">trkf::fill</a></div><div class="ttdeci">void fill(const art::PtrVector&lt; recob::Hit &gt; &amp;hits, int only_plane)</div><div class="ttdef"><b>Definition:</b> <a href="KHitContainer_8cxx_source.html#l00018">KHitContainer.cxx:18</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_af2371fcb98a5b99642be22b38f10a653"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#af2371fcb98a5b99642be22b38f10a653">icarus::trigger::MajorityTriggerSimulation::fChannelSplitter</a></div><div class="ttdeci">GeometryChannelSplitter fChannelSplitter</div><div class="ttdoc">Algorithm to sort trigger gates by cryostat or TPC. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00477">MajorityTriggerSimulation_module.cc:477</a></div></div>
<div class="ttc" id="namespaceicarus_1_1trigger_html_a7718dbf2e5e4aa346e7fbabaa451457f"><div class="ttname"><a href="namespaceicarus_1_1trigger.html#a7718dbf2e5e4aa346e7fbabaa451457f">icarus::trigger::to_string</a></div><div class="ttdeci">std::string to_string(WindowPattern const &amp;pattern)</div><div class="ttdef"><b>Definition:</b> <a href="WindowPattern_8h_source.html#l00102">WindowPattern.h:102</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_aa374708731e46077434e46aacc8f98e1"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#aa374708731e46077434e46aacc8f98e1">icarus::trigger::MajorityTriggerSimulation::fBeamGateDuration</a></div><div class="ttdeci">microseconds fBeamGateDuration</div><div class="ttdoc">Duration of the gate during with global optical triggers are accepted. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00451">MajorityTriggerSimulation_module.cc:451</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a77d80618091473a0a252e60d95ed089e"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a77d80618091473a0a252e60d95ed089e">icarus::trigger::MajorityTriggerSimulation::fCombiner</a></div><div class="ttdeci">MajorityTriggerCombiner const fCombiner</div><div class="ttdoc">Algorithm to combine primitives. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00474">MajorityTriggerSimulation_module.cc:474</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a5bcd2f6292da5b5bdc8839ad0229b36d"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a5bcd2f6292da5b5bdc8839ad0229b36d">icarus::trigger::MajorityTriggerSimulation::fTriggerTimeResolution</a></div><div class="ttdeci">nanoseconds fTriggerTimeResolution</div><div class="ttdoc">Trigger resolution in time. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00453">MajorityTriggerSimulation_module.cc:453</a></div></div>
<div class="ttc" id="namespaceraw_html_a8b8fff2e2c09178dd4d634156f54863e"><div class="ttname"><a href="namespaceraw.html#a8b8fff2e2c09178dd4d634156f54863e">raw::ADC_Count_t</a></div><div class="ttdeci">short ADC_Count_t</div><div class="ttdef"><b>Definition:</b> <a href="lardataobj_2lardataobj_2RawData_2OpDetWaveform_8h_source.html#l00021">OpDetWaveform.h:21</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a30348cc6450984b2785d0d74f64ff0f4"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a30348cc6450984b2785d0d74f64ff0f4">icarus::trigger::MajorityTriggerSimulation::fPlots</a></div><div class="ttdeci">icarus::trigger::PlotSandbox fPlots</div><div class="ttdoc">All plots in one practical sandbox. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00480">MajorityTriggerSimulation_module.cc:480</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a59a2f55f6d3b96ca30d0a23bab59466f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::MajorityTriggerSimulation::beginJob </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the plots. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00673">673</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                                                      {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  </div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#af881e7723e9bbd1b5eef8c732b8dda84">initializePlots</a>();</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  </div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;} <span class="comment">// icarus::trigger::MajorityTriggerSimulation::beginJob()</span></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_af881e7723e9bbd1b5eef8c732b8dda84"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#af881e7723e9bbd1b5eef8c732b8dda84">icarus::trigger::MajorityTriggerSimulation::initializePlots</a></div><div class="ttdeci">void initializePlots()</div><div class="ttdoc">Initializes the full set of plots (all ADC thresholds). </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00723">MajorityTriggerSimulation_module.cc:723</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a417a0af68bb205bbe52080e9a21be80d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::MajorityTriggerSimulation::endJob </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints end-of-job summaries. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00715">715</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                                                    {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a5ec9715a889874319f264c1428895044">printSummary</a>();</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;} <span class="comment">// icarus::trigger::MajorityTriggerSimulation::endJob()</span></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a5ec9715a889874319f264c1428895044"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a5ec9715a889874319f264c1428895044">icarus::trigger::MajorityTriggerSimulation::printSummary</a></div><div class="ttdeci">void printSummary() const </div><div class="ttdoc">Prints the summary of fired triggers on screen. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00909">MajorityTriggerSimulation_module.cc:909</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af881e7723e9bbd1b5eef8c732b8dda84"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::MajorityTriggerSimulation::initializePlots </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the full set of plots (all ADC thresholds). </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00723">723</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                                                             {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="comment">// overview plots with different settings</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  std::vector&lt;std::string&gt; thresholdLabels;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  thresholdLabels.reserve(<a class="code" href="namespaceicarus_1_1ns_1_1util.html#aaae74cf315284bc0f44c2e050c119781">size</a>(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a669a264de8d33b790d0d32ef8973cdf3">fADCthresholds</a>));</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="keywordflow">for</span> (art::InputTag <span class="keyword">const</span>&amp; inputDataTag: <a class="code" href="namespaceutil.html#aac4707f84c6dc5c269f147302722611f">util::const_values</a>(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a669a264de8d33b790d0d32ef8973cdf3">fADCthresholds</a>))</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    thresholdLabels.push_back(inputDataTag.instance());</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> beamGate = <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a4f70269bde9aa0a0ad259f7630d05b63">makeMyBeamGate</a>();</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a8e924eaf83efb6cc12f58a8439a65bd7">fGateChangeCheck</a>(beamGate);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  mf::LogInfo(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3f35bb6cf61d371521debe5964cc5691">fLogCategory</a>)</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;Beam gate for plots: &quot;</span> &lt;&lt; beamGate.asSimulationTime()</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    &lt;&lt; <span class="stringliteral">&quot; (simulation time), &quot;</span> &lt;&lt; beamGate.tickRange()</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    &lt;&lt; <span class="stringliteral">&quot; (optical ticks)&quot;</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    ;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="comment">// Triggering efficiency vs. ADC threshold.</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keyword">auto</span>* NTriggers = <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a30348cc6450984b2785d0d74f64ff0f4">fPlots</a>.<a class="code" href="classicarus_1_1trigger_1_1PlotSandbox.html#aebb600e8eda6c58974731e2f28f9b31f">make</a>&lt;TH1F&gt;(</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="stringliteral">&quot;NTriggers&quot;</span>,</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="stringliteral">&quot;Number of triggering events&quot;</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="stringliteral">&quot;;PMT discrimination threshold  [ ADC counts ]&quot;</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="stringliteral">&quot;;events&quot;</span>,</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    thresholdLabels.size(), 0.0, double(thresholdLabels.size())</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    );</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <a class="code" href="namespaceutil_1_1ROOT.html#ae1ae9532729953a78a4e86797026ff5c">util::ROOT::applyAxisLabels</a>(NTriggers-&gt;GetXaxis(), thresholdLabels);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keyword">auto</span>* Eff = <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a30348cc6450984b2785d0d74f64ff0f4">fPlots</a>.<a class="code" href="classicarus_1_1trigger_1_1PlotSandbox.html#aebb600e8eda6c58974731e2f28f9b31f">make</a>&lt;TEfficiency&gt;(</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="stringliteral">&quot;Eff&quot;</span>,</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="stringliteral">&quot;Efficiency of triggering&quot;</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <span class="stringliteral">&quot;;PMT discrimination threshold  [ ADC counts ]&quot;</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <span class="stringliteral">&quot;;trigger efficiency&quot;</span>,</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    thresholdLabels.size(), 0.0, double(thresholdLabels.size())</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    );</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="comment">// people are said to have earned hell for things like this;</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="comment">// but TEfficiency really does not expose the interface to assign labels to</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="comment">// its axes, which supposedly could be done had we chosen to create it by</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="comment">// histograms instead of directly as recommended.</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <a class="code" href="namespaceutil_1_1ROOT.html#ae1ae9532729953a78a4e86797026ff5c">util::ROOT::applyAxisLabels</a></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    (const_cast&lt;TH1*&gt;(Eff-&gt;GetTotalHistogram())-&gt;GetXaxis(), thresholdLabels);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <a class="code" href="namespacedetinfo_1_1timescales.html#ae5337ea437331d7a4d6ff67b3bdbf734">detinfo::timescales::optical_time_ticks</a> <span class="keyword">const</span> triggerResolutionTicks{</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <a class="code" href="namespaceicarus_1_1ns_1_1util.html#a2f4047bf838735c6151338080ffc18ab">icarus::ns::util::makeDetTimings</a>().<a class="code" href="classdetinfo_1_1DetectorTimings.html#a4bebfe9e951ab66c86e8a9c6f5f6059d">toOpticalTicks</a>(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a5bcd2f6292da5b5bdc8839ad0229b36d">fTriggerTimeResolution</a>)</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    };</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span>&amp; beamGateTicks = beamGate.tickRange();</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="keyword">auto</span>* TrigTime = <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a30348cc6450984b2785d0d74f64ff0f4">fPlots</a>.<a class="code" href="classicarus_1_1trigger_1_1PlotSandbox.html#aebb600e8eda6c58974731e2f28f9b31f">make</a>&lt;TH2F&gt;(</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="stringliteral">&quot;TriggerTick&quot;</span>,</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="stringliteral">&quot;Trigger time tick&quot;</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      <span class="stringliteral">&quot;;optical time tick [ /&quot;</span> + <a class="code" href="group__LArSoft__CoreUtils__StdUtils.html#ga3bb735c2329d4f88fa7e771cd92f8bdf">util::to_string</a>(triggerResolutionTicks) + <span class="stringliteral">&quot; ]&quot;</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="stringliteral">&quot;;PMT discrimination threshold  [ ADC counts ]&quot;</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="stringliteral">&quot;;events&quot;</span>,</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::ceil(beamGate.lengthTicks()/triggerResolutionTicks)),</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    beamGateTicks.start().value(),</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <a class="code" href="namespaceicarus_1_1ns_1_1util.html#a3f0d9875159a355e6ac4be94b1b689f7">icarus::ns::util::roundup</a></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;     (beamGateTicks.start() + beamGate.lengthTicks(), triggerResolutionTicks)</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;     .<a class="code" href="pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>(),</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    thresholdLabels.size(), 0.0, double(thresholdLabels.size())</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    );</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <a class="code" href="namespaceutil_1_1ROOT.html#ae1ae9532729953a78a4e86797026ff5c">util::ROOT::applyAxisLabels</a>(TrigTime-&gt;GetYaxis(), thresholdLabels);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;} <span class="comment">// icarus::trigger::MajorityTriggerSimulation::initializePlots()</span></div>
<div class="ttc" id="classicarus_1_1trigger_1_1PlotSandbox_html_aebb600e8eda6c58974731e2f28f9b31f"><div class="ttname"><a href="classicarus_1_1trigger_1_1PlotSandbox.html#aebb600e8eda6c58974731e2f28f9b31f">icarus::trigger::PlotSandbox::make</a></div><div class="ttdeci">Obj * make(std::string const &amp;name, std::string const &amp;title, Args &amp;&amp;...args)</div><div class="ttdoc">Creates a new ROOT object with the specified name and title. </div><div class="ttdef"><b>Definition:</b> <a href="PlotSandbox_8h_source.html#l00543">PlotSandbox.h:543</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a3f35bb6cf61d371521debe5964cc5691"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3f35bb6cf61d371521debe5964cc5691">icarus::trigger::MajorityTriggerSimulation::fLogCategory</a></div><div class="ttdeci">std::string const fLogCategory</div><div class="ttdoc">Message facility stream category for output. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00458">MajorityTriggerSimulation_module.cc:458</a></div></div>
<div class="ttc" id="namespaceicarus_1_1ns_1_1util_html_a3f0d9875159a355e6ac4be94b1b689f7"><div class="ttname"><a href="namespaceicarus_1_1ns_1_1util.html#a3f0d9875159a355e6ac4be94b1b689f7">icarus::ns::util::roundup</a></div><div class="ttdeci">constexpr T roundup(T const value, U const quantum, T const offset=T{})</div><div class="ttdoc">Returns the value, rounded up. </div><div class="ttdef"><b>Definition:</b> <a href="rounding_8h_source.html#l00112">rounding.h:112</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a669a264de8d33b790d0d32ef8973cdf3"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a669a264de8d33b790d0d32ef8973cdf3">icarus::trigger::MajorityTriggerSimulation::fADCthresholds</a></div><div class="ttdeci">std::map&lt; icarus::trigger::ADCCounts_t, art::InputTag &gt; fADCthresholds</div><div class="ttdoc">ADC thresholds to read, and the input tag connected to their data. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00445">MajorityTriggerSimulation_module.cc:445</a></div></div>
<div class="ttc" id="namespaceutil_html_aac4707f84c6dc5c269f147302722611f"><div class="ttname"><a href="namespaceutil.html#aac4707f84c6dc5c269f147302722611f">util::const_values</a></div><div class="ttdeci">decltype(auto) const_values(Coll &amp;&amp;coll)</div><div class="ttdoc">Range-for loop helper iterating across the constant values of the specified collection. </div></div>
<div class="ttc" id="namespaceicarus_1_1ns_1_1util_html_aaae74cf315284bc0f44c2e050c119781"><div class="ttname"><a href="namespaceicarus_1_1ns_1_1util.html#aaae74cf315284bc0f44c2e050c119781">icarus::ns::util::size</a></div><div class="ttdeci">std::size_t size(FixedBins&lt; T, C &gt; const &amp;) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="FixedBins_8h_source.html#l00561">FixedBins.h:561</a></div></div>
<div class="ttc" id="namespaceutil_1_1ROOT_html_ae1ae9532729953a78a4e86797026ff5c"><div class="ttname"><a href="namespaceutil_1_1ROOT.html#ae1ae9532729953a78a4e86797026ff5c">util::ROOT::applyAxisLabels</a></div><div class="ttdeci">void applyAxisLabels(TAxis *pAxis, std::vector&lt; std::string &gt; const &amp;labels, int first=1)</div><div class="ttdoc">Sets all the labels starting with the bin first (1 by default). </div><div class="ttdef"><b>Definition:</b> <a href="ROOTutils_8h_source.html#l00175">ROOTutils.h:175</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a4f70269bde9aa0a0ad259f7630d05b63"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a4f70269bde9aa0a0ad259f7630d05b63">icarus::trigger::MajorityTriggerSimulation::makeMyBeamGate</a></div><div class="ttdeci">icarus::trigger::ApplyBeamGateClass makeMyBeamGate(art::Event const *event=nullptr) const </div><div class="ttdoc">Shortcut to create an ApplyBeamGate with the current configuration. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00586">MajorityTriggerSimulation_module.cc:586</a></div></div>
<div class="ttc" id="namespacedetinfo_1_1timescales_html_ae5337ea437331d7a4d6ff67b3bdbf734"><div class="ttname"><a href="namespacedetinfo_1_1timescales.html#ae5337ea437331d7a4d6ff67b3bdbf734">detinfo::timescales::optical_time_ticks</a></div><div class="ttdeci">timescale_traits&lt; OpticalTimeCategory &gt;::tick_interval_t optical_time_ticks</div><div class="ttdef"><b>Definition:</b> <a href="DetectorTimingTypes_8h_source.html#l00431">DetectorTimingTypes.h:431</a></div></div>
<div class="ttc" id="classdetinfo_1_1DetectorTimings_html_a4bebfe9e951ab66c86e8a9c6f5f6059d"><div class="ttname"><a href="classdetinfo_1_1DetectorTimings.html#a4bebfe9e951ab66c86e8a9c6f5f6059d">detinfo::DetectorTimings::toOpticalTicks</a></div><div class="ttdeci">Ticks toOpticalTicks(time_interval time) const </div><div class="ttdoc">Returns the optical ticks corresponding to a time interval. </div><div class="ttdef"><b>Definition:</b> <a href="DetectorTimings_8h_source.html#l00557">DetectorTimings.h:557</a></div></div>
<div class="ttc" id="group__LArSoft__CoreUtils__StdUtils_html_ga3bb735c2329d4f88fa7e771cd92f8bdf"><div class="ttname"><a href="group__LArSoft__CoreUtils__StdUtils.html#ga3bb735c2329d4f88fa7e771cd92f8bdf">util::to_string</a></div><div class="ttdeci">decltype(auto) constexpr to_string(T &amp;&amp;obj)</div><div class="ttdoc">ADL-aware version of std::to_string. </div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a8e924eaf83efb6cc12f58a8439a65bd7"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a8e924eaf83efb6cc12f58a8439a65bd7">icarus::trigger::MajorityTriggerSimulation::fGateChangeCheck</a></div><div class="ttdeci">icarus::ns::util::ThreadSafeChangeMonitor&lt; icarus::trigger::ApplyBeamGateClass &gt; fGateChangeCheck</div><div class="ttdoc">Functor returning whether a gate has changed. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00490">MajorityTriggerSimulation_module.cc:490</a></div></div>
<div class="ttc" id="pmtsimulation__icarus_8fcl_html_a9fc569190f32b40862f18ac3c03a8e49"><div class="ttname"><a href="pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a></div><div class="ttdeci">temporary value</div><div class="ttdef"><b>Definition:</b> <a href="pmtsimulation__icarus_8fcl_source.html#l00158">pmtsimulation_icarus.fcl:158</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a5bcd2f6292da5b5bdc8839ad0229b36d"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a5bcd2f6292da5b5bdc8839ad0229b36d">icarus::trigger::MajorityTriggerSimulation::fTriggerTimeResolution</a></div><div class="ttdeci">nanoseconds fTriggerTimeResolution</div><div class="ttdoc">Trigger resolution in time. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00453">MajorityTriggerSimulation_module.cc:453</a></div></div>
<div class="ttc" id="namespaceicarus_1_1ns_1_1util_html_a2f4047bf838735c6151338080ffc18ab"><div class="ttname"><a href="namespaceicarus_1_1ns_1_1util.html#a2f4047bf838735c6151338080ffc18ab">icarus::ns::util::makeDetTimings</a></div><div class="ttdeci">detinfo::DetectorTimings makeDetTimings(art::Event const *event)</div><div class="ttdoc">Returns a detinfo::DetectorTimings from DetectorClocksService. </div><div class="ttdef"><b>Definition:</b> <a href="icarusalg_2icarusalg_2Utilities_2DetectorClocksHelpers_8h_source.html#l00086">DetectorClocksHelpers.h:86</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a30348cc6450984b2785d0d74f64ff0f4"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a30348cc6450984b2785d0d74f64ff0f4">icarus::trigger::MajorityTriggerSimulation::fPlots</a></div><div class="ttdeci">icarus::trigger::PlotSandbox fPlots</div><div class="ttdoc">All plots in one practical sandbox. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00480">MajorityTriggerSimulation_module.cc:480</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4f70269bde9aa0a0ad259f7630d05b63"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a> icarus::trigger::MajorityTriggerSimulation::makeMyBeamGate </td>
          <td>(</td>
          <td class="paramtype">art::Event const *&#160;</td>
          <td class="paramname"><em>event</em> = <code>nullptr</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shortcut to create an <code>ApplyBeamGate</code> with the current configuration. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00586">586</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceicarus_1_1trigger.html#a29a214bee5804033b2b965b322254fcf">makeApplyBeamGate</a>(</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#aa374708731e46077434e46aacc8f98e1">fBeamGateDuration</a>,</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <a class="code" href="namespaceicarus_1_1ns_1_1util.html#a7b9f7c255b069c3cc12af30715361ea3">icarus::ns::util::makeDetClockData</a>(event),</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3f35bb6cf61d371521debe5964cc5691">fLogCategory</a></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        );</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    }</div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a3f35bb6cf61d371521debe5964cc5691"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3f35bb6cf61d371521debe5964cc5691">icarus::trigger::MajorityTriggerSimulation::fLogCategory</a></div><div class="ttdeci">std::string const fLogCategory</div><div class="ttdoc">Message facility stream category for output. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00458">MajorityTriggerSimulation_module.cc:458</a></div></div>
<div class="ttc" id="namespaceicarus_1_1trigger_html_a29a214bee5804033b2b965b322254fcf"><div class="ttname"><a href="namespaceicarus_1_1trigger.html#a29a214bee5804033b2b965b322254fcf">icarus::trigger::makeApplyBeamGate</a></div><div class="ttdeci">ApplyBeamGateClass makeApplyBeamGate(util::quantities::intervals::microseconds duration, util::quantities::intervals::microseconds delay, detinfo::DetectorClocksData const &amp;clockData, std::string const &amp;logCategory=&quot;ApplyBeamGateClass&quot;)</div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_aa374708731e46077434e46aacc8f98e1"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#aa374708731e46077434e46aacc8f98e1">icarus::trigger::MajorityTriggerSimulation::fBeamGateDuration</a></div><div class="ttdeci">microseconds fBeamGateDuration</div><div class="ttdoc">Duration of the gate during with global optical triggers are accepted. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00451">MajorityTriggerSimulation_module.cc:451</a></div></div>
<div class="ttc" id="namespaceicarus_1_1ns_1_1util_html_a7b9f7c255b069c3cc12af30715361ea3"><div class="ttname"><a href="namespaceicarus_1_1ns_1_1util.html#a7b9f7c255b069c3cc12af30715361ea3">icarus::ns::util::makeDetClockData</a></div><div class="ttdeci">detinfo::DetectorClocksData makeDetClockData(art::Event const *event)</div><div class="ttdoc">Returns a detinfo::DetectorClocksData from DetectorClocksService. </div><div class="ttdef"><b>Definition:</b> <a href="icarusalg_2icarusalg_2Utilities_2DetectorClocksHelpers_8h_source.html#l00049">DetectorClocksHelpers.h:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7b60675095654d3b7aed5d101272671a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a> icarus::trigger::MajorityTriggerSimulation::makeMyBeamGate </td>
          <td>(</td>
          <td class="paramtype">art::Event const &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00595">595</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a4f70269bde9aa0a0ad259f7630d05b63">makeMyBeamGate</a>(&amp;event); }</div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a4f70269bde9aa0a0ad259f7630d05b63"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a4f70269bde9aa0a0ad259f7630d05b63">icarus::trigger::MajorityTriggerSimulation::makeMyBeamGate</a></div><div class="ttdeci">icarus::trigger::ApplyBeamGateClass makeMyBeamGate(art::Event const *event=nullptr) const </div><div class="ttdoc">Shortcut to create an ApplyBeamGate with the current configuration. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00586">MajorityTriggerSimulation_module.cc:586</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afec449c4f433da2f63ab0f6df063a215"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::MajorityTriggerSimulation::plotTriggerResponse </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>iThr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>triggerInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fills the plots for threshold index <code>iThr</code> with trigger information. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00895">895</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;{</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  </div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a30348cc6450984b2785d0d74f64ff0f4">fPlots</a>.<a class="code" href="classicarus_1_1trigger_1_1PlotSandbox.html#a516b09ee2ec609970fa5b7832fd21fbe">demand</a>&lt;TEfficiency&gt;(<span class="stringliteral">&quot;Eff&quot;</span>).Fill(triggerInfo.fired(), iThr);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="keywordflow">if</span> (triggerInfo.fired()) {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a30348cc6450984b2785d0d74f64ff0f4">fPlots</a>.<a class="code" href="classicarus_1_1trigger_1_1PlotSandbox.html#a516b09ee2ec609970fa5b7832fd21fbe">demand</a>&lt;TH1&gt;(<span class="stringliteral">&quot;NTriggers&quot;</span>).Fill(iThr);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a30348cc6450984b2785d0d74f64ff0f4">fPlots</a>.<a class="code" href="classicarus_1_1trigger_1_1PlotSandbox.html#a516b09ee2ec609970fa5b7832fd21fbe">demand</a>&lt;TH2&gt;(<span class="stringliteral">&quot;TriggerTick&quot;</span>).Fill(triggerInfo.atTick().value(), iThr);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  }</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;} <span class="comment">// icarus::trigger::MajorityTriggerSimulation::plotTriggerResponse()</span></div>
<div class="ttc" id="classicarus_1_1trigger_1_1PlotSandbox_html_a516b09ee2ec609970fa5b7832fd21fbe"><div class="ttname"><a href="classicarus_1_1trigger_1_1PlotSandbox.html#a516b09ee2ec609970fa5b7832fd21fbe">icarus::trigger::PlotSandbox::demand</a></div><div class="ttdeci">Obj &amp; demand(std::string const &amp;name) const </div><div class="ttdoc">Fetches an object with the specified name to be modified. </div><div class="ttdef"><b>Definition:</b> <a href="PlotSandbox_8h_source.html#l00509">PlotSandbox.h:509</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a30348cc6450984b2785d0d74f64ff0f4"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a30348cc6450984b2785d0d74f64ff0f4">icarus::trigger::MajorityTriggerSimulation::fPlots</a></div><div class="ttdeci">icarus::trigger::PlotSandbox fPlots</div><div class="ttdoc">All plots in one practical sandbox. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00480">MajorityTriggerSimulation_module.cc:480</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5ec9715a889874319f264c1428895044"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::MajorityTriggerSimulation::printSummary </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints the summary of fired triggers on screen. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00909">909</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                                                                {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="comment">// summary from our internal counters</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  mf::LogInfo log(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3f35bb6cf61d371521debe5964cc5691">fLogCategory</a>);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  log</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;Summary of triggers requiring &quot;</span> &lt;&lt; <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a7b2ed4edbe26a93b5b726665a964f270">fMinimumPrimitives</a></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;+ primitives for &quot;</span> &lt;&lt; <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a2f78981d2920fc967428a83bc42013bd">fTriggerCount</a>.size() &lt;&lt; <span class="stringliteral">&quot; ADC thresholds:&quot;</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    ;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [ <a class="code" href="IntegerRanges__test_8cc.html#abbc7e5f346bfa932ca51b4b07ccef76d">count</a>, thr ]</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    : <a class="code" href="namespaceutil.html#a3efdd3910e740873b4247e10e9884cf5">util::zip</a>(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a2f78981d2920fc967428a83bc42013bd">fTriggerCount</a>, util::get_elements&lt;0U&gt;(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a669a264de8d33b790d0d32ef8973cdf3">fADCthresholds</a>)))</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    log &lt;&lt; <span class="stringliteral">&quot;\n  ADC threshold &quot;</span> &lt;&lt; thr</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="IntegerRanges__test_8cc.html#abbc7e5f346bfa932ca51b4b07ccef76d">count</a> &lt;&lt; <span class="stringliteral">&quot; events triggered&quot;</span>;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a8722f10ea4611e41c6c0f0bb985fdb42">fTotalEvents</a> &gt; 0U)</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      log &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; (double(count) / <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a8722f10ea4611e41c6c0f0bb985fdb42">fTotalEvents</a> * 100.0) &lt;&lt; <span class="stringliteral">&quot;%)&quot;</span>;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  } <span class="comment">// for</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;} <span class="comment">// icarus::trigger::MajorityTriggerSimulation::printSummary()</span></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a2f78981d2920fc967428a83bc42013bd"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a2f78981d2920fc967428a83bc42013bd">icarus::trigger::MajorityTriggerSimulation::fTriggerCount</a></div><div class="ttdeci">std::vector&lt; std::atomic&lt; unsigned int &gt; &gt; fTriggerCount</div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00483">MajorityTriggerSimulation_module.cc:483</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a3f35bb6cf61d371521debe5964cc5691"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3f35bb6cf61d371521debe5964cc5691">icarus::trigger::MajorityTriggerSimulation::fLogCategory</a></div><div class="ttdeci">std::string const fLogCategory</div><div class="ttdoc">Message facility stream category for output. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00458">MajorityTriggerSimulation_module.cc:458</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a669a264de8d33b790d0d32ef8973cdf3"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a669a264de8d33b790d0d32ef8973cdf3">icarus::trigger::MajorityTriggerSimulation::fADCthresholds</a></div><div class="ttdeci">std::map&lt; icarus::trigger::ADCCounts_t, art::InputTag &gt; fADCthresholds</div><div class="ttdoc">ADC thresholds to read, and the input tag connected to their data. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00445">MajorityTriggerSimulation_module.cc:445</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a7b2ed4edbe26a93b5b726665a964f270"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a7b2ed4edbe26a93b5b726665a964f270">icarus::trigger::MajorityTriggerSimulation::fMinimumPrimitives</a></div><div class="ttdeci">unsigned int const fMinimumPrimitives</div><div class="ttdoc">Minimum number of trigger primitives for a trigger to happen. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00448">MajorityTriggerSimulation_module.cc:448</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a8722f10ea4611e41c6c0f0bb985fdb42"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a8722f10ea4611e41c6c0f0bb985fdb42">icarus::trigger::MajorityTriggerSimulation::fTotalEvents</a></div><div class="ttdeci">std::atomic&lt; unsigned int &gt; fTotalEvents</div><div class="ttdoc">Count of fired triggers. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00484">MajorityTriggerSimulation_module.cc:484</a></div></div>
<div class="ttc" id="namespaceutil_html_a3efdd3910e740873b4247e10e9884cf5"><div class="ttname"><a href="namespaceutil.html#a3efdd3910e740873b4247e10e9884cf5">util::zip</a></div><div class="ttdeci">auto zip(Iterables &amp;&amp;...iterables)</div><div class="ttdoc">Range-for loop helper iterating across many collections at the same time. </div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00295">zip.h:295</a></div></div>
<div class="ttc" id="IntegerRanges__test_8cc_html_abbc7e5f346bfa932ca51b4b07ccef76d"><div class="ttname"><a href="IntegerRanges__test_8cc.html#abbc7e5f346bfa932ca51b4b07ccef76d">count</a></div><div class="ttdeci">std::size_t count(Cont const &amp;cont)</div><div class="ttdef"><b>Definition:</b> <a href="IntegerRanges__test_8cc_source.html#l00029">IntegerRanges_test.cc:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a77c9d67b4e6171b3f9f57e49bcde5067"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::MajorityTriggerSimulation::produce </td>
          <td>(</td>
          <td class="paramtype">art::Event &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs the simulation and saves the results into the <em>art</em> event. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00681">681</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                                                                    {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  mf::LogDebug log(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3f35bb6cf61d371521debe5964cc5691">fLogCategory</a>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  log &lt;&lt; <span class="stringliteral">&quot;Event &quot;</span> &lt;&lt; <span class="keyword">event</span>.id() &lt;&lt; <span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> clockData</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    = art::ServiceHandle&lt;detinfo::DetectorClocksService const&gt;()-&gt;DataFor(event);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <a class="code" href="classdetinfo_1_1DetectorTimings.html">detinfo::DetectorTimings</a> <span class="keyword">const</span> <a class="code" href="ExtractEnergyDepositionSummary__module_8cc.html#ac977879c6351c98d7eb034f13e4758a6">detTimings</a>{clockData};</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> beamGate = <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a4f70269bde9aa0a0ad259f7630d05b63">makeMyBeamGate</a>(event);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> oldGate = <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a8e924eaf83efb6cc12f58a8439a65bd7">fGateChangeCheck</a>(beamGate); oldGate) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    mf::LogWarning(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3f35bb6cf61d371521debe5964cc5691">fLogCategory</a>)</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;Beam gate has changed from &quot;</span> &lt;&lt; *oldGate &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; beamGate &lt;&lt; <span class="stringliteral">&quot;!&quot;</span>;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> [ iThr, thr ]</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    : <a class="code" href="namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a>(util::get_elements&lt;0U&gt;(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a669a264de8d33b790d0d32ef8973cdf3">fADCthresholds</a>))</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  ) {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a> <span class="keyword">const</span> triggerInfo = <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a6153a9cad897564005e09257573ff713">produceForThreshold</a>(event, <a class="code" href="ExtractEnergyDepositionSummary__module_8cc.html#ac977879c6351c98d7eb034f13e4758a6">detTimings</a>, beamGate, iThr, thr);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    log &lt;&lt; <span class="stringliteral">&quot;\n * threshold &quot;</span> &lt;&lt; thr &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">if</span> (triggerInfo) log &lt;&lt; <span class="stringliteral">&quot;trigger at &quot;</span> &lt;&lt; triggerInfo.atTick();</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keywordflow">else</span>             log &lt;&lt; <span class="stringliteral">&quot;not triggered&quot;</span>;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  } <span class="comment">// for</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  ++<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a8722f10ea4611e41c6c0f0bb985fdb42">fTotalEvents</a>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;} <span class="comment">// icarus::trigger::MajorityTriggerSimulation::produce()</span></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a3f35bb6cf61d371521debe5964cc5691"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3f35bb6cf61d371521debe5964cc5691">icarus::trigger::MajorityTriggerSimulation::fLogCategory</a></div><div class="ttdeci">std::string const fLogCategory</div><div class="ttdoc">Message facility stream category for output. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00458">MajorityTriggerSimulation_module.cc:458</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a669a264de8d33b790d0d32ef8973cdf3"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a669a264de8d33b790d0d32ef8973cdf3">icarus::trigger::MajorityTriggerSimulation::fADCthresholds</a></div><div class="ttdeci">std::map&lt; icarus::trigger::ADCCounts_t, art::InputTag &gt; fADCthresholds</div><div class="ttdoc">ADC thresholds to read, and the input tag connected to their data. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00445">MajorityTriggerSimulation_module.cc:445</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a4f70269bde9aa0a0ad259f7630d05b63"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a4f70269bde9aa0a0ad259f7630d05b63">icarus::trigger::MajorityTriggerSimulation::makeMyBeamGate</a></div><div class="ttdeci">icarus::trigger::ApplyBeamGateClass makeMyBeamGate(art::Event const *event=nullptr) const </div><div class="ttdoc">Shortcut to create an ApplyBeamGate with the current configuration. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00586">MajorityTriggerSimulation_module.cc:586</a></div></div>
<div class="ttc" id="namespaceutil_html_af0615b7538ff948ea65d5206a23c84f2"><div class="ttname"><a href="namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a></div><div class="ttdeci">auto enumerate(Iterables &amp;&amp;...iterables)</div><div class="ttdoc">Range-for loop helper tracking the number of iteration. </div><div class="ttdef"><b>Definition:</b> <a href="enumerate_8h_source.html#l00069">enumerate.h:69</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a11d4cc520446a5b2c80e0aa8ac58e710"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a11d4cc520446a5b2c80e0aa8ac58e710">icarus::trigger::MajorityTriggerSimulation::TriggerInfo_t</a></div><div class="ttdeci">details::TriggerInfo_t TriggerInfo_t</div><div class="ttdoc">Type alias. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00430">MajorityTriggerSimulation_module.cc:430</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a8e924eaf83efb6cc12f58a8439a65bd7"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a8e924eaf83efb6cc12f58a8439a65bd7">icarus::trigger::MajorityTriggerSimulation::fGateChangeCheck</a></div><div class="ttdeci">icarus::ns::util::ThreadSafeChangeMonitor&lt; icarus::trigger::ApplyBeamGateClass &gt; fGateChangeCheck</div><div class="ttdoc">Functor returning whether a gate has changed. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00490">MajorityTriggerSimulation_module.cc:490</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a8722f10ea4611e41c6c0f0bb985fdb42"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a8722f10ea4611e41c6c0f0bb985fdb42">icarus::trigger::MajorityTriggerSimulation::fTotalEvents</a></div><div class="ttdeci">std::atomic&lt; unsigned int &gt; fTotalEvents</div><div class="ttdoc">Count of fired triggers. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00484">MajorityTriggerSimulation_module.cc:484</a></div></div>
<div class="ttc" id="classdetinfo_1_1DetectorTimings_html"><div class="ttname"><a href="classdetinfo_1_1DetectorTimings.html">detinfo::DetectorTimings</a></div><div class="ttdoc">A class exposing an upgraded interface of detinfo::DetectorClocksData. </div><div class="ttdef"><b>Definition:</b> <a href="DetectorTimings_8h_source.html#l00249">DetectorTimings.h:249</a></div></div>
<div class="ttc" id="ExtractEnergyDepositionSummary__module_8cc_html_ac977879c6351c98d7eb034f13e4758a6"><div class="ttname"><a href="ExtractEnergyDepositionSummary__module_8cc.html#ac977879c6351c98d7eb034f13e4758a6">detTimings</a></div><div class="ttdeci">fDetProps &amp;fDetProps fDetProps &amp;fDetProps detTimings</div><div class="ttdef"><b>Definition:</b> <a href="ExtractEnergyDepositionSummary__module_8cc_source.html#l00301">ExtractEnergyDepositionSummary_module.cc:301</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a6153a9cad897564005e09257573ff713"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a6153a9cad897564005e09257573ff713">icarus::trigger::MajorityTriggerSimulation::produceForThreshold</a></div><div class="ttdeci">TriggerInfo_t produceForThreshold(art::Event &amp;event, detinfo::DetectorTimings const &amp;detTimings, ApplyBeamGateClass const &amp;beamGate, std::size_t const iThr, icarus::trigger::ADCCounts_t const thr)</div><div class="ttdoc">Performs the simulation for the specified ADC threshold. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00793">MajorityTriggerSimulation_module.cc:793</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6153a9cad897564005e09257573ff713"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::MajorityTriggerSimulation::produceForThreshold </td>
          <td>(</td>
          <td class="paramtype">art::Event &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdetinfo_1_1DetectorTimings.html">detinfo::DetectorTimings</a> const &amp;&#160;</td>
          <td class="paramname"><em>detTimings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classicarus_1_1trigger_1_1ApplyBeamGateClass.html">ApplyBeamGateClass</a> const &amp;&#160;</td>
          <td class="paramname"><em>beamGate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t const&#160;</td>
          <td class="paramname"><em>iThr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceicarus_1_1trigger.html#a49a4799819d963216971a31116ca8bc4">icarus::trigger::ADCCounts_t</a> const&#160;</td>
          <td class="paramname"><em>thr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs the simulation for the specified ADC threshold. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td><em>art</em> event to read data from and put results into </td></tr>
    <tr><td class="paramname">iThr</td><td>index of the threshold in the configuration </td></tr>
    <tr><td class="paramname">thr</td><td>value of the threshold (ADC counts) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a simple copy of the trigger response information</dd></dl>
<p>For the given threshold, the simulation of the configured trigger is performed. The input data is read from the event (the source tag is from the module configuration), simulation is performed, auxiliary plots are drawn and a <code><a class="el" href="classraw_1_1Trigger.html">raw::Trigger</a></code> collection is stored into the event.</p>
<p>The stored collection contains either one or zero <code><a class="el" href="classraw_1_1Trigger.html">raw::Trigger</a></code> elements.</p>
<p>The simulation itself is performed by the <code><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a9e279ad1ce39096bf94d351e5193e442" title="Performs the simulation of the configured trigger on gates input. ">simulate()</a></code> method. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00793">793</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                   {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <span class="comment">// get the input</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  art::InputTag <span class="keyword">const</span> dataTag = <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a669a264de8d33b790d0d32ef8973cdf3">fADCthresholds</a>.at(thr);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span>&amp; gates = <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3b456e8d5158aa26eb72d5e879dc6bcd">readTriggerGates</a>(event, dataTag);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="comment">// simulate the trigger response</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a> <span class="keyword">const</span> triggerInfo = <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a9e279ad1ce39096bf94d351e5193e442">simulate</a>(beamGate, gates);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="keywordflow">if</span> (triggerInfo) ++<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a2f78981d2920fc967428a83bc42013bd">fTriggerCount</a>[iThr]; <span class="comment">// keep the unique count</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="comment">// fill the plots</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#afec449c4f433da2f63ab0f6df063a215">plotTriggerResponse</a>(iThr, triggerInfo);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="comment">// create and store the data product</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="keyword">auto</span> triggers = std::make_unique&lt;std::vector&lt;raw::Trigger&gt;&gt;();</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keywordflow">if</span> (triggerInfo.fired()) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    triggers-&gt;push_back</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      (<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a73544f8af8cec1427d54af25bbac705d">triggerInfoToTriggerData</a>(<a class="code" href="ExtractEnergyDepositionSummary__module_8cc.html#ac977879c6351c98d7eb034f13e4758a6">detTimings</a>, <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a2f78981d2920fc967428a83bc42013bd">fTriggerCount</a>[iThr], triggerInfo));</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  } <span class="comment">// if</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="keyword">event</span>.put(std::move(triggers), dataTag.instance());</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <span class="keywordflow">return</span> triggerInfo;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;} <span class="comment">// icarus::trigger::MajorityTriggerSimulation::produceForThreshold()</span></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a2f78981d2920fc967428a83bc42013bd"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a2f78981d2920fc967428a83bc42013bd">icarus::trigger::MajorityTriggerSimulation::fTriggerCount</a></div><div class="ttdeci">std::vector&lt; std::atomic&lt; unsigned int &gt; &gt; fTriggerCount</div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00483">MajorityTriggerSimulation_module.cc:483</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a9e279ad1ce39096bf94d351e5193e442"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a9e279ad1ce39096bf94d351e5193e442">icarus::trigger::MajorityTriggerSimulation::simulate</a></div><div class="ttdeci">TriggerInfo_t simulate(ApplyBeamGateClass const &amp;clockData, TriggerGates_t const &amp;gates) const </div><div class="ttdoc">Performs the simulation of the configured trigger on gates input. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00834">MajorityTriggerSimulation_module.cc:834</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a669a264de8d33b790d0d32ef8973cdf3"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a669a264de8d33b790d0d32ef8973cdf3">icarus::trigger::MajorityTriggerSimulation::fADCthresholds</a></div><div class="ttdeci">std::map&lt; icarus::trigger::ADCCounts_t, art::InputTag &gt; fADCthresholds</div><div class="ttdoc">ADC thresholds to read, and the input tag connected to their data. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00445">MajorityTriggerSimulation_module.cc:445</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a11d4cc520446a5b2c80e0aa8ac58e710"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a11d4cc520446a5b2c80e0aa8ac58e710">icarus::trigger::MajorityTriggerSimulation::TriggerInfo_t</a></div><div class="ttdeci">details::TriggerInfo_t TriggerInfo_t</div><div class="ttdoc">Type alias. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00430">MajorityTriggerSimulation_module.cc:430</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a73544f8af8cec1427d54af25bbac705d"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a73544f8af8cec1427d54af25bbac705d">icarus::trigger::MajorityTriggerSimulation::triggerInfoToTriggerData</a></div><div class="ttdeci">raw::Trigger triggerInfoToTriggerData(detinfo::DetectorTimings const &amp;detTimings, unsigned int triggerNumber, TriggerInfo_t const &amp;info) const </div><div class="ttdoc">Converts the trigger information into a raw::Trigger object. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00934">MajorityTriggerSimulation_module.cc:934</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_afec449c4f433da2f63ab0f6df063a215"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#afec449c4f433da2f63ab0f6df063a215">icarus::trigger::MajorityTriggerSimulation::plotTriggerResponse</a></div><div class="ttdeci">void plotTriggerResponse(std::size_t iThr, TriggerInfo_t const &amp;triggerInfo) const </div><div class="ttdoc">Fills the plots for threshold index iThr with trigger information. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00895">MajorityTriggerSimulation_module.cc:895</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a3b456e8d5158aa26eb72d5e879dc6bcd"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3b456e8d5158aa26eb72d5e879dc6bcd">icarus::trigger::MajorityTriggerSimulation::readTriggerGates</a></div><div class="ttdeci">static TriggerGates_t readTriggerGates(art::Event const &amp;event, art::InputTag const &amp;dataTag)</div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00951">MajorityTriggerSimulation_module.cc:951</a></div></div>
<div class="ttc" id="ExtractEnergyDepositionSummary__module_8cc_html_ac977879c6351c98d7eb034f13e4758a6"><div class="ttname"><a href="ExtractEnergyDepositionSummary__module_8cc.html#ac977879c6351c98d7eb034f13e4758a6">detTimings</a></div><div class="ttdeci">fDetProps &amp;fDetProps fDetProps &amp;fDetProps detTimings</div><div class="ttdef"><b>Definition:</b> <a href="ExtractEnergyDepositionSummary__module_8cc_source.html#l00301">ExtractEnergyDepositionSummary_module.cc:301</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3b456e8d5158aa26eb72d5e879dc6bcd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::MajorityTriggerSimulation::readTriggerGates </td>
          <td>(</td>
          <td class="paramtype">art::Event const &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">art::InputTag const &amp;&#160;</td>
          <td class="paramname"><em>dataTag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reads a set of input gates from the <code>event</code> </p>
<dl class="section return"><dt>Returns</dt><dd>trigger gates, converted into <code>InputTriggerGate_t</code> </dd></dl>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00951">951</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;{</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <span class="keyword">using</span> <a class="code" href="namespaceicarus_1_1trigger.html#a910f46c9a8fc50918c7ec07af219aa92">icarus::trigger::OpticalTriggerGateData_t</a>; <span class="comment">// for convenience</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="comment">// currently the associations are a waste of time memory...</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span>&amp; gates</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    = *(<span class="keyword">event</span>.getValidHandle&lt;std::vector&lt;OpticalTriggerGateData_t&gt;&gt;(dataTag));</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span>&amp; gateToWaveforms = *(</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keyword">event</span>.getValidHandle</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      &lt;art::Assns&lt;OpticalTriggerGateData_t, raw::OpDetWaveform&gt;&gt;(dataTag)</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    );</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  </div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordflow">return</span> icarus::trigger::FillTriggerGates&lt;InputTriggerGate_t&gt;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      (gates, gateToWaveforms);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="keywordflow">catch</span> (cet::exception <span class="keyword">const</span>&amp; <a class="code" href="updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a>) {</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;MajorityTriggerSimulation&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, e)</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;Error encountered while reading data products from &#39;&quot;</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      &lt;&lt; dataTag.encode() &lt;&lt; <span class="stringliteral">&quot;&#39;\n&quot;</span>;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;} <span class="comment">// icarus::trigger::MajorityTriggerSimulation::readTriggerGates()</span></div>
<div class="ttc" id="namespaceicarus_1_1trigger_html_a910f46c9a8fc50918c7ec07af219aa92"><div class="ttname"><a href="namespaceicarus_1_1trigger.html#a910f46c9a8fc50918c7ec07af219aa92">icarus::trigger::OpticalTriggerGateData_t</a></div><div class="ttdeci">icarus::trigger::ReadoutTriggerGate&lt; TriggerGateTick_t, TriggerGateTicks_t, raw::Channel_t &gt; OpticalTriggerGateData_t</div><div class="ttdoc">Type of trigger gate data serialized into art data products. </div><div class="ttdef"><b>Definition:</b> <a href="OpticalTriggerGate_8h_source.html#l00044">OpticalTriggerGate.h:44</a></div></div>
<div class="ttc" id="updateVersionList_8sh_html_a067a8c1534d6da9b2c501a6cf4ef89bd"><div class="ttname"><a href="updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a></div><div class="ttdeci">do i e</div><div class="ttdef"><b>Definition:</b> <a href="updateVersionList_8sh_source.html#l00068">updateVersionList.sh:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9e279ad1ce39096bf94d351e5193e442"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::MajorityTriggerSimulation::simulate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classicarus_1_1trigger_1_1ApplyBeamGateClass.html">ApplyBeamGateClass</a> const &amp;&#160;</td>
          <td class="paramname"><em>clockData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3722247ce6c8add9897943a83d078bca">TriggerGates_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>gates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs the simulation of the configured trigger on <code>gates</code> input. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gates</td><td>the input to the trigger simulation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the outcome and details of the trigger simulation</dd></dl>
<p>The simulation is performed using the input single trigger requests (or trigger primitives) from the <code>gates</code> collection.</p>
<p>The gates are split by cryostat, and the simulation is performed independently on each cryostat (<code><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a23c336d9eeea4041dcc02bbdc7984c7d" title="Simulates the trigger response within a single cryostat. ">simulateCryostat()</a></code>). Finally, the cryostat triggers are combined (OR) into the final trigger decision, bearing as time the earliest one. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00834">834</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;{</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="comment">/* </span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">   * 1. split the input by cryostat</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">   * 2. simulate the cryostat trigger</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">   * 3. combine the responses (earliest wins)</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="comment">// to use the splitter we need a *copy* of the gates</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span>&amp; cryoGates = <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#af2371fcb98a5b99642be22b38f10a653">fChannelSplitter</a>.<a class="code" href="classicarus_1_1trigger_1_1GeometryChannelSplitter.html#a1f86ea973241a68fe927a0b55e4a9fb1">byCryostat</a>(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3722247ce6c8add9897943a83d078bca">TriggerGates_t</a>{ gates });</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a> triggerInfo; <span class="comment">// not fired by default</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [ iCryo, gatesInCryo ]: <a class="code" href="namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a>(cryoGates)) {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    triggerInfo.<a class="code" href="structicarus_1_1trigger_1_1details_1_1TriggerInfo__t.html#a00fb9fd69f8c5e78c6c241884b8f1e85">addAndReplaceIfEarlier</a></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      (<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a23c336d9eeea4041dcc02bbdc7984c7d">simulateCryostat</a>(beamGate, iCryo, gatesInCryo));</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  } <span class="comment">// for gates in cryostat</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  triggerInfo.sortOpenings();</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="keywordflow">return</span> triggerInfo;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;} <span class="comment">// icarus::trigger::MajorityTriggerSimulation::simulate()</span></div>
<div class="ttc" id="structicarus_1_1trigger_1_1details_1_1TriggerInfo__t_html_a00fb9fd69f8c5e78c6c241884b8f1e85"><div class="ttname"><a href="structicarus_1_1trigger_1_1details_1_1TriggerInfo__t.html#a00fb9fd69f8c5e78c6c241884b8f1e85">icarus::trigger::details::TriggerInfo_t::addAndReplaceIfEarlier</a></div><div class="ttdeci">bool addAndReplaceIfEarlier(TriggerInfo_t const &amp;other)</div><div class="ttdoc">If other has fired, and at an earlier tick, set a new main(). </div><div class="ttdef"><b>Definition:</b> <a href="TriggerInfo__t_8h_source.html#l00375">TriggerInfo_t.h:375</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a23c336d9eeea4041dcc02bbdc7984c7d"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a23c336d9eeea4041dcc02bbdc7984c7d">icarus::trigger::MajorityTriggerSimulation::simulateCryostat</a></div><div class="ttdeci">TriggerInfo_t simulateCryostat(ApplyBeamGateClass const &amp;beamGate, std::size_t iCryo, TriggerGates_t const &amp;gates) const </div><div class="ttdoc">Simulates the trigger response within a single cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00863">MajorityTriggerSimulation_module.cc:863</a></div></div>
<div class="ttc" id="namespaceutil_html_af0615b7538ff948ea65d5206a23c84f2"><div class="ttname"><a href="namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a></div><div class="ttdeci">auto enumerate(Iterables &amp;&amp;...iterables)</div><div class="ttdoc">Range-for loop helper tracking the number of iteration. </div><div class="ttdef"><b>Definition:</b> <a href="enumerate_8h_source.html#l00069">enumerate.h:69</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a11d4cc520446a5b2c80e0aa8ac58e710"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a11d4cc520446a5b2c80e0aa8ac58e710">icarus::trigger::MajorityTriggerSimulation::TriggerInfo_t</a></div><div class="ttdeci">details::TriggerInfo_t TriggerInfo_t</div><div class="ttdoc">Type alias. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00430">MajorityTriggerSimulation_module.cc:430</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1GeometryChannelSplitter_html_a1f86ea973241a68fe927a0b55e4a9fb1"><div class="ttname"><a href="classicarus_1_1trigger_1_1GeometryChannelSplitter.html#a1f86ea973241a68fe927a0b55e4a9fb1">icarus::trigger::GeometryChannelSplitter::byCryostat</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; GateObj &gt; &gt; byCryostat(std::vector&lt; GateObj &gt; &amp;&amp;gates) const </div><div class="ttdoc">Splits the gates by cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00187">MajorityTriggerSimulation_module.cc:187</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_af2371fcb98a5b99642be22b38f10a653"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#af2371fcb98a5b99642be22b38f10a653">icarus::trigger::MajorityTriggerSimulation::fChannelSplitter</a></div><div class="ttdeci">GeometryChannelSplitter fChannelSplitter</div><div class="ttdoc">Algorithm to sort trigger gates by cryostat or TPC. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00477">MajorityTriggerSimulation_module.cc:477</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a3722247ce6c8add9897943a83d078bca"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3722247ce6c8add9897943a83d078bca">icarus::trigger::MajorityTriggerSimulation::TriggerGates_t</a></div><div class="ttdeci">std::vector&lt; InputTriggerGate_t &gt; TriggerGates_t</div><div class="ttdoc">A list of trigger gates from input. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00436">MajorityTriggerSimulation_module.cc:436</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a23c336d9eeea4041dcc02bbdc7984c7d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::MajorityTriggerSimulation::simulateCryostat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classicarus_1_1trigger_1_1ApplyBeamGateClass.html">ApplyBeamGateClass</a> const &amp;&#160;</td>
          <td class="paramname"><em>beamGate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>iCryo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a3722247ce6c8add9897943a83d078bca">TriggerGates_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>gates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Simulates the trigger response within a single cryostat. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">beamGate</td><td>the beam gate to be applied </td></tr>
    <tr><td class="paramname">iCryo</td><td>index of the cryostat being processed </td></tr>
    <tr><td class="paramname">gates</td><td>the trigger primitives to be considered </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the outcome and details of the trigger simulation</dd></dl>
<p>The simulation computes the count of trigger <code>gates</code> open at any time, sets it in coincidence with the beam gate, and fires a trigger if within that gate the count of open <code>gates</code> is equal or larger than the threshold configured (<code>MinimumPrimitives</code>). The time is the earliest one when that requirement is met. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00863">863</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;{</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="keyword">using</span> <a class="code" href="namespacedetinfo_1_1timescales.html#aafa6c859759c919622c301178d4fe4d6">detinfo::timescales::optical_tick</a>;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  </div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="comment">/* </span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">   * 1. combine the trigger primitives</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">   * 2. apply the beam gate on the combination</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">   * 3. compute the trigger response</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> combinedCount = beamGate.apply(<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a77d80618091473a0a252e60d95ed089e">fCombiner</a>.<a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerCombiner.html#af0c638d28e8ae0158667fa504cc989ce">combine</a>(gates));</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a> triggerInfo;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <a class="code" href="classicarus_1_1trigger_1_1details_1_1GateOpeningInfoExtractor.html">icarus::trigger::details::GateOpeningInfoExtractor</a> extractOpeningInfo</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    { combinedCount, <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a7b2ed4edbe26a93b5b726665a964f270">fMinimumPrimitives</a> };</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  extractOpeningInfo.setLocation(iCryo);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="keywordflow">while</span> (extractOpeningInfo) {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacesortDataLoggerFiles.html#aabcd6b22cdd9f4c3c9c394a72f90183a">info</a> = extractOpeningInfo();</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacesortDataLoggerFiles.html#aabcd6b22cdd9f4c3c9c394a72f90183a">info</a>) triggerInfo.add(<a class="code" href="namespacesortDataLoggerFiles.html#aabcd6b22cdd9f4c3c9c394a72f90183a">info</a>.value());</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  } <span class="comment">// while</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="keywordflow">return</span> triggerInfo;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;} <span class="comment">// icarus::trigger::MajorityTriggerSimulation::simulateCryostat()</span></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a7b2ed4edbe26a93b5b726665a964f270"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a7b2ed4edbe26a93b5b726665a964f270">icarus::trigger::MajorityTriggerSimulation::fMinimumPrimitives</a></div><div class="ttdeci">unsigned int const fMinimumPrimitives</div><div class="ttdoc">Minimum number of trigger primitives for a trigger to happen. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00448">MajorityTriggerSimulation_module.cc:448</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a11d4cc520446a5b2c80e0aa8ac58e710"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a11d4cc520446a5b2c80e0aa8ac58e710">icarus::trigger::MajorityTriggerSimulation::TriggerInfo_t</a></div><div class="ttdeci">details::TriggerInfo_t TriggerInfo_t</div><div class="ttdoc">Type alias. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00430">MajorityTriggerSimulation_module.cc:430</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerCombiner_html_af0c638d28e8ae0158667fa504cc989ce"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerCombiner.html#af0c638d28e8ae0158667fa504cc989ce">icarus::trigger::MajorityTriggerCombiner::combine</a></div><div class="ttdeci">GateObj combine(std::vector&lt; GateObj &gt; const &amp;gates) const </div><div class="ttdoc">Combines all the gates (by cryostat) in a single majority gate. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00103">MajorityTriggerSimulation_module.cc:103</a></div></div>
<div class="ttc" id="namespacedetinfo_1_1timescales_html_aafa6c859759c919622c301178d4fe4d6"><div class="ttname"><a href="namespacedetinfo_1_1timescales.html#aafa6c859759c919622c301178d4fe4d6">detinfo::timescales::optical_tick</a></div><div class="ttdeci">timescale_traits&lt; OpticalTimeCategory &gt;::tick_t optical_tick</div><div class="ttdef"><b>Definition:</b> <a href="DetectorTimingTypes_8h_source.html#l00422">DetectorTimingTypes.h:422</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_a77d80618091473a0a252e60d95ed089e"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a77d80618091473a0a252e60d95ed089e">icarus::trigger::MajorityTriggerSimulation::fCombiner</a></div><div class="ttdeci">MajorityTriggerCombiner const fCombiner</div><div class="ttdoc">Algorithm to combine primitives. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00474">MajorityTriggerSimulation_module.cc:474</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1details_1_1GateOpeningInfoExtractor_html"><div class="ttname"><a href="classicarus_1_1trigger_1_1details_1_1GateOpeningInfoExtractor.html">icarus::trigger::details::GateOpeningInfoExtractor</a></div><div class="ttdoc">Helper to extract OpeningInfo_t from a trigger gate. </div><div class="ttdef"><b>Definition:</b> <a href="TriggerInfo__t_8h_source.html#l00028">TriggerInfo_t.h:28</a></div></div>
<div class="ttc" id="namespacesortDataLoggerFiles_html_aabcd6b22cdd9f4c3c9c394a72f90183a"><div class="ttname"><a href="namespacesortDataLoggerFiles.html#aabcd6b22cdd9f4c3c9c394a72f90183a">sortDataLoggerFiles.info</a></div><div class="ttdeci">tuple info</div><div class="ttdef"><b>Definition:</b> <a href="sortDataLoggerFiles_8py_source.html#l00386">sortDataLoggerFiles.py:386</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a73544f8af8cec1427d54af25bbac705d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classraw_1_1Trigger.html">raw::Trigger</a> icarus::trigger::MajorityTriggerSimulation::triggerInfoToTriggerData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdetinfo_1_1DetectorTimings.html">detinfo::DetectorTimings</a> const &amp;&#160;</td>
          <td class="paramname"><em>detTimings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>triggerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts the trigger information into a <code><a class="el" href="classraw_1_1Trigger.html">raw::Trigger</a></code> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">triggerNumber</td><td>the unique number to assign to this trigger </td></tr>
    <tr><td class="paramname">info</td><td>the information about the fired trigger </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a <code><a class="el" href="classraw_1_1Trigger.html">raw::Trigger</a></code> object with all the information encoded</dd></dl>
<p>The trigger described by <code>info</code> is encoded into a <code><a class="el" href="classraw_1_1Trigger.html">raw::Trigger</a></code> object. The trigger <em>must</em> have fired. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00934">934</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;{</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  assert(<a class="code" href="namespacesortDataLoggerFiles.html#aabcd6b22cdd9f4c3c9c394a72f90183a">info</a>.fired());</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  </div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="keywordflow">return</span> {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    triggerNumber,                                        <span class="comment">// counter</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    double(<a class="code" href="ExtractEnergyDepositionSummary__module_8cc.html#ac977879c6351c98d7eb034f13e4758a6">detTimings</a>.toElectronicsTime(<a class="code" href="namespacesortDataLoggerFiles.html#aabcd6b22cdd9f4c3c9c394a72f90183a">info</a>.atTick())), <span class="comment">// trigger time</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    double(<a class="code" href="ExtractEnergyDepositionSummary__module_8cc.html#ac977879c6351c98d7eb034f13e4758a6">detTimings</a>.BeamGateTime()), <span class="comment">// beam gate in electronics time scale</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <a class="code" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#aec4bb5d03329fd0fca1c05c2a9f105e9">fBeamBits</a>                                             <span class="comment">// bits </span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    };</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  </div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;} <span class="comment">// icarus::trigger::MajorityTriggerSimulation::triggerInfoToTriggerData()</span></div>
<div class="ttc" id="classicarus_1_1trigger_1_1MajorityTriggerSimulation_html_aec4bb5d03329fd0fca1c05c2a9f105e9"><div class="ttname"><a href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#aec4bb5d03329fd0fca1c05c2a9f105e9">icarus::trigger::MajorityTriggerSimulation::fBeamBits</a></div><div class="ttdeci">std::uint32_t fBeamBits</div><div class="ttdoc">Bits for the beam gate being simulated. </div><div class="ttdef"><b>Definition:</b> <a href="MajorityTriggerSimulation__module_8cc_source.html#l00455">MajorityTriggerSimulation_module.cc:455</a></div></div>
<div class="ttc" id="ExtractEnergyDepositionSummary__module_8cc_html_ac977879c6351c98d7eb034f13e4758a6"><div class="ttname"><a href="ExtractEnergyDepositionSummary__module_8cc.html#ac977879c6351c98d7eb034f13e4758a6">detTimings</a></div><div class="ttdeci">fDetProps &amp;fDetProps fDetProps &amp;fDetProps detTimings</div><div class="ttdef"><b>Definition:</b> <a href="ExtractEnergyDepositionSummary__module_8cc_source.html#l00301">ExtractEnergyDepositionSummary_module.cc:301</a></div></div>
<div class="ttc" id="namespacesortDataLoggerFiles_html_aabcd6b22cdd9f4c3c9c394a72f90183a"><div class="ttname"><a href="namespacesortDataLoggerFiles.html#aabcd6b22cdd9f4c3c9c394a72f90183a">sortDataLoggerFiles.info</a></div><div class="ttdeci">tuple info</div><div class="ttdef"><b>Definition:</b> <a href="sortDataLoggerFiles_8py_source.html#l00386">sortDataLoggerFiles.py:386</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a669a264de8d33b790d0d32ef8973cdf3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="namespaceicarus_1_1trigger.html#a49a4799819d963216971a31116ca8bc4">icarus::trigger::ADCCounts_t</a>, art::InputTag&gt; icarus::trigger::MajorityTriggerSimulation::fADCthresholds</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ADC thresholds to read, and the input tag connected to their data. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00445">445</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aec4bb5d03329fd0fca1c05c2a9f105e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::uint32_t icarus::trigger::MajorityTriggerSimulation::fBeamBits</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bits for the beam gate being simulated. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00455">455</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aa374708731e46077434e46aacc8f98e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a5913bc446077543a73c21218abc62c70">microseconds</a> icarus::trigger::MajorityTriggerSimulation::fBeamGateDuration</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Duration of the gate during with global optical triggers are accepted. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00451">451</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="af2371fcb98a5b99642be22b38f10a653"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classicarus_1_1trigger_1_1GeometryChannelSplitter.html">GeometryChannelSplitter</a> icarus::trigger::MajorityTriggerSimulation::fChannelSplitter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Algorithm to sort trigger gates by cryostat or TPC. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00477">477</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a77d80618091473a0a252e60d95ed089e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerCombiner.html">MajorityTriggerCombiner</a> const icarus::trigger::MajorityTriggerSimulation::fCombiner</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Algorithm to combine primitives. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00474">474</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a8e924eaf83efb6cc12f58a8439a65bd7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classicarus_1_1ns_1_1util_1_1ThreadSafeChangeMonitor.html">icarus::ns::util::ThreadSafeChangeMonitor</a>&lt;<a class="el" href="classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a>&gt; icarus::trigger::MajorityTriggerSimulation::fGateChangeCheck</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Functor returning whether a gate has changed. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00490">490</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a19dabddeb6b86a81cc0f431755aefbcf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgeo_1_1GeometryCore.html">geo::GeometryCore</a> const&amp; icarus::trigger::MajorityTriggerSimulation::fGeom</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00464">464</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a3f35bb6cf61d371521debe5964cc5691"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const icarus::trigger::MajorityTriggerSimulation::fLogCategory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Message facility stream category for output. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00458">458</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a7b2ed4edbe26a93b5b726665a964f270"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int const icarus::trigger::MajorityTriggerSimulation::fMinimumPrimitives</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minimum number of trigger primitives for a trigger to happen. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00448">448</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ae56659f7447bd97c5613ce87a6996adb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">art::TFileDirectory icarus::trigger::MajorityTriggerSimulation::fOutputDir</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="namespaceROOT.html">ROOT</a> directory where all the plots are written. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00467">467</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a30348cc6450984b2785d0d74f64ff0f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classicarus_1_1trigger_1_1PlotSandbox.html">icarus::trigger::PlotSandbox</a> icarus::trigger::MajorityTriggerSimulation::fPlots</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>All plots in one practical sandbox. </p>
<p>Count of fired triggers, per threshold. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00480">480</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a8722f10ea4611e41c6c0f0bb985fdb42"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;unsigned int&gt; icarus::trigger::MajorityTriggerSimulation::fTotalEvents { 0U }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Count of fired triggers. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00484">484</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a2f78981d2920fc967428a83bc42013bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::atomic&lt;unsigned int&gt; &gt; icarus::trigger::MajorityTriggerSimulation::fTriggerCount</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00483">483</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a5bcd2f6292da5b5bdc8839ad0229b36d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classicarus_1_1trigger_1_1MajorityTriggerSimulation.html#a0805878bb4a5ea06513a9a52e516c70a">nanoseconds</a> icarus::trigger::MajorityTriggerSimulation::fTriggerTimeResolution</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Trigger resolution in time. </p>

<p>Definition at line <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html#l00453">453</a> of file <a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>icaruscode/icaruscode/PMT/Trigger/<a class="el" href="MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
