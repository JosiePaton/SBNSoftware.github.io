<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>larpandora/larpandora/LArPandoraInterface/LArPandoraGeometry.cxx Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_da4551a5c6e7bf3923624e25b1a0af73.html">larpandora</a></li><li class="navelem"><a class="el" href="dir_7b958f4de002ca6b0ce84ad1a283e2af.html">larpandora</a></li><li class="navelem"><a class="el" href="dir_3012bd21a21c671772164929cde786d6.html">LArPandoraInterface</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">LArPandoraGeometry.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="LArPandoraGeometry_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *  @file   larpandora/LArPandoraInterface/LArPandoraGeometry.cxx</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  @brief  Helper functions for extracting detector geometry for use in reconsruction</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;cetlib_except/exception.h&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Geometry_8h.html">larcore/Geometry/Geometry.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PlaneGeo_8h.html">larcorealg/Geometry/PlaneGeo.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TPCGeo_8h.html">larcorealg/Geometry/TPCGeo.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="WireGeo_8h.html">larcorealg/Geometry/WireGeo.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LArPandoraDetectorType_8h.html">larpandora/LArPandoraInterface/Detectors/LArPandoraDetectorType.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LArPandoraGeometry_8h.html">larpandora/LArPandoraInterface/LArPandoraGeometry.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;iomanip&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">namespace </span>lar_pandora {</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;  <span class="keywordtype">void</span></div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="classlar__pandora_1_1LArPandoraGeometry.html#a1129f1129e45e838e8e77d942780e612">   23</a></span>&#160;  <a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#a1129f1129e45e838e8e77d942780e612">LArPandoraGeometry::LoadDetectorGaps</a>(<a class="code" href="namespacelar__pandora.html#ab3fa6d5bb184ca2eaebf55abeb013911">LArDetectorGapList</a>&amp; listOfGaps,</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;                                       <span class="keyword">const</span> <span class="keywordtype">bool</span> useActiveBoundingBox)</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="comment">// Detector gaps can only be loaded once - throw an exception if the output lists are already filled</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">if</span> (!listOfGaps.empty())</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;      <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;LArPandora&quot;</span>)</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; LArPandoraGeometry::LoadDetectorGaps --- the list of gaps already exists &quot;</span>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="comment">// Loop over drift volumes and write out the dead regions at their boundaries</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="namespacelar__pandora.html#add236802097121a9172b59e760aae555">LArDriftVolumeList</a> driftVolumeList;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#a937c0e8684b1720355c72a245a153199">LArPandoraGeometry::LoadGeometry</a>(driftVolumeList, useActiveBoundingBox);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="classlar__pandora_1_1LArPandoraDetectorType.html">LArPandoraDetectorType</a>* detType(<a class="code" href="namespacelar__pandora_1_1detector__functions.html#a8f989229c15e22af2c82091ea5190723">detector_functions::GetDetectorType</a>());</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">for</span> (LArDriftVolumeList::const_iterator iter1 = driftVolumeList.begin(),</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                                            iterEnd1 = driftVolumeList.end();</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;         iter1 != iterEnd1;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;         ++iter1) {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlar__pandora_1_1LArDriftVolume.html">LArDriftVolume</a>&amp; driftVolume1 = *iter1;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;      <span class="keywordflow">for</span> (LArDriftVolumeList::const_iterator iter2 = iter1, iterEnd2 = driftVolumeList.end();</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;           iter2 != iterEnd2;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;           ++iter2) {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keyword">const</span> <a class="code" href="classlar__pandora_1_1LArDriftVolume.html">LArDriftVolume</a>&amp; driftVolume2 = *iter2;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="keywordflow">if</span> (driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#aaf0d6d126d8e4fd6762484ba2ca87135">GetVolumeID</a>() == driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#aaf0d6d126d8e4fd6762484ba2ca87135">GetVolumeID</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> maxDisplacement(<a class="code" href="classlar__pandora_1_1LArDetectorGap.html#ab180647a810d84651683fd83f7024aea">LArDetectorGap::GetMaxGapSize</a>());</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> deltaX(std::fabs(driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a9a8203639afee13b25eeea8dd25545f4">GetCenterX</a>() - driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a9a8203639afee13b25eeea8dd25545f4">GetCenterX</a>()));</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> deltaY(std::fabs(driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a1761e3f944dc53791e547a543e0765f7">GetCenterY</a>() - driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a1761e3f944dc53791e547a543e0765f7">GetCenterY</a>()));</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> deltaZ(std::fabs(driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a15838fe0e107427d4b1cc16ad6364bed">GetCenterZ</a>() - driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a15838fe0e107427d4b1cc16ad6364bed">GetCenterZ</a>()));</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> widthX(0.5f * (driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a9e2e8356a1e4be6af4ec48e3bd3f16c5">GetWidthX</a>() + driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a9e2e8356a1e4be6af4ec48e3bd3f16c5">GetWidthX</a>()));</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> widthY(0.5f * (driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#ab52c720cb9c4ec3e8af4b3e5189572b5">GetWidthY</a>() + driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#ab52c720cb9c4ec3e8af4b3e5189572b5">GetWidthY</a>()));</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> widthZ(0.5f * (driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a43ee85d9f27d37f4ae19efe6bd982fd6">GetWidthZ</a>() + driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a43ee85d9f27d37f4ae19efe6bd982fd6">GetWidthZ</a>()));</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> gapX(deltaX - widthX);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> gapY(deltaY - widthY);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> gapZ(deltaZ - widthZ);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> X1((driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a9a8203639afee13b25eeea8dd25545f4">GetCenterX</a>() &lt; driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a9a8203639afee13b25eeea8dd25545f4">GetCenterX</a>()) ?</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                         (driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a9a8203639afee13b25eeea8dd25545f4">GetCenterX</a>() + 0.5f * driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a9e2e8356a1e4be6af4ec48e3bd3f16c5">GetWidthX</a>()) :</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                         (driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a9a8203639afee13b25eeea8dd25545f4">GetCenterX</a>() + 0.5f * driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a9e2e8356a1e4be6af4ec48e3bd3f16c5">GetWidthX</a>()));</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> X2((driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a9a8203639afee13b25eeea8dd25545f4">GetCenterX</a>() &gt; driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a9a8203639afee13b25eeea8dd25545f4">GetCenterX</a>()) ?</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                         (driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a9a8203639afee13b25eeea8dd25545f4">GetCenterX</a>() - 0.5f * driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a9e2e8356a1e4be6af4ec48e3bd3f16c5">GetWidthX</a>()) :</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                         (driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a9a8203639afee13b25eeea8dd25545f4">GetCenterX</a>() - 0.5f * driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a9e2e8356a1e4be6af4ec48e3bd3f16c5">GetWidthX</a>()));</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="radiological__gen_8fcl.html#a1851d8a6832960fe5e1015b3d4e01b7c">Y1</a>(std::min((driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a1761e3f944dc53791e547a543e0765f7">GetCenterY</a>() - 0.5f * driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#ab52c720cb9c4ec3e8af4b3e5189572b5">GetWidthY</a>()),</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                (driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a1761e3f944dc53791e547a543e0765f7">GetCenterY</a>() - 0.5f * driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#ab52c720cb9c4ec3e8af4b3e5189572b5">GetWidthY</a>())));</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> Y2(std::max((driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a1761e3f944dc53791e547a543e0765f7">GetCenterY</a>() + 0.5f * driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#ab52c720cb9c4ec3e8af4b3e5189572b5">GetWidthY</a>()),</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                                (driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a1761e3f944dc53791e547a543e0765f7">GetCenterY</a>() + 0.5f * driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#ab52c720cb9c4ec3e8af4b3e5189572b5">GetWidthY</a>())));</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="radiological__gen_8fcl.html#a6370f4bd3181962c736d2dafee029edf">Z1</a>(std::min((driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a15838fe0e107427d4b1cc16ad6364bed">GetCenterZ</a>() - 0.5f * driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a43ee85d9f27d37f4ae19efe6bd982fd6">GetWidthZ</a>()),</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                                (driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a15838fe0e107427d4b1cc16ad6364bed">GetCenterZ</a>() - 0.5f * driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a43ee85d9f27d37f4ae19efe6bd982fd6">GetWidthZ</a>())));</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> Z2(std::max((driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a15838fe0e107427d4b1cc16ad6364bed">GetCenterZ</a>() + 0.5f * driftVolume1.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a43ee85d9f27d37f4ae19efe6bd982fd6">GetWidthZ</a>()),</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                                (driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a15838fe0e107427d4b1cc16ad6364bed">GetCenterZ</a>() + 0.5f * driftVolume2.<a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a43ee85d9f27d37f4ae19efe6bd982fd6">GetWidthZ</a>())));</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <a class="code" href="namespacegeo.html#a22d2a7c73b2795146b92cd54ded9e817">geo::Vector_t</a> gaps(gapX, gapY, gapZ), deltas(deltaX, deltaY, deltaZ);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">if</span> (detType-&gt;<a class="code" href="classlar__pandora_1_1LArPandoraDetectorType.html#a34894e97bcb1ee60c4296e6e31b18981">CheckDetectorGapSize</a>(gaps, deltas, maxDisplacement)) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;          <a class="code" href="namespacegeo.html#a5a6f22c2aa9d0ccf6ca08bf2773a0541">geo::Point_t</a> point1(X1, <a class="code" href="radiological__gen_8fcl.html#a1851d8a6832960fe5e1015b3d4e01b7c">Y1</a>, <a class="code" href="radiological__gen_8fcl.html#a6370f4bd3181962c736d2dafee029edf">Z1</a>), point2(X2, Y2, Z2);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;          <a class="code" href="namespacegeo.html#a22d2a7c73b2795146b92cd54ded9e817">geo::Vector_t</a> widths(widthX, widthY, widthZ);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;          listOfGaps.emplace_back(detType-&gt;<a class="code" href="classlar__pandora_1_1LArPandoraDetectorType.html#a5de6d14fae471cc83633496652e7b2a5">CreateDetectorGap</a>(point1, point2, widths));</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      detType-&gt;<a class="code" href="classlar__pandora_1_1LArPandoraDetectorType.html#a56a89f01e40b726fd16d063e26b8b756">LoadDaughterDetectorGaps</a>(driftVolume1, <a class="code" href="classlar__pandora_1_1LArDetectorGap.html#ab180647a810d84651683fd83f7024aea">LArDetectorGap::GetMaxGapSize</a>(), listOfGaps);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordtype">void</span></div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="classlar__pandora_1_1LArPandoraGeometry.html#a937c0e8684b1720355c72a245a153199">   94</a></span>&#160;  <a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#a937c0e8684b1720355c72a245a153199">LArPandoraGeometry::LoadGeometry</a>(<a class="code" href="namespacelar__pandora.html#add236802097121a9172b59e760aae555">LArDriftVolumeList</a>&amp; outputVolumeList,</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                   <a class="code" href="namespacelar__pandora.html#ae83b9ff1988fc3839b1903b64e72d045">LArDriftVolumeMap</a>&amp; outputVolumeMap,</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                                   <span class="keyword">const</span> <span class="keywordtype">bool</span> useActiveBoundingBox)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">if</span> (!outputVolumeList.empty())</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;LArPandora&quot;</span>)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; LArPandoraGeometry::LoadGeometry --- the list of drift volumes already exists &quot;</span>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#a937c0e8684b1720355c72a245a153199">LArPandoraGeometry::LoadGeometry</a>(outputVolumeList, useActiveBoundingBox);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">// Create mapping between tpc/cstat labels and drift volumes</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classlar__pandora_1_1LArDriftVolume.html">LArDriftVolume</a>&amp; driftVolume : outputVolumeList) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classlar__pandora_1_1LArDaughterDriftVolume.html">LArDaughterDriftVolume</a>&amp; tpcVolume : driftVolume.GetTpcVolumeList()) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        (<a class="code" href="namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">void</a>)outputVolumeMap.insert(LArDriftVolumeMap::value_type(</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;          <a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#ae64de69b265d284aa2fd0c88ded52e5d">LArPandoraGeometry::GetTpcID</a>(tpcVolume.GetCryostat(), tpcVolume.GetTpc()), driftVolume));</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="classlar__pandora_1_1LArPandoraGeometry.html#aa82a4df94067e113c4e239e9b8070883">  116</a></span>&#160;  <a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#aa82a4df94067e113c4e239e9b8070883">LArPandoraGeometry::GetVolumeID</a>(<span class="keyword">const</span> <a class="code" href="namespacelar__pandora.html#ae83b9ff1988fc3839b1903b64e72d045">LArDriftVolumeMap</a>&amp; driftVolumeMap,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                                  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cstat,</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tpc)</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span> (driftVolumeMap.empty())</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;LArPandora&quot;</span>)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; LArPandoraGeometry::GetVolumeID --- detector geometry map is empty&quot;</span>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    LArDriftVolumeMap::const_iterator iter =</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      driftVolumeMap.find(<a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#ae64de69b265d284aa2fd0c88ded52e5d">LArPandoraGeometry::GetTpcID</a>(cstat, tpc));</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">if</span> (driftVolumeMap.end() == iter)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;LArPandora&quot;</span>)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; LArPandoraGeometry::GetVolumeID --- found a TPC that doesn&#39;t belong to a drift volume&quot;</span>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">return</span> iter-&gt;second.GetVolumeID();</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classlar__pandora_1_1LArPandoraGeometry.html#a828601369ea86736af4fee7b585c4e4c">  137</a></span>&#160;  <a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#a828601369ea86736af4fee7b585c4e4c">LArPandoraGeometry::GetDaughterVolumeID</a>(<span class="keyword">const</span> <a class="code" href="namespacelar__pandora.html#ae83b9ff1988fc3839b1903b64e72d045">LArDriftVolumeMap</a>&amp; driftVolumeMap,</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                          <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cstat,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                          <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tpc)</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span> (driftVolumeMap.empty())</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;LArPandora&quot;</span>)</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; LArPandoraGeometry::GetDaughterVolumeID --- detector geometry map is empty&quot;</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    LArDriftVolumeMap::const_iterator iter =</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      driftVolumeMap.find(<a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#ae64de69b265d284aa2fd0c88ded52e5d">LArPandoraGeometry::GetTpcID</a>(cstat, tpc));</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">if</span> (driftVolumeMap.end() == iter)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;LArPandora&quot;</span>) &lt;&lt; <span class="stringliteral">&quot; LArPandoraGeometry::GetDaughterVolumeID --- found a &quot;</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                            <span class="stringliteral">&quot;TPC volume that doesn&#39;t belong to a drift volume&quot;</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">for</span> (LArDaughterDriftVolumeList::const_iterator</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;           iterDghtr = iter-&gt;second.GetTpcVolumeList().begin(),</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;           iterDghtrEnd = iter-&gt;second.GetTpcVolumeList().end();</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;         iterDghtr != iterDghtrEnd;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;         ++iterDghtr) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlar__pandora_1_1LArDaughterDriftVolume.html">LArDaughterDriftVolume</a>&amp; daughterVolume(*iterDghtr);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="keywordflow">if</span> (cstat == daughterVolume.<a class="code" href="classlar__pandora_1_1LArDaughterDriftVolume.html#a6ead41b2e4276629ed4b9ec860cbe036">GetCryostat</a>() &amp;&amp; tpc == daughterVolume.<a class="code" href="classlar__pandora_1_1LArDaughterDriftVolume.html#a645351acc6fd21ecd5842e5f450337a8">GetTpc</a>())</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">return</span> std::distance(iter-&gt;second.GetTpcVolumeList().begin(), iterDghtr);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;LArPandora&quot;</span>)</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; LArPandoraGeometry::GetDaughterVolumeID --- found a daughter volume that doesn&#39;t belong &quot;</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;         <span class="stringliteral">&quot;to the drift volume &quot;</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="namespacegeo.html#a6baec40eaf3ff161f7eb1a5f0779794f">geo::View_t</a></div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="classlar__pandora_1_1LArPandoraGeometry.html#adb01b1fdc49f34f4d4b0723e84be07ef">  169</a></span>&#160;  <a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#adb01b1fdc49f34f4d4b0723e84be07ef">LArPandoraGeometry::GetGlobalView</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cstat,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                                    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tpc,</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="namespacegeo.html#a6baec40eaf3ff161f7eb1a5f0779794f">geo::View_t</a> hit_View)</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> switchUV(<a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#a6b783aab9aaf85cd70ee7ebace77d015">LArPandoraGeometry::ShouldSwitchUV</a>(cstat, tpc));</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">// ATTN This implicitly assumes that there will be u, v and (maybe) one of either w or y views</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span> ((hit_View == <a class="code" href="namespacegeo.html#aca2efd2e6b858cf0a9c12384c3b2f486a7aa5678675f243c5e03583de1bfe1b4e">geo::kW</a>) || (hit_View == <a class="code" href="namespacegeo.html#aca2efd2e6b858cf0a9c12384c3b2f486a85071fd2271c89f98fa3d4fb2086f9eb">geo::kY</a>)) { <span class="keywordflow">return</span> hit_View; }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hit_View == <a class="code" href="namespacegeo.html#aca2efd2e6b858cf0a9c12384c3b2f486ae2842cacc3d7d281d01b4316380b8d5b">geo::kU</a>) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="keywordflow">return</span> (switchUV ? <a class="code" href="namespacegeo.html#aca2efd2e6b858cf0a9c12384c3b2f486aea23122caaaed75b787c745a188871f6">geo::kV</a> : <a class="code" href="namespacegeo.html#aca2efd2e6b858cf0a9c12384c3b2f486ae2842cacc3d7d281d01b4316380b8d5b">geo::kU</a>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hit_View == <a class="code" href="namespacegeo.html#aca2efd2e6b858cf0a9c12384c3b2f486aea23122caaaed75b787c745a188871f6">geo::kV</a>) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="keywordflow">return</span> (switchUV ? <a class="code" href="namespacegeo.html#aca2efd2e6b858cf0a9c12384c3b2f486ae2842cacc3d7d281d01b4316380b8d5b">geo::kU</a> : <a class="code" href="namespacegeo.html#aca2efd2e6b858cf0a9c12384c3b2f486aea23122caaaed75b787c745a188871f6">geo::kV</a>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;LArPandora&quot;</span>)</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; LArPandoraGeometry::GetGlobalView --- found an unknown plane view (not U, V or W) &quot;</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="classlar__pandora_1_1LArPandoraGeometry.html#ae64de69b265d284aa2fd0c88ded52e5d">  192</a></span>&#160;  <a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#ae64de69b265d284aa2fd0c88ded52e5d">LArPandoraGeometry::GetTpcID</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cstat, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tpc)</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">// We assume there will never be more than 10000 TPCs in a cryostat!</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span> (tpc &gt;= 10000)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;LArPandora&quot;</span>)</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; LArPandoraGeometry::GetTpcID --- found a TPC with an ID greater than 10000 &quot;</span>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">return</span> ((10000 * cstat) + tpc);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="classlar__pandora_1_1LArPandoraGeometry.html#a6b783aab9aaf85cd70ee7ebace77d015">  205</a></span>&#160;  <a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#a6b783aab9aaf85cd70ee7ebace77d015">LArPandoraGeometry::ShouldSwitchUV</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cstat, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tpc)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">// We determine whether U and V views should be switched by checking the drift direction</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    art::ServiceHandle&lt;geo::Geometry const&gt; theGeometry;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keyword">const</span> <a class="code" href="classgeo_1_1TPCGeo.html">geo::TPCGeo</a>&amp; theTpc(theGeometry-&gt;TPC(tpc, cstat));</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> isPositiveDrift(theTpc.DriftDirection() == <a class="code" href="namespacegeo.html#a1b5150a78645f276a21647cc0b48fb69a540355ba5bfe18985f585e362f847483">geo::kPosX</a>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#a6b783aab9aaf85cd70ee7ebace77d015">LArPandoraGeometry::ShouldSwitchUV</a>(isPositiveDrift);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="classlar__pandora_1_1LArPandoraGeometry.html#a6a60546305934c3821af353a0351e623">  218</a></span>&#160;  <a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#a6b783aab9aaf85cd70ee7ebace77d015">LArPandoraGeometry::ShouldSwitchUV</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> isPositiveDrift)</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// ATTN: In the dual phase scenario the wire planes pointing along two orthogonal directions and so interchanging U and V is unnecessary</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    art::ServiceHandle&lt;geo::Geometry const&gt; theGeometry;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">if</span> (theGeometry-&gt;MaxPlanes() == 2) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// We assume that all multiple drift volume detectors have the APA - CPA - APA - CPA design</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span> isPositiveDrift;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordtype">void</span></div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classlar__pandora_1_1LArPandoraGeometry.html#ab25763bf3045983d8ecf0e992760f57f">  231</a></span>&#160;  <a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#a937c0e8684b1720355c72a245a153199">LArPandoraGeometry::LoadGeometry</a>(<a class="code" href="namespacelar__pandora.html#add236802097121a9172b59e760aae555">LArDriftVolumeList</a>&amp; driftVolumeList,</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                   <span class="keyword">const</span> <span class="keywordtype">bool</span> useActiveBoundingBox)</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">// This method will group TPCs into &quot;drift volumes&quot; (these are regions of the detector that share a common drift direction,</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="comment">// common range of x coordinates, and common detector parameters such as wire pitch and wire angle).</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span> (!driftVolumeList.empty())</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;LArPandora&quot;</span>)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; LArPandoraGeometry::LoadGeometry --- detector geometry has already been loaded &quot;</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keyword">typedef</span> std::set&lt;unsigned int&gt; UIntSet;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="comment">// Pandora requires three independent images, and ability to correlate features between images (via wire angles and transformation plugin).</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    art::ServiceHandle&lt;geo::Geometry const&gt; theGeometry;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="classlar__pandora_1_1LArPandoraDetectorType.html">LArPandoraDetectorType</a>* detType(<a class="code" href="namespacelar__pandora_1_1detector__functions.html#a8f989229c15e22af2c82091ea5190723">detector_functions::GetDetectorType</a>());</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> wirePitchU(detType-&gt;<a class="code" href="classlar__pandora_1_1LArPandoraDetectorType.html#a62fe1ebff7cf5f957557594f490033b3">WirePitchU</a>());</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> wirePitchV(detType-&gt;<a class="code" href="classlar__pandora_1_1LArPandoraDetectorType.html#a7203a2a39a6f346d2efdb6dbdf85c3e2">WirePitchV</a>());</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> wirePitchW(detType-&gt;<a class="code" href="classlar__pandora_1_1LArPandoraDetectorType.html#a1c401dd1fcccd73f1a8412941c45b877">WirePitchW</a>());</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> maxDeltaTheta(0.01f); <span class="comment">// leave this hard-coded for now</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">// Loop over cryostats</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> icstat = 0; icstat &lt; theGeometry-&gt;Ncryostats(); ++icstat) {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      UIntSet cstatList;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="comment">// Loop over TPCs in in this cryostat</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> itpc1 = 0; itpc1 &lt; theGeometry-&gt;NTPC(icstat); ++itpc1) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">if</span> (cstatList.end() != cstatList.find(itpc1)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="comment">// Use this TPC to seed a drift volume</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keyword">const</span> <a class="code" href="classgeo_1_1TPCGeo.html">geo::TPCGeo</a>&amp; theTpc1(theGeometry-&gt;TPC(itpc1, icstat));</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        cstatList.insert(itpc1);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> wireAngleU(detType-&gt;<a class="code" href="classlar__pandora_1_1LArPandoraDetectorType.html#a96a936d5048ee28ddf89f57bd8f25ff1">WireAngleU</a>(itpc1, icstat));</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> wireAngleV(detType-&gt;<a class="code" href="classlar__pandora_1_1LArPandoraDetectorType.html#a1d774832fe15cc1ea43ccb464d639fb3">WireAngleV</a>(itpc1, icstat));</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> wireAngleW(detType-&gt;<a class="code" href="classlar__pandora_1_1LArPandoraDetectorType.html#a01b68a7391a96dd6de391fef5282f6b4">WireAngleW</a>(itpc1, icstat));</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordtype">double</span> localCoord1[3] = {0., 0., 0.};</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordtype">double</span> worldCoord1[3] = {0., 0., 0.};</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        theTpc1.<a class="code" href="classgeo_1_1TPCGeo.html#a3f663d96f6fe0ad88a84fa7dd0c9fc77">LocalToWorld</a>(localCoord1, worldCoord1);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordtype">float</span> driftMinX(useActiveBoundingBox ? theTpc1.ActiveBoundingBox().MinX() :</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                                               (worldCoord1[0] - theTpc1.ActiveHalfWidth()));</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordtype">float</span> driftMaxX(useActiveBoundingBox ? theTpc1.ActiveBoundingBox().MaxX() :</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                               (worldCoord1[0] + theTpc1.ActiveHalfWidth()));</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordtype">float</span> driftMinY(useActiveBoundingBox ? theTpc1.ActiveBoundingBox().MinY() :</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                               (worldCoord1[1] - theTpc1.ActiveHalfHeight()));</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordtype">float</span> driftMaxY(useActiveBoundingBox ? theTpc1.ActiveBoundingBox().MaxY() :</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                                               (worldCoord1[1] + theTpc1.ActiveHalfHeight()));</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordtype">float</span> driftMinZ(useActiveBoundingBox ? theTpc1.ActiveBoundingBox().MinZ() :</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                                               (worldCoord1[2] - 0.5f * theTpc1.ActiveLength()));</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordtype">float</span> driftMaxZ(useActiveBoundingBox ? theTpc1.ActiveBoundingBox().MaxZ() :</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                                               (worldCoord1[2] + 0.5f * theTpc1.ActiveLength()));</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> min1(</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;          useActiveBoundingBox ?</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            (0.5 * (driftMinX + driftMaxX) - 0.25 * std::fabs(driftMaxX - driftMinX)) :</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            (worldCoord1[0] - 0.5 * theTpc1.ActiveHalfWidth()));</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> max1(</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;          useActiveBoundingBox ?</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            (0.5 * (driftMinX + driftMaxX) + 0.25 * std::fabs(driftMaxX - driftMinX)) :</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            (worldCoord1[0] + 0.5 * theTpc1.ActiveHalfWidth()));</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> isPositiveDrift(theTpc1.DriftDirection() == <a class="code" href="namespacegeo.html#a1b5150a78645f276a21647cc0b48fb69a540355ba5bfe18985f585e362f847483">geo::kPosX</a>);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        UIntSet tpcList;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        tpcList.insert(itpc1);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <a class="code" href="namespacelar__pandora.html#a1b9a6f44513b96b5033855b4a6329097">LArDaughterDriftVolumeList</a> tpcVolumeList;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        tpcVolumeList.emplace_back(<a class="code" href="classlar__pandora_1_1LArDaughterDriftVolume.html">LArDaughterDriftVolume</a>(icstat,</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                                                          itpc1,</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                                                          0.5f * (driftMaxX + driftMinX),</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                                                          0.5f * (driftMaxY + driftMinY),</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                                                          0.5f * (driftMaxZ + driftMinZ),</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                                                          (driftMaxX - driftMinX),</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                                          (driftMaxY - driftMinY),</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                                                          (driftMaxZ - driftMinZ)));</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="comment">// Now identify the other TPCs associated with this drift volume</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> itpc2 = itpc1 + 1; itpc2 &lt; theGeometry-&gt;NTPC(icstat); ++itpc2) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;          <span class="keywordflow">if</span> (cstatList.end() != cstatList.find(itpc2)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;          <span class="keyword">const</span> <a class="code" href="classgeo_1_1TPCGeo.html">geo::TPCGeo</a>&amp; theTpc2(theGeometry-&gt;TPC(itpc2, icstat));</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;          <span class="keywordflow">if</span> (theTpc1.DriftDirection() != theTpc2.DriftDirection()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">float</span> dThetaU(detType-&gt;<a class="code" href="classlar__pandora_1_1LArPandoraDetectorType.html#a96a936d5048ee28ddf89f57bd8f25ff1">WireAngleU</a>(itpc1, icstat) -</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                              detType-&gt;<a class="code" href="classlar__pandora_1_1LArPandoraDetectorType.html#a96a936d5048ee28ddf89f57bd8f25ff1">WireAngleU</a>(itpc2, icstat));</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">float</span> dThetaV(detType-&gt;<a class="code" href="classlar__pandora_1_1LArPandoraDetectorType.html#a1d774832fe15cc1ea43ccb464d639fb3">WireAngleV</a>(itpc1, icstat) -</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                              detType-&gt;<a class="code" href="classlar__pandora_1_1LArPandoraDetectorType.html#a1d774832fe15cc1ea43ccb464d639fb3">WireAngleV</a>(itpc2, icstat));</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">float</span> dThetaW(detType-&gt;<a class="code" href="classlar__pandora_1_1LArPandoraDetectorType.html#a01b68a7391a96dd6de391fef5282f6b4">WireAngleW</a>(itpc1, icstat) -</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                              detType-&gt;<a class="code" href="classlar__pandora_1_1LArPandoraDetectorType.html#a01b68a7391a96dd6de391fef5282f6b4">WireAngleW</a>(itpc2, icstat));</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;          <span class="keywordflow">if</span> (dThetaU &gt; maxDeltaTheta || dThetaV &gt; maxDeltaTheta || dThetaW &gt; maxDeltaTheta)</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;          <span class="keywordtype">double</span> localCoord2[3] = {0., 0., 0.};</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;          <span class="keywordtype">double</span> worldCoord2[3] = {0., 0., 0.};</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;          theTpc2.<a class="code" href="classgeo_1_1TPCGeo.html#a3f663d96f6fe0ad88a84fa7dd0c9fc77">LocalToWorld</a>(localCoord2, worldCoord2);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">float</span> driftMinX2(useActiveBoundingBox ?</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                                   theTpc2.ActiveBoundingBox().MinX() :</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                                   (worldCoord2[0] - theTpc2.ActiveHalfWidth()));</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">float</span> driftMaxX2(useActiveBoundingBox ?</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                                   theTpc2.ActiveBoundingBox().MaxX() :</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                                   (worldCoord2[0] + theTpc2.ActiveHalfWidth()));</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">double</span> min2(</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            useActiveBoundingBox ?</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;              (0.5 * (driftMinX2 + driftMaxX2) - 0.25 * std::fabs(driftMaxX2 - driftMinX2)) :</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;              (worldCoord2[0] - 0.5 * theTpc2.ActiveHalfWidth()));</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">double</span> max2(</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            useActiveBoundingBox ?</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;              (0.5 * (driftMinX2 + driftMaxX2) + 0.25 * std::fabs(driftMaxX2 - driftMinX2)) :</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;              (worldCoord2[0] + 0.5 * theTpc2.ActiveHalfWidth()));</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;          <span class="keywordflow">if</span> ((min2 &gt; max1) || (min1 &gt; max2)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;          cstatList.insert(itpc2);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;          tpcList.insert(itpc2);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">float</span> driftMinY2(useActiveBoundingBox ?</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                                   theTpc2.ActiveBoundingBox().MinY() :</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                                   (worldCoord2[1] - theTpc2.ActiveHalfHeight()));</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">float</span> driftMaxY2(useActiveBoundingBox ?</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                   theTpc2.ActiveBoundingBox().MaxY() :</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                                   (worldCoord2[1] + theTpc2.ActiveHalfHeight()));</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">float</span> driftMinZ2(useActiveBoundingBox ?</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                                   theTpc2.ActiveBoundingBox().MinZ() :</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                                   (worldCoord2[2] - 0.5f * theTpc2.ActiveLength()));</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">float</span> driftMaxZ2(useActiveBoundingBox ?</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                                   theTpc2.ActiveBoundingBox().MaxZ() :</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                                   (worldCoord2[2] + 0.5f * theTpc2.ActiveLength()));</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;          driftMinX = std::min(driftMinX, driftMinX2);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;          driftMaxX = std::max(driftMaxX, driftMaxX2);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;          driftMinY = std::min(driftMinY, driftMinY2);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;          driftMaxY = std::max(driftMaxY, driftMaxY2);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;          driftMinZ = std::min(driftMinZ, driftMinZ2);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;          driftMaxZ = std::max(driftMaxZ, driftMaxZ2);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;          tpcVolumeList.emplace_back(<a class="code" href="classlar__pandora_1_1LArDaughterDriftVolume.html">LArDaughterDriftVolume</a>(icstat,</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                                                            itpc2,</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                                                            0.5f * (driftMaxX2 + driftMinX2),</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                                                            0.5f * (driftMaxY2 + driftMinY2),</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                                                            0.5f * (driftMaxZ2 + driftMinZ2),</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                                            (driftMaxX2 - driftMinX2),</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                                                            (driftMaxY2 - driftMinY2),</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                                                            (driftMaxZ2 - driftMinZ2)));</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="comment">// Create new daughter drift volume (volume ID = 0 to N-1)</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        driftVolumeList.emplace_back(driftVolumeList.size(),</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                                     isPositiveDrift,</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                     wirePitchU,</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                     wirePitchV,</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                                     wirePitchW,</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                                     wireAngleU,</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                                     wireAngleV,</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                                     wireAngleW,</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                                     0.5f * (driftMaxX + driftMinX),</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                     0.5f * (driftMaxY + driftMinY),</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                                     0.5f * (driftMaxZ + driftMinZ),</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                                     (driftMaxX - driftMinX),</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                                     (driftMaxY - driftMinY),</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                                     (driftMaxZ - driftMinZ),</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                                     (wirePitchU + wirePitchV + wirePitchW + 0.1f),</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                                     tpcVolumeList);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">if</span> (driftVolumeList.empty())</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;LArPandora&quot;</span>) &lt;&lt; <span class="stringliteral">&quot; LArPandoraGeometry::LoadGeometry --- failed to find &quot;</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                                            <span class="stringliteral">&quot;any drift volumes in this detector geometry &quot;</span>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordtype">void</span></div>
<div class="line"><a name="l00407"></a><span class="lineno"><a class="line" href="classlar__pandora_1_1LArPandoraGeometry.html#af3bae7d3ad0f3954eafae04682848067">  407</a></span>&#160;  <a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#af3bae7d3ad0f3954eafae04682848067">LArPandoraGeometry::LoadGlobalDaughterGeometry</a>(<span class="keyword">const</span> <a class="code" href="namespacelar__pandora.html#add236802097121a9172b59e760aae555">LArDriftVolumeList</a>&amp; driftVolumeList,</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                                                 <a class="code" href="namespacelar__pandora.html#add236802097121a9172b59e760aae555">LArDriftVolumeList</a>&amp; daughterVolumeList)</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="comment">// This method will create one or more daughter volumes (these share a common drift orientation along the X-axis,</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="comment">// have parallel or near-parallel wire angles, and similar wire pitches)</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="comment">// ATTN: we assume that the U and V planes have equal and opposite wire orientations</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">if</span> (!daughterVolumeList.empty())</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;LArPandora&quot;</span>) &lt;&lt; <span class="stringliteral">&quot; LArPandoraGeometry::LoadGlobalDaughterGeometry --- &quot;</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                                            <span class="stringliteral">&quot;daughter geometry has already been loaded &quot;</span>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">if</span> (driftVolumeList.empty())</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;LArPandora&quot;</span>) &lt;&lt; <span class="stringliteral">&quot; LArPandoraGeometry::LoadGlobalDaughterGeometry --- &quot;</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                                            <span class="stringliteral">&quot;detector geometry has not yet been loaded &quot;</span>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <a class="code" href="messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;The size of the drif list is: &quot;</span> &lt;&lt; driftVolumeList.size() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="IntegerRanges__test_8cc.html#abbc7e5f346bfa932ca51b4b07ccef76d">count</a>(0);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// Create daughter drift volumes</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classlar__pandora_1_1LArDriftVolume.html">LArDriftVolume</a>&amp; driftVolume : driftVolumeList) {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <a class="code" href="messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Looking at dau vol: &quot;</span> &lt;&lt; count++ &lt;&lt; std::endl;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">bool</span> switchViews(<a class="code" href="classlar__pandora_1_1LArPandoraGeometry.html#a6b783aab9aaf85cd70ee7ebace77d015">LArPandoraGeometry::ShouldSwitchUV</a>(driftVolume.IsPositiveDrift()));</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">float</span> daughterWirePitchU(switchViews ? driftVolume.GetWirePitchV() :</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                                                   driftVolume.GetWirePitchU());</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">float</span> daughterWirePitchV(switchViews ? driftVolume.GetWirePitchU() :</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                                                   driftVolume.GetWirePitchV());</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">float</span> daughterWirePitchW(driftVolume.GetWirePitchW());</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">float</span> daughterWireAngleU(switchViews ? driftVolume.GetWireAngleV() :</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                                                   driftVolume.GetWireAngleU());</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">float</span> daughterWireAngleV(switchViews ? driftVolume.GetWireAngleU() :</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                                                   driftVolume.GetWireAngleV());</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">float</span> daughterWireAngleW(driftVolume.GetWireAngleW());</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      daughterVolumeList.push_back(<a class="code" href="classlar__pandora_1_1LArDriftVolume.html">LArDriftVolume</a>(driftVolume.GetVolumeID(),</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                                                  driftVolume.IsPositiveDrift(),</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                                                  daughterWirePitchU,</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                                                  daughterWirePitchV,</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                                                  daughterWirePitchW,</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                                                  daughterWireAngleU,</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                                                  daughterWireAngleV,</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                                                  daughterWireAngleW,</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                                                  driftVolume.GetCenterX(),</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                                                  driftVolume.GetCenterY(),</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                                                  driftVolume.GetCenterZ(),</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                                                  driftVolume.GetWidthX(),</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                                                  driftVolume.GetWidthY(),</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                                                  driftVolume.GetWidthZ(),</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                                                  driftVolume.GetSigmaUVZ(),</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                                                  driftVolume.GetTpcVolumeList()));</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">if</span> (daughterVolumeList.empty())</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;LArPandora&quot;</span>) &lt;&lt; <span class="stringliteral">&quot; LArPandoraGeometry::LoadGlobalDaughterGeometry --- &quot;</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                                            <span class="stringliteral">&quot;failed to create daughter geometry list &quot;</span>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="classlar__pandora_1_1LArDriftVolume.html#a783253198a5f175b9473141dea8b635c">  467</a></span>&#160;  <a class="code" href="classlar__pandora_1_1LArDriftVolume.html#a783253198a5f175b9473141dea8b635c">LArDriftVolume::LArDriftVolume</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> volumeID,</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">bool</span> isPositiveDrift,</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">float</span> wirePitchU,</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">float</span> wirePitchV,</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">float</span> wirePitchW,</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">float</span> wireAngleU,</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">float</span> wireAngleV,</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">float</span> wireAngleW,</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">float</span> centerX,</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">float</span> centerY,</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">float</span> centerZ,</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">float</span> widthX,</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">float</span> widthY,</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">float</span> widthZ,</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">float</span> sigmaUVZ,</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="namespacelar__pandora.html#a1b9a6f44513b96b5033855b4a6329097">LArDaughterDriftVolumeList</a>&amp; tpcVolumeList)</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    : m_volumeID(volumeID)</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    , m_isPositiveDrift(isPositiveDrift)</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    , m_wirePitchU(wirePitchU)</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    , m_wirePitchV(wirePitchV)</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    , m_wirePitchW(wirePitchW)</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    , m_wireAngleU(wireAngleU)</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    , m_wireAngleV(wireAngleV)</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    , m_wireAngleW(wireAngleW)</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    , m_centerX(centerX)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    , m_centerY(centerY)</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    , m_centerZ(centerZ)</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    , m_widthX(widthX)</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    , m_widthY(widthY)</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    , m_widthZ(widthZ)</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    , m_sigmaUVZ(sigmaUVZ)</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    , m_tpcVolumeList(tpcVolumeList)</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  {}</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;} <span class="comment">// namespace lar_pandora</span></div>
<div class="ttc" id="classlar__pandora_1_1LArDriftVolume_html_a43ee85d9f27d37f4ae19efe6bd982fd6"><div class="ttname"><a href="classlar__pandora_1_1LArDriftVolume.html#a43ee85d9f27d37f4ae19efe6bd982fd6">lar_pandora::LArDriftVolume::GetWidthZ</a></div><div class="ttdeci">float GetWidthZ() const </div><div class="ttdoc">Return Z span of drift volume. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8h_source.html#l00682">LArPandoraGeometry.h:682</a></div></div>
<div class="ttc" id="namespacegeo_html_a22d2a7c73b2795146b92cd54ded9e817"><div class="ttname"><a href="namespacegeo.html#a22d2a7c73b2795146b92cd54ded9e817">geo::Vector_t</a></div><div class="ttdeci">ROOT::Math::DisplacementVector3D&lt; ROOT::Math::Cartesian3D&lt; double &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Vector_t</div><div class="ttdoc">Type for representation of momenta in 3D space. </div><div class="ttdef"><b>Definition:</b> <a href="geo__vectors_8h_source.html#l00164">geo_vectors.h:164</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraGeometry_html_adb01b1fdc49f34f4d4b0723e84be07ef"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraGeometry.html#adb01b1fdc49f34f4d4b0723e84be07ef">lar_pandora::LArPandoraGeometry::GetGlobalView</a></div><div class="ttdeci">static geo::View_t GetGlobalView(const unsigned int cstat, const unsigned int tpc, const geo::View_t hit_View)</div><div class="ttdoc">Convert to global coordinate system. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8cxx_source.html#l00169">LArPandoraGeometry.cxx:169</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArDaughterDriftVolume_html"><div class="ttname"><a href="classlar__pandora_1_1LArDaughterDriftVolume.html">lar_pandora::LArDaughterDriftVolume</a></div><div class="ttdoc">daughter drift volume class to hold properties of daughter drift volumes </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8h_source.html#l00091">LArPandoraGeometry.h:91</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraGeometry_html_a937c0e8684b1720355c72a245a153199"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraGeometry.html#a937c0e8684b1720355c72a245a153199">lar_pandora::LArPandoraGeometry::LoadGeometry</a></div><div class="ttdeci">static void LoadGeometry(LArDriftVolumeList &amp;outputVolumeList, LArDriftVolumeMap &amp;outputVolumeMap, const bool useActiveBoundingBox)</div><div class="ttdoc">Load drift volume geometry. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8cxx_source.html#l00094">LArPandoraGeometry.cxx:94</a></div></div>
<div class="ttc" id="radiological__gen_8fcl_html_a1851d8a6832960fe5e1015b3d4e01b7c"><div class="ttname"><a href="radiological__gen_8fcl.html#a1851d8a6832960fe5e1015b3d4e01b7c">Y1</a></div><div class="ttdeci">BEGIN_PROLOG supported so bottom corner of box bottom corner of box bottom corner of box top corner of box Y1</div><div class="ttdef"><b>Definition:</b> <a href="radiological__gen_8fcl_source.html#l00016">radiological_gen.fcl:16</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArDriftVolume_html_a783253198a5f175b9473141dea8b635c"><div class="ttname"><a href="classlar__pandora_1_1LArDriftVolume.html#a783253198a5f175b9473141dea8b635c">lar_pandora::LArDriftVolume::LArDriftVolume</a></div><div class="ttdeci">LArDriftVolume(const unsigned int volumeID, const bool isPositiveDrift, const float wirePitchU, const float wirePitchV, const float wirePitchW, const float wireAngleU, const float wireAngleV, const float wireAngleW, const float centerX, const float centerY, const float centerZ, const float widthX, const float widthY, const float widthZ, const float sigmaUVZ, const LArDaughterDriftVolumeList &amp;tpcVolumeList)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8cxx_source.html#l00467">LArPandoraGeometry.cxx:467</a></div></div>
<div class="ttc" id="LArPandoraGeometry_8h_html"><div class="ttname"><a href="LArPandoraGeometry_8h.html">LArPandoraGeometry.h</a></div><div class="ttdoc">Helper functions for extracting detector geometry for use in reconsruction. </div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraDetectorType_html_a96a936d5048ee28ddf89f57bd8f25ff1"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraDetectorType.html#a96a936d5048ee28ddf89f57bd8f25ff1">lar_pandora::LArPandoraDetectorType::WireAngleU</a></div><div class="ttdeci">virtual float WireAngleU(const geo::TPCID::TPCID_t tpc, const geo::CryostatID::CryostatID_t cstat) const =0</div><div class="ttdoc">The angle of the wires in the mapped U view. </div></div>
<div class="ttc" id="namespacegeo_html_a6baec40eaf3ff161f7eb1a5f0779794f"><div class="ttname"><a href="namespacegeo.html#a6baec40eaf3ff161f7eb1a5f0779794f">geo::View_t</a></div><div class="ttdeci">enum geo::_plane_proj View_t</div><div class="ttdoc">Enumerate the possible plane projections. </div></div>
<div class="ttc" id="namespacegeo_html_aca2efd2e6b858cf0a9c12384c3b2f486aea23122caaaed75b787c745a188871f6"><div class="ttname"><a href="namespacegeo.html#aca2efd2e6b858cf0a9c12384c3b2f486aea23122caaaed75b787c745a188871f6">geo::kV</a></div><div class="ttdoc">Planes which measure V. </div><div class="ttdef"><b>Definition:</b> <a href="geo__types_8h_source.html#l00130">geo_types.h:130</a></div></div>
<div class="ttc" id="namespacelar__pandora_html_ae83b9ff1988fc3839b1903b64e72d045"><div class="ttname"><a href="namespacelar__pandora.html#ae83b9ff1988fc3839b1903b64e72d045">lar_pandora::LArDriftVolumeMap</a></div><div class="ttdeci">std::map&lt; unsigned int, LArDriftVolume &gt; LArDriftVolumeMap</div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8h_source.html#l00315">LArPandoraGeometry.h:315</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArDaughterDriftVolume_html_a6ead41b2e4276629ed4b9ec860cbe036"><div class="ttname"><a href="classlar__pandora_1_1LArDaughterDriftVolume.html#a6ead41b2e4276629ed4b9ec860cbe036">lar_pandora::LArDaughterDriftVolume::GetCryostat</a></div><div class="ttdeci">unsigned int GetCryostat() const </div><div class="ttdoc">Return cryostat ID. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8h_source.html#l00513">LArPandoraGeometry.h:513</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraDetectorType_html"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraDetectorType.html">lar_pandora::LArPandoraDetectorType</a></div><div class="ttdoc">Empty interface to map pandora to specifics in the LArSoft geometry. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraDetectorType_8h_source.html#l00025">LArPandoraDetectorType.h:25</a></div></div>
<div class="ttc" id="classgeo_1_1TPCGeo_html"><div class="ttname"><a href="classgeo_1_1TPCGeo.html">geo::TPCGeo</a></div><div class="ttdoc">Geometry information for a single TPC. </div><div class="ttdef"><b>Definition:</b> <a href="TPCGeo_8h_source.html#l00038">TPCGeo.h:38</a></div></div>
<div class="ttc" id="namespacelar__pandora_html_add236802097121a9172b59e760aae555"><div class="ttname"><a href="namespacelar__pandora.html#add236802097121a9172b59e760aae555">lar_pandora::LArDriftVolumeList</a></div><div class="ttdeci">std::vector&lt; LArDriftVolume &gt; LArDriftVolumeList</div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8h_source.html#l00314">LArPandoraGeometry.h:314</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraGeometry_html_aa82a4df94067e113c4e239e9b8070883"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraGeometry.html#aa82a4df94067e113c4e239e9b8070883">lar_pandora::LArPandoraGeometry::GetVolumeID</a></div><div class="ttdeci">static unsigned int GetVolumeID(const LArDriftVolumeMap &amp;driftVolumeMap, const unsigned int cstat, const unsigned int tpc)</div><div class="ttdoc">Get drift volume ID from a specified cryostat/tpc pair. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8cxx_source.html#l00116">LArPandoraGeometry.cxx:116</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraDetectorType_html_a34894e97bcb1ee60c4296e6e31b18981"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraDetectorType.html#a34894e97bcb1ee60c4296e6e31b18981">lar_pandora::LArPandoraDetectorType::CheckDetectorGapSize</a></div><div class="ttdeci">virtual bool CheckDetectorGapSize(const geo::Vector_t &amp;gaps, const geo::Vector_t &amp;deltas, const float maxDisplacement) const =0</div><div class="ttdoc">Check whether a gap size is small enough to be registered as a detector gap. </div></div>
<div class="ttc" id="namespacegeo_html_aca2efd2e6b858cf0a9c12384c3b2f486a85071fd2271c89f98fa3d4fb2086f9eb"><div class="ttname"><a href="namespacegeo.html#aca2efd2e6b858cf0a9c12384c3b2f486a85071fd2271c89f98fa3d4fb2086f9eb">geo::kY</a></div><div class="ttdoc">Planes which measure Y direction. </div><div class="ttdef"><b>Definition:</b> <a href="geo__types_8h_source.html#l00133">geo_types.h:133</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArDriftVolume_html_a15838fe0e107427d4b1cc16ad6364bed"><div class="ttname"><a href="classlar__pandora_1_1LArDriftVolume.html#a15838fe0e107427d4b1cc16ad6364bed">lar_pandora::LArDriftVolume::GetCenterZ</a></div><div class="ttdeci">float GetCenterZ() const </div><div class="ttdoc">Return Z position at centre of drift volume. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8h_source.html#l00658">LArPandoraGeometry.h:658</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraGeometry_html_a828601369ea86736af4fee7b585c4e4c"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraGeometry.html#a828601369ea86736af4fee7b585c4e4c">lar_pandora::LArPandoraGeometry::GetDaughterVolumeID</a></div><div class="ttdeci">static unsigned int GetDaughterVolumeID(const LArDriftVolumeMap &amp;driftVolumeMap, const unsigned int cstat, const unsigned int tpc)</div><div class="ttdoc">Get daughter volume ID from a specified cryostat/tpc pair. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8cxx_source.html#l00137">LArPandoraGeometry.cxx:137</a></div></div>
<div class="ttc" id="namespacegeo_html_aca2efd2e6b858cf0a9c12384c3b2f486ae2842cacc3d7d281d01b4316380b8d5b"><div class="ttname"><a href="namespacegeo.html#aca2efd2e6b858cf0a9c12384c3b2f486ae2842cacc3d7d281d01b4316380b8d5b">geo::kU</a></div><div class="ttdoc">Planes which measure U. </div><div class="ttdef"><b>Definition:</b> <a href="geo__types_8h_source.html#l00129">geo_types.h:129</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraDetectorType_html_a1d774832fe15cc1ea43ccb464d639fb3"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraDetectorType.html#a1d774832fe15cc1ea43ccb464d639fb3">lar_pandora::LArPandoraDetectorType::WireAngleV</a></div><div class="ttdeci">virtual float WireAngleV(const geo::TPCID::TPCID_t tpc, const geo::CryostatID::CryostatID_t cstat) const =0</div><div class="ttdoc">The angle of the wires in the mapped V view. </div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraGeometry_html_ae64de69b265d284aa2fd0c88ded52e5d"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraGeometry.html#ae64de69b265d284aa2fd0c88ded52e5d">lar_pandora::LArPandoraGeometry::GetTpcID</a></div><div class="ttdeci">static unsigned int GetTpcID(const unsigned int cstat, const unsigned int tpc)</div><div class="ttdoc">Generate a unique identifier for each TPC. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8cxx_source.html#l00192">LArPandoraGeometry.cxx:192</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraDetectorType_html_a62fe1ebff7cf5f957557594f490033b3"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraDetectorType.html#a62fe1ebff7cf5f957557594f490033b3">lar_pandora::LArPandoraDetectorType::WirePitchU</a></div><div class="ttdeci">virtual float WirePitchU() const =0</div><div class="ttdoc">The wire pitch of the mapped U view. </div></div>
<div class="ttc" id="classlar__pandora_1_1LArDriftVolume_html_a9a8203639afee13b25eeea8dd25545f4"><div class="ttname"><a href="classlar__pandora_1_1LArDriftVolume.html#a9a8203639afee13b25eeea8dd25545f4">lar_pandora::LArDriftVolume::GetCenterX</a></div><div class="ttdeci">float GetCenterX() const </div><div class="ttdoc">Return X position at centre of drift volume. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8h_source.html#l00642">LArPandoraGeometry.h:642</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArDriftVolume_html_aaf0d6d126d8e4fd6762484ba2ca87135"><div class="ttname"><a href="classlar__pandora_1_1LArDriftVolume.html#aaf0d6d126d8e4fd6762484ba2ca87135">lar_pandora::LArDriftVolume::GetVolumeID</a></div><div class="ttdeci">unsigned int GetVolumeID() const </div><div class="ttdoc">Return unique ID. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8h_source.html#l00578">LArPandoraGeometry.h:578</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraDetectorType_html_a01b68a7391a96dd6de391fef5282f6b4"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraDetectorType.html#a01b68a7391a96dd6de391fef5282f6b4">lar_pandora::LArPandoraDetectorType::WireAngleW</a></div><div class="ttdeci">virtual float WireAngleW(const geo::TPCID::TPCID_t tpc, const geo::CryostatID::CryostatID_t cstat) const =0</div><div class="ttdoc">The angle of the wires in the mapped V view. </div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraDetectorType_html_a1c401dd1fcccd73f1a8412941c45b877"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraDetectorType.html#a1c401dd1fcccd73f1a8412941c45b877">lar_pandora::LArPandoraDetectorType::WirePitchW</a></div><div class="ttdeci">virtual float WirePitchW() const =0</div><div class="ttdoc">The wire pitch of the mapped W view. </div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraGeometry_html_a6b783aab9aaf85cd70ee7ebace77d015"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraGeometry.html#a6b783aab9aaf85cd70ee7ebace77d015">lar_pandora::LArPandoraGeometry::ShouldSwitchUV</a></div><div class="ttdeci">static bool ShouldSwitchUV(const unsigned int cstat, const unsigned int tpc)</div><div class="ttdoc">Return whether U/V should be switched in global coordinate system for this cryostat/tpc. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8cxx_source.html#l00205">LArPandoraGeometry.cxx:205</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraGeometry_html_af3bae7d3ad0f3954eafae04682848067"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraGeometry.html#af3bae7d3ad0f3954eafae04682848067">lar_pandora::LArPandoraGeometry::LoadGlobalDaughterGeometry</a></div><div class="ttdeci">static void LoadGlobalDaughterGeometry(const LArDriftVolumeList &amp;driftVolumeList, LArDriftVolumeList &amp;daughterVolumeList)</div><div class="ttdoc">This method will create one or more daughter volumes (these share a common drift orientation along th...</div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8cxx_source.html#l00407">LArPandoraGeometry.cxx:407</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraGeometry_html_a1129f1129e45e838e8e77d942780e612"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraGeometry.html#a1129f1129e45e838e8e77d942780e612">lar_pandora::LArPandoraGeometry::LoadDetectorGaps</a></div><div class="ttdeci">static void LoadDetectorGaps(LArDetectorGapList &amp;listOfGaps, const bool useActiveBoundingBox)</div><div class="ttdoc">Load the 2D gaps that go with the chosen geometry. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8cxx_source.html#l00023">LArPandoraGeometry.cxx:23</a></div></div>
<div class="ttc" id="namespacenlohmann_1_1detail_html_a59fca69799f6b9e366710cb9043aa77d"><div class="ttname"><a href="namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">nlohmann::detail::void</a></div><div class="ttdeci">j template void())</div><div class="ttdef"><b>Definition:</b> <a href="json_8hpp_source.html#l03108">json.hpp:3108</a></div></div>
<div class="ttc" id="radiological__gen_8fcl_html_a6370f4bd3181962c736d2dafee029edf"><div class="ttname"><a href="radiological__gen_8fcl.html#a6370f4bd3181962c736d2dafee029edf">Z1</a></div><div class="ttdeci">BEGIN_PROLOG supported so bottom corner of box bottom corner of box bottom corner of box top corner of box top corner of box Z1</div><div class="ttdef"><b>Definition:</b> <a href="radiological__gen_8fcl_source.html#l00016">radiological_gen.fcl:16</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraDetectorType_html_a56a89f01e40b726fd16d063e26b8b756"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraDetectorType.html#a56a89f01e40b726fd16d063e26b8b756">lar_pandora::LArPandoraDetectorType::LoadDaughterDetectorGaps</a></div><div class="ttdeci">virtual void LoadDaughterDetectorGaps(const LArDriftVolume &amp;driftVolume, const float maxDisplacement, LArDetectorGapList &amp;listOfGaps) const =0</div><div class="ttdoc">Create detector gaps for all daughter volumes in a logical TPC volume. </div></div>
<div class="ttc" id="WireGeo_8h_html"><div class="ttname"><a href="WireGeo_8h.html">WireGeo.h</a></div><div class="ttdoc">Encapsulate the geometry of a wire. </div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraDetectorType_html_a7203a2a39a6f346d2efdb6dbdf85c3e2"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraDetectorType.html#a7203a2a39a6f346d2efdb6dbdf85c3e2">lar_pandora::LArPandoraDetectorType::WirePitchV</a></div><div class="ttdeci">virtual float WirePitchV() const =0</div><div class="ttdoc">The wire pitch of the mapped V view. </div></div>
<div class="ttc" id="namespacelar__pandora_html_a1b9a6f44513b96b5033855b4a6329097"><div class="ttname"><a href="namespacelar__pandora.html#a1b9a6f44513b96b5033855b4a6329097">lar_pandora::LArDaughterDriftVolumeList</a></div><div class="ttdeci">std::vector&lt; LArDaughterDriftVolume &gt; LArDaughterDriftVolumeList</div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8h_source.html#l00165">LArPandoraGeometry.h:165</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArPandoraDetectorType_html_a5de6d14fae471cc83633496652e7b2a5"><div class="ttname"><a href="classlar__pandora_1_1LArPandoraDetectorType.html#a5de6d14fae471cc83633496652e7b2a5">lar_pandora::LArPandoraDetectorType::CreateDetectorGap</a></div><div class="ttdeci">virtual LArDetectorGap CreateDetectorGap(const geo::Point_t &amp;point1, const geo::Point_t &amp;point2, const geo::Vector_t &amp;widths) const =0</div><div class="ttdoc">Create a detector gap. </div></div>
<div class="ttc" id="classlar__pandora_1_1LArDetectorGap_html_ab180647a810d84651683fd83f7024aea"><div class="ttname"><a href="classlar__pandora_1_1LArDetectorGap.html#ab180647a810d84651683fd83f7024aea">lar_pandora::LArDetectorGap::GetMaxGapSize</a></div><div class="ttdeci">static float GetMaxGapSize() noexcept</div><div class="ttdoc">Get maximum gap size. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8h_source.html#l00484">LArPandoraGeometry.h:484</a></div></div>
<div class="ttc" id="namespacelar__pandora_1_1detector__functions_html_a8f989229c15e22af2c82091ea5190723"><div class="ttname"><a href="namespacelar__pandora_1_1detector__functions.html#a8f989229c15e22af2c82091ea5190723">lar_pandora::detector_functions::GetDetectorType</a></div><div class="ttdeci">LArPandoraDetectorType * GetDetectorType()</div><div class="ttdoc">Factory class that returns the correct detector type interface. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraDetectorType_8cxx_source.html#l00022">LArPandoraDetectorType.cxx:22</a></div></div>
<div class="ttc" id="namespacegeo_html_a1b5150a78645f276a21647cc0b48fb69a540355ba5bfe18985f585e362f847483"><div class="ttname"><a href="namespacegeo.html#a1b5150a78645f276a21647cc0b48fb69a540355ba5bfe18985f585e362f847483">geo::kPosX</a></div><div class="ttdoc">Drift towards positive X values. </div><div class="ttdef"><b>Definition:</b> <a href="geo__types_8h_source.html#l00161">geo_types.h:161</a></div></div>
<div class="ttc" id="PlaneGeo_8h_html"><div class="ttname"><a href="PlaneGeo_8h.html">PlaneGeo.h</a></div><div class="ttdoc">Encapsulate the construction of a single detector plane. </div></div>
<div class="ttc" id="namespacelar__pandora_html_ab3fa6d5bb184ca2eaebf55abeb013911"><div class="ttname"><a href="namespacelar__pandora.html#ab3fa6d5bb184ca2eaebf55abeb013911">lar_pandora::LArDetectorGapList</a></div><div class="ttdeci">std::vector&lt; LArDetectorGap &gt; LArDetectorGapList</div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraDetectorType_8h_source.html#l00019">LArPandoraDetectorType.h:19</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArDriftVolume_html_ab52c720cb9c4ec3e8af4b3e5189572b5"><div class="ttname"><a href="classlar__pandora_1_1LArDriftVolume.html#ab52c720cb9c4ec3e8af4b3e5189572b5">lar_pandora::LArDriftVolume::GetWidthY</a></div><div class="ttdeci">float GetWidthY() const </div><div class="ttdoc">Return Y span of drift volume. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8h_source.html#l00674">LArPandoraGeometry.h:674</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArDriftVolume_html_a1761e3f944dc53791e547a543e0765f7"><div class="ttname"><a href="classlar__pandora_1_1LArDriftVolume.html#a1761e3f944dc53791e547a543e0765f7">lar_pandora::LArDriftVolume::GetCenterY</a></div><div class="ttdeci">float GetCenterY() const </div><div class="ttdoc">Return Y position at centre of drift volume. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8h_source.html#l00650">LArPandoraGeometry.h:650</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArDriftVolume_html"><div class="ttname"><a href="classlar__pandora_1_1LArDriftVolume.html">lar_pandora::LArDriftVolume</a></div><div class="ttdoc">drift volume class to hold properties of drift volume </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8h_source.html#l00173">LArPandoraGeometry.h:173</a></div></div>
<div class="ttc" id="namespacegeo_html_aca2efd2e6b858cf0a9c12384c3b2f486a7aa5678675f243c5e03583de1bfe1b4e"><div class="ttname"><a href="namespacegeo.html#aca2efd2e6b858cf0a9c12384c3b2f486a7aa5678675f243c5e03583de1bfe1b4e">geo::kW</a></div><div class="ttdoc">Planes which measure W (third view for Bo, MicroBooNE, etc). </div><div class="ttdef"><b>Definition:</b> <a href="geo__types_8h_source.html#l00131">geo_types.h:131</a></div></div>
<div class="ttc" id="classlar__pandora_1_1LArDriftVolume_html_a9e2e8356a1e4be6af4ec48e3bd3f16c5"><div class="ttname"><a href="classlar__pandora_1_1LArDriftVolume.html#a9e2e8356a1e4be6af4ec48e3bd3f16c5">lar_pandora::LArDriftVolume::GetWidthX</a></div><div class="ttdeci">float GetWidthX() const </div><div class="ttdoc">Return X span of drift volume. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8h_source.html#l00666">LArPandoraGeometry.h:666</a></div></div>
<div class="ttc" id="IntegerRanges__test_8cc_html_abbc7e5f346bfa932ca51b4b07ccef76d"><div class="ttname"><a href="IntegerRanges__test_8cc.html#abbc7e5f346bfa932ca51b4b07ccef76d">count</a></div><div class="ttdeci">std::size_t count(Cont const &amp;cont)</div><div class="ttdef"><b>Definition:</b> <a href="IntegerRanges__test_8cc_source.html#l00029">IntegerRanges_test.cc:29</a></div></div>
<div class="ttc" id="namespacegeo_html_a5a6f22c2aa9d0ccf6ca08bf2773a0541"><div class="ttname"><a href="namespacegeo.html#a5a6f22c2aa9d0ccf6ca08bf2773a0541">geo::Point_t</a></div><div class="ttdeci">ROOT::Math::PositionVector3D&lt; ROOT::Math::Cartesian3D&lt; double &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Point_t</div><div class="ttdoc">Type for representation of position in physical 3D space. </div><div class="ttdef"><b>Definition:</b> <a href="geo__vectors_8h_source.html#l00184">geo_vectors.h:184</a></div></div>
<div class="ttc" id="LArPandoraDetectorType_8h_html"><div class="ttname"><a href="LArPandoraDetectorType_8h.html">LArPandoraDetectorType.h</a></div><div class="ttdoc">Helper functions for extracting detector geometry for use in reconsruction. </div></div>
<div class="ttc" id="classgeo_1_1TPCGeo_html_a3f663d96f6fe0ad88a84fa7dd0c9fc77"><div class="ttname"><a href="classgeo_1_1TPCGeo.html#a3f663d96f6fe0ad88a84fa7dd0c9fc77">geo::TPCGeo::LocalToWorld</a></div><div class="ttdeci">void LocalToWorld(const double *tpc, double *world) const </div><div class="ttdoc">Transform point from local TPC frame to world frame. </div><div class="ttdef"><b>Definition:</b> <a href="TPCGeo_8h_source.html#l00563">TPCGeo.h:563</a></div></div>
<div class="ttc" id="Geometry_8h_html"><div class="ttname"><a href="Geometry_8h.html">Geometry.h</a></div><div class="ttdoc">art framework interface to geometry description </div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="TPCGeo_8h_html"><div class="ttname"><a href="TPCGeo_8h.html">TPCGeo.h</a></div><div class="ttdoc">Encapsulate the construction of a single detector plane. </div></div>
<div class="ttc" id="classlar__pandora_1_1LArDaughterDriftVolume_html_a645351acc6fd21ecd5842e5f450337a8"><div class="ttname"><a href="classlar__pandora_1_1LArDaughterDriftVolume.html#a645351acc6fd21ecd5842e5f450337a8">lar_pandora::LArDaughterDriftVolume::GetTpc</a></div><div class="ttdeci">unsigned int GetTpc() const </div><div class="ttdoc">Return tpc ID. </div><div class="ttdef"><b>Definition:</b> <a href="LArPandoraGeometry_8h_source.html#l00521">LArPandoraGeometry.h:521</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
