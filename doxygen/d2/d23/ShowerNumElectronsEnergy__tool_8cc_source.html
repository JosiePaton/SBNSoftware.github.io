<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ShowerNumElectronsEnergy_tool.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b73b02d482d1c4a3db20c3d9ad52d395.html">srcs</a></li><li class="navelem"><a class="el" href="../../dir_7b61cea19fd37d64215770ce9dbe963e.html">larpandora</a></li><li class="navelem"><a class="el" href="../../dir_84c11875fc646db7590648aa4c1ca2ee.html">larpandora</a></li><li class="navelem"><a class="el" href="../../dir_537e9cf603e67ecc5c69ad013933ed62.html">LArPandoraEventBuilding</a></li><li class="navelem"><a class="el" href="../../dir_d460a658210bec774785fde9503cbfb7.html">LArPandoraShower</a></li><li class="navelem"><a class="el" href="../../dir_01e5e3630ede3322d7aa2f073434bc33.html">Tools</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ShowerNumElectronsEnergy_tool.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d2/d23/ShowerNumElectronsEnergy__tool_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//############################################################################</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//### Name:        ShowerNumElectronsEnergy                                ###</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//### Author:      Tom Ham                                                 ###</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//### Date:        01/04/2020                                              ###</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//### Description: Tool for finding the Energy of the shower by going      ###</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//###              from number of hits -&gt; number of electrons -&gt; energy.   ###</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//###              Derived from the linear energy algorithm, written for   ###</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//###              the EMShower_module.cc                                  ###</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//############################################################################</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//Framework Includes</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;art/Utilities/ToolMacros.h&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//LArSoft Includes</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d09/PhysicalConstants_8h.html">larcoreobj/SimpleTypesAndConstants/PhysicalConstants.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d77/Cluster_8h.html">lardataobj/RecoBase/Cluster.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d2d/IShowerTool_8h.html">larpandora/LArPandoraEventBuilding/LArPandoraShower/Tools/IShowerTool.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d4b/CalorimetryAlg_8h.html">larreco/Calorimetry/CalorimetryAlg.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//C++ Includes</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">namespace </span>ShowerRecoTools {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html">   25</a></span>&#160;  <span class="keyword">class </span><a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html">ShowerNumElectronsEnergy</a> : <a class="code" href="../../df/d77/classShowerRecoTools_1_1IShowerTool.html">IShowerTool</a> {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a69c5000bca0113f880b4472c0d3e8e35">ShowerNumElectronsEnergy</a>(<span class="keyword">const</span> fhicl::ParameterSet&amp; pset);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="comment">//Physics Function. Calculate the shower Energy.</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#ad917c46a183c7cf5f4cc25bf032cf67b">CalculateElement</a>(<span class="keyword">const</span> art::Ptr&lt;recob::PFParticle&gt;&amp; pfparticle,</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                         art::Event&amp; Event,</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                         <a class="code" href="../../d2/d47/classreco_1_1shower_1_1ShowerElementHolder.html">reco::shower::ShowerElementHolder</a>&amp; ShowerElementHolder) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a105807968854c9a48db7d34c9274e9be">CalculateEnergy</a>(<span class="keyword">const</span> <a class="code" href="../../d0/dc3/classdetinfo_1_1DetectorClocksData.html">detinfo::DetectorClocksData</a>&amp; clockData,</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                           <span class="keyword">const</span> <a class="code" href="../../d1/d11/classdetinfo_1_1DetectorPropertiesData.html">detinfo::DetectorPropertiesData</a>&amp; <a class="code" href="../../d2/d1a/namespacedetsim.html#a560adbb3abf95a23d45a53ed25d8c0c7">detProp</a>,</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                           <span class="keyword">const</span> <a class="code" href="../../db/dfa/namespacelar_1_1dump.html#a71d4403edbac4d265176f8677118194f">std::vector</a>&lt;art::Ptr&lt;recob::Hit&gt;&gt;&amp; hits,</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                           <span class="keyword">const</span> <a class="code" href="../../d4/d41/structgeo_1_1PlaneID.html#abf7d62dd39e4ff6c1f1046a76416448e">geo::PlaneID::PlaneID_t</a> plane) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a15831e87f1982aacbe5370dc5085f737">   41</a></span>&#160;    art::InputTag <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a15831e87f1982aacbe5370dc5085f737">fPFParticleLabel</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#ad05accce9ee82ada833909748192d7cc">   42</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#ad05accce9ee82ada833909748192d7cc">fVerbose</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a0e3dfb53e2afd68f9479a7fcaadde1f0">   44</a></span>&#160;    std::string <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a0e3dfb53e2afd68f9479a7fcaadde1f0">fShowerEnergyOutputLabel</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a1f0732ac68fec660c682adad7af48676">   45</a></span>&#160;    std::string <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a1f0732ac68fec660c682adad7af48676">fShowerBestPlaneOutputLabel</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">//Services</span></div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#af26df63416837ebecf674f2213a7e4ca">   48</a></span>&#160;    art::ServiceHandle&lt;geo::Geometry&gt; <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#af26df63416837ebecf674f2213a7e4ca">fGeom</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#ae12a85c3761cef11e866d8623cef8ae2">   49</a></span>&#160;    <a class="code" href="../../d1/de6/classcalo_1_1CalorimetryAlg.html">calo::CalorimetryAlg</a> <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#ae12a85c3761cef11e866d8623cef8ae2">fCalorimetryAlg</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="comment">// Declare stuff</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#ab74fe2e7b335b57254bc9afa22a0775a">   52</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#ab74fe2e7b335b57254bc9afa22a0775a">fRecombinationFactor</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  };</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a69c5000bca0113f880b4472c0d3e8e35">   55</a></span>&#160;  <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a69c5000bca0113f880b4472c0d3e8e35">ShowerNumElectronsEnergy::ShowerNumElectronsEnergy</a>(<span class="keyword">const</span> fhicl::ParameterSet&amp; pset)</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    : <a class="code" href="../../df/d77/classShowerRecoTools_1_1IShowerTool.html">IShowerTool</a>(pset.<a class="code" href="../../db/d87/PMTconfigurationExtraction__module_8cc.html#ac33ee765f5ad9f134540bac393721cfe">get</a>&lt;fhicl::ParameterSet&gt;(<span class="stringliteral">&quot;BaseTools&quot;</span>))</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    , fPFParticleLabel(pset.<a class="code" href="../../db/d87/PMTconfigurationExtraction__module_8cc.html#ac33ee765f5ad9f134540bac393721cfe">get</a>&lt;art::InputTag&gt;(<span class="stringliteral">&quot;PFParticleLabel&quot;</span>))</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    , fVerbose(pset.<a class="code" href="../../db/d87/PMTconfigurationExtraction__module_8cc.html#ac33ee765f5ad9f134540bac393721cfe">get</a>&lt;int&gt;(<span class="stringliteral">&quot;Verbose&quot;</span>))</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    , fShowerEnergyOutputLabel(pset.<a class="code" href="../../db/d87/PMTconfigurationExtraction__module_8cc.html#ac33ee765f5ad9f134540bac393721cfe">get</a>&lt;<a class="code" href="../../da/dc9/namespacepmtana.html#a9860e62c78db1dd9c7d635a2832b883a">std</a>::string&gt;(<span class="stringliteral">&quot;ShowerEnergyOutputLabel&quot;</span>))</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    , fShowerBestPlaneOutputLabel(pset.<a class="code" href="../../db/d87/PMTconfigurationExtraction__module_8cc.html#ac33ee765f5ad9f134540bac393721cfe">get</a>&lt;<a class="code" href="../../da/dc9/namespacepmtana.html#a9860e62c78db1dd9c7d635a2832b883a">std</a>::string&gt;(<span class="stringliteral">&quot;ShowerBestPlaneOutputLabel&quot;</span>))</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    , fCalorimetryAlg(pset.<a class="code" href="../../db/d87/PMTconfigurationExtraction__module_8cc.html#ac33ee765f5ad9f134540bac393721cfe">get</a>&lt;fhicl::ParameterSet&gt;(<span class="stringliteral">&quot;CalorimetryAlg&quot;</span>))</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    , fRecombinationFactor(pset.<a class="code" href="../../db/d87/PMTconfigurationExtraction__module_8cc.html#ac33ee765f5ad9f134540bac393721cfe">get</a>&lt;double&gt;(<span class="stringliteral">&quot;RecombinationFactor&quot;</span>))</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  {}</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordtype">int</span></div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#ad917c46a183c7cf5f4cc25bf032cf67b">   66</a></span>&#160;  <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#ad917c46a183c7cf5f4cc25bf032cf67b">ShowerNumElectronsEnergy::CalculateElement</a>(<span class="keyword">const</span> art::Ptr&lt;recob::PFParticle&gt;&amp; pfparticle,</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                                             art::Event&amp; Event,</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                             <a class="code" href="../../d2/d47/classreco_1_1shower_1_1ShowerElementHolder.html">reco::shower::ShowerElementHolder</a>&amp; ShowerEleHolder)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#ad05accce9ee82ada833909748192d7cc">fVerbose</a>)</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Shower Reco Energy Tool ~~~~~~~~~~~~~~~~~~~~~~~~~~~~&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        &lt;&lt; std::endl;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// Get the assocated pfParicle vertex PFParticles</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> pfpHandle = Event.getValidHandle&lt;std::vector&lt;recob::PFParticle&gt;&gt;(<a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a15831e87f1982aacbe5370dc5085f737">fPFParticleLabel</a>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">//Get the clusters</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> clusHandle = Event.getValidHandle&lt;std::vector&lt;recob::Cluster&gt;&gt;(<a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a15831e87f1982aacbe5370dc5085f737">fPFParticleLabel</a>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keyword">const</span> art::FindManyP&lt;recob::Cluster&gt;&amp; fmc =</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      ShowerEleHolder.<a class="code" href="../../d2/d47/classreco_1_1shower_1_1ShowerElementHolder.html#aec85a2d40e1ce6b3ff8d32e3ca406385">GetFindManyP</a>&lt;<a class="code" href="../../d9/dda/classrecob_1_1Cluster.html">recob::Cluster</a>&gt;(pfpHandle, Event, <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a15831e87f1982aacbe5370dc5085f737">fPFParticleLabel</a>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// art::FindManyP&lt;recob::Cluster&gt; fmc(pfpHandle, Event, fPFParticleLabel);</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    std::vector&lt;art::Ptr&lt;recob::Cluster&gt;&gt; clusters = fmc.at(pfparticle.key());</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">//Get the hit association</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keyword">const</span> art::FindManyP&lt;recob::Hit&gt;&amp; fmhc =</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      ShowerEleHolder.<a class="code" href="../../d2/d47/classreco_1_1shower_1_1ShowerElementHolder.html#aec85a2d40e1ce6b3ff8d32e3ca406385">GetFindManyP</a>&lt;<a class="code" href="../../db/d4e/classrecob_1_1Hit.html">recob::Hit</a>&gt;(clusHandle, Event, <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a15831e87f1982aacbe5370dc5085f737">fPFParticleLabel</a>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// art::FindManyP&lt;recob::Hit&gt; fmhc(clusHandle, Event, fPFParticleLabel);</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    std::map&lt;geo::PlaneID::PlaneID_t, std::vector&lt;art::Ptr&lt;recob::Hit&gt;&gt;&gt; planeHits;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">//Loop over the clusters in the plane and get the hits</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#afac1ac7b61385644c993fbb774a1922f">cluster</a> : clusters) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <span class="comment">//Get the hits</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      std::vector&lt;art::Ptr&lt;recob::Hit&gt;&gt; hits = fmhc.at(<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#afac1ac7b61385644c993fbb774a1922f">cluster</a>.key());</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="comment">//Get the plane.</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d4/d41/structgeo_1_1PlaneID.html#abf7d62dd39e4ff6c1f1046a76416448e">geo::PlaneID::PlaneID_t</a> plane(<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#afac1ac7b61385644c993fbb774a1922f">cluster</a>-&gt;Plane().Plane);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      planeHits[plane].insert(planeHits[plane].<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#aac918da84f16d53ad17bab4f817da1c4">end</a>(), hits.begin(), hits.end());</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">// Calculate the energy for each plane &amp;&amp; best plane</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="../../d4/d41/structgeo_1_1PlaneID.html#abf7d62dd39e4ff6c1f1046a76416448e">geo::PlaneID::PlaneID_t</a> bestPlane = <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::numeric_limits&lt;geo::PlaneID::PlaneID_t&gt;::max</a>();</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bestPlaneNumHits = 0;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">//Holder for the final product</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    std::vector&lt;double&gt; energyVec(<a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#af26df63416837ebecf674f2213a7e4ca">fGeom</a>-&gt;Nplanes(), -999.);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    std::vector&lt;double&gt; energyError(<a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#af26df63416837ebecf674f2213a7e4ca">fGeom</a>-&gt;Nplanes(), -999.);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> clockData =</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      art::ServiceHandle&lt;detinfo::DetectorClocksService const&gt;()-&gt;DataFor(Event);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> <a class="code" href="../../d2/d1a/namespacedetsim.html#a560adbb3abf95a23d45a53ed25d8c0c7">detProp</a> =</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      art::ServiceHandle&lt;detinfo::DetectorPropertiesService const&gt;()-&gt;DataFor(Event, clockData);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [plane, hits] : planeHits) {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> planeNumHits = hits.size();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="comment">//Calculate the Energy for</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <span class="keywordtype">double</span> <a class="code" href="../../d8/d09/lArDet_8fcl.html#afa2b6e43ed680adfe9ade8ec4c7e211f">Energy</a> = <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a105807968854c9a48db7d34c9274e9be">CalculateEnergy</a>(clockData, <a class="code" href="../../d2/d1a/namespacedetsim.html#a560adbb3abf95a23d45a53ed25d8c0c7">detProp</a>, hits, plane);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      <span class="comment">// If the energy is negative, leave it at -999</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <span class="keywordflow">if</span> (Energy &gt; 0) energyVec.at(plane) = <a class="code" href="../../d8/d09/lArDet_8fcl.html#afa2b6e43ed680adfe9ade8ec4c7e211f">Energy</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <span class="keywordflow">if</span> (planeNumHits &gt; bestPlaneNumHits) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        bestPlane = plane;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        bestPlaneNumHits = planeNumHits;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    ShowerEleHolder.<a class="code" href="../../d2/d47/classreco_1_1shower_1_1ShowerElementHolder.html#aaf601e6b3373577dcd28837d9e4dc55a">SetElement</a>(energyVec, energyError, <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a0e3dfb53e2afd68f9479a7fcaadde1f0">fShowerEnergyOutputLabel</a>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// Only set the best plane if it has some hits in it</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span> (bestPlane &lt; fGeom-&gt;Nplanes()) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <span class="comment">// Need to cast as an int for legacy default of -999</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="comment">// have to define a new variable as we pass-by-reference when filling</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <span class="keywordtype">int</span> bestPlaneVal(bestPlane);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      ShowerEleHolder.<a class="code" href="../../d2/d47/classreco_1_1shower_1_1ShowerElementHolder.html#aaf601e6b3373577dcd28837d9e4dc55a">SetElement</a>(bestPlaneVal, <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a1f0732ac68fec660c682adad7af48676">fShowerBestPlaneOutputLabel</a>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// function to calculate the reco energy</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordtype">double</span></div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a105807968854c9a48db7d34c9274e9be">  148</a></span>&#160;  <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a105807968854c9a48db7d34c9274e9be">ShowerNumElectronsEnergy::CalculateEnergy</a>(<span class="keyword">const</span> <a class="code" href="../../d0/dc3/classdetinfo_1_1DetectorClocksData.html">detinfo::DetectorClocksData</a>&amp; clockData,</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="../../d1/d11/classdetinfo_1_1DetectorPropertiesData.html">detinfo::DetectorPropertiesData</a>&amp; <a class="code" href="../../d2/d1a/namespacedetsim.html#a560adbb3abf95a23d45a53ed25d8c0c7">detProp</a>,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="../../db/dfa/namespacelar_1_1dump.html#a71d4403edbac4d265176f8677118194f">std::vector</a>&lt;art::Ptr&lt;recob::Hit&gt;&gt;&amp; hits,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="../../d4/d41/structgeo_1_1PlaneID.html#abf7d62dd39e4ff6c1f1046a76416448e">geo::PlaneID::PlaneID_t</a> plane)<span class="keyword"> const</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="keyword">  </span>{</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordtype">double</span> totalCharge = 0;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordtype">double</span> totalEnergy = 0;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordtype">double</span> correctedtotalCharge = 0;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordtype">double</span> nElectrons = 0;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a> : hits) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      totalCharge +=</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Integral() *</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#ae12a85c3761cef11e866d8623cef8ae2">fCalorimetryAlg</a>.<a class="code" href="../../d1/de6/classcalo_1_1CalorimetryAlg.html#ab8985318b191077b239ddc8e337f9e32">LifetimeCorrection</a>(</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;          clockData, detProp, <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;PeakTime()); <span class="comment">// obtain charge and correct for lifetime</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">// correct charge due to recombination</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    correctedtotalCharge = totalCharge / <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#ab74fe2e7b335b57254bc9afa22a0775a">fRecombinationFactor</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">// calculate # of electrons and the corresponding energy</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    nElectrons = <a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#ae12a85c3761cef11e866d8623cef8ae2">fCalorimetryAlg</a>.<a class="code" href="../../d1/de6/classcalo_1_1CalorimetryAlg.html#aba2a5e717635e3e262cad41718f55cd8">ElectronsFromADCArea</a>(correctedtotalCharge, plane);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    totalEnergy = (nElectrons / <a class="code" href="../../d6/d72/namespaceutil.html#ac51462247f4e85aa4c2c9bb66f0c0b1c">util::kGeVToElectrons</a>) * 1000; <span class="comment">// energy in MeV</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> totalEnergy;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;DEFINE_ART_CLASS_TOOL(<a class="code" href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html">ShowerRecoTools::ShowerNumElectronsEnergy</a>)</div>
<div class="ttc" id="namespacepmtana_html_a9860e62c78db1dd9c7d635a2832b883a"><div class="ttname"><a href="../../da/dc9/namespacepmtana.html#a9860e62c78db1dd9c7d635a2832b883a">pmtana::std</a></div><div class="ttdeci">double std(const std::vector&lt; short &gt; &amp;wf, const double ped_mean, size_t start, size_t nsample)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de4/UtilFunc_8cxx_source.html#l00042">UtilFunc.cxx:42</a></div></div>
<div class="ttc" id="IShowerTool_8h_html"><div class="ttname"><a href="../../db/d2d/IShowerTool_8h.html">IShowerTool.h</a></div></div>
<div class="ttc" id="cheaterreco_8fcl_html_afac1ac7b61385644c993fbb774a1922f"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#afac1ac7b61385644c993fbb774a1922f">cluster</a></div><div class="ttdeci">process_name cluster</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="classdetinfo_1_1DetectorPropertiesData_html"><div class="ttname"><a href="../../d1/d11/classdetinfo_1_1DetectorPropertiesData.html">detinfo::DetectorPropertiesData</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7a/DetectorPropertiesData_8h_source.html#l00011">DetectorPropertiesData.h:11</a></div></div>
<div class="ttc" id="PMTconfigurationExtraction__module_8cc_html_ac33ee765f5ad9f134540bac393721cfe"><div class="ttname"><a href="../../db/d87/PMTconfigurationExtraction__module_8cc.html#ac33ee765f5ad9f134540bac393721cfe">get</a></div><div class="ttdeci">get()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d87/PMTconfigurationExtraction__module_8cc_source.html#l00168">PMTconfigurationExtraction_module.cc:168</a></div></div>
<div class="ttc" id="structgeo_1_1PlaneID_html_abf7d62dd39e4ff6c1f1046a76416448e"><div class="ttname"><a href="../../d4/d41/structgeo_1_1PlaneID.html#abf7d62dd39e4ff6c1f1046a76416448e">geo::PlaneID::PlaneID_t</a></div><div class="ttdeci">unsigned int PlaneID_t</div><div class="ttdoc">Type for the ID number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00473">geo_types.h:473</a></div></div>
<div class="ttc" id="classShowerRecoTools_1_1ShowerNumElectronsEnergy_html_a105807968854c9a48db7d34c9274e9be"><div class="ttname"><a href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a105807968854c9a48db7d34c9274e9be">ShowerRecoTools::ShowerNumElectronsEnergy::CalculateEnergy</a></div><div class="ttdeci">double CalculateEnergy(const detinfo::DetectorClocksData &amp;clockData, const detinfo::DetectorPropertiesData &amp;detProp, const std::vector&lt; art::Ptr&lt; recob::Hit &gt;&gt; &amp;hits, const geo::PlaneID::PlaneID_t plane) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d23/ShowerNumElectronsEnergy__tool_8cc_source.html#l00148">ShowerNumElectronsEnergy_tool.cc:148</a></div></div>
<div class="ttc" id="classreco_1_1shower_1_1ShowerElementHolder_html_aaf601e6b3373577dcd28837d9e4dc55a"><div class="ttname"><a href="../../d2/d47/classreco_1_1shower_1_1ShowerElementHolder.html#aaf601e6b3373577dcd28837d9e4dc55a">reco::shower::ShowerElementHolder::SetElement</a></div><div class="ttdeci">void SetElement(T &amp;dataproduct, const std::string &amp;Name, bool checktag=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2b/ShowerElementHolder_8hh_source.html#l00360">ShowerElementHolder.hh:360</a></div></div>
<div class="ttc" id="classShowerRecoTools_1_1ShowerNumElectronsEnergy_html_a15831e87f1982aacbe5370dc5085f737"><div class="ttname"><a href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a15831e87f1982aacbe5370dc5085f737">ShowerRecoTools::ShowerNumElectronsEnergy::fPFParticleLabel</a></div><div class="ttdeci">art::InputTag fPFParticleLabel</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d23/ShowerNumElectronsEnergy__tool_8cc_source.html#l00041">ShowerNumElectronsEnergy_tool.cc:41</a></div></div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="classShowerRecoTools_1_1ShowerNumElectronsEnergy_html_a0e3dfb53e2afd68f9479a7fcaadde1f0"><div class="ttname"><a href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a0e3dfb53e2afd68f9479a7fcaadde1f0">ShowerRecoTools::ShowerNumElectronsEnergy::fShowerEnergyOutputLabel</a></div><div class="ttdeci">std::string fShowerEnergyOutputLabel</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d23/ShowerNumElectronsEnergy__tool_8cc_source.html#l00044">ShowerNumElectronsEnergy_tool.cc:44</a></div></div>
<div class="ttc" id="classrecob_1_1Cluster_html"><div class="ttname"><a href="../../d9/dda/classrecob_1_1Cluster.html">recob::Cluster</a></div><div class="ttdoc">Set of hits with a 2D structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d77/Cluster_8h_source.html#l00071">Cluster.h:71</a></div></div>
<div class="ttc" id="classreco_1_1shower_1_1ShowerElementHolder_html_aec85a2d40e1ce6b3ff8d32e3ca406385"><div class="ttname"><a href="../../d2/d47/classreco_1_1shower_1_1ShowerElementHolder.html#aec85a2d40e1ce6b3ff8d32e3ca406385">reco::shower::ShowerElementHolder::GetFindManyP</a></div><div class="ttdeci">const art::FindManyP&lt; T1 &gt; &amp; GetFindManyP(const art::ValidHandle&lt; std::vector&lt; T2 &gt; &gt; &amp;handle, const art::Event &amp;evt, const art::InputTag &amp;moduleTag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2b/ShowerElementHolder_8hh_source.html#l00604">ShowerElementHolder.hh:604</a></div></div>
<div class="ttc" id="cheaterreco_8fcl_html_abf2e819dbf4c327e098bebd4b2dc0597"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a></div><div class="ttdeci">process_name hit</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="classShowerRecoTools_1_1ShowerNumElectronsEnergy_html"><div class="ttname"><a href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html">ShowerRecoTools::ShowerNumElectronsEnergy</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d23/ShowerNumElectronsEnergy__tool_8cc_source.html#l00025">ShowerNumElectronsEnergy_tool.cc:25</a></div></div>
<div class="ttc" id="namespacelar_1_1dump_html_a71d4403edbac4d265176f8677118194f"><div class="ttname"><a href="../../db/dfa/namespacelar_1_1dump.html#a71d4403edbac4d265176f8677118194f">lar::dump::vector</a></div><div class="ttdeci">auto vector(Vector const &amp;v)</div><div class="ttdoc">Returns a manipulator which will print the specified array. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da9/DumpUtils_8h_source.html#l00265">DumpUtils.h:265</a></div></div>
<div class="ttc" id="classcalo_1_1CalorimetryAlg_html_aba2a5e717635e3e262cad41718f55cd8"><div class="ttname"><a href="../../d1/de6/classcalo_1_1CalorimetryAlg.html#aba2a5e717635e3e262cad41718f55cd8">calo::CalorimetryAlg::ElectronsFromADCArea</a></div><div class="ttdeci">double ElectronsFromADCArea(double area, unsigned short plane) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4b/CalorimetryAlg_8h_source.html#l00153">CalorimetryAlg.h:153</a></div></div>
<div class="ttc" id="namespaceutil_html_ac51462247f4e85aa4c2c9bb66f0c0b1c"><div class="ttname"><a href="../../d6/d72/namespaceutil.html#ac51462247f4e85aa4c2c9bb66f0c0b1c">util::kGeVToElectrons</a></div><div class="ttdeci">constexpr double kGeVToElectrons</div><div class="ttdoc">23.6eV per ion pair, 1e9 eV/GeV </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d09/PhysicalConstants_8h_source.html#l00055">PhysicalConstants.h:55</a></div></div>
<div class="ttc" id="classShowerRecoTools_1_1ShowerNumElectronsEnergy_html_ab74fe2e7b335b57254bc9afa22a0775a"><div class="ttname"><a href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#ab74fe2e7b335b57254bc9afa22a0775a">ShowerRecoTools::ShowerNumElectronsEnergy::fRecombinationFactor</a></div><div class="ttdeci">double fRecombinationFactor</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d23/ShowerNumElectronsEnergy__tool_8cc_source.html#l00052">ShowerNumElectronsEnergy_tool.cc:52</a></div></div>
<div class="ttc" id="classShowerRecoTools_1_1ShowerNumElectronsEnergy_html_a1f0732ac68fec660c682adad7af48676"><div class="ttname"><a href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a1f0732ac68fec660c682adad7af48676">ShowerRecoTools::ShowerNumElectronsEnergy::fShowerBestPlaneOutputLabel</a></div><div class="ttdeci">std::string fShowerBestPlaneOutputLabel</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d23/ShowerNumElectronsEnergy__tool_8cc_source.html#l00045">ShowerNumElectronsEnergy_tool.cc:45</a></div></div>
<div class="ttc" id="classcalo_1_1CalorimetryAlg_html"><div class="ttname"><a href="../../d1/de6/classcalo_1_1CalorimetryAlg.html">calo::CalorimetryAlg</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4b/CalorimetryAlg_8h_source.html#l00033">CalorimetryAlg.h:33</a></div></div>
<div class="ttc" id="namespaceicarus_1_1ns_1_1util_html_aac918da84f16d53ad17bab4f817da1c4"><div class="ttname"><a href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#aac918da84f16d53ad17bab4f817da1c4">icarus::ns::util::end</a></div><div class="ttdeci">auto end(FixedBins&lt; T, C &gt; const &amp;) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbd/FixedBins_8h_source.html#l00585">FixedBins.h:585</a></div></div>
<div class="ttc" id="CalorimetryAlg_8h_html"><div class="ttname"><a href="../../d4/d4b/CalorimetryAlg_8h.html">CalorimetryAlg.h</a></div></div>
<div class="ttc" id="Cluster_8h_html"><div class="ttname"><a href="../../d8/d77/Cluster_8h.html">Cluster.h</a></div><div class="ttdoc">Declaration of cluster object. </div></div>
<div class="ttc" id="classShowerRecoTools_1_1ShowerNumElectronsEnergy_html_ad917c46a183c7cf5f4cc25bf032cf67b"><div class="ttname"><a href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#ad917c46a183c7cf5f4cc25bf032cf67b">ShowerRecoTools::ShowerNumElectronsEnergy::CalculateElement</a></div><div class="ttdeci">int CalculateElement(const art::Ptr&lt; recob::PFParticle &gt; &amp;pfparticle, art::Event &amp;Event, reco::shower::ShowerElementHolder &amp;ShowerElementHolder) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d23/ShowerNumElectronsEnergy__tool_8cc_source.html#l00066">ShowerNumElectronsEnergy_tool.cc:66</a></div></div>
<div class="ttc" id="classdetinfo_1_1DetectorClocksData_html"><div class="ttname"><a href="../../d0/dc3/classdetinfo_1_1DetectorClocksData.html">detinfo::DetectorClocksData</a></div><div class="ttdoc">Contains all timing reference information for the detector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5b/DetectorClocksData_8h_source.html#l00283">DetectorClocksData.h:283</a></div></div>
<div class="ttc" id="classreco_1_1shower_1_1ShowerElementHolder_html"><div class="ttname"><a href="../../d2/d47/classreco_1_1shower_1_1ShowerElementHolder.html">reco::shower::ShowerElementHolder</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2b/ShowerElementHolder_8hh_source.html#l00213">ShowerElementHolder.hh:213</a></div></div>
<div class="ttc" id="lArDet_8fcl_html_afa2b6e43ed680adfe9ade8ec4c7e211f"><div class="ttname"><a href="../../d8/d09/lArDet_8fcl.html#afa2b6e43ed680adfe9ade8ec4c7e211f">Energy</a></div><div class="ttdeci">process_name Energy</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d09/lArDet_8fcl_source.html#l00066">lArDet.fcl:66</a></div></div>
<div class="ttc" id="classShowerRecoTools_1_1ShowerNumElectronsEnergy_html_ae12a85c3761cef11e866d8623cef8ae2"><div class="ttname"><a href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#ae12a85c3761cef11e866d8623cef8ae2">ShowerRecoTools::ShowerNumElectronsEnergy::fCalorimetryAlg</a></div><div class="ttdeci">calo::CalorimetryAlg fCalorimetryAlg</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d23/ShowerNumElectronsEnergy__tool_8cc_source.html#l00049">ShowerNumElectronsEnergy_tool.cc:49</a></div></div>
<div class="ttc" id="classrecob_1_1Hit_html"><div class="ttname"><a href="../../db/d4e/classrecob_1_1Hit.html">recob::Hit</a></div><div class="ttdoc">2D representation of charge deposited in the TDC/wire plane </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d26/Hit_8h_source.html#l00048">Hit.h:48</a></div></div>
<div class="ttc" id="classShowerRecoTools_1_1ShowerNumElectronsEnergy_html_a69c5000bca0113f880b4472c0d3e8e35"><div class="ttname"><a href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#a69c5000bca0113f880b4472c0d3e8e35">ShowerRecoTools::ShowerNumElectronsEnergy::ShowerNumElectronsEnergy</a></div><div class="ttdeci">ShowerNumElectronsEnergy(const fhicl::ParameterSet &amp;pset)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d23/ShowerNumElectronsEnergy__tool_8cc_source.html#l00055">ShowerNumElectronsEnergy_tool.cc:55</a></div></div>
<div class="ttc" id="classShowerRecoTools_1_1IShowerTool_html"><div class="ttname"><a href="../../df/d77/classShowerRecoTools_1_1IShowerTool.html">ShowerRecoTools::IShowerTool</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2d/IShowerTool_8h_source.html#l00025">IShowerTool.h:25</a></div></div>
<div class="ttc" id="classcalo_1_1CalorimetryAlg_html_ab8985318b191077b239ddc8e337f9e32"><div class="ttname"><a href="../../d1/de6/classcalo_1_1CalorimetryAlg.html#ab8985318b191077b239ddc8e337f9e32">calo::CalorimetryAlg::LifetimeCorrection</a></div><div class="ttdeci">double LifetimeCorrection(detinfo::DetectorClocksData const &amp;clock_data, detinfo::DetectorPropertiesData const &amp;det_prop, double time, double T0=0) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d75/CalorimetryAlg_8cxx_source.html#l00246">CalorimetryAlg.cxx:246</a></div></div>
<div class="ttc" id="PhysicalConstants_8h_html"><div class="ttname"><a href="../../dd/d09/PhysicalConstants_8h.html">PhysicalConstants.h</a></div><div class="ttdoc">Collection of Physical constants used in LArSoft. </div></div>
<div class="ttc" id="classShowerRecoTools_1_1ShowerNumElectronsEnergy_html_af26df63416837ebecf674f2213a7e4ca"><div class="ttname"><a href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#af26df63416837ebecf674f2213a7e4ca">ShowerRecoTools::ShowerNumElectronsEnergy::fGeom</a></div><div class="ttdeci">art::ServiceHandle&lt; geo::Geometry &gt; fGeom</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d23/ShowerNumElectronsEnergy__tool_8cc_source.html#l00048">ShowerNumElectronsEnergy_tool.cc:48</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="namespacedetsim_html_a560adbb3abf95a23d45a53ed25d8c0c7"><div class="ttname"><a href="../../d2/d1a/namespacedetsim.html#a560adbb3abf95a23d45a53ed25d8c0c7">detsim::detProp</a></div><div class="ttdeci">auto const detProp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/SimWire__module_8cc_source.html#l00154">SimWire_module.cc:154</a></div></div>
<div class="ttc" id="classShowerRecoTools_1_1ShowerNumElectronsEnergy_html_ad05accce9ee82ada833909748192d7cc"><div class="ttname"><a href="../../d7/df5/classShowerRecoTools_1_1ShowerNumElectronsEnergy.html#ad05accce9ee82ada833909748192d7cc">ShowerRecoTools::ShowerNumElectronsEnergy::fVerbose</a></div><div class="ttdeci">int fVerbose</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d23/ShowerNumElectronsEnergy__tool_8cc_source.html#l00042">ShowerNumElectronsEnergy_tool.cc:42</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
