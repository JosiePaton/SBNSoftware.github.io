<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>PhotonLibrary.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b73b02d482d1c4a3db20c3d9ad52d395.html">srcs</a></li><li class="navelem"><a class="el" href="../../dir_c1de2b5dcb01608846a246cb763d5e03.html">larsim</a></li><li class="navelem"><a class="el" href="../../dir_64cfb79233dad4b4de390a7389ba145b.html">larsim</a></li><li class="navelem"><a class="el" href="../../dir_171c06d63abeb8c3c93aaeafc5f037e8.html">PhotonPropagation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">larsim/larsim/PhotonPropagation/PhotonLibrary.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">////# PhotonLibrary.h header file</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span><span class="comment">////#</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"></span><span class="comment">////# Ben Jones, MIT, 2012</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span><span class="preprocessor">#ifndef PHOTONLIBRARY_H</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define PHOTONLIBRARY_H</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d70/IPhotonLibrary_8h.html">larsim/PhotonPropagation/IPhotonLibrary.h</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d55/larsim_2larsim_2Simulation_2PhotonVoxels_8h.html">larsim/Simulation/PhotonVoxels.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;TF1.h&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">class </span>TTree;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/dcb/LazyVector_8h.html">lardataobj/Utilities/LazyVector.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span> <span class="comment">// std::numeric_limits</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">namespace </span>art {</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;  <span class="keyword">class </span>TFileDirectory;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;}</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">namespace </span>phot {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html">   25</a></span>&#160;  <span class="keyword">class </span><a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html">PhotonLibrary</a> : <span class="keyword">public</span> <a class="code" href="../../df/db1/classphot_1_1IPhotonLibrary.html">IPhotonLibrary</a> {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">    /// If no valid `pDir` is provided, storage features will not be supported.</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"></span>    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a4138bb48d27a0b0de8636b7e85e8c6bf">PhotonLibrary</a>(art::TFileDirectory* pDir = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    TTree* <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a13f8d00201354d72feb493eb1f66facd">ProduceTTree</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">float</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a55e579a7421efadf8b70c305fae7993b">GetCount</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#afafb4fc5ed33c4e684b4a1176dca1094">SetCount</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel, <span class="keywordtype">float</span> Count);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a184a3ab815df573c7eb918cb04db88e8">GetTimingPar</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel, <span class="keywordtype">size_t</span> parnum) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#aa78b409650b3fc0fe0c419713edd884b">SetTimingPar</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel, <span class="keywordtype">float</span> Count, <span class="keywordtype">size_t</span> parnum);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="comment">//    TF1&amp; GetTimingTF1(size_t Voxel, size_t OpChannel) const;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a5ca57812a906408ea0ae020b7a2db443">SetTimingTF1</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel, TF1 func);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">float</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#ae81638a2fe9ae0c8ff3428fb94159f58">GetReflCount</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a922eab510db4ba62bdad4abeb17c0d26">SetReflCount</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel, <span class="keywordtype">float</span> Count);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">float</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a31368c1209bedfdd09f267c8341bc1fa">GetReflT0</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a837d8c58e3855135ac46eeb9b4c96f54">SetReflT0</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel, <span class="keywordtype">float</span> reflT0);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">    /// Returns a pointer to NOpChannels() visibility values, one per channel</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"></span>    <span class="keyword">virtual</span> <span class="keywordtype">float</span> <span class="keyword">const</span>* <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#aad941cee20fc9d56867aae624191316c">GetCounts</a>(<span class="keywordtype">size_t</span> Voxel) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keyword">const</span> std::vector&lt;float&gt;* <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#ae3c47dd50bd60c2ceb2e56ea20bb8d69">GetTimingPars</a>(<span class="keywordtype">size_t</span> Voxel) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    TF1* <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a4fc73afa9de3e477b2d535dcbb3f174a">GetTimingTF1s</a>(<span class="keywordtype">size_t</span> Voxel) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">float</span> <span class="keyword">const</span>* <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a104de1849641dc538cce3f29c0386a75">GetReflCounts</a>(<span class="keywordtype">size_t</span> Voxel) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">float</span> <span class="keyword">const</span>* <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#af060b5db0255126a4483386c18f50c66">GetReflT0s</a>(<span class="keywordtype">size_t</span> Voxel) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">    ///Returns whether the current library deals with time propagation distributions.</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#afc104a3bd59ad2ba42465344ddfc8fc2">   57</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#afc104a3bd59ad2ba42465344ddfc8fc2">hasTiming</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#ac9637a527f33939be2fedebe6aec38ad">fHasTiming</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">    /// Returns whether the current library deals with reflected light count.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#ad22442fbd9734819d5676d16849811d3">   64</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#ad22442fbd9734819d5676d16849811d3">hasReflected</a>()<span class="keyword"> const override</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a387fae678146db02ce41420d8c691759">fHasReflected</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">    /// Returns whether the current library deals with reflected light timing.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a684c107a60857827973e7838a4640ba3">   71</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a684c107a60857827973e7838a4640ba3">hasReflectedT0</a>()<span class="keyword"> const override</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a54f9fb8e928f361ad2086e9fa44563cc">fHasReflectedT0</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a042c6fe3b61bd7d323e7dc4132646409">StoreLibraryToFile</a>(std::string LibraryFile,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                            <span class="keywordtype">bool</span> storeReflected = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                            <span class="keywordtype">bool</span> storeReflT0 = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                            <span class="keywordtype">size_t</span> storeTiming = 0) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a3640f1b61e487cb8f904e3900d63539e">LoadLibraryFromFile</a>(std::string LibraryFile,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                             <span class="keywordtype">size_t</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#acb32c5374d6a58baf6c55cbda9fc9417">NVoxels</a>,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                             <span class="keywordtype">bool</span> storeReflected = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                             <span class="keywordtype">bool</span> storeReflT0 = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                             <span class="keywordtype">size_t</span> storeTiming = 0,</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                             <span class="keywordtype">int</span> maxrange = 200);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#ab1b9a87ca2d422f0e4dda801ce7e89eb">CreateEmptyLibrary</a>(<span class="keywordtype">size_t</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#acb32c5374d6a58baf6c55cbda9fc9417">NVoxels</a>,</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                            <span class="keywordtype">size_t</span> <a class="code" href="../../df/d32/namespaceLVDSpatterns.html#a50b9bac6f0381564bc09c5fb54d2627f">NChannels</a>,</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                            <span class="keywordtype">bool</span> storeReflected = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                            <span class="keywordtype">bool</span> storeReflT0 = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                            <span class="keywordtype">size_t</span> storeTiming = 0);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// --- BEGIN --- Metadata: voxel information -------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">    /// @name Metadata: voxel information</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">    /// @{</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment"></span><span class="comment"></span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">    /// Returns whether voxel metadata is available.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#adafd0012119b4af6cbada05d600c45af">   98</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#adafd0012119b4af6cbada05d600c45af">hasVoxelDef</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a5c1921ac52561c2485540bb312750a30">fVoxelDef</a>.has_value();</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">    /// Returns the current voxel metadata (undefined behaviour if none).</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">    /// @see `hasVoxelDef()`</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment"></span>    <a class="code" href="../../da/d6a/classsim_1_1PhotonVoxelDef.html">sim::PhotonVoxelDef</a> <span class="keyword">const</span>&amp;</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a7a29c99f3354049799a868a1dc7c532f">  106</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a7a29c99f3354049799a868a1dc7c532f">GetVoxelDef</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      assert(<a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a5c1921ac52561c2485540bb312750a30">fVoxelDef</a>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      <span class="keywordflow">return</span> *<a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a5c1921ac52561c2485540bb312750a30">fVoxelDef</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">    /// Copies the specified voxel definition into our own</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">    /// (overwrites the existing metadata if any).</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span></div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#adda0f433ddf953fbfb7fe553b1054789">  115</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#adda0f433ddf953fbfb7fe553b1054789">SetVoxelDef</a>(<a class="code" href="../../da/d6a/classsim_1_1PhotonVoxelDef.html">sim::PhotonVoxelDef</a> <span class="keyword">const</span>&amp; voxelDef)</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a5c1921ac52561c2485540bb312750a30">fVoxelDef</a> = voxelDef;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">    /// @}</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment"></span>    <span class="comment">// --- END --- Metadata: voxel information ---------------------------------</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a46ce429d0bf872fa25d2c03103e012b2">  125</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a46ce429d0bf872fa25d2c03103e012b2">NOpChannels</a>()<span class="keyword"> const override</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a308eb46b09ec545fa70c9e49a430176f">fNOpChannels</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#acb32c5374d6a58baf6c55cbda9fc9417">  130</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#acb32c5374d6a58baf6c55cbda9fc9417">NVoxels</a>()<span class="keyword"> const override</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a028071db537daf77aaeca67c8afeda5f">fNVoxels</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#aefaf8b0f95cf8cacb2ba08ea8c741775">  136</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#aefaf8b0f95cf8cacb2ba08ea8c741775">isVoxelValid</a>(<span class="keywordtype">size_t</span> Voxel)<span class="keyword"> const override</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#ab89a21e5f32f8d53679084a11a8074bb">isVoxelValidImpl</a>(Voxel);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a387fae678146db02ce41420d8c691759">  141</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a387fae678146db02ce41420d8c691759">fHasReflected</a> = <span class="keyword">false</span>; <span class="comment">///&lt; Whether the current library deals with reflected light counts.</span></div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a54f9fb8e928f361ad2086e9fa44563cc">  142</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a54f9fb8e928f361ad2086e9fa44563cc">fHasReflectedT0</a> =</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="keyword">false</span>; <span class="comment">///&lt; Whether the current library deals with reflected light timing.</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#ac9637a527f33939be2fedebe6aec38ad">  145</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#ac9637a527f33939be2fedebe6aec38ad">fHasTiming</a> =</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      0; <span class="comment">///&lt; Whether the current library deals with time propagation distribution.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">// fLookupTable[unchecked_index(Voxel, OpChannel)] = Count</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">// for each voxel, all NChannels() channels are stored in sequence</span></div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a6adb07ad3c58cf066510ffb47d152190">  150</a></span>&#160;    <a class="code" href="../../d2/da3/classutil_1_1LazyVector.html">util::LazyVector&lt;float&gt;</a> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a6adb07ad3c58cf066510ffb47d152190">fLookupTable</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#abbc55c7ad96084dedb104d06d2725939">  151</a></span>&#160;    <a class="code" href="../../d2/da3/classutil_1_1LazyVector.html">util::LazyVector&lt;float&gt;</a> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#abbc55c7ad96084dedb104d06d2725939">fReflLookupTable</a>;</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a8e73cd10c2450698952e6653f77a5e3a">  152</a></span>&#160;    <a class="code" href="../../d2/da3/classutil_1_1LazyVector.html">util::LazyVector&lt;float&gt;</a> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a8e73cd10c2450698952e6653f77a5e3a">fReflTLookupTable</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a278f231f934bb3e0ab35f6fc621b9cdd">  153</a></span>&#160;    <a class="code" href="../../d2/da3/classutil_1_1LazyVector.html">util::LazyVector&lt;std::vector&lt;float&gt;</a>&gt; <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a278f231f934bb3e0ab35f6fc621b9cdd">fTimingParLookupTable</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a46a749036771882d31a1214c3442d240">  154</a></span>&#160;    <a class="code" href="../../d2/da3/classutil_1_1LazyVector.html">util::LazyVector&lt;TF1&gt;</a> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a46a749036771882d31a1214c3442d240">fTimingParTF1LookupTable</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#aa58e0ff547232efd1546d0fd5e6c6f08">  155</a></span>&#160;    std::string <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#aa58e0ff547232efd1546d0fd5e6c6f08">fTimingParFormula</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#ab0f9f21135156d624c1a0881b1620a65">  156</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#ab0f9f21135156d624c1a0881b1620a65">fTimingParNParameters</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a308eb46b09ec545fa70c9e49a430176f">  158</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a308eb46b09ec545fa70c9e49a430176f">fNOpChannels</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a028071db537daf77aaeca67c8afeda5f">  159</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a028071db537daf77aaeca67c8afeda5f">fNVoxels</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">    /// Voxel definition loaded from library metadata.</span></div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a5c1921ac52561c2485540bb312750a30">  162</a></span>&#160;<span class="comment"></span>    std::optional&lt;sim::PhotonVoxelDef&gt; <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a5c1921ac52561c2485540bb312750a30">fVoxelDef</a>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">    /// ROOT directory where to write data.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#aa3ff312a6feb2af93a45e022596eaa9c">  165</a></span>&#160;<span class="comment"></span>    art::TFileDirectory* <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#aa3ff312a6feb2af93a45e022596eaa9c">fDir</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#ab89a21e5f32f8d53679084a11a8074bb">  168</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#ab89a21e5f32f8d53679084a11a8074bb">isVoxelValidImpl</a>(<span class="keywordtype">size_t</span> Voxel)<span class="keyword"> const</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="keywordflow">return</span> Voxel &lt; <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a028071db537daf77aaeca67c8afeda5f">fNVoxels</a>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">    /// Returns the index of visibility of specified voxel and cell</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment"></span>    <span class="keywordtype">size_t</span></div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a78238d21d77ca823869996671627030e">  175</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a78238d21d77ca823869996671627030e">uncheckedIndex</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel)<span class="keyword"> const</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keywordflow">return</span> Voxel * <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a308eb46b09ec545fa70c9e49a430176f">fNOpChannels</a> + OpChannel;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">    /// Unchecked access to a visibility datum</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span></div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a6dcc560dc71fa471a051303de5936d2f">  182</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a6dcc560dc71fa471a051303de5936d2f">uncheckedAccess</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel)<span class="keyword"> const</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a6adb07ad3c58cf066510ffb47d152190">fLookupTable</a>[<a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a78238d21d77ca823869996671627030e">uncheckedIndex</a>(Voxel, OpChannel)];</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">    /// Unchecked access to a visibility datum</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span>&amp;</div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a2c48b2f4db56dd52f940ee9990ad5cb8">  189</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a2c48b2f4db56dd52f940ee9990ad5cb8">uncheckedAccess</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel)</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a6adb07ad3c58cf066510ffb47d152190">fLookupTable</a>[<a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a78238d21d77ca823869996671627030e">uncheckedIndex</a>(Voxel, OpChannel)];</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">    /// Unchecked access to a reflected visibility datum</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span></div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a56b0f73f71912af6152ade20577d5dbe">  196</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a56b0f73f71912af6152ade20577d5dbe">uncheckedAccessRefl</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel)<span class="keyword"> const</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#abbc55c7ad96084dedb104d06d2725939">fReflLookupTable</a>[<a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a78238d21d77ca823869996671627030e">uncheckedIndex</a>(Voxel, OpChannel)];</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">    /// Unchecked access to a reflected visibility datum</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span>&amp;</div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#abcd3231be5b06c912132a4e6d9df1f94">  203</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#abcd3231be5b06c912132a4e6d9df1f94">uncheckedAccessRefl</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#abbc55c7ad96084dedb104d06d2725939">fReflLookupTable</a>[<a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a78238d21d77ca823869996671627030e">uncheckedIndex</a>(Voxel, OpChannel)];</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">    /// Unchecked access to a reflected T0 visibility datum</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span></div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a1cf87c98b55b369e22540f4b4db6a0dc">  210</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a1cf87c98b55b369e22540f4b4db6a0dc">uncheckedAccessReflT</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel)<span class="keyword"> const</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a8e73cd10c2450698952e6653f77a5e3a">fReflTLookupTable</a>[<a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a78238d21d77ca823869996671627030e">uncheckedIndex</a>(Voxel, OpChannel)];</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">    /// Unchecked access to a reflected T0 visibility datum</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span>&amp;</div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#aec86012610526e53b082864ff0799a00">  217</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#aec86012610526e53b082864ff0799a00">uncheckedAccessReflT</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel)</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a8e73cd10c2450698952e6653f77a5e3a">fReflTLookupTable</a>[<a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a78238d21d77ca823869996671627030e">uncheckedIndex</a>(Voxel, OpChannel)];</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">    /// Unchecked access to a parameter the time distribution</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span></div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a1c6071cc2efb103a323b4ff52873c3ee">  224</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a1c6071cc2efb103a323b4ff52873c3ee">uncheckedAccessTimingPar</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel, <span class="keywordtype">size_t</span> parnum)<span class="keyword"> const</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a278f231f934bb3e0ab35f6fc621b9cdd">fTimingParLookupTable</a>[<a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a78238d21d77ca823869996671627030e">uncheckedIndex</a>(Voxel, OpChannel)][parnum];</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">    /// Unchecked access to a parameter of the time distribution</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span>&amp;</div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#acfa6c8618c0ed7e32c14b3291750806e">  231</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#acfa6c8618c0ed7e32c14b3291750806e">uncheckedAccessTimingPar</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel, <span class="keywordtype">size_t</span> parnum)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a278f231f934bb3e0ab35f6fc621b9cdd">fTimingParLookupTable</a>[<a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a78238d21d77ca823869996671627030e">uncheckedIndex</a>(Voxel, OpChannel)][parnum];</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">    /// Unchecked access to a parameter of the time distribution</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment"></span>    TF1&amp;</div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#ab297bdca9410d989881bd4ce0e0bc3b7">  238</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#ab297bdca9410d989881bd4ce0e0bc3b7">uncheckedAccessTimingTF1</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel)</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a46a749036771882d31a1214c3442d240">fTimingParTF1LookupTable</a>[<a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a78238d21d77ca823869996671627030e">uncheckedIndex</a>(Voxel, OpChannel)];</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">    /// Unchecked access to a parameter of the time distribution</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"></span>    <span class="keyword">const</span> TF1&amp;</div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#aa5173e3879f3eb65fc5a87913f5bde02">  245</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#aa5173e3879f3eb65fc5a87913f5bde02">uncheckedAccessTimingTF1</a>(<span class="keywordtype">size_t</span> Voxel, <span class="keywordtype">size_t</span> OpChannel)<span class="keyword"> const</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <span class="comment">// note that this will produce a segmentation fault if the formula is not there</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <span class="keywordflow">return</span> *(<a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a46a749036771882d31a1214c3442d240">fTimingParTF1LookupTable</a>.<a class="code" href="../../d2/da3/classutil_1_1LazyVector.html#ac9c3579f32357b916d402efa1c73a7a4">data_address</a>(<a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a78238d21d77ca823869996671627030e">uncheckedIndex</a>(Voxel, OpChannel)));</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">    /// Reads the metadata from specified ROOT directory and sets it as current.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a84405acc5dc97d2965a558444879b1f5">LoadMetadata</a>(TDirectory&amp; srcDir);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">    /// Writes the current metadata (if any) into the ROOT output file.</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a8d54edb43ff0ccaabf91d7939216fc62">StoreMetadata</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">    /// Name of the optical channel number in the input tree</span></div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a6c08889a32be4ee3638aad5c877769eb">  258</a></span>&#160;<span class="comment"></span>    <span class="keyword">static</span> std::string <span class="keyword">const</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a6c08889a32be4ee3638aad5c877769eb">OpChannelBranchName</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">    /// Returns the number of optical channels in the specified tree</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"></span>    <span class="keyword">static</span> <span class="keywordtype">size_t</span> <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#af7151b126456f41d93d0adef1f26c585">ExtractNOpChannels</a>(TTree* tree);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">    /// Converts size_t into integer</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"></span>    <span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a065eaba103a906a77eccf68a2cbbee8e">  265</a></span>&#160;    <a class="code" href="../../d4/d30/classphot_1_1PhotonLibrary.html#a065eaba103a906a77eccf68a2cbbee8e">size_t2int</a>(<span class="keywordtype">size_t</span> val)</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      constexpr <span class="keywordtype">size_t</span> int_max_as_size_t{<a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::numeric_limits&lt;int&gt;::max</a>()};</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="keywordflow">return</span> val &lt;= int_max_as_size_t ? static_cast&lt;int&gt;(val) : -1;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  };</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="classutil_1_1LazyVector_html_ac9c3579f32357b916d402efa1c73a7a4"><div class="ttname"><a href="../../d2/da3/classutil_1_1LazyVector.html#ac9c3579f32357b916d402efa1c73a7a4">util::LazyVector::data_address</a></div><div class="ttdeci">const_pointer data_address(size_type pos) const </div><div class="ttdoc">Returns a constant pointer to the specified element. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/LazyVector_8h_source.html#l00584">LazyVector.h:584</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_ab0f9f21135156d624c1a0881b1620a65"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#ab0f9f21135156d624c1a0881b1620a65">phot::PhotonLibrary::fTimingParNParameters</a></div><div class="ttdeci">size_t fTimingParNParameters</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00156">larsim/larsim/PhotonPropagation/PhotonLibrary.h:156</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a065eaba103a906a77eccf68a2cbbee8e"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a065eaba103a906a77eccf68a2cbbee8e">phot::PhotonLibrary::size_t2int</a></div><div class="ttdeci">static int size_t2int(size_t val)</div><div class="ttdoc">Converts size_t into integer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00265">larsim/larsim/PhotonPropagation/PhotonLibrary.h:265</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a5c1921ac52561c2485540bb312750a30"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a5c1921ac52561c2485540bb312750a30">phot::PhotonLibrary::fVoxelDef</a></div><div class="ttdeci">std::optional&lt; sim::PhotonVoxelDef &gt; fVoxelDef</div><div class="ttdoc">Voxel definition loaded from library metadata. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00162">larsim/larsim/PhotonPropagation/PhotonLibrary.h:162</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a13f8d00201354d72feb493eb1f66facd"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a13f8d00201354d72feb493eb1f66facd">phot::PhotonLibrary::ProduceTTree</a></div><div class="ttdeci">TTree * ProduceTTree() const </div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a2c48b2f4db56dd52f940ee9990ad5cb8"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a2c48b2f4db56dd52f940ee9990ad5cb8">phot::PhotonLibrary::uncheckedAccess</a></div><div class="ttdeci">float &amp; uncheckedAccess(size_t Voxel, size_t OpChannel)</div><div class="ttdoc">Unchecked access to a visibility datum. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00189">larsim/larsim/PhotonPropagation/PhotonLibrary.h:189</a></div></div>
<div class="ttc" id="IPhotonLibrary_8h_html"><div class="ttname"><a href="../../dd/d70/IPhotonLibrary_8h.html">IPhotonLibrary.h</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_ac9637a527f33939be2fedebe6aec38ad"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#ac9637a527f33939be2fedebe6aec38ad">phot::PhotonLibrary::fHasTiming</a></div><div class="ttdeci">size_t fHasTiming</div><div class="ttdoc">Whether the current library deals with time propagation distribution. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00145">larsim/larsim/PhotonPropagation/PhotonLibrary.h:145</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a3640f1b61e487cb8f904e3900d63539e"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a3640f1b61e487cb8f904e3900d63539e">phot::PhotonLibrary::LoadLibraryFromFile</a></div><div class="ttdeci">void LoadLibraryFromFile(std::string LibraryFile, size_t NVoxels, bool storeReflected=false, bool storeReflT0=false, size_t storeTiming=0, int maxrange=200)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00166">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:166</a></div></div>
<div class="ttc" id="namespaceLVDSpatterns_html_a50b9bac6f0381564bc09c5fb54d2627f"><div class="ttname"><a href="../../df/d32/namespaceLVDSpatterns.html#a50b9bac6f0381564bc09c5fb54d2627f">LVDSpatterns.NChannels</a></div><div class="ttdeci">int NChannels</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3e/LVDSpatterns_8py_source.html#l00057">LVDSpatterns.py:57</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_abbc55c7ad96084dedb104d06d2725939"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#abbc55c7ad96084dedb104d06d2725939">phot::PhotonLibrary::fReflLookupTable</a></div><div class="ttdeci">util::LazyVector&lt; float &gt; fReflLookupTable</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00151">larsim/larsim/PhotonPropagation/PhotonLibrary.h:151</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a54f9fb8e928f361ad2086e9fa44563cc"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a54f9fb8e928f361ad2086e9fa44563cc">phot::PhotonLibrary::fHasReflectedT0</a></div><div class="ttdeci">bool fHasReflectedT0</div><div class="ttdoc">Whether the current library deals with reflected light timing. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00142">larsim/larsim/PhotonPropagation/PhotonLibrary.h:142</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_ab1b9a87ca2d422f0e4dda801ce7e89eb"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#ab1b9a87ca2d422f0e4dda801ce7e89eb">phot::PhotonLibrary::CreateEmptyLibrary</a></div><div class="ttdeci">void CreateEmptyLibrary(size_t NVoxels, size_t NChannels, bool storeReflected=false, bool storeReflT0=false, size_t storeTiming=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00135">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:135</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a7a29c99f3354049799a868a1dc7c532f"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a7a29c99f3354049799a868a1dc7c532f">phot::PhotonLibrary::GetVoxelDef</a></div><div class="ttdeci">sim::PhotonVoxelDef const &amp; GetVoxelDef() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00106">larsim/larsim/PhotonPropagation/PhotonLibrary.h:106</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_adafd0012119b4af6cbada05d600c45af"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#adafd0012119b4af6cbada05d600c45af">phot::PhotonLibrary::hasVoxelDef</a></div><div class="ttdeci">bool hasVoxelDef() const </div><div class="ttdoc">Returns whether voxel metadata is available. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00098">larsim/larsim/PhotonPropagation/PhotonLibrary.h:98</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html">phot::PhotonLibrary</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00025">larsim/larsim/PhotonPropagation/PhotonLibrary.h:25</a></div></div>
<div class="ttc" id="classsim_1_1PhotonVoxelDef_html"><div class="ttname"><a href="../../da/d6a/classsim_1_1PhotonVoxelDef.html">sim::PhotonVoxelDef</a></div><div class="ttdoc">Representation of a region of space diced into voxels. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/larsim_2larsim_2Simulation_2PhotonVoxels_8h_source.html#l00058">larsim/larsim/Simulation/PhotonVoxels.h:58</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a4138bb48d27a0b0de8636b7e85e8c6bf"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a4138bb48d27a0b0de8636b7e85e8c6bf">phot::PhotonLibrary::PhotonLibrary</a></div><div class="ttdeci">PhotonLibrary()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d85/sbncode_2sbncode_2OpT0Finder_2flashmatch_2Base_2FMWKTools_2PhotonLibrary_8cxx_source.html#l00023">sbncode/sbncode/OpT0Finder/flashmatch/Base/FMWKTools/PhotonLibrary.cxx:23</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a6c08889a32be4ee3638aad5c877769eb"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a6c08889a32be4ee3638aad5c877769eb">phot::PhotonLibrary::OpChannelBranchName</a></div><div class="ttdeci">static std::string const OpChannelBranchName</div><div class="ttdoc">Name of the optical channel number in the input tree. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00258">larsim/larsim/PhotonPropagation/PhotonLibrary.h:258</a></div></div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a6dcc560dc71fa471a051303de5936d2f"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a6dcc560dc71fa471a051303de5936d2f">phot::PhotonLibrary::uncheckedAccess</a></div><div class="ttdeci">float uncheckedAccess(size_t Voxel, size_t OpChannel) const </div><div class="ttdoc">Unchecked access to a visibility datum. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00182">larsim/larsim/PhotonPropagation/PhotonLibrary.h:182</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a042c6fe3b61bd7d323e7dc4132646409"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a042c6fe3b61bd7d323e7dc4132646409">phot::PhotonLibrary::StoreLibraryToFile</a></div><div class="ttdeci">void StoreLibraryToFile(std::string LibraryFile, bool storeReflected=false, bool storeReflT0=false, size_t storeTiming=0) const </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00052">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:52</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a1cf87c98b55b369e22540f4b4db6a0dc"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a1cf87c98b55b369e22540f4b4db6a0dc">phot::PhotonLibrary::uncheckedAccessReflT</a></div><div class="ttdeci">float uncheckedAccessReflT(size_t Voxel, size_t OpChannel) const </div><div class="ttdoc">Unchecked access to a reflected T0 visibility datum. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00210">larsim/larsim/PhotonPropagation/PhotonLibrary.h:210</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_afafb4fc5ed33c4e684b4a1176dca1094"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#afafb4fc5ed33c4e684b4a1176dca1094">phot::PhotonLibrary::SetCount</a></div><div class="ttdeci">void SetCount(size_t Voxel, size_t OpChannel, float Count)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00351">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:351</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a5ca57812a906408ea0ae020b7a2db443"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a5ca57812a906408ea0ae020b7a2db443">phot::PhotonLibrary::SetTimingTF1</a></div><div class="ttdeci">void SetTimingTF1(size_t Voxel, size_t OpChannel, TF1 func)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00373">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:373</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_aa58e0ff547232efd1546d0fd5e6c6f08"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#aa58e0ff547232efd1546d0fd5e6c6f08">phot::PhotonLibrary::fTimingParFormula</a></div><div class="ttdeci">std::string fTimingParFormula</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00155">larsim/larsim/PhotonPropagation/PhotonLibrary.h:155</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a78238d21d77ca823869996671627030e"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a78238d21d77ca823869996671627030e">phot::PhotonLibrary::uncheckedIndex</a></div><div class="ttdeci">size_t uncheckedIndex(size_t Voxel, size_t OpChannel) const </div><div class="ttdoc">Returns the index of visibility of specified voxel and cell. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00175">larsim/larsim/PhotonPropagation/PhotonLibrary.h:175</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a6adb07ad3c58cf066510ffb47d152190"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a6adb07ad3c58cf066510ffb47d152190">phot::PhotonLibrary::fLookupTable</a></div><div class="ttdeci">util::LazyVector&lt; float &gt; fLookupTable</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00150">larsim/larsim/PhotonPropagation/PhotonLibrary.h:150</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_adda0f433ddf953fbfb7fe553b1054789"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#adda0f433ddf953fbfb7fe553b1054789">phot::PhotonLibrary::SetVoxelDef</a></div><div class="ttdeci">void SetVoxelDef(sim::PhotonVoxelDef const &amp;voxelDef)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00115">larsim/larsim/PhotonPropagation/PhotonLibrary.h:115</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_af7151b126456f41d93d0adef1f26c585"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#af7151b126456f41d93d0adef1f26c585">phot::PhotonLibrary::ExtractNOpChannels</a></div><div class="ttdeci">static size_t ExtractNOpChannels(TTree *tree)</div><div class="ttdoc">Returns the number of optical channels in the specified tree. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00578">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:578</a></div></div>
<div class="ttc" id="larsim_2larsim_2Simulation_2PhotonVoxels_8h_html"><div class="ttname"><a href="../../db/d55/larsim_2larsim_2Simulation_2PhotonVoxels_8h.html">PhotonVoxels.h</a></div><div class="ttdoc">Definitions of voxel data structures. </div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_ad22442fbd9734819d5676d16849811d3"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#ad22442fbd9734819d5676d16849811d3">phot::PhotonLibrary::hasReflected</a></div><div class="ttdeci">virtual bool hasReflected() const override</div><div class="ttdoc">Returns whether the current library deals with reflected light count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00064">larsim/larsim/PhotonPropagation/PhotonLibrary.h:64</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_ab89a21e5f32f8d53679084a11a8074bb"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#ab89a21e5f32f8d53679084a11a8074bb">phot::PhotonLibrary::isVoxelValidImpl</a></div><div class="ttdeci">bool isVoxelValidImpl(size_t Voxel) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00168">larsim/larsim/PhotonPropagation/PhotonLibrary.h:168</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a837d8c58e3855135ac46eeb9b4c96f54"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a837d8c58e3855135ac46eeb9b4c96f54">phot::PhotonLibrary::SetReflT0</a></div><div class="ttdeci">void SetReflT0(size_t Voxel, size_t OpChannel, float reflT0)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00395">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:395</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_aad941cee20fc9d56867aae624191316c"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#aad941cee20fc9d56867aae624191316c">phot::PhotonLibrary::GetCounts</a></div><div class="ttdeci">virtual float const * GetCounts(size_t Voxel) const override</div><div class="ttdoc">Returns a pointer to NOpChannels() visibility values, one per channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00407">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:407</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a387fae678146db02ce41420d8c691759"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a387fae678146db02ce41420d8c691759">phot::PhotonLibrary::fHasReflected</a></div><div class="ttdeci">bool fHasReflected</div><div class="ttdoc">Whether the current library deals with reflected light counts. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00141">larsim/larsim/PhotonPropagation/PhotonLibrary.h:141</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_aa5173e3879f3eb65fc5a87913f5bde02"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#aa5173e3879f3eb65fc5a87913f5bde02">phot::PhotonLibrary::uncheckedAccessTimingTF1</a></div><div class="ttdeci">const TF1 &amp; uncheckedAccessTimingTF1(size_t Voxel, size_t OpChannel) const </div><div class="ttdoc">Unchecked access to a parameter of the time distribution. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00245">larsim/larsim/PhotonPropagation/PhotonLibrary.h:245</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_ab297bdca9410d989881bd4ce0e0bc3b7"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#ab297bdca9410d989881bd4ce0e0bc3b7">phot::PhotonLibrary::uncheckedAccessTimingTF1</a></div><div class="ttdeci">TF1 &amp; uncheckedAccessTimingTF1(size_t Voxel, size_t OpChannel)</div><div class="ttdoc">Unchecked access to a parameter of the time distribution. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00238">larsim/larsim/PhotonPropagation/PhotonLibrary.h:238</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a104de1849641dc538cce3f29c0386a75"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a104de1849641dc538cce3f29c0386a75">phot::PhotonLibrary::GetReflCounts</a></div><div class="ttdeci">virtual float const * GetReflCounts(size_t Voxel) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00458">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:458</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a8d54edb43ff0ccaabf91d7939216fc62"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a8d54edb43ff0ccaabf91d7939216fc62">phot::PhotonLibrary::StoreMetadata</a></div><div class="ttdeci">void StoreMetadata() const </div><div class="ttdoc">Writes the current metadata (if any) into the ROOT output file. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00528">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:528</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_acfa6c8618c0ed7e32c14b3291750806e"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#acfa6c8618c0ed7e32c14b3291750806e">phot::PhotonLibrary::uncheckedAccessTimingPar</a></div><div class="ttdeci">float &amp; uncheckedAccessTimingPar(size_t Voxel, size_t OpChannel, size_t parnum)</div><div class="ttdoc">Unchecked access to a parameter of the time distribution. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00231">larsim/larsim/PhotonPropagation/PhotonLibrary.h:231</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a4fc73afa9de3e477b2d535dcbb3f174a"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a4fc73afa9de3e477b2d535dcbb3f174a">phot::PhotonLibrary::GetTimingTF1s</a></div><div class="ttdeci">TF1 * GetTimingTF1s(size_t Voxel) const </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00429">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:429</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_ae3c47dd50bd60c2ceb2e56ea20bb8d69"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#ae3c47dd50bd60c2ceb2e56ea20bb8d69">phot::PhotonLibrary::GetTimingPars</a></div><div class="ttdeci">const std::vector&lt; float &gt; * GetTimingPars(size_t Voxel) const </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00418">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:418</a></div></div>
<div class="ttc" id="LazyVector_8h_html"><div class="ttname"><a href="../../de/dcb/LazyVector_8h.html">LazyVector.h</a></div><div class="ttdoc">Contiguous data container with lazy resizing on access. </div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a55e579a7421efadf8b70c305fae7993b"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a55e579a7421efadf8b70c305fae7993b">phot::PhotonLibrary::GetCount</a></div><div class="ttdeci">virtual float GetCount(size_t Voxel, size_t OpChannel) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00311">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:311</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a46a749036771882d31a1214c3442d240"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a46a749036771882d31a1214c3442d240">phot::PhotonLibrary::fTimingParTF1LookupTable</a></div><div class="ttdeci">util::LazyVector&lt; TF1 &gt; fTimingParTF1LookupTable</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00154">larsim/larsim/PhotonPropagation/PhotonLibrary.h:154</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_aefaf8b0f95cf8cacb2ba08ea8c741775"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#aefaf8b0f95cf8cacb2ba08ea8c741775">phot::PhotonLibrary::isVoxelValid</a></div><div class="ttdeci">virtual bool isVoxelValid(size_t Voxel) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00136">larsim/larsim/PhotonPropagation/PhotonLibrary.h:136</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a308eb46b09ec545fa70c9e49a430176f"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a308eb46b09ec545fa70c9e49a430176f">phot::PhotonLibrary::fNOpChannels</a></div><div class="ttdeci">size_t fNOpChannels</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00158">larsim/larsim/PhotonPropagation/PhotonLibrary.h:158</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_ae81638a2fe9ae0c8ff3428fb94159f58"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#ae81638a2fe9ae0c8ff3428fb94159f58">phot::PhotonLibrary::GetReflCount</a></div><div class="ttdeci">virtual float GetReflCount(size_t Voxel, size_t OpChannel) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00330">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:330</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_af060b5db0255126a4483386c18f50c66"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#af060b5db0255126a4483386c18f50c66">phot::PhotonLibrary::GetReflT0s</a></div><div class="ttdeci">virtual float const * GetReflT0s(size_t Voxel) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00469">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:469</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a028071db537daf77aaeca67c8afeda5f"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a028071db537daf77aaeca67c8afeda5f">phot::PhotonLibrary::fNVoxels</a></div><div class="ttdeci">size_t fNVoxels</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00159">larsim/larsim/PhotonPropagation/PhotonLibrary.h:159</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_aa78b409650b3fc0fe0c419713edd884b"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#aa78b409650b3fc0fe0c419713edd884b">phot::PhotonLibrary::SetTimingPar</a></div><div class="ttdeci">void SetTimingPar(size_t Voxel, size_t OpChannel, float Count, size_t parnum)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00362">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:362</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a56b0f73f71912af6152ade20577d5dbe"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a56b0f73f71912af6152ade20577d5dbe">phot::PhotonLibrary::uncheckedAccessRefl</a></div><div class="ttdeci">float uncheckedAccessRefl(size_t Voxel, size_t OpChannel) const </div><div class="ttdoc">Unchecked access to a reflected visibility datum. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00196">larsim/larsim/PhotonPropagation/PhotonLibrary.h:196</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a46ce429d0bf872fa25d2c03103e012b2"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a46ce429d0bf872fa25d2c03103e012b2">phot::PhotonLibrary::NOpChannels</a></div><div class="ttdeci">virtual int NOpChannels() const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00125">larsim/larsim/PhotonPropagation/PhotonLibrary.h:125</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_abcd3231be5b06c912132a4e6d9df1f94"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#abcd3231be5b06c912132a4e6d9df1f94">phot::PhotonLibrary::uncheckedAccessRefl</a></div><div class="ttdeci">float &amp; uncheckedAccessRefl(size_t Voxel, size_t OpChannel)</div><div class="ttdoc">Unchecked access to a reflected visibility datum. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00203">larsim/larsim/PhotonPropagation/PhotonLibrary.h:203</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a184a3ab815df573c7eb918cb04db88e8"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a184a3ab815df573c7eb918cb04db88e8">phot::PhotonLibrary::GetTimingPar</a></div><div class="ttdeci">float GetTimingPar(size_t Voxel, size_t OpChannel, size_t parnum) const </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00321">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:321</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a31368c1209bedfdd09f267c8341bc1fa"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a31368c1209bedfdd09f267c8341bc1fa">phot::PhotonLibrary::GetReflT0</a></div><div class="ttdeci">virtual float GetReflT0(size_t Voxel, size_t OpChannel) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00340">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:340</a></div></div>
<div class="ttc" id="classphot_1_1IPhotonLibrary_html"><div class="ttname"><a href="../../df/db1/classphot_1_1IPhotonLibrary.html">phot::IPhotonLibrary</a></div><div class="ttdoc">Interface shared by all PhotonLibrary-like classes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d70/IPhotonLibrary_8h_source.html#l00015">IPhotonLibrary.h:15</a></div></div>
<div class="ttc" id="classutil_1_1LazyVector_html"><div class="ttname"><a href="../../d2/da3/classutil_1_1LazyVector.html">util::LazyVector&lt; float &gt;</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a278f231f934bb3e0ab35f6fc621b9cdd"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a278f231f934bb3e0ab35f6fc621b9cdd">phot::PhotonLibrary::fTimingParLookupTable</a></div><div class="ttdeci">util::LazyVector&lt; std::vector&lt; float &gt; &gt; fTimingParLookupTable</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00153">larsim/larsim/PhotonPropagation/PhotonLibrary.h:153</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a8e73cd10c2450698952e6653f77a5e3a"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a8e73cd10c2450698952e6653f77a5e3a">phot::PhotonLibrary::fReflTLookupTable</a></div><div class="ttdeci">util::LazyVector&lt; float &gt; fReflTLookupTable</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00152">larsim/larsim/PhotonPropagation/PhotonLibrary.h:152</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_aec86012610526e53b082864ff0799a00"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#aec86012610526e53b082864ff0799a00">phot::PhotonLibrary::uncheckedAccessReflT</a></div><div class="ttdeci">float &amp; uncheckedAccessReflT(size_t Voxel, size_t OpChannel)</div><div class="ttdoc">Unchecked access to a reflected T0 visibility datum. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00217">larsim/larsim/PhotonPropagation/PhotonLibrary.h:217</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_aa3ff312a6feb2af93a45e022596eaa9c"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#aa3ff312a6feb2af93a45e022596eaa9c">phot::PhotonLibrary::fDir</a></div><div class="ttdeci">art::TFileDirectory * fDir</div><div class="ttdoc">ROOT directory where to write data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00165">larsim/larsim/PhotonPropagation/PhotonLibrary.h:165</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_acb32c5374d6a58baf6c55cbda9fc9417"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#acb32c5374d6a58baf6c55cbda9fc9417">phot::PhotonLibrary::NVoxels</a></div><div class="ttdeci">virtual int NVoxels() const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00130">larsim/larsim/PhotonPropagation/PhotonLibrary.h:130</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a922eab510db4ba62bdad4abeb17c0d26"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a922eab510db4ba62bdad4abeb17c0d26">phot::PhotonLibrary::SetReflCount</a></div><div class="ttdeci">void SetReflCount(size_t Voxel, size_t OpChannel, float Count)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00384">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:384</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_afc104a3bd59ad2ba42465344ddfc8fc2"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#afc104a3bd59ad2ba42465344ddfc8fc2">phot::PhotonLibrary::hasTiming</a></div><div class="ttdeci">bool hasTiming() const </div><div class="ttdoc">Returns whether the current library deals with time propagation distributions. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00057">larsim/larsim/PhotonPropagation/PhotonLibrary.h:57</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a84405acc5dc97d2965a558444879b1f5"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a84405acc5dc97d2965a558444879b1f5">phot::PhotonLibrary::LoadMetadata</a></div><div class="ttdeci">void LoadMetadata(TDirectory &amp;srcDir)</div><div class="ttdoc">Reads the metadata from specified ROOT directory and sets it as current. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8cxx_source.html#l00479">larsim/larsim/PhotonPropagation/PhotonLibrary.cxx:479</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a1c6071cc2efb103a323b4ff52873c3ee"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a1c6071cc2efb103a323b4ff52873c3ee">phot::PhotonLibrary::uncheckedAccessTimingPar</a></div><div class="ttdeci">float uncheckedAccessTimingPar(size_t Voxel, size_t OpChannel, size_t parnum) const </div><div class="ttdoc">Unchecked access to a parameter the time distribution. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00224">larsim/larsim/PhotonPropagation/PhotonLibrary.h:224</a></div></div>
<div class="ttc" id="classphot_1_1PhotonLibrary_html_a684c107a60857827973e7838a4640ba3"><div class="ttname"><a href="../../d4/d30/classphot_1_1PhotonLibrary.html#a684c107a60857827973e7838a4640ba3">phot::PhotonLibrary::hasReflectedT0</a></div><div class="ttdeci">virtual bool hasReflectedT0() const override</div><div class="ttdoc">Returns whether the current library deals with reflected light timing. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1a/larsim_2larsim_2PhotonPropagation_2PhotonLibrary_8h_source.html#l00071">larsim/larsim/PhotonPropagation/PhotonLibrary.h:71</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
