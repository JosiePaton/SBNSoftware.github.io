<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>icarus::details::ROPandTPCsetBuildingAlg Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../da/d4d/namespaceicarus.html">icarus</a></li><li class="navelem"><a class="el" href="../../db/db1/namespaceicarus_1_1details.html">details</a></li><li class="navelem"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html">ROPandTPCsetBuildingAlg</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../da/d2f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">icarus::details::ROPandTPCsetBuildingAlg Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Extracts TPC sets and readout planes from a list of cryostats.  
 <a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html">ROPandTPCsetBuildingAlg.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc8/structicarus_1_1details_1_1ROPandTPCsetBuildingAlg_1_1Results__t.html">Results_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ae8a4b77016cf7f43c2c05e93a861dc35"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae8a4b77016cf7f43c2c05e93a861dc35">TPCColl_t</a> = <a class="el" href="../../db/db1/namespaceicarus_1_1details.html#aafb2be2127b9df753f1f7b0d61358444">icarus::details::TPCColl_t</a></td></tr>
<tr class="separator:ae8a4b77016cf7f43c2c05e93a861dc35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab630f4ab5fe058d9893a1f2ea9b991a0"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> = <a class="el" href="../../db/db1/namespaceicarus_1_1details.html#a2b09b315315cfa012dae9ff2d5d5cabe">icarus::details::PlaneColl_t</a></td></tr>
<tr class="separator:ab630f4ab5fe058d9893a1f2ea9b991a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad99c9b9592feb9fe5e2d8c793c313480"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ad99c9b9592feb9fe5e2d8c793c313480">ResultsBase_t</a> = std::tuple&lt; std::vector&lt; unsigned int &gt;, <a class="el" href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer</a>&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae8a4b77016cf7f43c2c05e93a861dc35">TPCColl_t</a> &gt;, <a class="el" href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer</a>&lt; unsigned int &gt;, <a class="el" href="../../d1/ded/classreadout_1_1ROPDataContainer.html">readout::ROPDataContainer</a>&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt;, <a class="el" href="../../d4/d46/classgeo_1_1TPCDataContainer.html">geo::TPCDataContainer</a>&lt; <a class="el" href="../../d5/d8f/structreadout_1_1TPCsetID.html">readout::TPCsetID</a> &gt;, <a class="el" href="../../de/d5e/classgeo_1_1PlaneDataContainer.html">geo::PlaneDataContainer</a>&lt; <a class="el" href="../../dd/d41/structreadout_1_1ROPID.html">readout::ROPID</a> &gt; &gt;</td></tr>
<tr class="memdesc:ad99c9b9592feb9fe5e2d8c793c313480"><td class="mdescLeft">&#160;</td><td class="mdescRight">Full group of results of the algorithm.  <a href="#ad99c9b9592feb9fe5e2d8c793c313480">More...</a><br/></td></tr>
<tr class="separator:ad99c9b9592feb9fe5e2d8c793c313480"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa7d7cca1626cf44d998cad3a29263a13"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa7d7cca1626cf44d998cad3a29263a13">ROPandTPCsetBuildingAlg</a> ()=<a class="el" href="../../de/d36/crtt0matchingalg__sbnd_8fcl.html#a6c2384a9e3f7a8c21ae6f762a8ee0ece">default</a></td></tr>
<tr class="memdesc:aa7d7cca1626cf44d998cad3a29263a13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construction: use default configuration.  <a href="#aa7d7cca1626cf44d998cad3a29263a13">More...</a><br/></td></tr>
<tr class="separator:aa7d7cca1626cf44d998cad3a29263a13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5909a1e3c745e97340275dfdfadea5f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a5909a1e3c745e97340275dfdfadea5f6">ROPandTPCsetBuildingAlg</a> (std::string const &amp;logCategory)</td></tr>
<tr class="memdesc:a5909a1e3c745e97340275dfdfadea5f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construction: specify the algorithm configuration.  <a href="#a5909a1e3c745e97340275dfdfadea5f6">More...</a><br/></td></tr>
<tr class="separator:a5909a1e3c745e97340275dfdfadea5f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a910c4e7c4bd61ac71aa83171b6801d5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/dc8/structicarus_1_1details_1_1ROPandTPCsetBuildingAlg_1_1Results__t.html">Results_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a910c4e7c4bd61ac71aa83171b6801d5c">run</a> (<a class="el" href="../../d7/df3/structgeo_1_1GeometryData__t.html#a324475ddeafb25f18f29a99614d423ab">geo::GeometryData_t::CryostatList_t</a> const &amp;Cryostats)</td></tr>
<tr class="memdesc:a910c4e7c4bd61ac71aa83171b6801d5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the algorithm as configured from start to end.  <a href="#a910c4e7c4bd61ac71aa83171b6801d5c">More...</a><br/></td></tr>
<tr class="separator:a910c4e7c4bd61ac71aa83171b6801d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f49bca3fb831ef930a6d347005af50f"><td class="memTemplParams" colspan="2">template&lt;typename Pred &gt; </td></tr>
<tr class="memitem:a6f49bca3fb831ef930a6d347005af50f"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a6f49bca3fb831ef930a6d347005af50f">groupPlanesAndTPCs</a> (Pred standalonePlane) -&gt; std::vector&lt; std::vector&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt;&gt;</td></tr>
<tr class="separator:a6f49bca3fb831ef930a6d347005af50f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce21b337e48626f55a6b75ef74d2cea"><td class="memTemplParams" colspan="2">template&lt;typename PlaneColl &gt; </td></tr>
<tr class="memitem:acce21b337e48626f55a6b75ef74d2cea"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#acce21b337e48626f55a6b75ef74d2cea">groupPlanesByDriftCoord</a> (PlaneColl const &amp;<a class="el" href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a>, double <a class="el" href="../../d3/d3e/OpFlashAlg__test_8cc.html#a9831d5eb20e67514532655869f703820">tolerance</a>) -&gt; std::vector&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt;</td></tr>
<tr class="separator:acce21b337e48626f55a6b75ef74d2cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a347e880195ba05a66dd52bad7dc83f20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a347e880195ba05a66dd52bad7dc83f20">clear</a> ()</td></tr>
<tr class="memdesc:a347e880195ba05a66dd52bad7dc83f20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys all the result data members.  <a href="#a347e880195ba05a66dd52bad7dc83f20">More...</a><br/></td></tr>
<tr class="separator:a347e880195ba05a66dd52bad7dc83f20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9998fa9a7b02f6bf90525c6f70c9949b"><td class="memTemplParams" colspan="2">template&lt;typename Pred &gt; </td></tr>
<tr class="memitem:a9998fa9a7b02f6bf90525c6f70c9949b"><td class="memTemplItemLeft" align="right" valign="top">std::vector&lt; std::vector<br class="typebreak"/>
&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a9998fa9a7b02f6bf90525c6f70c9949b">groupPlanesAndTPCs</a> (Pred standalonePlane)</td></tr>
<tr class="memdesc:a9998fa9a7b02f6bf90525c6f70c9949b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts composition of all readout planes.  <a href="#a9998fa9a7b02f6bf90525c6f70c9949b">More...</a><br/></td></tr>
<tr class="separator:a9998fa9a7b02f6bf90525c6f70c9949b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af369031880f570959b284622a7c6ce95"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector<br class="typebreak"/>
&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#af369031880f570959b284622a7c6ce95">groupPlanesAndTPCs</a> ()</td></tr>
<tr class="memdesc:af369031880f570959b284622a7c6ce95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts composition of all readout planes.  <a href="#af369031880f570959b284622a7c6ce95">More...</a><br/></td></tr>
<tr class="separator:af369031880f570959b284622a7c6ce95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea7654a829eba3d9e3d6bd147f97c7e0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector<br class="typebreak"/>
&lt; std::vector&lt; <a class="el" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aea7654a829eba3d9e3d6bd147f97c7e0">extractTPCsetsFromROPs</a> (std::vector&lt; std::vector&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt;&gt; const &amp;<a class="el" href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a>)</td></tr>
<tr class="memdesc:aea7654a829eba3d9e3d6bd147f97c7e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts all the TPC sets covered by any of the plane groups.  <a href="#aea7654a829eba3d9e3d6bd147f97c7e0">More...</a><br/></td></tr>
<tr class="separator:aea7654a829eba3d9e3d6bd147f97c7e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1c3d0dec1651a7bb90aa19008a216aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab1c3d0dec1651a7bb90aa19008a216aa">fillTPCsInSet</a> (std::vector&lt; std::vector&lt; std::vector&lt; <a class="el" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> &gt;&gt;&gt; const &amp;AllTPCsOnROPs)</td></tr>
<tr class="memdesc:ab1c3d0dec1651a7bb90aa19008a216aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts the final set of TPC sets.  <a href="#ab1c3d0dec1651a7bb90aa19008a216aa">More...</a><br/></td></tr>
<tr class="separator:ab1c3d0dec1651a7bb90aa19008a216aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90e34835244bc9f4c020c3afd9981039"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer</a><br class="typebreak"/>
&lt; std::vector&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a90e34835244bc9f4c020c3afd9981039">groupPlanesIntoROPs</a> (std::vector&lt; std::vector&lt; std::vector&lt; <a class="el" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> &gt;&gt;&gt; const &amp;AllTPCsOnROPs, std::vector&lt; std::vector&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt;&gt; &amp;&amp;AllPlanesInROPs)</td></tr>
<tr class="memdesc:a90e34835244bc9f4c020c3afd9981039"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns each of the readout planes to a TPC set.  <a href="#a90e34835244bc9f4c020c3afd9981039">More...</a><br/></td></tr>
<tr class="separator:a90e34835244bc9f4c020c3afd9981039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a4f5057af15b9ea296606bc9aedb01f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a3a4f5057af15b9ea296606bc9aedb01f">fillPlanesInROP</a> (<a class="el" href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer</a>&lt; std::vector&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt;&gt; const &amp;PlanesInProtoROPs)</td></tr>
<tr class="memdesc:a3a4f5057af15b9ea296606bc9aedb01f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds final readout plane information.  <a href="#a3a4f5057af15b9ea296606bc9aedb01f">More...</a><br/></td></tr>
<tr class="separator:a3a4f5057af15b9ea296606bc9aedb01f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bbe65d3e61ef1ef4d9e2dd97015f0e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a8bbe65d3e61ef1ef4d9e2dd97015f0e7">fillTPCtoTPCsetMap</a> ()</td></tr>
<tr class="memdesc:a8bbe65d3e61ef1ef4d9e2dd97015f0e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the map from each TPC to its TPC set.  <a href="#a8bbe65d3e61ef1ef4d9e2dd97015f0e7">More...</a><br/></td></tr>
<tr class="separator:a8bbe65d3e61ef1ef4d9e2dd97015f0e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2e83fecb71385bec1bcf4f6198dd06c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ad2e83fecb71385bec1bcf4f6198dd06c">fillPlaneToROPmap</a> ()</td></tr>
<tr class="memdesc:ad2e83fecb71385bec1bcf4f6198dd06c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the map from each wire plane to its readout plane.  <a href="#ad2e83fecb71385bec1bcf4f6198dd06c">More...</a><br/></td></tr>
<tr class="separator:ad2e83fecb71385bec1bcf4f6198dd06c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2739d3371a82a5fc17b1001ecb046f0a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a2739d3371a82a5fc17b1001ecb046f0a">sortByNormalCoordinate</a> (std::vector&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt; const &amp;<a class="el" href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a>) const </td></tr>
<tr class="memdesc:a2739d3371a82a5fc17b1001ecb046f0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <code>planes</code> sorted by decreasing normal coordinate.  <a href="#a2739d3371a82a5fc17b1001ecb046f0a">More...</a><br/></td></tr>
<tr class="separator:a2739d3371a82a5fc17b1001ecb046f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdf44f528d7f1cc52fcd7180b8ad4ded"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#afdf44f528d7f1cc52fcd7180b8ad4ded">checkNormalDirection</a> (std::vector&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt; const &amp;<a class="el" href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a>) const </td></tr>
<tr class="memdesc:afdf44f528d7f1cc52fcd7180b8ad4ded"><td class="mdescLeft">&#160;</td><td class="mdescRight">Throws an exception if planes do not share the same normal direction.  <a href="#afdf44f528d7f1cc52fcd7180b8ad4ded">More...</a><br/></td></tr>
<tr class="separator:afdf44f528d7f1cc52fcd7180b8ad4ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:ab67f0cb407244e542d7122f79039cce9"><td class="memTemplParams" colspan="2">template&lt;typename PlaneColl &gt; </td></tr>
<tr class="memitem:ab67f0cb407244e542d7122f79039cce9"><td class="memTemplItemLeft" align="right" valign="top">static std::vector<br class="typebreak"/>
&lt; std::vector&lt; <a class="el" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> <br class="typebreak"/>
const * &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab67f0cb407244e542d7122f79039cce9">groupPlanesByDriftCoord</a> (PlaneColl const &amp;<a class="el" href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a>, double <a class="el" href="../../d3/d3e/OpFlashAlg__test_8cc.html#a9831d5eb20e67514532655869f703820">tolerance</a>=0.1)</td></tr>
<tr class="memdesc:ab67f0cb407244e542d7122f79039cce9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the planes grouped by their drift coordinate.  <a href="#ab67f0cb407244e542d7122f79039cce9">More...</a><br/></td></tr>
<tr class="separator:ab67f0cb407244e542d7122f79039cce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66046b69b9bc9d7c893db5ba9ad0ac30"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; <a class="el" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a66046b69b9bc9d7c893db5ba9ad0ac30">extractTPCIDs</a> (std::vector&lt; <a class="el" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> const * &gt; const &amp;<a class="el" href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a>)</td></tr>
<tr class="memdesc:a66046b69b9bc9d7c893db5ba9ad0ac30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a collection with a TPC ID for each plane in the list of <code>planes</code>.  <a href="#a66046b69b9bc9d7c893db5ba9ad0ac30">More...</a><br/></td></tr>
<tr class="separator:a66046b69b9bc9d7c893db5ba9ad0ac30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdd5a227c4cc8cb08a610a4948fd4584"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#abdd5a227c4cc8cb08a610a4948fd4584">isROPinTPCset</a> (std::vector&lt; <a class="el" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> &gt; const &amp;ROPTPCIDs, std::vector&lt; <a class="el" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> &gt; const &amp;TPCsetTPCIDs)</td></tr>
<tr class="memdesc:abdd5a227c4cc8cb08a610a4948fd4584"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether all the TPCs covered by a ROP are in a given TPC set.  <a href="#abdd5a227c4cc8cb08a610a4948fd4584">More...</a><br/></td></tr>
<tr class="separator:abdd5a227c4cc8cb08a610a4948fd4584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0046e44815a76ee76fca5b559369374"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d41/structreadout_1_1ROPID.html#a498c4d2471a688938ec0e641fd9ee475">readout::ROPID::ROPID_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab0046e44815a76ee76fca5b559369374">ROPnumberFromPlanes</a> (<a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> const &amp;<a class="el" href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a>)</td></tr>
<tr class="memdesc:ab0046e44815a76ee76fca5b559369374"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns ROP number matching the plane number shared by all <code>planes</code>.  <a href="#ab0046e44815a76ee76fca5b559369374">More...</a><br/></td></tr>
<tr class="separator:ab0046e44815a76ee76fca5b559369374"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:adb5dea099bd34c8945e3706b4d5f5d85"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">fLogCategory</a> = &quot;ROPandTPCsetBuildingAlg&quot;</td></tr>
<tr class="memdesc:adb5dea099bd34c8945e3706b4d5f5d85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Category to write messages into.  <a href="#adb5dea099bd34c8945e3706b4d5f5d85">More...</a><br/></td></tr>
<tr class="separator:adb5dea099bd34c8945e3706b4d5f5d85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae13462c16c597918cdb00b6e44505752"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/df3/structgeo_1_1GeometryData__t.html#a324475ddeafb25f18f29a99614d423ab">geo::GeometryData_t::CryostatList_t</a> <br class="typebreak"/>
const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">fCryostats</a> = nullptr</td></tr>
<tr class="separator:ae13462c16c597918cdb00b6e44505752"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eff9de3f39f2bd5daae8759a7e926ad"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a0eff9de3f39f2bd5daae8759a7e926ad">fMaxTPCsets</a> = 0U</td></tr>
<tr class="memdesc:a0eff9de3f39f2bd5daae8759a7e926ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Highest number of TPC sets in any cryostat.  <a href="#a0eff9de3f39f2bd5daae8759a7e926ad">More...</a><br/></td></tr>
<tr class="separator:a0eff9de3f39f2bd5daae8759a7e926ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5367eb0cccf4465bb939522124baae84"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a5367eb0cccf4465bb939522124baae84">fMaxROPs</a> = 0U</td></tr>
<tr class="memdesc:a5367eb0cccf4465bb939522124baae84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Highest number of ROPs in any TPC set.  <a href="#a5367eb0cccf4465bb939522124baae84">More...</a><br/></td></tr>
<tr class="separator:a5367eb0cccf4465bb939522124baae84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Output</div></td></tr>
<tr class="memitem:a503d3b2942985e4c0d0d35d37c5983e5"><td class="memItemLeft" align="right" valign="top">std::vector&lt; unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a503d3b2942985e4c0d0d35d37c5983e5">fTPCsetCount</a></td></tr>
<tr class="memdesc:a503d3b2942985e4c0d0d35d37c5983e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output: number of TPC sets in each cryostat.  <a href="#a503d3b2942985e4c0d0d35d37c5983e5">More...</a><br/></td></tr>
<tr class="separator:a503d3b2942985e4c0d0d35d37c5983e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa19474eb61b1ffeaeaa2c469607f4784"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer</a><br class="typebreak"/>
&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae8a4b77016cf7f43c2c05e93a861dc35">TPCColl_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">fTPCsetTPCs</a></td></tr>
<tr class="memdesc:aa19474eb61b1ffeaeaa2c469607f4784"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output: TPC's in each TPC set.  <a href="#aa19474eb61b1ffeaeaa2c469607f4784">More...</a><br/></td></tr>
<tr class="separator:aa19474eb61b1ffeaeaa2c469607f4784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af793777fb1b8a7db0319c2f6675a446c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer</a><br class="typebreak"/>
&lt; unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#af793777fb1b8a7db0319c2f6675a446c">fROPcount</a></td></tr>
<tr class="memdesc:af793777fb1b8a7db0319c2f6675a446c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output: number of readout planes in each TPC set.  <a href="#af793777fb1b8a7db0319c2f6675a446c">More...</a><br/></td></tr>
<tr class="separator:af793777fb1b8a7db0319c2f6675a446c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64e97fba86abd7640db4ff45568bae4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/ded/classreadout_1_1ROPDataContainer.html">readout::ROPDataContainer</a><br class="typebreak"/>
&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a64e97fba86abd7640db4ff45568bae4c">fROPplanes</a></td></tr>
<tr class="memdesc:a64e97fba86abd7640db4ff45568bae4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output: planes in each of the readout plane.  <a href="#a64e97fba86abd7640db4ff45568bae4c">More...</a><br/></td></tr>
<tr class="separator:a64e97fba86abd7640db4ff45568bae4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fd015e5bed3ec14988508ba903c26db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d46/classgeo_1_1TPCDataContainer.html">geo::TPCDataContainer</a><br class="typebreak"/>
&lt; <a class="el" href="../../d5/d8f/structreadout_1_1TPCsetID.html">readout::TPCsetID</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a0fd015e5bed3ec14988508ba903c26db">fTPCtoTPCset</a></td></tr>
<tr class="memdesc:a0fd015e5bed3ec14988508ba903c26db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output: the TPC set each TPC belongs to.  <a href="#a0fd015e5bed3ec14988508ba903c26db">More...</a><br/></td></tr>
<tr class="separator:a0fd015e5bed3ec14988508ba903c26db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57a5651f89314333021e4d49f0ce4d3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d5e/classgeo_1_1PlaneDataContainer.html">geo::PlaneDataContainer</a><br class="typebreak"/>
&lt; <a class="el" href="../../dd/d41/structreadout_1_1ROPID.html">readout::ROPID</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a57a5651f89314333021e4d49f0ce4d3f">fPlaneToROP</a></td></tr>
<tr class="memdesc:a57a5651f89314333021e4d49f0ce4d3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output: the ROP each wire plane belongs to.  <a href="#a57a5651f89314333021e4d49f0ce4d3f">More...</a><br/></td></tr>
<tr class="separator:a57a5651f89314333021e4d49f0ce4d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Extracts TPC sets and readout planes from a list of cryostats. </p>
<p>This algorithm parses the wire plane and TPC content of the cryostats and groups planes which share the same drift coordinate. Afterwards, it arranges them into LArSoft readout planes, defining at the same time the TPC sets that contain them.</p>
<h2>Assignment of readout plane IDs </h2>
<p>Readout planes closer to the cathode have lower ID.</p>
<h1>Algorithm workflow </h1>
<p>An example: </p>
<div class="fragment"><div class="line"><a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html">icarus::details::ROPandTPCsetBuildingAlg</a> builder(<span class="stringliteral">&quot;BuildingAlg&quot;</span>);</div>
<div class="line"><span class="keyword">auto</span> results = builder.run(Cryostats);</div>
<div class="line"></div>
<div class="line"><span class="comment">// planes in each ROP</span></div>
<div class="line"><a class="code" href="../../d1/ded/classreadout_1_1ROPDataContainer.html">readout::ROPDataContainer&lt;icarus::details::PlaneColl_t&gt;</a> ROPplanes</div>
<div class="line">  = std::move(results.ROPplanes());</div>
</div><!-- fragment --><p> will run the algorithm on <code>Cryostats</code> and extract one of the results, the map of wire planes in each readout plane. It will use the default configuration of the algorithm, except for the message category being customized into <code>"BuildingAlg"</code>.</p>
<h1>Configuration </h1>
<p>See the <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ICARUS_ROPandTPCsetBuildingAlg_Config">constructor documentation</a>. </p>

<p>Definition at line <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00098">98</a> of file <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html">ROPandTPCsetBuildingAlg.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="ab630f4ab5fe058d9893a1f2ea9b991a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">icarus::details::ROPandTPCsetBuildingAlg::PlaneColl_t</a> =  <a class="el" href="../../db/db1/namespaceicarus_1_1details.html#a2b09b315315cfa012dae9ff2d5d5cabe">icarus::details::PlaneColl_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00104">104</a> of file <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html">ROPandTPCsetBuildingAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad99c9b9592feb9fe5e2d8c793c313480"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ad99c9b9592feb9fe5e2d8c793c313480">icarus::details::ROPandTPCsetBuildingAlg::ResultsBase_t</a> =  std::tuple&lt; std::vector&lt;unsigned int&gt;, <a class="el" href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer</a>&lt;<a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae8a4b77016cf7f43c2c05e93a861dc35">TPCColl_t</a>&gt;, <a class="el" href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer</a>&lt;unsigned int&gt;, <a class="el" href="../../d1/ded/classreadout_1_1ROPDataContainer.html">readout::ROPDataContainer</a>&lt;<a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a>&gt;, <a class="el" href="../../d4/d46/classgeo_1_1TPCDataContainer.html">geo::TPCDataContainer</a>&lt;<a class="el" href="../../d5/d8f/structreadout_1_1TPCsetID.html">readout::TPCsetID</a>&gt;, <a class="el" href="../../de/d5e/classgeo_1_1PlaneDataContainer.html">geo::PlaneDataContainer</a>&lt;<a class="el" href="../../dd/d41/structreadout_1_1ROPID.html">readout::ROPID</a>&gt; &gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Full group of results of the algorithm. </p>

<p>Definition at line <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00115">115</a> of file <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html">ROPandTPCsetBuildingAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae8a4b77016cf7f43c2c05e93a861dc35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae8a4b77016cf7f43c2c05e93a861dc35">icarus::details::ROPandTPCsetBuildingAlg::TPCColl_t</a> =  <a class="el" href="../../db/db1/namespaceicarus_1_1details.html#aafb2be2127b9df753f1f7b0d61358444">icarus::details::TPCColl_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00103">103</a> of file <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html">ROPandTPCsetBuildingAlg.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa7d7cca1626cf44d998cad3a29263a13"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">icarus::details::ROPandTPCsetBuildingAlg::ROPandTPCsetBuildingAlg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construction: use default configuration. </p>

</div>
</div>
<a class="anchor" id="a5909a1e3c745e97340275dfdfadea5f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">icarus::details::ROPandTPCsetBuildingAlg::ROPandTPCsetBuildingAlg </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>logCategory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construction: specify the algorithm configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logCategory</td><td>message facility category to write messages into </td></tr>
    <tr><td class="paramname">usePlaneIDforROPID</td><td>whether to use <code><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab0046e44815a76ee76fca5b559369374" title="Returns ROP number matching the plane number shared by all planes. ">ROPnumberFromPlanes()</a></code> algorithm</td></tr>
  </table>
  </dd>
</dl>
<h1>Configuration </h1>
<p><a class="anchor" id="ICARUS_ROPandTPCsetBuildingAlg_Config"></a></p>
<ul>
<li><em>logCategory</em> (default: <code>"ROPandTPCsetBuildingAlg"</code>): name of the stream destination used for output messages via message facility </li>
</ul>

<p>Definition at line <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00165">165</a> of file <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html">ROPandTPCsetBuildingAlg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    : <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">fLogCategory</a>(logCategory)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    {}</div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_adb5dea099bd34c8945e3706b4d5f5d85"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">icarus::details::ROPandTPCsetBuildingAlg::fLogCategory</a></div><div class="ttdeci">std::string fLogCategory</div><div class="ttdoc">Category to write messages into. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00187">ROPandTPCsetBuildingAlg.h:187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="afdf44f528d7f1cc52fcd7180b8ad4ded"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::details::ROPandTPCsetBuildingAlg::checkNormalDirection </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>planes</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Throws an exception if planes do not share the same normal direction. </p>

<p>Definition at line <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00979">979</a> of file <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html">ROPandTPCsetBuildingAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;{</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="comment">   * Checks the normal direction of each plane in each ROP.</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="comment">   * Throws an exception when it finds two inconsistent ones.</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="keywordflow">if</span> (ROPs.empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="keyword">auto</span> iROP = ROPs.begin();</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  assert(!iROP-&gt;empty()); <span class="comment">// just be there already</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span>&amp; comp = <a class="code" href="../../d9/d3d/namespacelar_1_1util.html#a9c7a66b3fecfd5e9fc64e30f3c54effb">lar::util::makeVector3DComparison</a>(1.0<a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a>-4);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  </div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> <span class="keyword">const</span>* <span class="keyword">const</span> pFirstPlane = iROP-&gt;front();</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> normDir = pFirstPlane-&gt;<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html#a9747db83dd7c5dc6fe68da661b04ffc8">GetNormalDirection</a>&lt;<a class="code" href="../../d6/d23/namespacegeo.html#a22d2a7c73b2795146b92cd54ded9e817">geo::Vector_t</a>&gt;();</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  </div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> <span class="keyword">const</span>&amp; ROP: ROPs) {</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keywordflow">if</span> (ROP.empty()) { <span class="comment">// we do not accept this!</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="keywordflow">throw</span> cet::exception(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">fLogCategory</a>)</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;icarus::details::ROPandTPCsetBuildingAlg::checkNormalDirection(): &quot;</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="stringliteral">&quot;ROP must contain planes.\n&quot;</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        ;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> <span class="keyword">const</span>* plane: ROP) {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="keywordflow">if</span> (comp.equal(normDir, plane-&gt;GetNormalDirection&lt;<a class="code" href="../../d6/d23/namespacegeo.html#a22d2a7c73b2795146b92cd54ded9e817">geo::Vector_t</a>&gt;()))</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      </div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      <span class="keywordflow">throw</span> cet::exception(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">fLogCategory</a>)</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;icarus::details::ROPandTPCsetBuildingAlg::checkNormalDirection(): &quot;</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <span class="stringliteral">&quot; plane &quot;</span> &lt;&lt; plane-&gt;ID()</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; has normal &quot;</span> &lt;&lt; plane-&gt;GetNormalDirection&lt;<a class="code" href="../../d6/d23/namespacegeo.html#a22d2a7c73b2795146b92cd54ded9e817">geo::Vector_t</a>&gt;()</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; normDir &lt;&lt; <span class="stringliteral">&quot; (as for &quot;</span> &lt;&lt; pFirstPlane-&gt;<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html#a9c059f407b135ec46f78688545f9d095">ID</a>()</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;) expected.\n&quot;</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        ;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    } <span class="comment">// for all planes in ROP</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  } <span class="comment">// for all ROPs</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;} <span class="comment">// icarus::details::ROPandTPCsetBuildingAlg::checkNormalDirection()</span></div>
<div class="ttc" id="namespacegeo_html_a22d2a7c73b2795146b92cd54ded9e817"><div class="ttname"><a href="../../d6/d23/namespacegeo.html#a22d2a7c73b2795146b92cd54ded9e817">geo::Vector_t</a></div><div class="ttdeci">ROOT::Math::DisplacementVector3D&lt; ROOT::Math::Cartesian3D&lt; double &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Vector_t</div><div class="ttdoc">Type for representation of momenta in 3D space. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/geo__vectors_8h_source.html#l00164">geo_vectors.h:164</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_ab630f4ab5fe058d9893a1f2ea9b991a0"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">icarus::details::ROPandTPCsetBuildingAlg::PlaneColl_t</a></div><div class="ttdeci">icarus::details::PlaneColl_t PlaneColl_t</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00104">ROPandTPCsetBuildingAlg.h:104</a></div></div>
<div class="ttc" id="classgeo_1_1PlaneGeo_html_a9747db83dd7c5dc6fe68da661b04ffc8"><div class="ttname"><a href="../../d4/d67/classgeo_1_1PlaneGeo.html#a9747db83dd7c5dc6fe68da661b04ffc8">geo::PlaneGeo::GetNormalDirection</a></div><div class="ttdeci">Vector GetNormalDirection() const </div><div class="ttdoc">Returns the direction normal to the plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/PlaneGeo_8h_source.html#l00442">PlaneGeo.h:442</a></div></div>
<div class="ttc" id="namespacelar_1_1util_html_a9c7a66b3fecfd5e9fc64e30f3c54effb"><div class="ttname"><a href="../../d9/d3d/namespacelar_1_1util.html#a9c7a66b3fecfd5e9fc64e30f3c54effb">lar::util::makeVector3DComparison</a></div><div class="ttdeci">auto makeVector3DComparison(RealType threshold)</div><div class="ttdoc">Creates a Vector3DComparison from a RealComparisons object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbc/RealComparisons_8h_source.html#l00252">RealComparisons.h:252</a></div></div>
<div class="ttc" id="classgeo_1_1PlaneGeo_html"><div class="ttname"><a href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a></div><div class="ttdoc">Geometry information for a single wire plane.The plane is represented in the geometry by a solid whic...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/PlaneGeo_8h_source.html#l00082">PlaneGeo.h:82</a></div></div>
<div class="ttc" id="classgeo_1_1PlaneGeo_html_a9c059f407b135ec46f78688545f9d095"><div class="ttname"><a href="../../d4/d67/classgeo_1_1PlaneGeo.html#a9c059f407b135ec46f78688545f9d095">geo::PlaneGeo::ID</a></div><div class="ttdeci">geo::PlaneID const &amp; ID() const </div><div class="ttdoc">Returns the identifier of this plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/PlaneGeo_8h_source.html#l00203">PlaneGeo.h:203</a></div></div>
<div class="ttc" id="updateVersionList_8sh_html_a067a8c1534d6da9b2c501a6cf4ef89bd"><div class="ttname"><a href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a></div><div class="ttdeci">do i e</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dca/updateVersionList_8sh_source.html#l00068">updateVersionList.sh:68</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_adb5dea099bd34c8945e3706b4d5f5d85"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">icarus::details::ROPandTPCsetBuildingAlg::fLogCategory</a></div><div class="ttdeci">std::string fLogCategory</div><div class="ttdoc">Category to write messages into. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00187">ROPandTPCsetBuildingAlg.h:187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a347e880195ba05a66dd52bad7dc83f20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::details::ROPandTPCsetBuildingAlg::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroys all the result data members. </p>

<p>Definition at line <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00442">442</a> of file <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html">ROPandTPCsetBuildingAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                                                 {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a503d3b2942985e4c0d0d35d37c5983e5">fTPCsetCount</a>.clear();</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">fTPCsetTPCs</a>.<a class="code" href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#ad3cb9714156bf05063334875c0a6ad10">reset</a>();</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#af793777fb1b8a7db0319c2f6675a446c">fROPcount</a>.<a class="code" href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#ad3cb9714156bf05063334875c0a6ad10">reset</a>();</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a64e97fba86abd7640db4ff45568bae4c">fROPplanes</a>.<a class="code" href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#ad3cb9714156bf05063334875c0a6ad10">reset</a>();</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a0fd015e5bed3ec14988508ba903c26db">fTPCtoTPCset</a>.<a class="code" href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#ad3cb9714156bf05063334875c0a6ad10">reset</a>();</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a57a5651f89314333021e4d49f0ce4d3f">fPlaneToROP</a>.<a class="code" href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#ad3cb9714156bf05063334875c0a6ad10">reset</a>();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a0eff9de3f39f2bd5daae8759a7e926ad">fMaxTPCsets</a> = 0U;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a5367eb0cccf4465bb939522124baae84">fMaxROPs</a> = 0U;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;} <span class="comment">// icarus::details::ROPandTPCsetBuildingAlg::clear()</span></div>
<div class="ttc" id="classgeo_1_1GeoIDdataContainer_html_ad3cb9714156bf05063334875c0a6ad10"><div class="ttname"><a href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#ad3cb9714156bf05063334875c0a6ad10">geo::GeoIDdataContainer::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Sets all the elements to a default-constructed value_type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de1/GeometryDataContainers_8h_source.html#l01454">GeometryDataContainers.h:1454</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_aa19474eb61b1ffeaeaa2c469607f4784"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">icarus::details::ROPandTPCsetBuildingAlg::fTPCsetTPCs</a></div><div class="ttdeci">readout::TPCsetDataContainer&lt; TPCColl_t &gt; fTPCsetTPCs</div><div class="ttdoc">Output: TPC&amp;#39;s in each TPC set. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00202">ROPandTPCsetBuildingAlg.h:202</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a0eff9de3f39f2bd5daae8759a7e926ad"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a0eff9de3f39f2bd5daae8759a7e926ad">icarus::details::ROPandTPCsetBuildingAlg::fMaxTPCsets</a></div><div class="ttdeci">unsigned int fMaxTPCsets</div><div class="ttdoc">Highest number of TPC sets in any cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00220">ROPandTPCsetBuildingAlg.h:220</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_af793777fb1b8a7db0319c2f6675a446c"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#af793777fb1b8a7db0319c2f6675a446c">icarus::details::ROPandTPCsetBuildingAlg::fROPcount</a></div><div class="ttdeci">readout::TPCsetDataContainer&lt; unsigned int &gt; fROPcount</div><div class="ttdoc">Output: number of readout planes in each TPC set. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00205">ROPandTPCsetBuildingAlg.h:205</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a503d3b2942985e4c0d0d35d37c5983e5"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a503d3b2942985e4c0d0d35d37c5983e5">icarus::details::ROPandTPCsetBuildingAlg::fTPCsetCount</a></div><div class="ttdeci">std::vector&lt; unsigned int &gt; fTPCsetCount</div><div class="ttdoc">Output: number of TPC sets in each cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00199">ROPandTPCsetBuildingAlg.h:199</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a5367eb0cccf4465bb939522124baae84"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a5367eb0cccf4465bb939522124baae84">icarus::details::ROPandTPCsetBuildingAlg::fMaxROPs</a></div><div class="ttdeci">unsigned int fMaxROPs</div><div class="ttdoc">Highest number of ROPs in any TPC set. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00223">ROPandTPCsetBuildingAlg.h:223</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a57a5651f89314333021e4d49f0ce4d3f"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a57a5651f89314333021e4d49f0ce4d3f">icarus::details::ROPandTPCsetBuildingAlg::fPlaneToROP</a></div><div class="ttdeci">geo::PlaneDataContainer&lt; readout::ROPID &gt; fPlaneToROP</div><div class="ttdoc">Output: the ROP each wire plane belongs to. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00214">ROPandTPCsetBuildingAlg.h:214</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a64e97fba86abd7640db4ff45568bae4c"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a64e97fba86abd7640db4ff45568bae4c">icarus::details::ROPandTPCsetBuildingAlg::fROPplanes</a></div><div class="ttdeci">readout::ROPDataContainer&lt; PlaneColl_t &gt; fROPplanes</div><div class="ttdoc">Output: planes in each of the readout plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00208">ROPandTPCsetBuildingAlg.h:208</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a0fd015e5bed3ec14988508ba903c26db"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a0fd015e5bed3ec14988508ba903c26db">icarus::details::ROPandTPCsetBuildingAlg::fTPCtoTPCset</a></div><div class="ttdeci">geo::TPCDataContainer&lt; readout::TPCsetID &gt; fTPCtoTPCset</div><div class="ttdoc">Output: the TPC set each TPC belongs to. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00211">ROPandTPCsetBuildingAlg.h:211</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a66046b69b9bc9d7c893db5ba9ad0ac30"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> &gt; icarus::details::ROPandTPCsetBuildingAlg::extractTPCIDs </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> const * &gt; const &amp;&#160;</td>
          <td class="paramname"><em>planes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a collection with a TPC ID for each plane in the list of <code>planes</code>. </p>

<p>Definition at line <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l01080">1080</a> of file <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html">ROPandTPCsetBuildingAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;{</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  <span class="keywordflow">return</span> transformCollection(planes,</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    [](<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> <span class="keyword">const</span>* plane){ <span class="keywordflow">return</span> plane-&gt;<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html#a9c059f407b135ec46f78688545f9d095">ID</a>().<a class="code" href="../../d2/d4d/structgeo_1_1TPCID.html#afbbfe0283793584dbbb2f2a8a1079de6">asTPCID</a>(); }</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    );</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;} <span class="comment">// icarus::details::ROPandTPCsetBuildingAlg::extractTPCIDs()</span></div>
<div class="ttc" id="classgeo_1_1PlaneGeo_html"><div class="ttname"><a href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a></div><div class="ttdoc">Geometry information for a single wire plane.The plane is represented in the geometry by a solid whic...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/PlaneGeo_8h_source.html#l00082">PlaneGeo.h:82</a></div></div>
<div class="ttc" id="structgeo_1_1TPCID_html_afbbfe0283793584dbbb2f2a8a1079de6"><div class="ttname"><a href="../../d2/d4d/structgeo_1_1TPCID.html#afbbfe0283793584dbbb2f2a8a1079de6">geo::TPCID::asTPCID</a></div><div class="ttdeci">constexpr TPCID const &amp; asTPCID() const </div><div class="ttdoc">Conversion to TPCID (for convenience of notation). </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00446">geo_types.h:446</a></div></div>
<div class="ttc" id="classgeo_1_1PlaneGeo_html_a9c059f407b135ec46f78688545f9d095"><div class="ttname"><a href="../../d4/d67/classgeo_1_1PlaneGeo.html#a9c059f407b135ec46f78688545f9d095">geo::PlaneGeo::ID</a></div><div class="ttdeci">geo::PlaneID const &amp; ID() const </div><div class="ttdoc">Returns the identifier of this plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/PlaneGeo_8h_source.html#l00203">PlaneGeo.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aea7654a829eba3d9e3d6bd147f97c7e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt; std::vector&lt; <a class="el" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> &gt; &gt; &gt; icarus::details::ROPandTPCsetBuildingAlg::extractTPCsetsFromROPs </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt;&gt; const &amp;&#160;</td>
          <td class="paramname"><em>planes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts all the TPC sets covered by any of the plane groups. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">groupedPlanes</td><td>wire planes, grouped by cryostat. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TPC sets as sets of TPC IDs</dd></dl>
<p>The return value is a container that for each cryostat (first index), hosts a list of TPC sets (second index: TPC set within the cryostat), each listing its TPC (third index: runs through all TPCs). The order of the TPC sets within a cryostat is undefined. This function also fills <code>fMaxTPCsets</code>.</p>
<p>The input parameter <code>groupedPlanes</code> follows the same structure as the argument <code>AllTPCsOnROPs</code> of <code><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a90e34835244bc9f4c020c3afd9981039" title="Assigns each of the readout planes to a TPC set. ">groupPlanesIntoROPs()</a></code>. </p>

<p>Definition at line <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00553">553</a> of file <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html">ROPandTPCsetBuildingAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;{</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="comment">// output: for each cryostat (first index),</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="comment">// a list of TPC sets (second index: TPC set within the cryostat)</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="comment">// each listing its TPC (third index: runs through all TPCs):</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  std::vector&lt;std::vector&lt;std::vector&lt;geo::TPCID&gt;&gt;&gt; AllTPCsOnROPs;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="comment">// output</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; MaxTPCsets = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a0eff9de3f39f2bd5daae8759a7e926ad">fMaxTPCsets</a>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  MaxTPCsets = 0U;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="comment">// extract the information one cryostat at a time</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordflow">for</span> (std::vector&lt;PlaneColl_t&gt; <span class="keyword">const</span>&amp; planeGroupsInCryostat: groupedPlanes) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="comment">// for each readout plane, collect the set of TPCs that contain its planes;</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="comment">// keep them as IDs since they are easier to procure.</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="comment">// Should these be sorted?</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="comment">// (yes) because the set is the same regardless the order of TPCs =&gt; set</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="comment">// (no) because we want to preserve the original order =&gt; vector</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    std::vector&lt;std::vector&lt;geo::TPCID&gt;&gt; TPCsOnROPs</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      = transformCollection(planeGroupsInCryostat, <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a66046b69b9bc9d7c893db5ba9ad0ac30">extractTPCIDs</a>);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="comment">// reduce the duplicate TPC sets and merge overlapping sets</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment">//     auto const iUniqueTPCend = std::unique(TPCsOnROPs.begin(), TPCsOnROPs.end());</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment">//     TPCsOnROPs.erase(iUniqueTPCend, TPCsOnROPs.end());</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    TPCsOnROPs = <a class="code" href="../../db/db1/namespaceicarus_1_1details.html#ad0979916873ffe964e4f2f661cc59a66">icarus::details::stableMerge</a>(TPCsOnROPs);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">// save the results of the cryostat to detector-level data collection</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    MaxTPCsets</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      = <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(MaxTPCsets, static_cast&lt;unsigned int&gt;(TPCsOnROPs.size()));</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    AllTPCsOnROPs.push_back(std::move(TPCsOnROPs));</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  } <span class="comment">// for cryostats</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  mf::LogTrace(<span class="stringliteral">&quot;ICARUSChannelMapAlg&quot;</span>)</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;The maximum number of TPC sets in any cryostat is &quot;</span> &lt;&lt; MaxTPCsets;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="keywordflow">return</span> AllTPCsOnROPs;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;} <span class="comment">// icarus::details::ROPandTPCsetBuildingAlg::extractTPCsetsFromROPs()</span></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a0eff9de3f39f2bd5daae8759a7e926ad"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a0eff9de3f39f2bd5daae8759a7e926ad">icarus::details::ROPandTPCsetBuildingAlg::fMaxTPCsets</a></div><div class="ttdeci">unsigned int fMaxTPCsets</div><div class="ttdoc">Highest number of TPC sets in any cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00220">ROPandTPCsetBuildingAlg.h:220</a></div></div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="namespaceicarus_1_1details_html_ad0979916873ffe964e4f2f661cc59a66"><div class="ttname"><a href="../../db/db1/namespaceicarus_1_1details.html#ad0979916873ffe964e4f2f661cc59a66">icarus::details::stableMerge</a></div><div class="ttdeci">SetColl stableMerge(SetColl const &amp;sets)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00092">ROPandTPCsetBuildingAlg.cxx:92</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a66046b69b9bc9d7c893db5ba9ad0ac30"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a66046b69b9bc9d7c893db5ba9ad0ac30">icarus::details::ROPandTPCsetBuildingAlg::extractTPCIDs</a></div><div class="ttdeci">static std::vector&lt; geo::TPCID &gt; extractTPCIDs(std::vector&lt; geo::PlaneGeo const * &gt; const &amp;planes)</div><div class="ttdoc">Returns a collection with a TPC ID for each plane in the list of planes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l01080">ROPandTPCsetBuildingAlg.cxx:1080</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3a4f5057af15b9ea296606bc9aedb01f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::details::ROPandTPCsetBuildingAlg::fillPlanesInROP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer</a>&lt; std::vector&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt;&gt; const &amp;&#160;</td>
          <td class="paramname"><em>PlanesInProtoROPs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Builds final readout plane information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">PlanesInProtoROPs</td><td>plane-to-ROP assignments in each TPC set</td></tr>
  </table>
  </dd>
</dl>
<p>This function fills <code>fROPcount</code> and <code>fROPplanes</code>.</p>
<p>It requires <code>fMaxROPs</code>, <code>fTPCsetTPCs</code> and <code>fTPCsetCount</code> to have been computed already. </p>

<p>Definition at line <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00757">757</a> of file <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html">ROPandTPCsetBuildingAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="comment">// sort out the readout plane assignments into the final sets</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="comment">// (deliver G3 and G4: see `buildReadoutPlanes()`)</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  </div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  assert(!<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">fTPCsetTPCs</a>.<a class="code" href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a85f3ad60222f378b1f8bc86f68203057">empty</a>());</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  assert(!<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a503d3b2942985e4c0d0d35d37c5983e5">fTPCsetCount</a>.empty());</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  assert(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a5367eb0cccf4465bb939522124baae84">fMaxROPs</a> &gt; 0U);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="comment">// prepare the input</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span>&amp; TPCsetTPCs = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">fTPCsetTPCs</a>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span>&amp; TPCsetCount = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a503d3b2942985e4c0d0d35d37c5983e5">fTPCsetCount</a>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="comment">// prepare the output</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="comment">// this is the actual number of readout planes in each TPC set: goal (G3)</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#af793777fb1b8a7db0319c2f6675a446c">fROPcount</a>.<a class="code" href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a5afde13cbbccc2c904dc2e0a40f5d0b8">resize</a>(TPCsetTPCs.dimSize&lt;0U&gt;(), TPCsetTPCs.dimSize&lt;1U&gt;(), 0U);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a64e97fba86abd7640db4ff45568bae4c">fROPplanes</a>.<a class="code" href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a5afde13cbbccc2c904dc2e0a40f5d0b8">resize</a></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    (TPCsetTPCs.dimSize&lt;0U&gt;(), TPCsetTPCs.dimSize&lt;1U&gt;(), <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a5367eb0cccf4465bb939522124baae84">fMaxROPs</a>); <span class="comment">// goal (G4)</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="keyword">auto</span>&amp; ROPcount = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#af793777fb1b8a7db0319c2f6675a446c">fROPcount</a>;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="keyword">auto</span>&amp; ROPplanes = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a64e97fba86abd7640db4ff45568bae4c">fROPplanes</a>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="comment">// assign the preferred numbers according to the first TPC set;</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="comment">// before that, sort the planes in that TPC set by local drift coordinate</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="comment">// (possibly different from the one used for the clustering by the verse)</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  std::vector&lt;PlaneColl_t&gt; <span class="keyword">const</span> sortedTPCset0</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a2739d3371a82a5fc17b1001ecb046f0a">sortByNormalCoordinate</a>(PlanesInProtoROPs[{ 0, 0 }]);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <a class="code" href="../../de/d7f/classicarus_1_1details_1_1ROPnumberDispatcher.html">icarus::details::ROPnumberDispatcher</a> ROPIDdispatcher</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    { sortedTPCset0, <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">fLogCategory</a> };</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="comment">// (double) loop through all TPC sets:</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> [ c, nTPCsets ]: <a class="code" href="../../d6/d72/namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a>(TPCsetCount)) {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <a class="code" href="../../d9/d73/structgeo_1_1CryostatID.html">readout::CryostatID</a> <span class="keyword">const</span> cryoid</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      { <span class="keyword">static_cast&lt;</span><a class="code" href="../../d9/d73/structgeo_1_1CryostatID.html#abbd8aef3486d368d18ce29eaa9ab2913">readout::CryostatID::CryostatID_t</a><span class="keyword">&gt;</span>(c) };</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d5/d8f/structreadout_1_1TPCsetID.html#a70cd0826f593026b8b24541eb003f364">readout::TPCsetID::TPCsetID_t</a> <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a> = 0; <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a> &lt; nTPCsets; ++<a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>) {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <a class="code" href="../../d5/d8f/structreadout_1_1TPCsetID.html">readout::TPCsetID</a> <span class="keyword">const</span> tpcsetid { cryoid, <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a> };</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <span class="comment">// all the ROPs in this TPC set, with their wire plane content:</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      std::vector&lt;PlaneColl_t&gt; <span class="keyword">const</span>&amp; ROPs = PlanesInProtoROPs[tpcsetid];</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      ROPcount[tpcsetid] = ROPs.size();</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      ROPIDdispatcher.setTPCset(tpcsetid);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> <span class="keyword">const</span>&amp; <a class="code" href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a>: ROPs) {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <a class="code" href="../../dd/d41/structreadout_1_1ROPID.html">readout::ROPID</a> ropid = ROPIDdispatcher.assignID(<a class="code" href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a>);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;          mf::LogTrace log(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">fLogCategory</a>);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;          log &lt;&lt; <span class="stringliteral">&quot;Readout plane &quot;</span> &lt;&lt; ropid &lt;&lt; <span class="stringliteral">&quot; assigned with &quot;</span> &lt;&lt; <a class="code" href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a>.size()</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; planes:&quot;</span>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> <span class="keyword">const</span>* plane: <a class="code" href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a>)</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            log &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; plane-&gt;ID() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        <span class="keywordflow">if</span> (!ROPplanes[ropid].<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a74da18d4f0023feee71c1352a99b3910">empty</a>()) {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;          <span class="comment">// If this happens, it may be that the geometry is not compatible</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;          <span class="comment">// with the algorithm, or just a bug.</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;          <span class="comment">// Enabling the debug stream will show which planes are assigned</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;          <span class="comment">// each time, including the two conflicting assignments.</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;          <span class="keywordflow">throw</span> cet::exception(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">fLogCategory</a>)</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;Logic error: ROPID &quot;</span> &lt;&lt; ropid</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; has already been assigned!\n&quot;</span>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        ROPplanes[ropid] = std::move(planes);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      } <span class="comment">// for all ROPs in the TPC set</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    } <span class="comment">// for all TPC sets in cryostat</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  } <span class="comment">// for all cryostats</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  </div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;} <span class="comment">// icarus::details::ROPandTPCsetBuildingAlg::fillPlanesInROP()</span></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_aa19474eb61b1ffeaeaa2c469607f4784"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">icarus::details::ROPandTPCsetBuildingAlg::fTPCsetTPCs</a></div><div class="ttdeci">readout::TPCsetDataContainer&lt; TPCColl_t &gt; fTPCsetTPCs</div><div class="ttdoc">Output: TPC&amp;#39;s in each TPC set. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00202">ROPandTPCsetBuildingAlg.h:202</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_ab630f4ab5fe058d9893a1f2ea9b991a0"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">icarus::details::ROPandTPCsetBuildingAlg::PlaneColl_t</a></div><div class="ttdeci">icarus::details::PlaneColl_t PlaneColl_t</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00104">ROPandTPCsetBuildingAlg.h:104</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_af793777fb1b8a7db0319c2f6675a446c"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#af793777fb1b8a7db0319c2f6675a446c">icarus::details::ROPandTPCsetBuildingAlg::fROPcount</a></div><div class="ttdeci">readout::TPCsetDataContainer&lt; unsigned int &gt; fROPcount</div><div class="ttdoc">Output: number of readout planes in each TPC set. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00205">ROPandTPCsetBuildingAlg.h:205</a></div></div>
<div class="ttc" id="structreadout_1_1TPCsetID_html_a70cd0826f593026b8b24541eb003f364"><div class="ttname"><a href="../../d5/d8f/structreadout_1_1TPCsetID.html#a70cd0826f593026b8b24541eb003f364">readout::TPCsetID::TPCsetID_t</a></div><div class="ttdeci">unsigned short TPCsetID_t</div><div class="ttdoc">Type for the ID number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d64/readout__types_8h_source.html#l00071">readout_types.h:71</a></div></div>
<div class="ttc" id="structreadout_1_1TPCsetID_html"><div class="ttname"><a href="../../d5/d8f/structreadout_1_1TPCsetID.html">readout::TPCsetID</a></div><div class="ttdoc">Class identifying a set of TPC sharing readout channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d64/readout__types_8h_source.html#l00070">readout_types.h:70</a></div></div>
<div class="ttc" id="namespaceutil_html_af0615b7538ff948ea65d5206a23c84f2"><div class="ttname"><a href="../../d6/d72/namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a></div><div class="ttdeci">auto enumerate(Iterables &amp;&amp;...iterables)</div><div class="ttdoc">Range-for loop helper tracking the number of iteration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d85/enumerate_8h_source.html#l00069">enumerate.h:69</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a503d3b2942985e4c0d0d35d37c5983e5"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a503d3b2942985e4c0d0d35d37c5983e5">icarus::details::ROPandTPCsetBuildingAlg::fTPCsetCount</a></div><div class="ttdeci">std::vector&lt; unsigned int &gt; fTPCsetCount</div><div class="ttdoc">Output: number of TPC sets in each cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00199">ROPandTPCsetBuildingAlg.h:199</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a2739d3371a82a5fc17b1001ecb046f0a"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a2739d3371a82a5fc17b1001ecb046f0a">icarus::details::ROPandTPCsetBuildingAlg::sortByNormalCoordinate</a></div><div class="ttdeci">std::vector&lt; PlaneColl_t &gt; sortByNormalCoordinate(std::vector&lt; PlaneColl_t &gt; const &amp;planes) const </div><div class="ttdoc">Returns the planes sorted by decreasing normal coordinate. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00947">ROPandTPCsetBuildingAlg.cxx:947</a></div></div>
<div class="ttc" id="classgeo_1_1PlaneGeo_html"><div class="ttname"><a href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a></div><div class="ttdoc">Geometry information for a single wire plane.The plane is represented in the geometry by a solid whic...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/PlaneGeo_8h_source.html#l00082">PlaneGeo.h:82</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPnumberDispatcher_html"><div class="ttname"><a href="../../de/d7f/classicarus_1_1details_1_1ROPnumberDispatcher.html">icarus::details::ROPnumberDispatcher</a></div><div class="ttdoc">Algorithm assigning IDs to readout planes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00216">ROPandTPCsetBuildingAlg.cxx:216</a></div></div>
<div class="ttc" id="structreadout_1_1ROPID_html"><div class="ttname"><a href="../../dd/d41/structreadout_1_1ROPID.html">readout::ROPID</a></div><div class="ttdoc">Class identifying a set of planes sharing readout channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d64/readout__types_8h_source.html#l00168">readout_types.h:168</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a5367eb0cccf4465bb939522124baae84"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a5367eb0cccf4465bb939522124baae84">icarus::details::ROPandTPCsetBuildingAlg::fMaxROPs</a></div><div class="ttdeci">unsigned int fMaxROPs</div><div class="ttdoc">Highest number of ROPs in any TPC set. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00223">ROPandTPCsetBuildingAlg.h:223</a></div></div>
<div class="ttc" id="trackfinderalgorithms_8fcl_html_ac996980052e16111a1efc913778a5f5f"><div class="ttname"><a href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a></div><div class="ttdeci">BEGIN_PROLOG Z planes</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dbd/trackfinderalgorithms_8fcl_source.html#l00026">trackfinderalgorithms.fcl:26</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a64e97fba86abd7640db4ff45568bae4c"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a64e97fba86abd7640db4ff45568bae4c">icarus::details::ROPandTPCsetBuildingAlg::fROPplanes</a></div><div class="ttdeci">readout::ROPDataContainer&lt; PlaneColl_t &gt; fROPplanes</div><div class="ttdoc">Output: planes in each of the readout plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00208">ROPandTPCsetBuildingAlg.h:208</a></div></div>
<div class="ttc" id="structgeo_1_1CryostatID_html_abbd8aef3486d368d18ce29eaa9ab2913"><div class="ttname"><a href="../../d9/d73/structgeo_1_1CryostatID.html#abbd8aef3486d368d18ce29eaa9ab2913">geo::CryostatID::CryostatID_t</a></div><div class="ttdeci">unsigned int CryostatID_t</div><div class="ttdoc">Type for the ID number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00191">geo_types.h:191</a></div></div>
<div class="ttc" id="file__to__url_8sh_html_a096ad3d3698082826189c839d7a6e46f"><div class="ttname"><a href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a></div><div class="ttdeci">then echo File list $list not found else cat $list while read file do echo $file sed s</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dea/file__to__url_8sh_source.html#l00060">file_to_url.sh:60</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_adb5dea099bd34c8945e3706b4d5f5d85"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">icarus::details::ROPandTPCsetBuildingAlg::fLogCategory</a></div><div class="ttdeci">std::string fLogCategory</div><div class="ttdoc">Category to write messages into. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00187">ROPandTPCsetBuildingAlg.h:187</a></div></div>
<div class="ttc" id="classgeo_1_1GeoIDdataContainer_html_a85f3ad60222f378b1f8bc86f68203057"><div class="ttname"><a href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a85f3ad60222f378b1f8bc86f68203057">geo::GeoIDdataContainer::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdoc">Returns whether the container has no elements (false by assumptions). </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de1/GeometryDataContainers_8h_source.html#l01259">GeometryDataContainers.h:1259</a></div></div>
<div class="ttc" id="namespaceicarus_1_1ns_1_1util_html_a74da18d4f0023feee71c1352a99b3910"><div class="ttname"><a href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a74da18d4f0023feee71c1352a99b3910">icarus::ns::util::empty</a></div><div class="ttdeci">bool empty(FixedBins&lt; T, C &gt; const &amp;) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbd/FixedBins_8h_source.html#l00555">FixedBins.h:555</a></div></div>
<div class="ttc" id="classgeo_1_1GeoIDdataContainer_html_a5afde13cbbccc2c904dc2e0a40f5d0b8"><div class="ttname"><a href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a5afde13cbbccc2c904dc2e0a40f5d0b8">geo::GeoIDdataContainer::resize</a></div><div class="ttdeci">void resize(std::initializer_list&lt; unsigned int &gt; dims)</div><div class="ttdoc">Prepares the container with default-constructed data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de1/GeometryDataContainers_8h_source.html#l01468">GeometryDataContainers.h:1468</a></div></div>
<div class="ttc" id="structgeo_1_1CryostatID_html"><div class="ttname"><a href="../../d9/d73/structgeo_1_1CryostatID.html">geo::CryostatID</a></div><div class="ttdoc">The data type to uniquely identify a cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00190">geo_types.h:190</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad2e83fecb71385bec1bcf4f6198dd06c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::details::ROPandTPCsetBuildingAlg::fillPlaneToROPmap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates the map from each wire plane to its readout plane. </p>
<p>This function fills <code>fPlaneToROP</code>.</p>
<p>It requires <code>fCryostats</code> and <code>fROPplanes</code> to have been computed already. </p>

<p>Definition at line <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00890">890</a> of file <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html">ROPandTPCsetBuildingAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                                                             {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="comment">// invert the TPC sets map content</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  </div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  assert(!<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">fCryostats</a>-&gt;empty());</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  assert(!<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a64e97fba86abd7640db4ff45568bae4c">fROPplanes</a>.<a class="code" href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a85f3ad60222f378b1f8bc86f68203057">empty</a>());</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="comment">// prepare the input</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span>&amp; Cryostats = *<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">fCryostats</a>;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span>&amp; ROPplanes = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a64e97fba86abd7640db4ff45568bae4c">fROPplanes</a>;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <span class="comment">// output</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> [ NCryostats, MaxTPCs, MaxPlanes ]</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    = geo::details::extractMaxGeometryElements&lt;3U&gt;(Cryostats);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  MF_LOG_TRACE(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">fLogCategory</a>)</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;Detected &quot;</span> &lt;&lt; NCryostats &lt;&lt; <span class="stringliteral">&quot; cryostats.&quot;</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;\nDetected at most &quot;</span> &lt;&lt; MaxTPCs &lt;&lt; <span class="stringliteral">&quot; TPCs per cryostat.&quot;</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;\nDetected at most &quot;</span> &lt;&lt; MaxPlanes &lt;&lt; <span class="stringliteral">&quot; planes per TPC.&quot;</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    ;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a57a5651f89314333021e4d49f0ce4d3f">fPlaneToROP</a>.<a class="code" href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a5afde13cbbccc2c904dc2e0a40f5d0b8">resize</a>(NCryostats, MaxTPCs, MaxPlanes, {});</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> c</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    : util::counter&lt;geo::CryostatID::CryostatID_t&gt;(ROPplanes.dimSize&lt;0&gt;())</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    )</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <a class="code" href="../../d9/d73/structgeo_1_1CryostatID.html">geo::CryostatID</a> <span class="keyword">const</span> cid { c };</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>: util::counter&lt;readout::TPCsetID::TPCsetID_t&gt;(ROPplanes.dimSize&lt;1&gt;()))</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <a class="code" href="../../d5/d8f/structreadout_1_1TPCsetID.html">readout::TPCsetID</a> <span class="keyword">const</span> sid { cid, <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a> };</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="../../da/dc6/condor__lar__pubs_8sh.html#aace24c54f354f24f1dec3b4fd3a15d10">r</a>: util::counter&lt;readout::ROPID::ROPID_t&gt;(ROPplanes.dimSize&lt;2&gt;()))</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      {</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <a class="code" href="../../dd/d41/structreadout_1_1ROPID.html">readout::ROPID</a> <span class="keyword">const</span> rid { sid, <a class="code" href="../../da/dc6/condor__lar__pubs_8sh.html#aace24c54f354f24f1dec3b4fd3a15d10">r</a> };</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> <span class="keyword">const</span>* plane: ROPplanes[rid]) {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;          assert(plane &amp;&amp; plane-&gt;ID());</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;          <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a57a5651f89314333021e4d49f0ce4d3f">fPlaneToROP</a>[plane-&gt;ID()] = rid;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;          MF_LOG_TRACE(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">fLogCategory</a>) &lt;&lt; plane-&gt;ID() &lt;&lt; <span class="stringliteral">&quot; =&gt; &quot;</span> &lt;&lt; rid;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        } <span class="comment">// for planes in readout plane</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      } <span class="comment">// for readout planes in TPC set</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    } <span class="comment">// for TPC sets in cryostat</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  } <span class="comment">// for cryostats</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;} <span class="comment">// icarus::details::ROPandTPCsetBuildingAlg::fillPlaneToROPmap()</span></div>
<div class="ttc" id="structreadout_1_1TPCsetID_html"><div class="ttname"><a href="../../d5/d8f/structreadout_1_1TPCsetID.html">readout::TPCsetID</a></div><div class="ttdoc">Class identifying a set of TPC sharing readout channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d64/readout__types_8h_source.html#l00070">readout_types.h:70</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_ae13462c16c597918cdb00b6e44505752"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">icarus::details::ROPandTPCsetBuildingAlg::fCryostats</a></div><div class="ttdeci">geo::GeometryData_t::CryostatList_t const * fCryostats</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00192">ROPandTPCsetBuildingAlg.h:192</a></div></div>
<div class="ttc" id="classgeo_1_1PlaneGeo_html"><div class="ttname"><a href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a></div><div class="ttdoc">Geometry information for a single wire plane.The plane is represented in the geometry by a solid whic...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/PlaneGeo_8h_source.html#l00082">PlaneGeo.h:82</a></div></div>
<div class="ttc" id="structreadout_1_1ROPID_html"><div class="ttname"><a href="../../dd/d41/structreadout_1_1ROPID.html">readout::ROPID</a></div><div class="ttdoc">Class identifying a set of planes sharing readout channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d64/readout__types_8h_source.html#l00168">readout_types.h:168</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a57a5651f89314333021e4d49f0ce4d3f"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a57a5651f89314333021e4d49f0ce4d3f">icarus::details::ROPandTPCsetBuildingAlg::fPlaneToROP</a></div><div class="ttdeci">geo::PlaneDataContainer&lt; readout::ROPID &gt; fPlaneToROP</div><div class="ttdoc">Output: the ROP each wire plane belongs to. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00214">ROPandTPCsetBuildingAlg.h:214</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a64e97fba86abd7640db4ff45568bae4c"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a64e97fba86abd7640db4ff45568bae4c">icarus::details::ROPandTPCsetBuildingAlg::fROPplanes</a></div><div class="ttdeci">readout::ROPDataContainer&lt; PlaneColl_t &gt; fROPplanes</div><div class="ttdoc">Output: planes in each of the readout plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00208">ROPandTPCsetBuildingAlg.h:208</a></div></div>
<div class="ttc" id="file__to__url_8sh_html_a096ad3d3698082826189c839d7a6e46f"><div class="ttname"><a href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a></div><div class="ttdeci">then echo File list $list not found else cat $list while read file do echo $file sed s</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dea/file__to__url_8sh_source.html#l00060">file_to_url.sh:60</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_adb5dea099bd34c8945e3706b4d5f5d85"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">icarus::details::ROPandTPCsetBuildingAlg::fLogCategory</a></div><div class="ttdeci">std::string fLogCategory</div><div class="ttdoc">Category to write messages into. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00187">ROPandTPCsetBuildingAlg.h:187</a></div></div>
<div class="ttc" id="classgeo_1_1GeoIDdataContainer_html_a85f3ad60222f378b1f8bc86f68203057"><div class="ttname"><a href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a85f3ad60222f378b1f8bc86f68203057">geo::GeoIDdataContainer::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdoc">Returns whether the container has no elements (false by assumptions). </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de1/GeometryDataContainers_8h_source.html#l01259">GeometryDataContainers.h:1259</a></div></div>
<div class="ttc" id="condor__lar__pubs_8sh_html_aace24c54f354f24f1dec3b4fd3a15d10"><div class="ttname"><a href="../../da/dc6/condor__lar__pubs_8sh.html#aace24c54f354f24f1dec3b4fd3a15d10">r</a></div><div class="ttdeci">esac echo uname r</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc6/condor__lar__pubs_8sh_source.html#l00698">condor_lar_pubs.sh:698</a></div></div>
<div class="ttc" id="classgeo_1_1GeoIDdataContainer_html_a5afde13cbbccc2c904dc2e0a40f5d0b8"><div class="ttname"><a href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a5afde13cbbccc2c904dc2e0a40f5d0b8">geo::GeoIDdataContainer::resize</a></div><div class="ttdeci">void resize(std::initializer_list&lt; unsigned int &gt; dims)</div><div class="ttdoc">Prepares the container with default-constructed data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de1/GeometryDataContainers_8h_source.html#l01468">GeometryDataContainers.h:1468</a></div></div>
<div class="ttc" id="structgeo_1_1CryostatID_html"><div class="ttname"><a href="../../d9/d73/structgeo_1_1CryostatID.html">geo::CryostatID</a></div><div class="ttdoc">The data type to uniquely identify a cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00190">geo_types.h:190</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab1c3d0dec1651a7bb90aa19008a216aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::details::ROPandTPCsetBuildingAlg::fillTPCsInSet </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; std::vector&lt; <a class="el" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> &gt;&gt;&gt; const &amp;&#160;</td>
          <td class="paramname"><em>AllTPCsOnROPs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts the final set of TPC sets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">AllTPCsOnROPs</td><td>groups of TPC IDs planes in a readout planes belong to</td></tr>
  </table>
  </dd>
</dl>
<p>The function collects sets of TPCs from all the ROP's. It fills <code>fTPCsetCount</code> and <code>fTPCsetTPCs</code>. It requires <code>fMaxTPCsets</code> to have been already set. The input argument <code>AllTPCsOnROPs</code> is a vector with index the number of cryostat. For each cryostat, a list of readout planes is presented (unsorted and unlabelled), in each of which the list of TPCs the planes in the readout planes belong to is stored. </p>

<p>Definition at line <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00605">605</a> of file <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html">ROPandTPCsetBuildingAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;{</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">   * extract the final set of TPC sets by collecting sets of TPCs</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">   * from all the ROP&#39;s</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment">   * (deliver G1 and G2)</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="comment">// input check</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  assert(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">fCryostats</a>);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <a class="code" href="../../d7/df3/structgeo_1_1GeometryData__t.html#a324475ddeafb25f18f29a99614d423ab">geo::GeometryData_t::CryostatList_t</a> <span class="keyword">const</span>&amp; Cryostats = *<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">fCryostats</a>;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keyword">const</span> MaxTPCsets = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a0eff9de3f39f2bd5daae8759a7e926ad">fMaxTPCsets</a>;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="comment">// output</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="comment">// actual size of each TPC set: goal (G1)</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a503d3b2942985e4c0d0d35d37c5983e5">fTPCsetCount</a>.clear();</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a503d3b2942985e4c0d0d35d37c5983e5">fTPCsetCount</a>.resize(AllTPCsOnROPs.size(), 0U);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  std::vector&lt;unsigned int&gt;&amp; TPCsetCount = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a503d3b2942985e4c0d0d35d37c5983e5">fTPCsetCount</a>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">fTPCsetTPCs</a>.<a class="code" href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a5afde13cbbccc2c904dc2e0a40f5d0b8">resize</a>(AllTPCsOnROPs.size(), MaxTPCsets); <span class="comment">// goal (G2)</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <a class="code" href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer&lt;std::vector&lt;geo::TPCGeo const*&gt;</a>&gt;&amp; TPCsetTPCs</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">fTPCsetTPCs</a>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="comment">// algorithm</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; [ c, TPCsets ]: <a class="code" href="../../d6/d72/namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a>(AllTPCsOnROPs)) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <a class="code" href="../../de/da3/classgeo_1_1CryostatGeo.html">geo::CryostatGeo</a> <span class="keyword">const</span>&amp; cryo = Cryostats[c];</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    TPCsetCount[c] = TPCsets.size();</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    mf::LogTrace(<span class="stringliteral">&quot;ICARUSChannelMapAlg&quot;</span>)</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;Cryostat &quot;</span> &lt;&lt; cryo.<a class="code" href="../../de/da3/classgeo_1_1CryostatGeo.html#a388995e3d67347e23b5c0116736481c1">ID</a>() &lt;&lt; <span class="stringliteral">&quot; has &quot;</span> &lt;&lt; TPCsetCount[c] &lt;&lt; <span class="stringliteral">&quot; TPC sets&quot;</span>;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; [ <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>, TPCIDs ]: <a class="code" href="../../d6/d72/namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a>(TPCsets)) {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <span class="comment">// convert the IDs into pointers to the TPC objects</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      <a class="code" href="../../d5/d8f/structreadout_1_1TPCsetID.html">readout::TPCsetID</a> <span class="keyword">const</span> tpcsetid</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        { cryo.<a class="code" href="../../de/da3/classgeo_1_1CryostatGeo.html#a388995e3d67347e23b5c0116736481c1">ID</a>(), <span class="keyword">static_cast&lt;</span><a class="code" href="../../d5/d8f/structreadout_1_1TPCsetID.html#a70cd0826f593026b8b24541eb003f364">readout::TPCsetID::TPCsetID_t</a><span class="keyword">&gt;</span>(<a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>) };</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      TPCsetTPCs[tpcsetid] = transformCollection(</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        TPCIDs, [&amp;cryo](<a class="code" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> <span class="keyword">const</span>&amp; tpcid){ <span class="keywordflow">return</span> &amp;(cryo.<a class="code" href="../../de/da3/classgeo_1_1CryostatGeo.html#a15e1909a67a64f7880720a7c9ff80a64">TPC</a>(tpcid)); }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        );</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      { <span class="comment">// local block for debug output</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <span class="keyword">auto</span> <span class="keyword">const</span>&amp; <a class="code" href="../../db/d23/opt0finder__sbnd_8fcl.html#aaaa93cd86c9f63d1f138578f4d28c1c0">TPCs</a> = TPCsetTPCs[tpcsetid];</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        mf::LogTrace log(<span class="stringliteral">&quot;ICARUSChannelMapAlg&quot;</span>);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        log &lt;&lt; tpcsetid &lt;&lt; <span class="stringliteral">&quot; has &quot;</span> &lt;&lt; <a class="code" href="../../db/d23/opt0finder__sbnd_8fcl.html#aaaa93cd86c9f63d1f138578f4d28c1c0">TPCs</a>.size() &lt;&lt; <span class="stringliteral">&quot; TPCs:&quot;</span>;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d9/dff/classgeo_1_1TPCGeo.html">geo::TPCGeo</a> <span class="keyword">const</span>* tpc: <a class="code" href="../../db/d23/opt0finder__sbnd_8fcl.html#aaaa93cd86c9f63d1f138578f4d28c1c0">TPCs</a>) log &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; tpc-&gt;ID() &lt;&lt; <span class="stringliteral">&quot;;&quot;</span>;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      } <span class="comment">// local block for debug output</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    } <span class="comment">// for TPC sets</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  } <span class="comment">// for cryostats</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;} <span class="comment">// icarus::details::ROPandTPCsetBuildingAlg::fillTPCsInSet()</span></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_aa19474eb61b1ffeaeaa2c469607f4784"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">icarus::details::ROPandTPCsetBuildingAlg::fTPCsetTPCs</a></div><div class="ttdeci">readout::TPCsetDataContainer&lt; TPCColl_t &gt; fTPCsetTPCs</div><div class="ttdoc">Output: TPC&amp;#39;s in each TPC set. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00202">ROPandTPCsetBuildingAlg.h:202</a></div></div>
<div class="ttc" id="classreadout_1_1TPCsetDataContainer_html"><div class="ttname"><a href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer</a></div><div class="ttdoc">Container with one element per readout TPC set. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/ddc/ReadoutDataContainers_8h_source.html#l00023">ReadoutDataContainers.h:23</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a0eff9de3f39f2bd5daae8759a7e926ad"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a0eff9de3f39f2bd5daae8759a7e926ad">icarus::details::ROPandTPCsetBuildingAlg::fMaxTPCsets</a></div><div class="ttdeci">unsigned int fMaxTPCsets</div><div class="ttdoc">Highest number of TPC sets in any cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00220">ROPandTPCsetBuildingAlg.h:220</a></div></div>
<div class="ttc" id="opt0finder__sbnd_8fcl_html_aaaa93cd86c9f63d1f138578f4d28c1c0"><div class="ttname"><a href="../../db/d23/opt0finder__sbnd_8fcl.html#aaaa93cd86c9f63d1f138578f4d28c1c0">TPCs</a></div><div class="ttdeci">BEGIN_PROLOG opflashtpc1 TPCs</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d23/opt0finder__sbnd_8fcl_source.html#l00009">opt0finder_sbnd.fcl:9</a></div></div>
<div class="ttc" id="structreadout_1_1TPCsetID_html_a70cd0826f593026b8b24541eb003f364"><div class="ttname"><a href="../../d5/d8f/structreadout_1_1TPCsetID.html#a70cd0826f593026b8b24541eb003f364">readout::TPCsetID::TPCsetID_t</a></div><div class="ttdeci">unsigned short TPCsetID_t</div><div class="ttdoc">Type for the ID number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d64/readout__types_8h_source.html#l00071">readout_types.h:71</a></div></div>
<div class="ttc" id="classgeo_1_1TPCGeo_html"><div class="ttname"><a href="../../d9/dff/classgeo_1_1TPCGeo.html">geo::TPCGeo</a></div><div class="ttdoc">Geometry information for a single TPC. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/TPCGeo_8h_source.html#l00038">TPCGeo.h:38</a></div></div>
<div class="ttc" id="structreadout_1_1TPCsetID_html"><div class="ttname"><a href="../../d5/d8f/structreadout_1_1TPCsetID.html">readout::TPCsetID</a></div><div class="ttdoc">Class identifying a set of TPC sharing readout channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d64/readout__types_8h_source.html#l00070">readout_types.h:70</a></div></div>
<div class="ttc" id="structgeo_1_1GeometryData__t_html_a324475ddeafb25f18f29a99614d423ab"><div class="ttname"><a href="../../d7/df3/structgeo_1_1GeometryData__t.html#a324475ddeafb25f18f29a99614d423ab">geo::GeometryData_t::CryostatList_t</a></div><div class="ttdeci">std::vector&lt; geo::CryostatGeo &gt; CryostatList_t</div><div class="ttdoc">Type of list of cryostats. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/GeometryData_8h_source.html#l00034">GeometryData.h:34</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_ae13462c16c597918cdb00b6e44505752"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">icarus::details::ROPandTPCsetBuildingAlg::fCryostats</a></div><div class="ttdeci">geo::GeometryData_t::CryostatList_t const * fCryostats</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00192">ROPandTPCsetBuildingAlg.h:192</a></div></div>
<div class="ttc" id="classgeo_1_1CryostatGeo_html"><div class="ttname"><a href="../../de/da3/classgeo_1_1CryostatGeo.html">geo::CryostatGeo</a></div><div class="ttdoc">Geometry information for a single cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d13/CryostatGeo_8h_source.html#l00043">CryostatGeo.h:43</a></div></div>
<div class="ttc" id="namespaceutil_html_af0615b7538ff948ea65d5206a23c84f2"><div class="ttname"><a href="../../d6/d72/namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a></div><div class="ttdeci">auto enumerate(Iterables &amp;&amp;...iterables)</div><div class="ttdoc">Range-for loop helper tracking the number of iteration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d85/enumerate_8h_source.html#l00069">enumerate.h:69</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a503d3b2942985e4c0d0d35d37c5983e5"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a503d3b2942985e4c0d0d35d37c5983e5">icarus::details::ROPandTPCsetBuildingAlg::fTPCsetCount</a></div><div class="ttdeci">std::vector&lt; unsigned int &gt; fTPCsetCount</div><div class="ttdoc">Output: number of TPC sets in each cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00199">ROPandTPCsetBuildingAlg.h:199</a></div></div>
<div class="ttc" id="structgeo_1_1TPCID_html"><div class="ttname"><a href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a></div><div class="ttdoc">The data type to uniquely identify a TPC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00386">geo_types.h:386</a></div></div>
<div class="ttc" id="classgeo_1_1CryostatGeo_html_a15e1909a67a64f7880720a7c9ff80a64"><div class="ttname"><a href="../../de/da3/classgeo_1_1CryostatGeo.html#a15e1909a67a64f7880720a7c9ff80a64">geo::CryostatGeo::TPC</a></div><div class="ttdeci">const TPCGeo &amp; TPC(unsigned int itpc) const </div><div class="ttdoc">Return the itpc&amp;#39;th TPC in the cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d90/CryostatGeo_8cxx_source.html#l00093">CryostatGeo.cxx:93</a></div></div>
<div class="ttc" id="file__to__url_8sh_html_a096ad3d3698082826189c839d7a6e46f"><div class="ttname"><a href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a></div><div class="ttdeci">then echo File list $list not found else cat $list while read file do echo $file sed s</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dea/file__to__url_8sh_source.html#l00060">file_to_url.sh:60</a></div></div>
<div class="ttc" id="classgeo_1_1GeoIDdataContainer_html_a5afde13cbbccc2c904dc2e0a40f5d0b8"><div class="ttname"><a href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a5afde13cbbccc2c904dc2e0a40f5d0b8">geo::GeoIDdataContainer::resize</a></div><div class="ttdeci">void resize(std::initializer_list&lt; unsigned int &gt; dims)</div><div class="ttdoc">Prepares the container with default-constructed data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de1/GeometryDataContainers_8h_source.html#l01468">GeometryDataContainers.h:1468</a></div></div>
<div class="ttc" id="classgeo_1_1CryostatGeo_html_a388995e3d67347e23b5c0116736481c1"><div class="ttname"><a href="../../de/da3/classgeo_1_1CryostatGeo.html#a388995e3d67347e23b5c0116736481c1">geo::CryostatGeo::ID</a></div><div class="ttdeci">geo::CryostatID const &amp; ID() const </div><div class="ttdoc">Returns the identifier of this cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d13/CryostatGeo_8h_source.html#l00132">CryostatGeo.h:132</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8bbe65d3e61ef1ef4d9e2dd97015f0e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::details::ROPandTPCsetBuildingAlg::fillTPCtoTPCsetMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates the map from each TPC to its TPC set. </p>
<p>This function fills <code>fTPCtoTPCset</code>.</p>
<p>It requires <code>fCryostats</code> and <code>fTPCsetTPCs</code> to have been computed already. </p>

<p>Definition at line <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00840">840</a> of file <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html">ROPandTPCsetBuildingAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                                                              {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  </div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="comment">// invert the TPC sets map content</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  assert(!<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">fCryostats</a>-&gt;empty());</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  assert(!<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">fTPCsetTPCs</a>.<a class="code" href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a85f3ad60222f378b1f8bc86f68203057">empty</a>());</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="comment">// prepare the input</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span>&amp; Cryostats = *<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">fCryostats</a>;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span>&amp; TPCsetTPCs = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">fTPCsetTPCs</a>;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <span class="comment">// output</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> [ NCryostats, MaxTPCs ]</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    = geo::details::extractMaxGeometryElements&lt;2U&gt;(Cryostats);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  MF_LOG_TRACE(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">fLogCategory</a>)</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;Detected &quot;</span> &lt;&lt; NCryostats &lt;&lt; <span class="stringliteral">&quot; cryostats.&quot;</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;\nDetected at most &quot;</span> &lt;&lt; MaxTPCs &lt;&lt; <span class="stringliteral">&quot; TPCs per cryostat.&quot;</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    ;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a0fd015e5bed3ec14988508ba903c26db">fTPCtoTPCset</a>.<a class="code" href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a5afde13cbbccc2c904dc2e0a40f5d0b8">resize</a>(NCryostats, MaxTPCs, {});</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  </div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> c</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    : util::counter&lt;geo::CryostatID::CryostatID_t&gt;(TPCsetTPCs.dimSize&lt;0&gt;())</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    )</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <a class="code" href="../../d9/d73/structgeo_1_1CryostatID.html">geo::CryostatID</a> <span class="keyword">const</span> cid { c };</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>: util::counter&lt;readout::TPCsetID::TPCsetID_t&gt;(TPCsetTPCs.dimSize&lt;1&gt;()))</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <a class="code" href="../../d5/d8f/structreadout_1_1TPCsetID.html">readout::TPCsetID</a> <span class="keyword">const</span> sid { cid, <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a> };</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../d9/dff/classgeo_1_1TPCGeo.html">geo::TPCGeo</a> <span class="keyword">const</span>* <a class="code" href="../../d4/d22/sbnd__flashalgo_8fcl.html#a648c7afac4085c93cd1ba4a75dfe8818">TPC</a>: TPCsetTPCs[sid]) {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        assert(<a class="code" href="../../d4/d22/sbnd__flashalgo_8fcl.html#a648c7afac4085c93cd1ba4a75dfe8818">TPC</a> &amp;&amp; <a class="code" href="../../d4/d22/sbnd__flashalgo_8fcl.html#a648c7afac4085c93cd1ba4a75dfe8818">TPC</a>-&gt;ID());</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a0fd015e5bed3ec14988508ba903c26db">fTPCtoTPCset</a>[<a class="code" href="../../d4/d22/sbnd__flashalgo_8fcl.html#a648c7afac4085c93cd1ba4a75dfe8818">TPC</a>-&gt;ID()] = sid;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        MF_LOG_TRACE(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">fLogCategory</a>) &lt;&lt; <a class="code" href="../../d4/d22/sbnd__flashalgo_8fcl.html#a648c7afac4085c93cd1ba4a75dfe8818">TPC</a>-&gt;ID() &lt;&lt; <span class="stringliteral">&quot; =&gt; &quot;</span> &lt;&lt; sid;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      } <span class="comment">// for TPCs in TPC set</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    } <span class="comment">// for TPC sets in cryostat</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  } <span class="comment">// for cryostats</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;} <span class="comment">// icarus::details::ROPandTPCsetBuildingAlg::fillTPCtoTPCsetMap()</span></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_aa19474eb61b1ffeaeaa2c469607f4784"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">icarus::details::ROPandTPCsetBuildingAlg::fTPCsetTPCs</a></div><div class="ttdeci">readout::TPCsetDataContainer&lt; TPCColl_t &gt; fTPCsetTPCs</div><div class="ttdoc">Output: TPC&amp;#39;s in each TPC set. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00202">ROPandTPCsetBuildingAlg.h:202</a></div></div>
<div class="ttc" id="classgeo_1_1TPCGeo_html"><div class="ttname"><a href="../../d9/dff/classgeo_1_1TPCGeo.html">geo::TPCGeo</a></div><div class="ttdoc">Geometry information for a single TPC. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/TPCGeo_8h_source.html#l00038">TPCGeo.h:38</a></div></div>
<div class="ttc" id="structreadout_1_1TPCsetID_html"><div class="ttname"><a href="../../d5/d8f/structreadout_1_1TPCsetID.html">readout::TPCsetID</a></div><div class="ttdoc">Class identifying a set of TPC sharing readout channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d64/readout__types_8h_source.html#l00070">readout_types.h:70</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_ae13462c16c597918cdb00b6e44505752"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">icarus::details::ROPandTPCsetBuildingAlg::fCryostats</a></div><div class="ttdeci">geo::GeometryData_t::CryostatList_t const * fCryostats</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00192">ROPandTPCsetBuildingAlg.h:192</a></div></div>
<div class="ttc" id="sbnd__flashalgo_8fcl_html_a648c7afac4085c93cd1ba4a75dfe8818"><div class="ttname"><a href="../../d4/d22/sbnd__flashalgo_8fcl.html#a648c7afac4085c93cd1ba4a75dfe8818">TPC</a></div><div class="ttdeci">BEGIN_PROLOG TPC</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d22/sbnd__flashalgo_8fcl_source.html#l00014">sbnd_flashalgo.fcl:14</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a0fd015e5bed3ec14988508ba903c26db"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a0fd015e5bed3ec14988508ba903c26db">icarus::details::ROPandTPCsetBuildingAlg::fTPCtoTPCset</a></div><div class="ttdeci">geo::TPCDataContainer&lt; readout::TPCsetID &gt; fTPCtoTPCset</div><div class="ttdoc">Output: the TPC set each TPC belongs to. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00211">ROPandTPCsetBuildingAlg.h:211</a></div></div>
<div class="ttc" id="file__to__url_8sh_html_a096ad3d3698082826189c839d7a6e46f"><div class="ttname"><a href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a></div><div class="ttdeci">then echo File list $list not found else cat $list while read file do echo $file sed s</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dea/file__to__url_8sh_source.html#l00060">file_to_url.sh:60</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_adb5dea099bd34c8945e3706b4d5f5d85"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">icarus::details::ROPandTPCsetBuildingAlg::fLogCategory</a></div><div class="ttdeci">std::string fLogCategory</div><div class="ttdoc">Category to write messages into. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00187">ROPandTPCsetBuildingAlg.h:187</a></div></div>
<div class="ttc" id="classgeo_1_1GeoIDdataContainer_html_a85f3ad60222f378b1f8bc86f68203057"><div class="ttname"><a href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a85f3ad60222f378b1f8bc86f68203057">geo::GeoIDdataContainer::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdoc">Returns whether the container has no elements (false by assumptions). </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de1/GeometryDataContainers_8h_source.html#l01259">GeometryDataContainers.h:1259</a></div></div>
<div class="ttc" id="classgeo_1_1GeoIDdataContainer_html_a5afde13cbbccc2c904dc2e0a40f5d0b8"><div class="ttname"><a href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a5afde13cbbccc2c904dc2e0a40f5d0b8">geo::GeoIDdataContainer::resize</a></div><div class="ttdeci">void resize(std::initializer_list&lt; unsigned int &gt; dims)</div><div class="ttdoc">Prepares the container with default-constructed data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de1/GeometryDataContainers_8h_source.html#l01468">GeometryDataContainers.h:1468</a></div></div>
<div class="ttc" id="structgeo_1_1CryostatID_html"><div class="ttname"><a href="../../d9/d73/structgeo_1_1CryostatID.html">geo::CryostatID</a></div><div class="ttdoc">The data type to uniquely identify a cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00190">geo_types.h:190</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9998fa9a7b02f6bf90525c6f70c9949b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Pred &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;<a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a>&gt; &gt; icarus::details::ROPandTPCsetBuildingAlg::groupPlanesAndTPCs </td>
          <td>(</td>
          <td class="paramtype">Pred&#160;</td>
          <td class="paramname"><em>standalonePlane</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts composition of all readout planes. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Pred</td><td>type of the predicate <code>pred</code> with one <code><a class="el" href="../../d4/d67/classgeo_1_1PlaneGeo.html" title="Geometry information for a single wire plane.The plane is represented in the geometry by a solid whic...">geo::PlaneGeo</a></code> argument </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">standalonePlane</td><td>predicate to determine if a plane is stand-alone </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>readout plane composition</dd></dl>
<p>This function returns a list: for each cryostat (first index), a list of TPC sets (second index: TPC set within the cryostat) each listing its TPC (third index: runs through all TPCs).</p>
<p>If <code>standalonePlane</code> is specified, it is a functor that returns whether its argument, a <code><a class="el" href="../../d4/d67/classgeo_1_1PlaneGeo.html" title="Geometry information for a single wire plane.The plane is represented in the geometry by a solid whic...">geo::PlaneGeo</a></code> object, should not be grouped at all (i.e., <code>standalonePlane(plane)</code> returns <code>false</code> if the <code>plane</code> can be grouped to others). Each plane for which <code>standalonePlane</code> evaluates <code>true</code> has their own "group" of one plane. </p>

</div>
</div>
<a class="anchor" id="af369031880f570959b284622a7c6ce95"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::details::ROPandTPCsetBuildingAlg::groupPlanesAndTPCs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts composition of all readout planes. </p>
<dl class="section return"><dt>Returns</dt><dd>readout plane composition</dd></dl>
<p>This function returns a list: for each cryostat (first index), a list of TPC sets (second index: TPC set within the cryostat) each listing its TPC (third index: runs through all TPCs). </p>

<p>Definition at line <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00545">545</a> of file <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html">ROPandTPCsetBuildingAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#af369031880f570959b284622a7c6ce95">groupPlanesAndTPCs</a>([](<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> <span class="keyword">const</span>&amp;){ <span class="keywordflow">return</span> <span class="keyword">false</span>; }); }</div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_af369031880f570959b284622a7c6ce95"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#af369031880f570959b284622a7c6ce95">icarus::details::ROPandTPCsetBuildingAlg::groupPlanesAndTPCs</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; PlaneColl_t &gt; &gt; groupPlanesAndTPCs()</div><div class="ttdoc">Extracts composition of all readout planes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00545">ROPandTPCsetBuildingAlg.cxx:545</a></div></div>
<div class="ttc" id="classgeo_1_1PlaneGeo_html"><div class="ttname"><a href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a></div><div class="ttdoc">Geometry information for a single wire plane.The plane is represented in the geometry by a solid whic...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/PlaneGeo_8h_source.html#l00082">PlaneGeo.h:82</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6f49bca3fb831ef930a6d347005af50f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Pred &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::details::ROPandTPCsetBuildingAlg::groupPlanesAndTPCs </td>
          <td>(</td>
          <td class="paramtype">Pred&#160;</td>
          <td class="paramname"><em>standalonePlane</em></td><td>)</td>
          <td> -&gt; std::vector&lt;std::vector&lt;<a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a>&gt;&gt;
</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00457">457</a> of file <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html">ROPandTPCsetBuildingAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;{</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">   * extract the composition of all the readout planes</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">   * and the TPCs each of them spans</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="comment">// input check</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  assert(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">fCryostats</a>);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <a class="code" href="../../d7/df3/structgeo_1_1GeometryData__t.html#a324475ddeafb25f18f29a99614d423ab">geo::GeometryData_t::CryostatList_t</a> <span class="keyword">const</span>&amp; Cryostats = *<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">fCryostats</a>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="comment">// output</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="comment">// for each cryostat (first index),</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">// a list of readout plane candidates</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="comment">//   (second index: readout plane within the cryostat)</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="comment">// each listing its wire planes (third index: runs through all wire planes):</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  std::vector&lt;std::vector&lt;PlaneColl_t&gt;&gt; AllPlanesInROPs;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="comment">// debug</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keyword">auto</span> logPlanes = [<span class="keyword">this</span>](<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> <span class="keyword">const</span>&amp; <a class="code" href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a>)</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      mf::LogTrace log(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">fLogCategory</a>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      log &lt;&lt; <span class="stringliteral">&quot;New group of &quot;</span> &lt;&lt; <a class="code" href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a>.size() &lt;&lt; <span class="stringliteral">&quot; planes:&quot;</span>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> <span class="keyword">const</span>* plane: <a class="code" href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a>)</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        log &lt;&lt; <span class="stringliteral">&quot; &lt;&quot;</span> &lt;&lt; plane-&gt;ID() &lt;&lt; <span class="stringliteral">&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    };</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="comment">// the algorithm</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">// extract the information one cryostat at a time</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../de/da3/classgeo_1_1CryostatGeo.html">geo::CryostatGeo</a> <span class="keyword">const</span>&amp; cryo: Cryostats) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="comment">// connect all wire planes with the same drift direction to build</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="comment">// readout plane sets</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    std::vector&lt;geo::PlaneGeo const*&gt; <a class="code" href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d9/dff/classgeo_1_1TPCGeo.html">geo::TPCGeo</a> <span class="keyword">const</span>&amp; tpc: cryo.IterateTPCs()) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> <span class="keyword">const</span>&amp; plane: tpc.IteratePlanes()) {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        planes.push_back(&amp;plane);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      } <span class="comment">// for planes</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    } <span class="comment">// for TPCs</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    std::vector&lt;PlaneColl_t&gt; protoGroups = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab67f0cb407244e542d7122f79039cce9">groupPlanesByDriftCoord</a>(planes);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="comment">// Are all the planes in the groups expected to be grouped?</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">// if not, add them as their own group before the group.</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="comment">// We could have filtered out the planes not to be grouped before grouping,</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="comment">// which makes a lot of sense but complicates the sorting afterwards.</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    std::vector&lt;PlaneColl_t&gt; groupedPlanes;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> <span class="keyword">const</span>&amp; protoGroup: protoGroups) {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keywordflow">if</span> (protoGroup.empty()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> <a class="code" href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh.html#adfc119c26975d3bfdc7c6d81dda11f1d">group</a>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> <span class="keyword">const</span>* plane: protoGroup) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">if</span> (standalonePlane(*plane)) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;          groupedPlanes.push_back({ plane });</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;          logPlanes(groupedPlanes.back());</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">else</span> group.push_back(plane);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="keywordflow">if</span> (!group.empty()) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        groupedPlanes.push_back(std::move(group));</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        logPlanes(groupedPlanes.back());</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    } <span class="comment">// for protogroups</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="comment">// save the results of the cryostat to detector-level data collection</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    AllPlanesInROPs.push_back(std::move(groupedPlanes));</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  } <span class="comment">// for cryostats</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keywordflow">return</span> AllPlanesInROPs;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;} <span class="comment">// icarus::details::ROPandTPCsetBuildingAlg::groupPlanesAndTPCs()</span></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_ab630f4ab5fe058d9893a1f2ea9b991a0"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">icarus::details::ROPandTPCsetBuildingAlg::PlaneColl_t</a></div><div class="ttdeci">icarus::details::PlaneColl_t PlaneColl_t</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00104">ROPandTPCsetBuildingAlg.h:104</a></div></div>
<div class="ttc" id="classgeo_1_1TPCGeo_html"><div class="ttname"><a href="../../d9/dff/classgeo_1_1TPCGeo.html">geo::TPCGeo</a></div><div class="ttdoc">Geometry information for a single TPC. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/TPCGeo_8h_source.html#l00038">TPCGeo.h:38</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_ab67f0cb407244e542d7122f79039cce9"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab67f0cb407244e542d7122f79039cce9">icarus::details::ROPandTPCsetBuildingAlg::groupPlanesByDriftCoord</a></div><div class="ttdeci">static std::vector&lt; std::vector&lt; geo::PlaneGeo const * &gt; &gt; groupPlanesByDriftCoord(PlaneColl const &amp;planes, double tolerance=0.1)</div><div class="ttdoc">Returns the planes grouped by their drift coordinate. </div></div>
<div class="ttc" id="structgeo_1_1GeometryData__t_html_a324475ddeafb25f18f29a99614d423ab"><div class="ttname"><a href="../../d7/df3/structgeo_1_1GeometryData__t.html#a324475ddeafb25f18f29a99614d423ab">geo::GeometryData_t::CryostatList_t</a></div><div class="ttdeci">std::vector&lt; geo::CryostatGeo &gt; CryostatList_t</div><div class="ttdoc">Type of list of cryostats. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/GeometryData_8h_source.html#l00034">GeometryData.h:34</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_ae13462c16c597918cdb00b6e44505752"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">icarus::details::ROPandTPCsetBuildingAlg::fCryostats</a></div><div class="ttdeci">geo::GeometryData_t::CryostatList_t const * fCryostats</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00192">ROPandTPCsetBuildingAlg.h:192</a></div></div>
<div class="ttc" id="classgeo_1_1CryostatGeo_html"><div class="ttname"><a href="../../de/da3/classgeo_1_1CryostatGeo.html">geo::CryostatGeo</a></div><div class="ttdoc">Geometry information for a single cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d13/CryostatGeo_8h_source.html#l00043">CryostatGeo.h:43</a></div></div>
<div class="ttc" id="sbndpoms__genfclwithrunnumber__maker_8sh_html_adfc119c26975d3bfdc7c6d81dda11f1d"><div class="ttname"><a href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh.html#adfc119c26975d3bfdc7c6d81dda11f1d">group</a></div><div class="ttdeci">then echo group</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh_source.html#l00220">sbndpoms_genfclwithrunnumber_maker.sh:220</a></div></div>
<div class="ttc" id="classgeo_1_1PlaneGeo_html"><div class="ttname"><a href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a></div><div class="ttdoc">Geometry information for a single wire plane.The plane is represented in the geometry by a solid whic...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/PlaneGeo_8h_source.html#l00082">PlaneGeo.h:82</a></div></div>
<div class="ttc" id="trackfinderalgorithms_8fcl_html_ac996980052e16111a1efc913778a5f5f"><div class="ttname"><a href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a></div><div class="ttdeci">BEGIN_PROLOG Z planes</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dbd/trackfinderalgorithms_8fcl_source.html#l00026">trackfinderalgorithms.fcl:26</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_adb5dea099bd34c8945e3706b4d5f5d85"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">icarus::details::ROPandTPCsetBuildingAlg::fLogCategory</a></div><div class="ttdeci">std::string fLogCategory</div><div class="ttdoc">Category to write messages into. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00187">ROPandTPCsetBuildingAlg.h:187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab67f0cb407244e542d7122f79039cce9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PlaneColl &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::vector&lt;std::vector&lt;<a class="el" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> const*&gt; &gt; icarus::details::ROPandTPCsetBuildingAlg::groupPlanesByDriftCoord </td>
          <td>(</td>
          <td class="paramtype">PlaneColl const &amp;&#160;</td>
          <td class="paramname"><em>planes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tolerance</em> = <code>0.1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the planes grouped by their drift coordinate. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">PlaneColl</td><td>a <code><a class="el" href="../../d4/d67/classgeo_1_1PlaneGeo.html" title="Geometry information for a single wire plane.The plane is represented in the geometry by a solid whic...">geo::PlaneGeo</a></code> collection (forward-iterable) </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">planes</td><td>collection of the wire planes to be grouped </td></tr>
    <tr><td class="paramname">tolerance</td><td>maximum distance in drift for planes in a single group </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a collection of groups of (pointers to) planes</dd></dl>
<p>The <code>planes</code> in the input collection are split into groups which share the same drift coordinate. The <code>tolerance</code> parameter defines how different that coordinate can be for planes to be grouped together. The result is expressed as a collection of collections of planes: each element of the outer collection is a group of constant pointers to <code><a class="el" href="../../d4/d67/classgeo_1_1PlaneGeo.html" title="Geometry information for a single wire plane.The plane is represented in the geometry by a solid whic...">geo::PlaneGeo</a></code> objects representing all the planes with the same drift coordinate. The sorting algorithm is guaranteed to be stable, i.e. if any two planes <em>A</em> and <em>B</em> have the same drift coordinate and in the <code>planes</code> collection <em>A</em> is before <em>B</em>, in the resulting group <em>A</em> will also be before <em>B</em>.</p>
<p>In the current ICARUS geometry description the drift direction is on <em>x</em> axis, and <em>x</em> is the drift coordinate. </p>

</div>
</div>
<a class="anchor" id="acce21b337e48626f55a6b75ef74d2cea"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PlaneColl &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::details::ROPandTPCsetBuildingAlg::groupPlanesByDriftCoord </td>
          <td>(</td>
          <td class="paramtype">PlaneColl const &amp;&#160;</td>
          <td class="paramname"><em>planes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tolerance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; std::vector&lt;<a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a>&gt;
</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l01023">1023</a> of file <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html">ROPandTPCsetBuildingAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;{</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  std::map&lt;double, PlaneColl_t&gt; groupedByDrift;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <a class="code" href="../../d6/d23/namespacegeo.html#a22d2a7c73b2795146b92cd54ded9e817">geo::Vector_t</a> <span class="keyword">const</span> driftDir = <a class="code" href="../../d6/d23/namespacegeo.html#a62b751f7b8cee6917a9f3f83566adc0a">geo::Xaxis</a>();</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="comment">   * we can&#39;t std::sort by drift coordinate because that would break the</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="comment">   * stability of the sorting (we are guaranteeing that if plane _A_, drift</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="comment">   * coordinate _x_, is before plane _B_, drift coordinate _x - epsilon_,</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="comment">   * and _epsilon_ is smaller than `tolerance`, then in the group plane _A_</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="comment">   * should still be of plane _B_.</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> <span class="keyword">const</span>* plane: <a class="code" href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a>) {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    </div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordtype">double</span> <span class="keyword">const</span> planeD = plane-&gt;GetCenter&lt;<a class="code" href="../../d6/d23/namespacegeo.html#a5a6f22c2aa9d0ccf6ca08bf2773a0541">geo::Point_t</a>&gt;().Dot(driftDir);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="comment">// find the group before the plane</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keyword">auto</span> iGroup = groupedByDrift.lower_bound(planeD);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="comment">// if the group we found is compatible with the plane, we add it in;</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="comment">// the key is the upper limit of the group coordinate range</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordflow">if</span> ((iGroup != groupedByDrift.end())</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      &amp;&amp; (iGroup-&gt;first - planeD &lt;= <a class="code" href="../../d3/d3e/OpFlashAlg__test_8cc.html#a9831d5eb20e67514532655869f703820">tolerance</a>))</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    {</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      iGroup-&gt;second.push_back(plane);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="comment">// the plane has a drift coordinate too small to join the group we found;</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="comment">// or we did not find any; so we create a new group centered on this plane;</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="comment">// the key is the right end of the allowed range, to simplify both search</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="comment">// and check</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    groupedByDrift.emplace_hint</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      (iGroup, planeD + <a class="code" href="../../d3/d3e/OpFlashAlg__test_8cc.html#a9831d5eb20e67514532655869f703820">tolerance</a> / 2.0, <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a>({ plane }));</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    </div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  } <span class="comment">// for</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="comment">// moving the groups into the result structure; they&#39;ll be sorted by</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="comment">// increasing nominal drift coordinate</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  std::vector&lt;PlaneColl_t&gt; groups;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  groups.reserve(groupedByDrift.size());</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code" href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh.html#adfc119c26975d3bfdc7c6d81dda11f1d">group</a>: groupedByDrift)</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    groups.push_back(std::move(std::get&lt;1U&gt;(<a class="code" href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh.html#adfc119c26975d3bfdc7c6d81dda11f1d">group</a>)));</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keywordflow">return</span> groups;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  </div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;} <span class="comment">// icarus::details::ROPandTPCsetBuildingAlg::groupPlanesByDriftCoord()</span></div>
<div class="ttc" id="namespacegeo_html_a22d2a7c73b2795146b92cd54ded9e817"><div class="ttname"><a href="../../d6/d23/namespacegeo.html#a22d2a7c73b2795146b92cd54ded9e817">geo::Vector_t</a></div><div class="ttdeci">ROOT::Math::DisplacementVector3D&lt; ROOT::Math::Cartesian3D&lt; double &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Vector_t</div><div class="ttdoc">Type for representation of momenta in 3D space. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/geo__vectors_8h_source.html#l00164">geo_vectors.h:164</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_ab630f4ab5fe058d9893a1f2ea9b991a0"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">icarus::details::ROPandTPCsetBuildingAlg::PlaneColl_t</a></div><div class="ttdeci">icarus::details::PlaneColl_t PlaneColl_t</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00104">ROPandTPCsetBuildingAlg.h:104</a></div></div>
<div class="ttc" id="OpFlashAlg__test_8cc_html_a9831d5eb20e67514532655869f703820"><div class="ttname"><a href="../../d3/d3e/OpFlashAlg__test_8cc.html#a9831d5eb20e67514532655869f703820">tolerance</a></div><div class="ttdeci">auto const tolerance</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3e/OpFlashAlg__test_8cc_source.html#l00009">OpFlashAlg_test.cc:9</a></div></div>
<div class="ttc" id="sbndpoms__genfclwithrunnumber__maker_8sh_html_adfc119c26975d3bfdc7c6d81dda11f1d"><div class="ttname"><a href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh.html#adfc119c26975d3bfdc7c6d81dda11f1d">group</a></div><div class="ttdeci">then echo group</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh_source.html#l00220">sbndpoms_genfclwithrunnumber_maker.sh:220</a></div></div>
<div class="ttc" id="classgeo_1_1PlaneGeo_html"><div class="ttname"><a href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a></div><div class="ttdoc">Geometry information for a single wire plane.The plane is represented in the geometry by a solid whic...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/PlaneGeo_8h_source.html#l00082">PlaneGeo.h:82</a></div></div>
<div class="ttc" id="namespacegeo_html_a62b751f7b8cee6917a9f3f83566adc0a"><div class="ttname"><a href="../../d6/d23/namespacegeo.html#a62b751f7b8cee6917a9f3f83566adc0a">geo::Xaxis</a></div><div class="ttdeci">constexpr Vector Xaxis()</div><div class="ttdoc">Returns a x axis vector of the specified type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/geo__vectors_8h_source.html#l00215">geo_vectors.h:215</a></div></div>
<div class="ttc" id="trackfinderalgorithms_8fcl_html_ac996980052e16111a1efc913778a5f5f"><div class="ttname"><a href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a></div><div class="ttdeci">BEGIN_PROLOG Z planes</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dbd/trackfinderalgorithms_8fcl_source.html#l00026">trackfinderalgorithms.fcl:26</a></div></div>
<div class="ttc" id="namespacegeo_html_a5a6f22c2aa9d0ccf6ca08bf2773a0541"><div class="ttname"><a href="../../d6/d23/namespacegeo.html#a5a6f22c2aa9d0ccf6ca08bf2773a0541">geo::Point_t</a></div><div class="ttdeci">ROOT::Math::PositionVector3D&lt; ROOT::Math::Cartesian3D&lt; double &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Point_t</div><div class="ttdoc">Type for representation of position in physical 3D space. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/geo__vectors_8h_source.html#l00184">geo_vectors.h:184</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a90e34835244bc9f4c020c3afd9981039"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::details::ROPandTPCsetBuildingAlg::groupPlanesIntoROPs </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; std::vector&lt; <a class="el" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> &gt;&gt;&gt; const &amp;&#160;</td>
          <td class="paramname"><em>AllTPCsOnROPs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt;&gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>AllPlanesInROPs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assigns each of the readout planes to a TPC set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">AllTPCsOnROPs</td><td>groups of TPC IDs planes in a readout planes belong to </td></tr>
    <tr><td class="paramname">AllPlanesInROPs</td><td>planes grouped by ROP </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a map of readout planes in each TPC set, each with plane content</dd></dl>
<p>This function fills <code>MaxROPs</code>. In addition, it returns the list by TPC set of the groups of sensitive planes into each readout plane in the set. It requires <code>fTPCsetTPCs</code> to have been computed already.</p>
<p>The input argument <code>AllTPCsOnROPs</code> is a vector with index the number of cryostat. For each cryostat, a list of readout planes is presented (unsorted and unlabelled), in each of which the list of TPCs the planes in the readout planes belong to is stored. </p>

<p>Definition at line <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00663">663</a> of file <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html">ROPandTPCsetBuildingAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;{</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">   * assigns each of the readout planes to a TPC set</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="comment">// input check</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  assert(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">fCryostats</a>);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <a class="code" href="../../d7/df3/structgeo_1_1GeometryData__t.html#a324475ddeafb25f18f29a99614d423ab">geo::GeometryData_t::CryostatList_t</a> <span class="keyword">const</span>&amp; Cryostats = *<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">fCryostats</a>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  assert(!<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">fTPCsetTPCs</a>.<a class="code" href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a85f3ad60222f378b1f8bc86f68203057">empty</a>());</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <a class="code" href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer&lt;TPCColl_t&gt;</a> <span class="keyword">const</span>&amp; TPCsetTPCs = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">fTPCsetTPCs</a>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="comment">// output</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <a class="code" href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer&lt;std::vector&lt;PlaneColl_t&gt;</a>&gt; PlanesInProtoROPs</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    (TPCsetTPCs.dimSize&lt;0U&gt;(), TPCsetTPCs.dimSize&lt;1U&gt;());</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; MaxROPs = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a5367eb0cccf4465bb939522124baae84">fMaxROPs</a>;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/d8e/namespaceSortModuleTimes.html#ad3d2eae5365f1777514bf8e73b50a9a2">nErrors</a> = 0U; <span class="comment">// count errors, then bail out at the end</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="comment">// we still don&#39;t know the maximum number of ROPs in a TPC set</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  MaxROPs = 0U;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; [ c, ROPs ]: <a class="code" href="../../d6/d72/namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a>(AllPlanesInROPs)) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="comment">// find which TPC set number each ROP belongs to;</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="comment">// brute force approach: check the content of each TPC set until we find</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="comment">// one that matched; then we are happy.</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="comment">// We assume that each ROP has one plane from *each* of the TPC&#39;s in a set.</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <a class="code" href="../../de/da3/classgeo_1_1CryostatGeo.html">geo::CryostatGeo</a> <span class="keyword">const</span>&amp; cryo = Cryostats[c];</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    std::vector&lt;std::vector&lt;geo::TPCID&gt;&gt; <span class="keyword">const</span>&amp; TPCsets = AllTPCsOnROPs[c];</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">for</span> (std::vector&lt;geo::PlaneGeo const*&gt;&amp; ROPplanes: ROPs) {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      std::vector&lt;geo::TPCID&gt; <span class="keyword">const</span> ROPTPCIDs = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a66046b69b9bc9d7c893db5ba9ad0ac30">extractTPCIDs</a>(ROPplanes);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <span class="comment">// find the TPC set</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      <a class="code" href="../../d5/d8f/structreadout_1_1TPCsetID.html">readout::TPCsetID</a> tpcsetid; <span class="comment">// destination set, invalid by default</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; [ <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>, TPCset ]: <a class="code" href="../../d6/d72/namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a>(TPCsets)) {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="comment">// here is where we assume the ROP has one plane per TOC in the TPC set;</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <span class="comment">// we are also gambling that the order is the same</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#abdd5a227c4cc8cb08a610a4948fd4584">isROPinTPCset</a>(ROPTPCIDs, TPCset)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        tpcsetid = { cryo.<a class="code" href="../../de/da3/classgeo_1_1CryostatGeo.html#a388995e3d67347e23b5c0116736481c1">ID</a>(), <span class="keyword">static_cast&lt;</span><a class="code" href="../../d5/d8f/structreadout_1_1TPCsetID.html#a70cd0826f593026b8b24541eb003f364">readout::TPCsetID::TPCsetID_t</a><span class="keyword">&gt;</span>(<a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>) };</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      } <span class="comment">// for all sets</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <span class="keywordflow">if</span> (!tpcsetid) { <span class="comment">// long error message to help debugging</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        mf::LogError log(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">fLogCategory</a>);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        log &lt;&lt; <span class="stringliteral">&quot;Candidate ROP did not match any TPC set.&quot;</span>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        log &lt;&lt; <span class="stringliteral">&quot;\nROP planes:&quot;</span>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> <span class="keyword">const</span>* plane: ROPplanes)</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;          log &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; plane-&gt;ID() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        log &lt;&lt; <span class="stringliteral">&quot;\nAvailable TPC sets (&quot;</span> &lt;&lt; TPCsets.size() &lt;&lt; <span class="stringliteral">&quot;):&quot;</span>;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; [ <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>, TPCset ]: <a class="code" href="../../d6/d72/namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a>(TPCsets)) {</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;          <a class="code" href="../../d5/d8f/structreadout_1_1TPCsetID.html">readout::TPCsetID</a> <span class="keyword">const</span> tpcsetid</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            { cryo.<a class="code" href="../../de/da3/classgeo_1_1CryostatGeo.html#a388995e3d67347e23b5c0116736481c1">ID</a>(), <span class="keyword">static_cast&lt;</span><a class="code" href="../../d5/d8f/structreadout_1_1TPCsetID.html#a70cd0826f593026b8b24541eb003f364">readout::TPCsetID::TPCsetID_t</a><span class="keyword">&gt;</span>(<a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>) };</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;          log &lt;&lt; <span class="stringliteral">&quot;\n - &quot;</span> &lt;&lt; tpcsetid &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; TPCset.size() &lt;&lt; <span class="stringliteral">&quot; TPC&#39;s:&quot;</span>;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> <span class="keyword">const</span>&amp; tpcid: TPCset) log &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; tpcid &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        } <span class="comment">// for TPC sets</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        ++<a class="code" href="../../d7/d8e/namespaceSortModuleTimes.html#ad3d2eae5365f1777514bf8e73b50a9a2">nErrors</a>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      } <span class="comment">// if no TPC set matched</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="comment">// we have found the (first) TPC set matching the set of TPCs in ROP;</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <span class="comment">// we store (move) the information into the proper cell</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <span class="keyword">auto</span>&amp; TPCsetROPs = PlanesInProtoROPs[tpcsetid];</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      TPCsetROPs.push_back(std::move(ROPplanes));</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      MaxROPs = <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(MaxROPs, static_cast&lt;unsigned int&gt;(TPCsetROPs.size()));</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    } <span class="comment">// for TPC sets</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  } <span class="comment">// for cryostats</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  AllPlanesInROPs.clear(); <span class="comment">// we have already depleted it anyway</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  </div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordflow">if</span> (nErrors &gt; 0) {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">throw</span> cet::exception(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">fLogCategory</a>)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;Encountered &quot;</span> &lt;&lt; nErrors</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; errors while assigning TPC sets to ROPs (see error messages above)\n&quot;</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      ;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  } <span class="comment">// if errors</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  mf::LogTrace(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">fLogCategory</a>)</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;The maximum number of readout planes in any TPC set is &quot;</span> &lt;&lt; MaxROPs;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordflow">return</span> PlanesInProtoROPs;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;} <span class="comment">// icarus::details::ROPandTPCsetBuildingAlg::groupPlanesIntoROPs()</span></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_aa19474eb61b1ffeaeaa2c469607f4784"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">icarus::details::ROPandTPCsetBuildingAlg::fTPCsetTPCs</a></div><div class="ttdeci">readout::TPCsetDataContainer&lt; TPCColl_t &gt; fTPCsetTPCs</div><div class="ttdoc">Output: TPC&amp;#39;s in each TPC set. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00202">ROPandTPCsetBuildingAlg.h:202</a></div></div>
<div class="ttc" id="classreadout_1_1TPCsetDataContainer_html"><div class="ttname"><a href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer&lt; TPCColl_t &gt;</a></div></div>
<div class="ttc" id="structreadout_1_1TPCsetID_html_a70cd0826f593026b8b24541eb003f364"><div class="ttname"><a href="../../d5/d8f/structreadout_1_1TPCsetID.html#a70cd0826f593026b8b24541eb003f364">readout::TPCsetID::TPCsetID_t</a></div><div class="ttdeci">unsigned short TPCsetID_t</div><div class="ttdoc">Type for the ID number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d64/readout__types_8h_source.html#l00071">readout_types.h:71</a></div></div>
<div class="ttc" id="structreadout_1_1TPCsetID_html"><div class="ttname"><a href="../../d5/d8f/structreadout_1_1TPCsetID.html">readout::TPCsetID</a></div><div class="ttdoc">Class identifying a set of TPC sharing readout channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d64/readout__types_8h_source.html#l00070">readout_types.h:70</a></div></div>
<div class="ttc" id="structgeo_1_1GeometryData__t_html_a324475ddeafb25f18f29a99614d423ab"><div class="ttname"><a href="../../d7/df3/structgeo_1_1GeometryData__t.html#a324475ddeafb25f18f29a99614d423ab">geo::GeometryData_t::CryostatList_t</a></div><div class="ttdeci">std::vector&lt; geo::CryostatGeo &gt; CryostatList_t</div><div class="ttdoc">Type of list of cryostats. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/GeometryData_8h_source.html#l00034">GeometryData.h:34</a></div></div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_ae13462c16c597918cdb00b6e44505752"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">icarus::details::ROPandTPCsetBuildingAlg::fCryostats</a></div><div class="ttdeci">geo::GeometryData_t::CryostatList_t const * fCryostats</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00192">ROPandTPCsetBuildingAlg.h:192</a></div></div>
<div class="ttc" id="classgeo_1_1CryostatGeo_html"><div class="ttname"><a href="../../de/da3/classgeo_1_1CryostatGeo.html">geo::CryostatGeo</a></div><div class="ttdoc">Geometry information for a single cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d13/CryostatGeo_8h_source.html#l00043">CryostatGeo.h:43</a></div></div>
<div class="ttc" id="namespaceutil_html_af0615b7538ff948ea65d5206a23c84f2"><div class="ttname"><a href="../../d6/d72/namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a></div><div class="ttdeci">auto enumerate(Iterables &amp;&amp;...iterables)</div><div class="ttdoc">Range-for loop helper tracking the number of iteration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d85/enumerate_8h_source.html#l00069">enumerate.h:69</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a66046b69b9bc9d7c893db5ba9ad0ac30"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a66046b69b9bc9d7c893db5ba9ad0ac30">icarus::details::ROPandTPCsetBuildingAlg::extractTPCIDs</a></div><div class="ttdeci">static std::vector&lt; geo::TPCID &gt; extractTPCIDs(std::vector&lt; geo::PlaneGeo const * &gt; const &amp;planes)</div><div class="ttdoc">Returns a collection with a TPC ID for each plane in the list of planes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l01080">ROPandTPCsetBuildingAlg.cxx:1080</a></div></div>
<div class="ttc" id="classgeo_1_1PlaneGeo_html"><div class="ttname"><a href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a></div><div class="ttdoc">Geometry information for a single wire plane.The plane is represented in the geometry by a solid whic...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/PlaneGeo_8h_source.html#l00082">PlaneGeo.h:82</a></div></div>
<div class="ttc" id="structgeo_1_1TPCID_html"><div class="ttname"><a href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a></div><div class="ttdoc">The data type to uniquely identify a TPC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00386">geo_types.h:386</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a5367eb0cccf4465bb939522124baae84"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a5367eb0cccf4465bb939522124baae84">icarus::details::ROPandTPCsetBuildingAlg::fMaxROPs</a></div><div class="ttdeci">unsigned int fMaxROPs</div><div class="ttdoc">Highest number of ROPs in any TPC set. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00223">ROPandTPCsetBuildingAlg.h:223</a></div></div>
<div class="ttc" id="file__to__url_8sh_html_a096ad3d3698082826189c839d7a6e46f"><div class="ttname"><a href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a></div><div class="ttdeci">then echo File list $list not found else cat $list while read file do echo $file sed s</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dea/file__to__url_8sh_source.html#l00060">file_to_url.sh:60</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_abdd5a227c4cc8cb08a610a4948fd4584"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#abdd5a227c4cc8cb08a610a4948fd4584">icarus::details::ROPandTPCsetBuildingAlg::isROPinTPCset</a></div><div class="ttdeci">static bool isROPinTPCset(std::vector&lt; geo::TPCID &gt; const &amp;ROPTPCIDs, std::vector&lt; geo::TPCID &gt; const &amp;TPCsetTPCIDs)</div><div class="ttdoc">Returns whether all the TPCs covered by a ROP are in a given TPC set. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l01111">ROPandTPCsetBuildingAlg.cxx:1111</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_adb5dea099bd34c8945e3706b4d5f5d85"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">icarus::details::ROPandTPCsetBuildingAlg::fLogCategory</a></div><div class="ttdeci">std::string fLogCategory</div><div class="ttdoc">Category to write messages into. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00187">ROPandTPCsetBuildingAlg.h:187</a></div></div>
<div class="ttc" id="classgeo_1_1GeoIDdataContainer_html_a85f3ad60222f378b1f8bc86f68203057"><div class="ttname"><a href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a85f3ad60222f378b1f8bc86f68203057">geo::GeoIDdataContainer::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdoc">Returns whether the container has no elements (false by assumptions). </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de1/GeometryDataContainers_8h_source.html#l01259">GeometryDataContainers.h:1259</a></div></div>
<div class="ttc" id="namespaceSortModuleTimes_html_ad3d2eae5365f1777514bf8e73b50a9a2"><div class="ttname"><a href="../../d7/d8e/namespaceSortModuleTimes.html#ad3d2eae5365f1777514bf8e73b50a9a2">SortModuleTimes.nErrors</a></div><div class="ttdeci">int nErrors</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/SortModuleTimes_8py_source.html#l00897">SortModuleTimes.py:897</a></div></div>
<div class="ttc" id="classgeo_1_1CryostatGeo_html_a388995e3d67347e23b5c0116736481c1"><div class="ttname"><a href="../../de/da3/classgeo_1_1CryostatGeo.html#a388995e3d67347e23b5c0116736481c1">geo::CryostatGeo::ID</a></div><div class="ttdeci">geo::CryostatID const &amp; ID() const </div><div class="ttdoc">Returns the identifier of this cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d13/CryostatGeo_8h_source.html#l00132">CryostatGeo.h:132</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abdd5a227c4cc8cb08a610a4948fd4584"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool icarus::details::ROPandTPCsetBuildingAlg::isROPinTPCset </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>ROPTPCIDs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>TPCsetTPCIDs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether all the TPCs covered by a ROP are in a given TPC set. </p>

<p>Definition at line <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l01111">1111</a> of file <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html">ROPandTPCsetBuildingAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  </div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> <span class="keyword">const</span>&amp; ROPTPC: ROPTPCIDs) {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> <span class="keyword">const</span>&amp; <a class="code" href="../../d4/d22/sbnd__flashalgo_8fcl.html#a648c7afac4085c93cd1ba4a75dfe8818">TPC</a>: TPCsetTPCIDs) {</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d4/d22/sbnd__flashalgo_8fcl.html#a648c7afac4085c93cd1ba4a75dfe8818">TPC</a> != ROPTPC) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    } <span class="comment">// for all TPCs in set</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordflow">if</span> (found) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  } <span class="comment">// for all TPCs in ROP</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;} <span class="comment">// icarus::details::ROPandTPCsetBuildingAlg::isROPinTPCset()</span></div>
<div class="ttc" id="sbnd__flashalgo_8fcl_html_a648c7afac4085c93cd1ba4a75dfe8818"><div class="ttname"><a href="../../d4/d22/sbnd__flashalgo_8fcl.html#a648c7afac4085c93cd1ba4a75dfe8818">TPC</a></div><div class="ttdeci">BEGIN_PROLOG TPC</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d22/sbnd__flashalgo_8fcl_source.html#l00014">sbnd_flashalgo.fcl:14</a></div></div>
<div class="ttc" id="structgeo_1_1TPCID_html"><div class="ttname"><a href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a></div><div class="ttdoc">The data type to uniquely identify a TPC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00386">geo_types.h:386</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab0046e44815a76ee76fca5b559369374"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d41/structreadout_1_1ROPID.html#a498c4d2471a688938ec0e641fd9ee475">readout::ROPID::ROPID_t</a> icarus::details::ROPandTPCsetBuildingAlg::ROPnumberFromPlanes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>planes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns ROP number matching the plane number shared by all <code>planes</code>. </p>
<dl class="section return"><dt>Returns</dt><dd>a ROP number, or <code><a class="el" href="../../dd/d41/structreadout_1_1ROPID.html#a72ecd9fc95e8693d3ed13279b7b6525d" title="Return the value of the invalid ROP ID as a r-value. ">readout::ROPID::getInvalidID()</a></code> on failure</dd></dl>
<p>The algorithms verifies that all elements in <code>planes</code> have an <code>ID()</code> with the same plane number (<code><a class="el" href="../../d4/d41/structgeo_1_1PlaneID.html#a02c2afa6841ef86ea8ab49478cdf5b29" title="Index of the plane within its TPC. ">geo::PlaneID::Plane</a></code>), and returns it. If the plane list is empty or if not all planes in the list have the same plane number, <code><a class="el" href="../../dd/d41/structreadout_1_1ROPID.html#a72ecd9fc95e8693d3ed13279b7b6525d" title="Return the value of the invalid ROP ID as a r-value. ">readout::ROPID::getInvalidID()</a></code> is returned. </p>

<p>Definition at line <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l01091">1091</a> of file <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html">ROPandTPCsetBuildingAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;{</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <a class="code" href="../../dd/d41/structreadout_1_1ROPID.html#a498c4d2471a688938ec0e641fd9ee475">readout::ROPID::ROPID_t</a> <a class="code" href="../../da/dc6/condor__lar__pubs_8sh.html#aace24c54f354f24f1dec3b4fd3a15d10">r</a> = <a class="code" href="../../dd/d41/structreadout_1_1ROPID.html#a72ecd9fc95e8693d3ed13279b7b6525d">readout::ROPID::getInvalidID</a>();</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> <span class="keyword">const</span>* plane: <a class="code" href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a>) {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="keywordflow">if</span> (!plane) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    </div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> fromPlane</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      = <span class="keyword">static_cast&lt;</span><a class="code" href="../../dd/d41/structreadout_1_1ROPID.html#a498c4d2471a688938ec0e641fd9ee475">readout::ROPID::ROPID_t</a><span class="keyword">&gt;</span>(plane-&gt;ID().Plane);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    </div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordflow">if</span> (r == <a class="code" href="../../dd/d41/structreadout_1_1ROPID.html#a72ecd9fc95e8693d3ed13279b7b6525d">readout::ROPID::getInvalidID</a>())</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      r = fromPlane;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (r != fromPlane)</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/d41/structreadout_1_1ROPID.html#a72ecd9fc95e8693d3ed13279b7b6525d">readout::ROPID::getInvalidID</a>();</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  } <span class="comment">// for</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../da/dc6/condor__lar__pubs_8sh.html#aace24c54f354f24f1dec3b4fd3a15d10">r</a>;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;} <span class="comment">// icarus::details::ROPandTPCsetBuildingAlg::ROPnumberFromPlanes()</span></div>
<div class="ttc" id="structreadout_1_1ROPID_html_a72ecd9fc95e8693d3ed13279b7b6525d"><div class="ttname"><a href="../../dd/d41/structreadout_1_1ROPID.html#a72ecd9fc95e8693d3ed13279b7b6525d">readout::ROPID::getInvalidID</a></div><div class="ttdeci">static constexpr ROPID_t getInvalidID()</div><div class="ttdoc">Return the value of the invalid ROP ID as a r-value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d64/readout__types_8h_source.html#l00248">readout_types.h:248</a></div></div>
<div class="ttc" id="structreadout_1_1ROPID_html_a498c4d2471a688938ec0e641fd9ee475"><div class="ttname"><a href="../../dd/d41/structreadout_1_1ROPID.html#a498c4d2471a688938ec0e641fd9ee475">readout::ROPID::ROPID_t</a></div><div class="ttdeci">unsigned int ROPID_t</div><div class="ttdoc">Type for the ID number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d64/readout__types_8h_source.html#l00169">readout_types.h:169</a></div></div>
<div class="ttc" id="classgeo_1_1PlaneGeo_html"><div class="ttname"><a href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a></div><div class="ttdoc">Geometry information for a single wire plane.The plane is represented in the geometry by a solid whic...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/PlaneGeo_8h_source.html#l00082">PlaneGeo.h:82</a></div></div>
<div class="ttc" id="trackfinderalgorithms_8fcl_html_ac996980052e16111a1efc913778a5f5f"><div class="ttname"><a href="../../d2/dbd/trackfinderalgorithms_8fcl.html#ac996980052e16111a1efc913778a5f5f">planes</a></div><div class="ttdeci">BEGIN_PROLOG Z planes</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dbd/trackfinderalgorithms_8fcl_source.html#l00026">trackfinderalgorithms.fcl:26</a></div></div>
<div class="ttc" id="condor__lar__pubs_8sh_html_aace24c54f354f24f1dec3b4fd3a15d10"><div class="ttname"><a href="../../da/dc6/condor__lar__pubs_8sh.html#aace24c54f354f24f1dec3b4fd3a15d10">r</a></div><div class="ttdeci">esac echo uname r</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc6/condor__lar__pubs_8sh_source.html#l00698">condor_lar_pubs.sh:698</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a910c4e7c4bd61ac71aa83171b6801d5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::details::ROPandTPCsetBuildingAlg::run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/df3/structgeo_1_1GeometryData__t.html#a324475ddeafb25f18f29a99614d423ab">geo::GeometryData_t::CryostatList_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>Cryostats</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs the algorithm as configured from start to end. </p>
<dl class="section return"><dt>Returns</dt><dd>the results of the algorithm</dd></dl>
<p>Results are in the form of a <code>tuple</code> that can be used to construct variables with structured binding declarations, or saved to extract the results one by one (see <code><a class="el" href="../../de/dc8/structicarus_1_1details_1_1ROPandTPCsetBuildingAlg_1_1Results__t.html">Results_t</a></code> for the interface). </p>

<p>Definition at line <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00353">353</a> of file <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html">ROPandTPCsetBuildingAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;{</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">   *  The goals:</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">   *  (G1) number of actual TPC sets per cryostat</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">   *  (G2) composition in TPC&#39;s of each TPC set</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">   *  (G3) number of actual ROP&#39;s in each TPC set</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">   *  (G4) composition in readout planes of each ROP</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">   *  The plan:</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">   *  </span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">   *  1. extract the composition of all the readout planes</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">   *     and the TPCs each of them spans</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">   *  2. extract the final set of TPC sets by collecting sets of TPCs</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">   *     from all the ROP&#39;s</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">   *  3. assign each of the readout planes to a TPC set</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">   *  4. sort out the readout plane assignments into the final sets</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="comment">// input and setup</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  mf::LogDebug(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">fLogCategory</a>)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;Building TPC sets and readout planes from &quot;</span> &lt;&lt; Cryostats.size()</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    &lt;&lt; <span class="stringliteral">&quot; cryostats&quot;</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">fCryostats</a> = &amp;Cryostats;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="comment">// output</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a347e880195ba05a66dd52bad7dc83f20">clear</a>();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="comment">// 1. extract the composition of all the readout planes</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="comment">//    and the TPCs they span</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keyword">auto</span> standaloneHorizontalWires = [](<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> <span class="keyword">const</span>&amp; plane)</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    { <span class="keywordflow">return</span> <a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(plane.ThetaZ()) &lt; 1<a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a>-3; };</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  std::vector&lt;std::vector&lt;PlaneColl_t&gt;&gt; AllPlanesInROPs</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#af369031880f570959b284622a7c6ce95">groupPlanesAndTPCs</a>(standaloneHorizontalWires);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  std::vector&lt;std::vector&lt;std::vector&lt;geo::TPCID&gt;&gt;&gt; <span class="keyword">const</span> AllTPCsInTPCsets</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aea7654a829eba3d9e3d6bd147f97c7e0">extractTPCsetsFromROPs</a>(AllPlanesInROPs);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="comment">// 2. extract the final set of TPC sets by collecting sets of TPCs</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="comment">//    from all the ROP&#39;s</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab1c3d0dec1651a7bb90aa19008a216aa">fillTPCsInSet</a>(AllTPCsInTPCsets);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="comment">// 3. assign each of the readout planes to a TPC set</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <a class="code" href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer&lt;std::vector&lt;PlaneColl_t&gt;</a>&gt; <span class="keyword">const</span> PlanesInProtoROPs</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    = <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a90e34835244bc9f4c020c3afd9981039">groupPlanesIntoROPs</a>(AllTPCsInTPCsets, std::move(AllPlanesInROPs));</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="comment">// 4. sort out the readout plane assignments into the final sets</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a3a4f5057af15b9ea296606bc9aedb01f">fillPlanesInROP</a>(PlanesInProtoROPs);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="comment">// 5. invert the maps</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a8bbe65d3e61ef1ef4d9e2dd97015f0e7">fillTPCtoTPCsetMap</a>();</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ad2e83fecb71385bec1bcf4f6198dd06c">fillPlaneToROPmap</a>();</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="comment">// output</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  assert(!<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a503d3b2942985e4c0d0d35d37c5983e5">fTPCsetCount</a>.empty());</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  assert(!<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">fTPCsetTPCs</a> .<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a74da18d4f0023feee71c1352a99b3910">empty</a>());</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  assert(!<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#af793777fb1b8a7db0319c2f6675a446c">fROPcount</a>   .<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a74da18d4f0023feee71c1352a99b3910">empty</a>());</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  assert(!<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a0fd015e5bed3ec14988508ba903c26db">fTPCtoTPCset</a>.<a class="code" href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a85f3ad60222f378b1f8bc86f68203057">empty</a>());</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  assert(!<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a57a5651f89314333021e4d49f0ce4d3f">fPlaneToROP</a> .<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a74da18d4f0023feee71c1352a99b3910">empty</a>());</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ad99c9b9592feb9fe5e2d8c793c313480">ResultsBase_t</a>{</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    std::move(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a503d3b2942985e4c0d0d35d37c5983e5">fTPCsetCount</a>),</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    std::move(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">fTPCsetTPCs</a> ),</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    std::move(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#af793777fb1b8a7db0319c2f6675a446c">fROPcount</a>   ),</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    std::move(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a64e97fba86abd7640db4ff45568bae4c">fROPplanes</a>  ),</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    std::move(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a0fd015e5bed3ec14988508ba903c26db">fTPCtoTPCset</a>),</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    std::move(<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a57a5651f89314333021e4d49f0ce4d3f">fPlaneToROP</a> )</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    };</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;} <span class="comment">// icarus::details::ROPandTPCsetBuildingAlg::run()</span></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_aa19474eb61b1ffeaeaa2c469607f4784"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aa19474eb61b1ffeaeaa2c469607f4784">icarus::details::ROPandTPCsetBuildingAlg::fTPCsetTPCs</a></div><div class="ttdeci">readout::TPCsetDataContainer&lt; TPCColl_t &gt; fTPCsetTPCs</div><div class="ttdoc">Output: TPC&amp;#39;s in each TPC set. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00202">ROPandTPCsetBuildingAlg.h:202</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_ab1c3d0dec1651a7bb90aa19008a216aa"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab1c3d0dec1651a7bb90aa19008a216aa">icarus::details::ROPandTPCsetBuildingAlg::fillTPCsInSet</a></div><div class="ttdeci">void fillTPCsInSet(std::vector&lt; std::vector&lt; std::vector&lt; geo::TPCID &gt;&gt;&gt; const &amp;AllTPCsOnROPs)</div><div class="ttdoc">Extracts the final set of TPC sets. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00605">ROPandTPCsetBuildingAlg.cxx:605</a></div></div>
<div class="ttc" id="classreadout_1_1TPCsetDataContainer_html"><div class="ttname"><a href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer</a></div><div class="ttdoc">Container with one element per readout TPC set. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/ddc/ReadoutDataContainers_8h_source.html#l00023">ReadoutDataContainers.h:23</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_af793777fb1b8a7db0319c2f6675a446c"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#af793777fb1b8a7db0319c2f6675a446c">icarus::details::ROPandTPCsetBuildingAlg::fROPcount</a></div><div class="ttdeci">readout::TPCsetDataContainer&lt; unsigned int &gt; fROPcount</div><div class="ttdoc">Output: number of readout planes in each TPC set. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00205">ROPandTPCsetBuildingAlg.h:205</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_ae13462c16c597918cdb00b6e44505752"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae13462c16c597918cdb00b6e44505752">icarus::details::ROPandTPCsetBuildingAlg::fCryostats</a></div><div class="ttdeci">geo::GeometryData_t::CryostatList_t const * fCryostats</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00192">ROPandTPCsetBuildingAlg.h:192</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_af369031880f570959b284622a7c6ce95"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#af369031880f570959b284622a7c6ce95">icarus::details::ROPandTPCsetBuildingAlg::groupPlanesAndTPCs</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; PlaneColl_t &gt; &gt; groupPlanesAndTPCs()</div><div class="ttdoc">Extracts composition of all readout planes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00545">ROPandTPCsetBuildingAlg.cxx:545</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a8bbe65d3e61ef1ef4d9e2dd97015f0e7"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a8bbe65d3e61ef1ef4d9e2dd97015f0e7">icarus::details::ROPandTPCsetBuildingAlg::fillTPCtoTPCsetMap</a></div><div class="ttdeci">void fillTPCtoTPCsetMap()</div><div class="ttdoc">Creates the map from each TPC to its TPC set. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00840">ROPandTPCsetBuildingAlg.cxx:840</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a503d3b2942985e4c0d0d35d37c5983e5"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a503d3b2942985e4c0d0d35d37c5983e5">icarus::details::ROPandTPCsetBuildingAlg::fTPCsetCount</a></div><div class="ttdeci">std::vector&lt; unsigned int &gt; fTPCsetCount</div><div class="ttdoc">Output: number of TPC sets in each cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00199">ROPandTPCsetBuildingAlg.h:199</a></div></div>
<div class="ttc" id="sparse__vector__test_8cc_html_a39f16bf854ba527dee7eba5bbbd93f3f"><div class="ttname"><a href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a></div><div class="ttdeci">T abs(T value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d59/sparse__vector__test_8cc_source.html#l00030">sparse_vector_test.cc:30</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a3a4f5057af15b9ea296606bc9aedb01f"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a3a4f5057af15b9ea296606bc9aedb01f">icarus::details::ROPandTPCsetBuildingAlg::fillPlanesInROP</a></div><div class="ttdeci">void fillPlanesInROP(readout::TPCsetDataContainer&lt; std::vector&lt; PlaneColl_t &gt;&gt; const &amp;PlanesInProtoROPs)</div><div class="ttdoc">Builds final readout plane information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00757">ROPandTPCsetBuildingAlg.cxx:757</a></div></div>
<div class="ttc" id="classgeo_1_1PlaneGeo_html"><div class="ttname"><a href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a></div><div class="ttdoc">Geometry information for a single wire plane.The plane is represented in the geometry by a solid whic...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/PlaneGeo_8h_source.html#l00082">PlaneGeo.h:82</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_aea7654a829eba3d9e3d6bd147f97c7e0"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#aea7654a829eba3d9e3d6bd147f97c7e0">icarus::details::ROPandTPCsetBuildingAlg::extractTPCsetsFromROPs</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; std::vector&lt; geo::TPCID &gt; &gt; &gt; extractTPCsetsFromROPs(std::vector&lt; std::vector&lt; PlaneColl_t &gt;&gt; const &amp;planes)</div><div class="ttdoc">Extracts all the TPC sets covered by any of the plane groups. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00553">ROPandTPCsetBuildingAlg.cxx:553</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a90e34835244bc9f4c020c3afd9981039"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a90e34835244bc9f4c020c3afd9981039">icarus::details::ROPandTPCsetBuildingAlg::groupPlanesIntoROPs</a></div><div class="ttdeci">readout::TPCsetDataContainer&lt; std::vector&lt; PlaneColl_t &gt; &gt; groupPlanesIntoROPs(std::vector&lt; std::vector&lt; std::vector&lt; geo::TPCID &gt;&gt;&gt; const &amp;AllTPCsOnROPs, std::vector&lt; std::vector&lt; PlaneColl_t &gt;&gt; &amp;&amp;AllPlanesInROPs)</div><div class="ttdoc">Assigns each of the readout planes to a TPC set. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00663">ROPandTPCsetBuildingAlg.cxx:663</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_ad99c9b9592feb9fe5e2d8c793c313480"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ad99c9b9592feb9fe5e2d8c793c313480">icarus::details::ROPandTPCsetBuildingAlg::ResultsBase_t</a></div><div class="ttdeci">std::tuple&lt; std::vector&lt; unsigned int &gt;, readout::TPCsetDataContainer&lt; TPCColl_t &gt;, readout::TPCsetDataContainer&lt; unsigned int &gt;, readout::ROPDataContainer&lt; PlaneColl_t &gt;, geo::TPCDataContainer&lt; readout::TPCsetID &gt;, geo::PlaneDataContainer&lt; readout::ROPID &gt; &gt; ResultsBase_t</div><div class="ttdoc">Full group of results of the algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00115">ROPandTPCsetBuildingAlg.h:115</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a57a5651f89314333021e4d49f0ce4d3f"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a57a5651f89314333021e4d49f0ce4d3f">icarus::details::ROPandTPCsetBuildingAlg::fPlaneToROP</a></div><div class="ttdeci">geo::PlaneDataContainer&lt; readout::ROPID &gt; fPlaneToROP</div><div class="ttdoc">Output: the ROP each wire plane belongs to. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00214">ROPandTPCsetBuildingAlg.h:214</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a64e97fba86abd7640db4ff45568bae4c"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a64e97fba86abd7640db4ff45568bae4c">icarus::details::ROPandTPCsetBuildingAlg::fROPplanes</a></div><div class="ttdeci">readout::ROPDataContainer&lt; PlaneColl_t &gt; fROPplanes</div><div class="ttdoc">Output: planes in each of the readout plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00208">ROPandTPCsetBuildingAlg.h:208</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a0fd015e5bed3ec14988508ba903c26db"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a0fd015e5bed3ec14988508ba903c26db">icarus::details::ROPandTPCsetBuildingAlg::fTPCtoTPCset</a></div><div class="ttdeci">geo::TPCDataContainer&lt; readout::TPCsetID &gt; fTPCtoTPCset</div><div class="ttdoc">Output: the TPC set each TPC belongs to. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00211">ROPandTPCsetBuildingAlg.h:211</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_ad2e83fecb71385bec1bcf4f6198dd06c"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ad2e83fecb71385bec1bcf4f6198dd06c">icarus::details::ROPandTPCsetBuildingAlg::fillPlaneToROPmap</a></div><div class="ttdeci">void fillPlaneToROPmap()</div><div class="ttdoc">Creates the map from each wire plane to its readout plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00890">ROPandTPCsetBuildingAlg.cxx:890</a></div></div>
<div class="ttc" id="updateVersionList_8sh_html_a067a8c1534d6da9b2c501a6cf4ef89bd"><div class="ttname"><a href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a></div><div class="ttdeci">do i e</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dca/updateVersionList_8sh_source.html#l00068">updateVersionList.sh:68</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_adb5dea099bd34c8945e3706b4d5f5d85"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#adb5dea099bd34c8945e3706b4d5f5d85">icarus::details::ROPandTPCsetBuildingAlg::fLogCategory</a></div><div class="ttdeci">std::string fLogCategory</div><div class="ttdoc">Category to write messages into. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00187">ROPandTPCsetBuildingAlg.h:187</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_a347e880195ba05a66dd52bad7dc83f20"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#a347e880195ba05a66dd52bad7dc83f20">icarus::details::ROPandTPCsetBuildingAlg::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">Destroys all the result data members. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00442">ROPandTPCsetBuildingAlg.cxx:442</a></div></div>
<div class="ttc" id="classgeo_1_1GeoIDdataContainer_html_a85f3ad60222f378b1f8bc86f68203057"><div class="ttname"><a href="../../dc/df0/classgeo_1_1GeoIDdataContainer.html#a85f3ad60222f378b1f8bc86f68203057">geo::GeoIDdataContainer::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdoc">Returns whether the container has no elements (false by assumptions). </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de1/GeometryDataContainers_8h_source.html#l01259">GeometryDataContainers.h:1259</a></div></div>
<div class="ttc" id="namespaceicarus_1_1ns_1_1util_html_a74da18d4f0023feee71c1352a99b3910"><div class="ttname"><a href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a74da18d4f0023feee71c1352a99b3910">icarus::ns::util::empty</a></div><div class="ttdeci">bool empty(FixedBins&lt; T, C &gt; const &amp;) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbd/FixedBins_8h_source.html#l00555">FixedBins.h:555</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2739d3371a82a5fc17b1001ecb046f0a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::details::ROPandTPCsetBuildingAlg::sortByNormalCoordinate </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>planes</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the <code>planes</code> sorted by decreasing normal coordinate. </p>

<p>Definition at line <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00947">947</a> of file <a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html">ROPandTPCsetBuildingAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;{</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="comment">   * The `ROPs` are sorted in order of decreasing normal plane coordinate.</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="comment">   * </span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment">   * 1. consistency of normal direction is first verified</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment">   * 2. the ROPs are sorted so that the center of the first sorted plane,</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment">   *    projected on the normal direction of a reference plane, is the largest</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment">   *    (plane closest to the cathode); sorting is stable.</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="comment">   * </span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  assert(!ROPs.empty()); <span class="comment">// don&#39;t waste our time!</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#afdf44f528d7f1cc52fcd7180b8ad4ded">checkNormalDirection</a>(ROPs); <span class="comment">// throws on error</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a> <span class="keyword">const</span>* <span class="keyword">const</span> pRefPlane = ROPs.front().front();</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keyword">auto</span> sortedROPs { ROPs };</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  std::stable_sort(sortedROPs.begin(), sortedROPs.end(),</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    [pRefPlane](<a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> <span class="keyword">const</span>&amp; <a class="code" href="../../d3/d5d/namespacelib_1_1dedx.html#a62b15446ae03a5857d5e03fa30b03fd4">A</a>, <a class="code" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a> <span class="keyword">const</span>&amp; B) -&gt; <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <span class="keywordflow">return</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        pRefPlane-&gt;<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html#ad9c2a53089ff865b269146df5290f974">DistanceFromPlane</a>(A.front()-&gt;GetCenter&lt;<a class="code" href="../../d6/d23/namespacegeo.html#a5a6f22c2aa9d0ccf6ca08bf2773a0541">geo::Point_t</a>&gt;())</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        &gt; pRefPlane-&gt;<a class="code" href="../../d4/d67/classgeo_1_1PlaneGeo.html#ad9c2a53089ff865b269146df5290f974">DistanceFromPlane</a>(B.front()-&gt;GetCenter&lt;<a class="code" href="../../d6/d23/namespacegeo.html#a5a6f22c2aa9d0ccf6ca08bf2773a0541">geo::Point_t</a>&gt;());</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    );</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="keywordflow">return</span> sortedROPs;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;} <span class="comment">// icarus::details::ROPandTPCsetBuildingAlg::sortByNormalCoordinate()</span></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_ab630f4ab5fe058d9893a1f2ea9b991a0"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">icarus::details::ROPandTPCsetBuildingAlg::PlaneColl_t</a></div><div class="ttdeci">icarus::details::PlaneColl_t PlaneColl_t</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00104">ROPandTPCsetBuildingAlg.h:104</a></div></div>
<div class="ttc" id="classgeo_1_1PlaneGeo_html"><div class="ttname"><a href="../../d4/d67/classgeo_1_1PlaneGeo.html">geo::PlaneGeo</a></div><div class="ttdoc">Geometry information for a single wire plane.The plane is represented in the geometry by a solid whic...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/PlaneGeo_8h_source.html#l00082">PlaneGeo.h:82</a></div></div>
<div class="ttc" id="classgeo_1_1PlaneGeo_html_ad9c2a53089ff865b269146df5290f974"><div class="ttname"><a href="../../d4/d67/classgeo_1_1PlaneGeo.html#ad9c2a53089ff865b269146df5290f974">geo::PlaneGeo::DistanceFromPlane</a></div><div class="ttdeci">double DistanceFromPlane(geo::Point_t const &amp;point) const </div><div class="ttdoc">Returns the distance of the specified point from the wire plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/PlaneGeo_8h_source.html#l00621">PlaneGeo.h:621</a></div></div>
<div class="ttc" id="namespacelib_1_1dedx_html_a62b15446ae03a5857d5e03fa30b03fd4"><div class="ttname"><a href="../../d3/d5d/namespacelib_1_1dedx.html#a62b15446ae03a5857d5e03fa30b03fd4">lib.dedx.A</a></div><div class="ttdeci">float A</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df9/dedx_8py_source.html#l00137">dedx.py:137</a></div></div>
<div class="ttc" id="namespacegeo_html_a5a6f22c2aa9d0ccf6ca08bf2773a0541"><div class="ttname"><a href="../../d6/d23/namespacegeo.html#a5a6f22c2aa9d0ccf6ca08bf2773a0541">geo::Point_t</a></div><div class="ttdeci">ROOT::Math::PositionVector3D&lt; ROOT::Math::Cartesian3D&lt; double &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Point_t</div><div class="ttdoc">Type for representation of position in physical 3D space. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/geo__vectors_8h_source.html#l00184">geo_vectors.h:184</a></div></div>
<div class="ttc" id="classicarus_1_1details_1_1ROPandTPCsetBuildingAlg_html_afdf44f528d7f1cc52fcd7180b8ad4ded"><div class="ttname"><a href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#afdf44f528d7f1cc52fcd7180b8ad4ded">icarus::details::ROPandTPCsetBuildingAlg::checkNormalDirection</a></div><div class="ttdeci">void checkNormalDirection(std::vector&lt; PlaneColl_t &gt; const &amp;planes) const </div><div class="ttdoc">Throws an exception if planes do not share the same normal direction. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html#l00979">ROPandTPCsetBuildingAlg.cxx:979</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ae13462c16c597918cdb00b6e44505752"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/df3/structgeo_1_1GeometryData__t.html#a324475ddeafb25f18f29a99614d423ab">geo::GeometryData_t::CryostatList_t</a> const* icarus::details::ROPandTPCsetBuildingAlg::fCryostats = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00192">192</a> of file <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html">ROPandTPCsetBuildingAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="adb5dea099bd34c8945e3706b4d5f5d85"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string icarus::details::ROPandTPCsetBuildingAlg::fLogCategory = &quot;ROPandTPCsetBuildingAlg&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Category to write messages into. </p>

<p>Definition at line <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00187">187</a> of file <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html">ROPandTPCsetBuildingAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5367eb0cccf4465bb939522124baae84"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int icarus::details::ROPandTPCsetBuildingAlg::fMaxROPs = 0U</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Highest number of ROPs in any TPC set. </p>

<p>Definition at line <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00223">223</a> of file <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html">ROPandTPCsetBuildingAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0eff9de3f39f2bd5daae8759a7e926ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int icarus::details::ROPandTPCsetBuildingAlg::fMaxTPCsets = 0U</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Highest number of TPC sets in any cryostat. </p>

<p>Definition at line <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00220">220</a> of file <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html">ROPandTPCsetBuildingAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a57a5651f89314333021e4d49f0ce4d3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d5e/classgeo_1_1PlaneDataContainer.html">geo::PlaneDataContainer</a>&lt;<a class="el" href="../../dd/d41/structreadout_1_1ROPID.html">readout::ROPID</a>&gt; icarus::details::ROPandTPCsetBuildingAlg::fPlaneToROP</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output: the ROP each wire plane belongs to. </p>

<p>Definition at line <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00214">214</a> of file <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html">ROPandTPCsetBuildingAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="af793777fb1b8a7db0319c2f6675a446c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer</a>&lt;unsigned int&gt; icarus::details::ROPandTPCsetBuildingAlg::fROPcount</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output: number of readout planes in each TPC set. </p>

<p>Definition at line <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00205">205</a> of file <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html">ROPandTPCsetBuildingAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a64e97fba86abd7640db4ff45568bae4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/ded/classreadout_1_1ROPDataContainer.html">readout::ROPDataContainer</a>&lt;<a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ab630f4ab5fe058d9893a1f2ea9b991a0">PlaneColl_t</a>&gt; icarus::details::ROPandTPCsetBuildingAlg::fROPplanes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output: planes in each of the readout plane. </p>

<p>Definition at line <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00208">208</a> of file <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html">ROPandTPCsetBuildingAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a503d3b2942985e4c0d0d35d37c5983e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;unsigned int&gt; icarus::details::ROPandTPCsetBuildingAlg::fTPCsetCount</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output: number of TPC sets in each cryostat. </p>

<p>Definition at line <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00199">199</a> of file <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html">ROPandTPCsetBuildingAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa19474eb61b1ffeaeaa2c469607f4784"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/dc1/classreadout_1_1TPCsetDataContainer.html">readout::TPCsetDataContainer</a>&lt;<a class="el" href="../../d2/d1f/classicarus_1_1details_1_1ROPandTPCsetBuildingAlg.html#ae8a4b77016cf7f43c2c05e93a861dc35">TPCColl_t</a>&gt; icarus::details::ROPandTPCsetBuildingAlg::fTPCsetTPCs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output: TPC's in each TPC set. </p>

<p>Definition at line <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00202">202</a> of file <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html">ROPandTPCsetBuildingAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0fd015e5bed3ec14988508ba903c26db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d46/classgeo_1_1TPCDataContainer.html">geo::TPCDataContainer</a>&lt;<a class="el" href="../../d5/d8f/structreadout_1_1TPCsetID.html">readout::TPCsetID</a>&gt; icarus::details::ROPandTPCsetBuildingAlg::fTPCtoTPCset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output: the TPC set each TPC belongs to. </p>

<p>Definition at line <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html#l00211">211</a> of file <a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html">ROPandTPCsetBuildingAlg.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../db/dd5/ROPandTPCsetBuildingAlg_8h_source.html">ROPandTPCsetBuildingAlg.h</a></li>
<li><a class="el" href="../../dd/d13/ROPandTPCsetBuildingAlg_8cxx_source.html">ROPandTPCsetBuildingAlg.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
