<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>cluster::ClusterParamsAlg Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../de/d1b/namespacecluster.html">cluster</a></li><li class="navelem"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html">ClusterParamsAlg</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d8/dec/classcluster_1_1ClusterParamsAlg-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cluster::ClusterParamsAlg Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4f299073f437330e75f95fa57b42aa89"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4f299073f437330e75f95fa57b42aa89">ClusterParamsAlg</a> ()</td></tr>
<tr class="separator:a4f299073f437330e75f95fa57b42aa89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affd545d5116ddaf8a032eb110439ad57"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#affd545d5116ddaf8a032eb110439ad57">ClusterParamsAlg</a> (const std::vector&lt; <a class="el" href="../../d4/d8a/classutil_1_1PxHit.html">util::PxHit</a> &gt; &amp;)</td></tr>
<tr class="separator:affd545d5116ddaf8a032eb110439ad57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0b16a7d34f4ef36bed9734d5afc252c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af0b16a7d34f4ef36bed9734d5afc252c">Initialize</a> ()</td></tr>
<tr class="separator:af0b16a7d34f4ef36bed9734d5afc252c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e4e2e44f265b95b6f194aeb2ca21b3f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a1e4e2e44f265b95b6f194aeb2ca21b3f">SetMinNHits</a> (size_t nhit)</td></tr>
<tr class="separator:a1e4e2e44f265b95b6f194aeb2ca21b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eef06c32287bac7f338e22605f788c9"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a1eef06c32287bac7f338e22605f788c9">MinNHits</a> () const </td></tr>
<tr class="separator:a1eef06c32287bac7f338e22605f788c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab93ace25b16b0449077873c47ec0ef54"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab93ace25b16b0449077873c47ec0ef54">SetHits</a> (const std::vector&lt; <a class="el" href="../../d4/d8a/classutil_1_1PxHit.html">util::PxHit</a> &gt; &amp;)</td></tr>
<tr class="separator:ab93ace25b16b0449077873c47ec0ef54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff8bf851d53b75c1d8109d139b3b2b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0ff8bf851d53b75c1d8109d139b3b2b1">SetRefineDirectionQMin</a> (double qmin)</td></tr>
<tr class="separator:a0ff8bf851d53b75c1d8109d139b3b2b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa5921ca33500a1349d3f030d86d1797"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aaa5921ca33500a1349d3f030d86d1797">SetVerbose</a> (bool yes=<a class="el" href="../../de/d36/crtt0matchingalg__sbnd_8fcl.html#af8bc618309fb2d0f55f7f5ae0760b466">true</a>)</td></tr>
<tr class="separator:aaa5921ca33500a1349d3f030d86d1797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9770f13d418915d859a1969c6346f743"><td class="memTemplParams" colspan="2">template&lt;typename Stream &gt; </td></tr>
<tr class="memitem:a9770f13d418915d859a1969c6346f743"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a9770f13d418915d859a1969c6346f743">TimeReport</a> (<a class="el" href="../../d0/d8f/runFilesFromSAM_8sh.html#a9cafae22b6225844ee0cdf5ea57176ff">Stream</a> &amp;<a class="el" href="../../dc/d57/reprocess__sbnd__intime_8fcl.html#aa14b50fd3b15b1d9c29df385e184795c">stream</a>) const </td></tr>
<tr class="separator:a9770f13d418915d859a1969c6346f743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0a271fbbfec5fef707edb2e8a2a1c54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad0a271fbbfec5fef707edb2e8a2a1c54">GetFANNVector</a> (std::vector&lt; float &gt; &amp;data)</td></tr>
<tr class="separator:ad0a271fbbfec5fef707edb2e8a2a1c54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af41d34478f491100f466c70aa8fd7142"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af41d34478f491100f466c70aa8fd7142">PrintFANNVector</a> ()</td></tr>
<tr class="separator:af41d34478f491100f466c70aa8fd7142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa81bf8703c6676082e636b6fcd42500e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa81bf8703c6676082e636b6fcd42500e">FillParams</a> (<a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;gser, bool override_DoGetAverages=false, bool override_DoGetRoughAxis=false, bool override_DoGetProfileInfo=false, bool override_DoRefineStartPointsAndDirection=false, bool override_DoGetFinalSlope=false, bool override_DoTrackShowerSep=false, bool override_DoEndCharge=false)</td></tr>
<tr class="separator:aa81bf8703c6676082e636b6fcd42500e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdc309fcdc60ff755e7fcf7afec81050"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d2/d0e/classcluster_1_1cluster__params.html">cluster_params</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdc309fcdc60ff755e7fcf7afec81050">GetParams</a> () const </td></tr>
<tr class="separator:afdc309fcdc60ff755e7fcf7afec81050"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f5eb20ad826775167bfa107e251eb92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a3f5eb20ad826775167bfa107e251eb92">GetAverages</a> (bool override=false)</td></tr>
<tr class="separator:a3f5eb20ad826775167bfa107e251eb92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38fae65231a0e8b930cde5adfef15f09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a38fae65231a0e8b930cde5adfef15f09">GetRoughAxis</a> (bool override=false)</td></tr>
<tr class="separator:a38fae65231a0e8b930cde5adfef15f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af382f3ab279409a068ff3f36c2cc0833"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af382f3ab279409a068ff3f36c2cc0833">GetProfileInfo</a> (<a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;gser, bool override=false)</td></tr>
<tr class="separator:af382f3ab279409a068ff3f36c2cc0833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af95deec45ca513b48bf5da9387bb114d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af95deec45ca513b48bf5da9387bb114d">RefineStartPoints</a> (<a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;gser)</td></tr>
<tr class="separator:af95deec45ca513b48bf5da9387bb114d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4562df6f289483dbef7348062165ed63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4562df6f289483dbef7348062165ed63">GetFinalSlope</a> (<a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;gser, bool override=false)</td></tr>
<tr class="separator:a4562df6f289483dbef7348062165ed63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b0aaad7d5964b0a2f72f950f3c0566c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a8b0aaad7d5964b0a2f72f950f3c0566c">GetEndCharges</a> (<a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;gser, bool override_=false)</td></tr>
<tr class="separator:a8b0aaad7d5964b0a2f72f950f3c0566c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b6d91c9ed60c61ea13487a94505c7b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a5b6d91c9ed60c61ea13487a94505c7b3">RefineDirection</a> (bool override=false)</td></tr>
<tr class="separator:a5b6d91c9ed60c61ea13487a94505c7b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab883b42c25f4125fb162039b3358d10b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab883b42c25f4125fb162039b3358d10b">RefineStartPointAndDirection</a> (<a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;gser, bool override=false)</td></tr>
<tr class="separator:ab883b42c25f4125fb162039b3358d10b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f01ed99f118bfb51dc4a3eab97353d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4f01ed99f118bfb51dc4a3eab97353d3">TrackShowerSeparation</a> (bool override=false)</td></tr>
<tr class="separator:a4f01ed99f118bfb51dc4a3eab97353d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6beaa1ceca1e2db11f521b1849f1894d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a6beaa1ceca1e2db11f521b1849f1894d">setNeuralNetPath</a> (std::string <a class="el" href="../../dd/dea/fix__cmake__genie3_8pl.html#a3691308f2a4c2f6983f2880d32e29c84">s</a>)</td></tr>
<tr class="separator:a6beaa1ceca1e2db11f521b1849f1894d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdaea214741a8b831858b2cbbce7cbd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdaea214741a8b831858b2cbbce7cbd8">FillPolygon</a> (<a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;gser)</td></tr>
<tr class="separator:afdaea214741a8b831858b2cbbce7cbd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa95a8a5bef97079595be687df61596f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa95a8a5bef97079595be687df61596f9">GetOpeningAngle</a> ()</td></tr>
<tr class="separator:aa95a8a5bef97079595be687df61596f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc4e6f316740ce8bf71a42726cf34c5d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acc4e6f316740ce8bf71a42726cf34c5d">RoughStartPoint</a> ()</td></tr>
<tr class="separator:acc4e6f316740ce8bf71a42726cf34c5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca04bc25c7eff2d2f083c5249148d48d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aca04bc25c7eff2d2f083c5249148d48d">RoughEndPoint</a> ()</td></tr>
<tr class="separator:aca04bc25c7eff2d2f083c5249148d48d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9bf1646631a9c9d78275302197b904f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa9bf1646631a9c9d78275302197b904f">RoughSlope</a> ()</td></tr>
<tr class="separator:aa9bf1646631a9c9d78275302197b904f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a394a9755e12d3e2736248591502ab2a5"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a394a9755e12d3e2736248591502ab2a5">RoughIntercept</a> ()</td></tr>
<tr class="separator:a394a9755e12d3e2736248591502ab2a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a277f8ef9c4d94f5b4a829384434dd0ca"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a277f8ef9c4d94f5b4a829384434dd0ca">StartCharge</a> (<a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;gser, float length=1., unsigned int nbins=10)</td></tr>
<tr class="memdesc:a277f8ef9c4d94f5b4a829384434dd0ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the expected charge at the beginning of the cluster.  <a href="#a277f8ef9c4d94f5b4a829384434dd0ca">More...</a><br/></td></tr>
<tr class="separator:a277f8ef9c4d94f5b4a829384434dd0ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac5960c5625e536685e450184f35f8f3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aac5960c5625e536685e450184f35f8f3">EndCharge</a> (<a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;gser, float length=1., unsigned int nbins=10)</td></tr>
<tr class="memdesc:aac5960c5625e536685e450184f35f8f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the expected charge at the end of the cluster.  <a href="#aac5960c5625e536685e450184f35f8f3">More...</a><br/></td></tr>
<tr class="separator:aac5960c5625e536685e450184f35f8f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c3a2289c83b26028743de1802823449"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a8c3a2289c83b26028743de1802823449">MultipleHitWires</a> ()</td></tr>
<tr class="memdesc:a8c3a2289c83b26028743de1802823449"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of multiple hits per wire.  <a href="#a8c3a2289c83b26028743de1802823449">More...</a><br/></td></tr>
<tr class="separator:a8c3a2289c83b26028743de1802823449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6510aa6396067ced803572c67a1722be"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a6510aa6396067ced803572c67a1722be">MultipleHitDensity</a> (<a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;gser)</td></tr>
<tr class="memdesc:a6510aa6396067ced803572c67a1722be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of multiple hits per wire.  <a href="#a6510aa6396067ced803572c67a1722be">More...</a><br/></td></tr>
<tr class="separator:a6510aa6396067ced803572c67a1722be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4a7466594691df2a7322f5c95ec2339"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa4a7466594691df2a7322f5c95ec2339">EnableFANN</a> ()</td></tr>
<tr class="separator:aa4a7466594691df2a7322f5c95ec2339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7d5bdc5cdb55dadafbec12028073865"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac7d5bdc5cdb55dadafbec12028073865">DisableFANN</a> ()</td></tr>
<tr class="separator:ac7d5bdc5cdb55dadafbec12028073865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af005ee2987843c53a8164b5582a1984f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af005ee2987843c53a8164b5582a1984f">GetNHits</a> () const </td></tr>
<tr class="separator:af005ee2987843c53a8164b5582a1984f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6312be00bad9410f973bb5748208cd78"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="../../d4/d8a/classutil_1_1PxHit.html">util::PxHit</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a6312be00bad9410f973bb5748208cd78">GetHitVector</a> () const </td></tr>
<tr class="separator:a6312be00bad9410f973bb5748208cd78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8024dcadd8b11703083c598b48d25e87"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a8024dcadd8b11703083c598b48d25e87">Plane</a> () const </td></tr>
<tr class="separator:a8024dcadd8b11703083c598b48d25e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24b2905eab00be334c37db213fd4801b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a24b2905eab00be334c37db213fd4801b">SetPlane</a> (int <a class="el" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>)</td></tr>
<tr class="separator:a24b2905eab00be334c37db213fd4801b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ae048785b39f20c708426303fc5dbe197"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d0e/classcluster_1_1cluster__params.html">cluster::cluster_params</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a></td></tr>
<tr class="separator:ae048785b39f20c708426303fc5dbe197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0acd916298034efee1f97742a0fe46df"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0acd916298034efee1f97742a0fe46df">fNeuralNetPath</a></td></tr>
<tr class="separator:a0acd916298034efee1f97742a0fe46df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8c1852c676d659d1204712e91be10a0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a></td></tr>
<tr class="separator:ad8c1852c676d659d1204712e91be10a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6e8a917560abcf71a5079c7a172fa7f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">fTimeRecord_ProcTime</a></td></tr>
<tr class="separator:ab6e8a917560abcf71a5079c7a172fa7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ac3bfe96157bea5ad046a844f51e9b6a2"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3bfe96157bea5ad046a844f51e9b6a2">IntegrateFitCharge</a> (<a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;gser, double from_length, double to_length, unsigned int fit_first_bin, unsigned int fit_end_bin)</td></tr>
<tr class="memdesc:ac3bfe96157bea5ad046a844f51e9b6a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Integrates the charge between two positions in the cluster axis.  <a href="#ac3bfe96157bea5ad046a844f51e9b6a2">More...</a><br/></td></tr>
<tr class="separator:ac3bfe96157bea5ad046a844f51e9b6a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:abdc2bdd25b37ba5274f87d42bb27f3ef"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abdc2bdd25b37ba5274f87d42bb27f3ef">LinearIntegral</a> (double m, double q, double x1, double x2)</td></tr>
<tr class="memdesc:abdc2bdd25b37ba5274f87d42bb27f3ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the integral of f(x) = mx + q defined in [x1, x2].  <a href="#abdc2bdd25b37ba5274f87d42bb27f3ef">More...</a><br/></td></tr>
<tr class="separator:abdc2bdd25b37ba5274f87d42bb27f3ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a7c282e19537198d9ef82f0b643d677de"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a7c282e19537198d9ef82f0b643d677de">fMinNHits</a></td></tr>
<tr class="memdesc:a7c282e19537198d9ef82f0b643d677de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cut value for # hits: below this value clusters are not evaluated.  <a href="#a7c282e19537198d9ef82f0b643d677de">More...</a><br/></td></tr>
<tr class="separator:a7c282e19537198d9ef82f0b643d677de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb9af9abb6078d131e338e85f49aebb4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d4/d8a/classutil_1_1PxHit.html">util::PxHit</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a></td></tr>
<tr class="separator:adb9af9abb6078d131e338e85f49aebb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa562a0d352b8dc45dc0b90d034f6feaf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a></td></tr>
<tr class="separator:aa562a0d352b8dc45dc0b90d034f6feaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a330a3428d9fd443210389039d6ad10f5"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a330a3428d9fd443210389039d6ad10f5">fChargeCutoffThreshold</a></td></tr>
<tr class="separator:a330a3428d9fd443210389039d6ad10f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a173f5ebacd7449c535fafc4f70fe409c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a></td></tr>
<tr class="separator:a173f5ebacd7449c535fafc4f70fe409c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73cb1fb8d1dd66beceedf2bef6283ae8"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a73cb1fb8d1dd66beceedf2bef6283ae8">fQMinRefDir</a></td></tr>
<tr class="separator:a73cb1fb8d1dd66beceedf2bef6283ae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa06e4f84c550ccce228d135b7bfbd6ac"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a></td></tr>
<tr class="separator:aa06e4f84c550ccce228d135b7bfbd6ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73eaded4573b1f056181f673b5ad2b85"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a73eaded4573b1f056181f673b5ad2b85">fCoarseChargeProfile</a></td></tr>
<tr class="separator:a73eaded4573b1f056181f673b5ad2b85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad363a6f8398cc1125773c69b52b261c7"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad363a6f8398cc1125773c69b52b261c7">fChargeProfileNew</a></td></tr>
<tr class="separator:ad363a6f8398cc1125773c69b52b261c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43eaa08014e1a0c213a2ed432dfdd72b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a43eaa08014e1a0c213a2ed432dfdd72b">fCoarseNbins</a></td></tr>
<tr class="separator:a43eaa08014e1a0c213a2ed432dfdd72b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdf7948afa880726dd4683e51ce90fba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a></td></tr>
<tr class="separator:afdf7948afa880726dd4683e51ce90fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a414196d21654aeb29c2e9b5c2c13917b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a414196d21654aeb29c2e9b5c2c13917b">fProfileMaximumBin</a></td></tr>
<tr class="separator:a414196d21654aeb29c2e9b5c2c13917b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23b4d2100d221a5fcc5ed1c69c5e706d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a23b4d2100d221a5fcc5ed1c69c5e706d">fProfileIntegralForward</a></td></tr>
<tr class="separator:a23b4d2100d221a5fcc5ed1c69c5e706d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6632fc6e57a83fdceed6e0324206c6bc"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a6632fc6e57a83fdceed6e0324206c6bc">fProfileIntegralBackward</a></td></tr>
<tr class="separator:a6632fc6e57a83fdceed6e0324206c6bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe0316531aeec61519f82e429c4b8b2d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abe0316531aeec61519f82e429c4b8b2d">fProjectedLength</a></td></tr>
<tr class="separator:abe0316531aeec61519f82e429c4b8b2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a702151257eff2af1499e7b657f55403b"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a702151257eff2af1499e7b657f55403b">fBeginIntercept</a></td></tr>
<tr class="separator:a702151257eff2af1499e7b657f55403b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a8bc02edea927fa87d8957354a678c0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a5a8bc02edea927fa87d8957354a678c0">fEndIntercept</a></td></tr>
<tr class="separator:a5a8bc02edea927fa87d8957354a678c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d7c4145cff439c0d23d6b5a003cd66b"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a9d7c4145cff439c0d23d6b5a003cd66b">fInterHigh_side</a></td></tr>
<tr class="separator:a9d7c4145cff439c0d23d6b5a003cd66b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96a72f528edb966984b99ed90f4c105c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a96a72f528edb966984b99ed90f4c105c">fInterLow_side</a></td></tr>
<tr class="separator:a96a72f528edb966984b99ed90f4c105c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5023da2abe72f09a46cc3b0c4bf2ff4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af5023da2abe72f09a46cc3b0c4bf2ff4">fFinishedGetAverages</a></td></tr>
<tr class="separator:af5023da2abe72f09a46cc3b0c4bf2ff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48f0337eb89c4856d24ed014f48f1fb1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a48f0337eb89c4856d24ed014f48f1fb1">fFinishedGetRoughAxis</a></td></tr>
<tr class="separator:a48f0337eb89c4856d24ed014f48f1fb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc350cec04111ec313ae33521d22d10c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acc350cec04111ec313ae33521d22d10c">fFinishedGetProfileInfo</a></td></tr>
<tr class="separator:acc350cec04111ec313ae33521d22d10c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb4dccf8a4331f45a6601ee53bf290fb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb4dccf8a4331f45a6601ee53bf290fb">fFinishedRefineStartPoints</a></td></tr>
<tr class="separator:adb4dccf8a4331f45a6601ee53bf290fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a164f3d982dc140811b3ef995bafeff6d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a164f3d982dc140811b3ef995bafeff6d">fFinishedRefineDirection</a></td></tr>
<tr class="separator:a164f3d982dc140811b3ef995bafeff6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f82fbc519ea7024b1dd15829dda19b6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a8f82fbc519ea7024b1dd15829dda19b6">fFinishedGetFinalSlope</a></td></tr>
<tr class="separator:a8f82fbc519ea7024b1dd15829dda19b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa17a0963baf5e18c795a9662e85abdb6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa17a0963baf5e18c795a9662e85abdb6">fFinishedRefineStartPointAndDirection</a></td></tr>
<tr class="separator:aa17a0963baf5e18c795a9662e85abdb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3ba0e35ecbbdde118ca1a6b3ef6afe7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af3ba0e35ecbbdde118ca1a6b3ef6afe7">fFinishedTrackShowerSep</a></td></tr>
<tr class="separator:af3ba0e35ecbbdde118ca1a6b3ef6afe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91ba354744efb9666342c286f01d1228"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a91ba354744efb9666342c286f01d1228">fFinishedGetEndCharges</a></td></tr>
<tr class="separator:a91ba354744efb9666342c286f01d1228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f44780404f5242c805b2b989eb3998b"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a></td></tr>
<tr class="separator:a0f44780404f5242c805b2b989eb3998b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae203cdb5ed5dab4c10336fefc57c3a4f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">fRough2DIntercept</a></td></tr>
<tr class="separator:ae203cdb5ed5dab4c10336fefc57c3a4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acebf44d6575c557990437f02608b0c6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a></td></tr>
<tr class="separator:acebf44d6575c557990437f02608b0c6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3e5b414c555a9c129c1e9947595c7da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a></td></tr>
<tr class="separator:ac3e5b414c555a9c129c1e9947595c7da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b2ff97d9bd96c11822fcb686006ef4a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4b2ff97d9bd96c11822fcb686006ef4a">enableFANN</a></td></tr>
<tr class="separator:a4b2ff97d9bd96c11822fcb686006ef4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00024">24</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4f299073f437330e75f95fa57b42aa89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cluster::ClusterParamsAlg::ClusterParamsAlg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00032">32</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a7c282e19537198d9ef82f0b643d677de">fMinNHits</a> = 10;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4b2ff97d9bd96c11822fcb686006ef4a">enableFANN</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af0b16a7d34f4ef36bed9734d5afc252c">Initialize</a>();</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a4b2ff97d9bd96c11822fcb686006ef4a"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4b2ff97d9bd96c11822fcb686006ef4a">cluster::ClusterParamsAlg::enableFANN</a></div><div class="ttdeci">bool enableFANN</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00343">ClusterParamsAlg.h:343</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aa562a0d352b8dc45dc0b90d034f6feaf"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">cluster::ClusterParamsAlg::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00301">ClusterParamsAlg.h:301</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a7c282e19537198d9ef82f0b643d677de"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a7c282e19537198d9ef82f0b643d677de">cluster::ClusterParamsAlg::fMinNHits</a></div><div class="ttdeci">size_t fMinNHits</div><div class="ttdoc">Cut value for # hits: below this value clusters are not evaluated. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00292">ClusterParamsAlg.h:292</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_af0b16a7d34f4ef36bed9734d5afc252c"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af0b16a7d34f4ef36bed9734d5afc252c">cluster::ClusterParamsAlg::Initialize</a></div><div class="ttdeci">void Initialize()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00131">ClusterParamsAlg.cxx:131</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="affd545d5116ddaf8a032eb110439ad57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cluster::ClusterParamsAlg::ClusterParamsAlg </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../d4/d8a/classutil_1_1PxHit.html">util::PxHit</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>inhitlist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00040">40</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a7c282e19537198d9ef82f0b643d677de">fMinNHits</a> = 10;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4b2ff97d9bd96c11822fcb686006ef4a">enableFANN</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab93ace25b16b0449077873c47ec0ef54">SetHits</a>(inhitlist);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a4b2ff97d9bd96c11822fcb686006ef4a"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4b2ff97d9bd96c11822fcb686006ef4a">cluster::ClusterParamsAlg::enableFANN</a></div><div class="ttdeci">bool enableFANN</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00343">ClusterParamsAlg.h:343</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aa562a0d352b8dc45dc0b90d034f6feaf"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">cluster::ClusterParamsAlg::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00301">ClusterParamsAlg.h:301</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a7c282e19537198d9ef82f0b643d677de"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a7c282e19537198d9ef82f0b643d677de">cluster::ClusterParamsAlg::fMinNHits</a></div><div class="ttdeci">size_t fMinNHits</div><div class="ttdoc">Cut value for # hits: below this value clusters are not evaluated. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00292">ClusterParamsAlg.h:292</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ab93ace25b16b0449077873c47ec0ef54"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab93ace25b16b0449077873c47ec0ef54">cluster::ClusterParamsAlg::SetHits</a></div><div class="ttdeci">int SetHits(const std::vector&lt; util::PxHit &gt; &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00049">ClusterParamsAlg.cxx:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac7d5bdc5cdb55dadafbec12028073865"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::DisableFANN </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00268">268</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4b2ff97d9bd96c11822fcb686006ef4a">enableFANN</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a4b2ff97d9bd96c11822fcb686006ef4a"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4b2ff97d9bd96c11822fcb686006ef4a">cluster::ClusterParamsAlg::enableFANN</a></div><div class="ttdeci">bool enableFANN</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00343">ClusterParamsAlg.h:343</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa4a7466594691df2a7322f5c95ec2339"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::EnableFANN </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00178">178</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4b2ff97d9bd96c11822fcb686006ef4a">enableFANN</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a4b2ff97d9bd96c11822fcb686006ef4a"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4b2ff97d9bd96c11822fcb686006ef4a">cluster::ClusterParamsAlg::enableFANN</a></div><div class="ttdeci">bool enableFANN</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00343">ClusterParamsAlg.h:343</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aac5960c5625e536685e450184f35f8f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double cluster::ClusterParamsAlg::EndCharge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;&#160;</td>
          <td class="paramname"><em>gser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>length</em> = <code>1.</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nbins</em> = <code>10</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the expected charge at the end of the cluster. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nbins</td><td>use at least this number of charge bins from charge profile </td></tr>
    <tr><td class="paramname">length</td><td>space before the end of cluster where to collect charge, in cm the expected charge at the end of the cluster </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a277f8ef9c4d94f5b4a829384434dd0ca" title="Returns the expected charge at the beginning of the cluster. ">StartCharge()</a>, <a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3bfe96157bea5ad046a844f51e9b6a2" title="Integrates the charge between two positions in the cluster axis. ">IntegrateFitCharge()</a></dd></dl>
<p>This method returns the charge under the last length cm of the cluster. See <a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a277f8ef9c4d94f5b4a829384434dd0ca" title="Returns the expected charge at the beginning of the cluster. ">StartCharge()</a> for a detailed explanation. For even more details, see <a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3bfe96157bea5ad046a844f51e9b6a2" title="Integrates the charge between two positions in the cluster axis. ">IntegrateFitCharge()</a>. </p>

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01486">1486</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  {</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>.size()) {</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <span class="keywordflow">case</span> 0: <span class="keywordflow">return</span> 0.;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>.back().charge;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;      <span class="comment">// the &quot;default&quot; is the rest of the function</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    } <span class="comment">// switch</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <span class="comment">// need the available number of bins and the axis length</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af382f3ab279409a068ff3f36c2cc0833">GetProfileInfo</a>(gser);</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> MaxBins = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.size();</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="comment">// this is the range of the fit:</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fit_first_bin = MaxBins &gt; nbins ? MaxBins - nbins : 0,</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;                       fit_last_bin = MaxBins;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="comment">// now determine the integration range, in bin units;</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="comment">// get to the end, and go length backward;</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="comment">// note that length can be pathologic (0, negative...); not our problem!</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="../../d4/d8f/icaruscode_2test_2fcl_2testFHiCLfiles_8sh.html#a6401d1c0a168bb3757821ca209161fe2">from</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abe0316531aeec61519f82e429c4b8b2d">fProjectedLength</a> - length, to = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abe0316531aeec61519f82e429c4b8b2d">fProjectedLength</a>;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3bfe96157bea5ad046a844f51e9b6a2">IntegrateFitCharge</a>(gser, from, to, fit_first_bin, fit_last_bin);</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  } <span class="comment">// ClusterParamsAlg::EndCharge()</span></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ac3bfe96157bea5ad046a844f51e9b6a2"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3bfe96157bea5ad046a844f51e9b6a2">cluster::ClusterParamsAlg::IntegrateFitCharge</a></div><div class="ttdeci">double IntegrateFitCharge(util::GeometryUtilities const &amp;gser, double from_length, double to_length, unsigned int fit_first_bin, unsigned int fit_end_bin)</div><div class="ttdoc">Integrates the charge between two positions in the cluster axis. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01407">ClusterParamsAlg.cxx:1407</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_af382f3ab279409a068ff3f36c2cc0833"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af382f3ab279409a068ff3f36c2cc0833">cluster::ClusterParamsAlg::GetProfileInfo</a></div><div class="ttdeci">void GetProfileInfo(util::GeometryUtilities const &amp;gser, bool override=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00347">ClusterParamsAlg.cxx:347</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb9af9abb6078d131e338e85f49aebb4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">cluster::ClusterParamsAlg::fHitVector</a></div><div class="ttdeci">std::vector&lt; util::PxHit &gt; fHitVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00298">ClusterParamsAlg.h:298</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_abe0316531aeec61519f82e429c4b8b2d"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abe0316531aeec61519f82e429c4b8b2d">cluster::ClusterParamsAlg::fProjectedLength</a></div><div class="ttdeci">double fProjectedLength</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00320">ClusterParamsAlg.h:320</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aa06e4f84c550ccce228d135b7bfbd6ac"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">cluster::ClusterParamsAlg::fChargeProfile</a></div><div class="ttdeci">std::vector&lt; double &gt; fChargeProfile</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00310">ClusterParamsAlg.h:310</a></div></div>
<div class="ttc" id="icaruscode_2test_2fcl_2testFHiCLfiles_8sh_html_a6401d1c0a168bb3757821ca209161fe2"><div class="ttname"><a href="../../d4/d8f/icaruscode_2test_2fcl_2testFHiCLfiles_8sh.html#a6401d1c0a168bb3757821ca209161fe2">from</a></div><div class="ttdeci">exclude from</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d8f/icaruscode_2test_2fcl_2testFHiCLfiles_8sh_source.html#l00347">icaruscode/test/fcl/testFHiCLfiles.sh:347</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa81bf8703c6676082e636b6fcd42500e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::FillParams </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;&#160;</td>
          <td class="paramname"><em>gser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>override_DoGetAverages</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>override_DoGetRoughAxis</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>override_DoGetProfileInfo</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>override_DoRefineStartPointsAndDirection</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>override_DoGetFinalSlope</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>override_DoTrackShowerSep</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>override_DoEndCharge</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Runs all the functions which calculate cluster params and stashes the results in the private ClusterParams struct.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">override_DoGetAverages</td><td>force re-execution of <a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a3f5eb20ad826775167bfa107e251eb92">GetAverages()</a> </td></tr>
    <tr><td class="paramname">override_DoGetRoughAxis</td><td>force re-execution of <a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a38fae65231a0e8b930cde5adfef15f09">GetRoughAxis()</a> </td></tr>
    <tr><td class="paramname">override_DoGetProfileInfo</td><td>force re-execution of <a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af382f3ab279409a068ff3f36c2cc0833">GetProfileInfo()</a> </td></tr>
    <tr><td class="paramname">override_DoRefineStartPoints</td><td>force re-execution of <a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af95deec45ca513b48bf5da9387bb114d">RefineStartPoints()</a> </td></tr>
    <tr><td class="paramname">override_DoGetFinalSlope</td><td>force re-execution of <a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4562df6f289483dbef7348062165ed63">GetFinalSlope()</a> </td></tr>
    <tr><td class="paramname">override_DoEndCharge</td><td>force re-execution of <a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a8b0aaad7d5964b0a2f72f950f3c0566c">GetEndCharges()</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00184">184</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a3f5eb20ad826775167bfa107e251eb92">GetAverages</a>(override_DoGetAverages);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a38fae65231a0e8b930cde5adfef15f09">GetRoughAxis</a>(override_DoGetRoughAxis);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af382f3ab279409a068ff3f36c2cc0833">GetProfileInfo</a>(gser, override_DoGetProfileInfo);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab883b42c25f4125fb162039b3358d10b">RefineStartPointAndDirection</a>(gser, override_DoStartPointsAndDirection);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4562df6f289483dbef7348062165ed63">GetFinalSlope</a>(gser, override_DoGetFinalSlope);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a8b0aaad7d5964b0a2f72f950f3c0566c">GetEndCharges</a>(gser, override_DoEndCharge);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4f01ed99f118bfb51dc4a3eab97353d3">TrackShowerSeparation</a>(override_DoTrackShowerSep);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a38fae65231a0e8b930cde5adfef15f09"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a38fae65231a0e8b930cde5adfef15f09">cluster::ClusterParamsAlg::GetRoughAxis</a></div><div class="ttdeci">void GetRoughAxis(bool override=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00277">ClusterParamsAlg.cxx:277</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a4562df6f289483dbef7348062165ed63"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4562df6f289483dbef7348062165ed63">cluster::ClusterParamsAlg::GetFinalSlope</a></div><div class="ttdeci">void GetFinalSlope(util::GeometryUtilities const &amp;gser, bool override=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00892">ClusterParamsAlg.cxx:892</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_af382f3ab279409a068ff3f36c2cc0833"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af382f3ab279409a068ff3f36c2cc0833">cluster::ClusterParamsAlg::GetProfileInfo</a></div><div class="ttdeci">void GetProfileInfo(util::GeometryUtilities const &amp;gser, bool override=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00347">ClusterParamsAlg.cxx:347</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a8b0aaad7d5964b0a2f72f950f3c0566c"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a8b0aaad7d5964b0a2f72f950f3c0566c">cluster::ClusterParamsAlg::GetEndCharges</a></div><div class="ttdeci">void GetEndCharges(util::GeometryUtilities const &amp;gser, bool override_=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01379">ClusterParamsAlg.cxx:1379</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a4f01ed99f118bfb51dc4a3eab97353d3"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4f01ed99f118bfb51dc4a3eab97353d3">cluster::ClusterParamsAlg::TrackShowerSeparation</a></div><div class="ttdeci">void TrackShowerSeparation(bool override=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01363">ClusterParamsAlg.cxx:1363</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a3f5eb20ad826775167bfa107e251eb92"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a3f5eb20ad826775167bfa107e251eb92">cluster::ClusterParamsAlg::GetAverages</a></div><div class="ttdeci">void GetAverages(bool override=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00203">ClusterParamsAlg.cxx:203</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ab883b42c25f4125fb162039b3358d10b"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab883b42c25f4125fb162039b3358d10b">cluster::ClusterParamsAlg::RefineStartPointAndDirection</a></div><div class="ttdeci">void RefineStartPointAndDirection(util::GeometryUtilities const &amp;gser, bool override=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01295">ClusterParamsAlg.cxx:1295</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afdaea214741a8b831858b2cbbce7cbd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::FillPolygon </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;&#160;</td>
          <td class="paramname"><em>gser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01269">1269</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    TStopwatch localWatch;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    localWatch.Start();</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>.size()) {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      std::vector&lt;const util::PxHit*&gt; container_polygon;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      gser.SelectPolygonHitList(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>, container_polygon);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      <span class="comment">//now making Polygon Object</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      std::pair&lt;float, float&gt; tmpvertex;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      <span class="comment">//make Polygon Object as in mac/PolyOverlap.cc</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      std::vector&lt;std::pair&lt;float, float&gt;&gt; vertices;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; container_polygon.size(); i++) {</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        tmpvertex = std::make_pair(container_polygon.at(i)-&gt;w, container_polygon.at(i)-&gt;t);</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        vertices.push_back(tmpvertex);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      }</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a03e308ab86eae4f24092e91f385f58ac">PolyObject</a> = <a class="code" href="../../d5/d83/classPolygon2D.html">Polygon2D</a>(vertices);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    }</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a>.push_back(<span class="stringliteral">&quot;FillPolygon&quot;</span>);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">fTimeRecord_ProcTime</a>.push_back(localWatch.RealTime());</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ad8c1852c676d659d1204712e91be10a0"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">cluster::ClusterParamsAlg::fTimeRecord_ProcName</a></div><div class="ttdeci">std::vector&lt; std::string &gt; fTimeRecord_ProcName</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00387">ClusterParamsAlg.h:387</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a03e308ab86eae4f24092e91f385f58ac"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a03e308ab86eae4f24092e91f385f58ac">cluster::cluster_params::PolyObject</a></div><div class="ttdeci">Polygon2D PolyObject</div><div class="ttdoc">Polygon Object...see Polygon2D.hh. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00021">ClusterParams.h:21</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb9af9abb6078d131e338e85f49aebb4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">cluster::ClusterParamsAlg::fHitVector</a></div><div class="ttdeci">std::vector&lt; util::PxHit &gt; fHitVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00298">ClusterParamsAlg.h:298</a></div></div>
<div class="ttc" id="classPolygon2D_html"><div class="ttname"><a href="../../d5/d83/classPolygon2D.html">Polygon2D</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1d/Polygon2D_8h_source.html#l00032">Polygon2D.h:32</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae048785b39f20c708426303fc5dbe197"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">cluster::ClusterParamsAlg::fParams</a></div><div class="ttdeci">cluster::cluster_params fParams</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00383">ClusterParamsAlg.h:383</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ab6e8a917560abcf71a5079c7a172fa7f"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">cluster::ClusterParamsAlg::fTimeRecord_ProcTime</a></div><div class="ttdeci">std::vector&lt; double &gt; fTimeRecord_ProcTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00388">ClusterParamsAlg.h:388</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3f5eb20ad826775167bfa107e251eb92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::GetAverages </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>override</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the following variables: mean_charge mean_x mean_y charge_wgt_x charge_wgt_y eigenvalue_principal eigenvalue_secondary multi_hit_wires N_Wires </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">override</td><td>force recalculation of variables </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00203">203</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span> (!<span class="keyword">override</span>) { <span class="comment">//Override being set, we skip all this logic.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="comment">//OK, no override. Stop if we&#39;re already finshed.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af5023da2abe72f09a46cc3b0c4bf2ff4">fFinishedGetAverages</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    TStopwatch localWatch;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    localWatch.Start();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    TPrincipal fPrincipal(2, <span class="stringliteral">&quot;D&quot;</span>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a871dfc394113d9815565dc88a5af54c3">N_Hits</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>.size();</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    std::map&lt;double, int&gt; wireMap;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="../../d1/d98/classlar_1_1util_1_1StatCollector.html">lar::util::StatCollector&lt;double&gt;</a> charge, sumADC;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordtype">int</span> uniquewires = 0;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordtype">int</span> multi_hit_wires = 0;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a> : <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="keywordtype">double</span> data[2];</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      data[0] = <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.w;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      data[1] = <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.t;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      fPrincipal.AddRow(data);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a7572a3749336b2d0df0f9db4da4b8f6d">charge_wgt_x</a> += <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.w * <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.charge;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#acff78f7f053efdc79b9e8c825df884f5">charge_wgt_y</a> += <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.t * <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.charge;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      charge.<a class="code" href="../../d1/d98/classlar_1_1util_1_1StatCollector.html#a4fe421c1a38594b70fd506780d1697c0">add</a>(<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.charge);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      sumADC.<a class="code" href="../../d1/d98/classlar_1_1util_1_1StatCollector.html#a4fe421c1a38594b70fd506780d1697c0">add</a>(<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.sumADC);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keywordflow">if</span> (wireMap[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.w] == 0) { uniquewires++; }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="keywordflow">if</span> (wireMap[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.w] == 1) { multi_hit_wires++; }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      wireMap[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.w]++;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a280c4b87c00dcc43852c2a8eba8e3271">sum_charge</a> = charge.<a class="code" href="../../d1/d98/classlar_1_1util_1_1StatCollector.html#a38b33a815c96a05053d1f5b9c4d2d9d4">Sum</a>();</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a3ee2a4c65c93ef3a2c6c9a03506808d3">mean_charge</a> = charge.<a class="code" href="../../d1/d98/classlar_1_1util_1_1StatCollector.html#a799c5d81b7e11cc9fcc243ce1f5f625a">Average</a>();</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#ad0897e255ccbdeb5a81c78662f05ecfa">rms_charge</a> = charge.<a class="code" href="../../d1/d98/classlar_1_1util_1_1StatCollector.html#af8bd806087356e148d6be9f7ea9a7512">RMS</a>();</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a67b30831c0db42fa4cabb40bde02ab00">sum_ADC</a> = sumADC.<a class="code" href="../../d1/d98/classlar_1_1util_1_1StatCollector.html#a38b33a815c96a05053d1f5b9c4d2d9d4">Sum</a>();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a3ed238c13489267c81999d2cde0cb758">mean_ADC</a> = sumADC.<a class="code" href="../../d1/d98/classlar_1_1util_1_1StatCollector.html#a799c5d81b7e11cc9fcc243ce1f5f625a">Average</a>();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#ab33a4ca54da3d4689f380ac7cd1fcfe3">rms_ADC</a> = sumADC.<a class="code" href="../../d1/d98/classlar_1_1util_1_1StatCollector.html#af8bd806087356e148d6be9f7ea9a7512">RMS</a>();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#afe0f5028bed38591bce50567c6689d0f">N_Wires</a> = uniquewires;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a37a0eb16c129298148b9a2123e3c71c4">multi_hit_wires</a> = multi_hit_wires;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> (fPrincipal.GetMeanValues()-&gt;GetNrows() &lt; 2) { <span class="keywordflow">throw</span> <a class="code" href="../../d8/d0d/classcluster_1_1CRUException.html">cluster::CRUException</a>(); }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a2ed0196704487ed785700339cf450e16">mean_x</a> = (*fPrincipal.GetMeanValues())[0];</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#afdf972f6b2dcc10452f4c638da6fb8dd">mean_y</a> = (*fPrincipal.GetMeanValues())[1];</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a3ee2a4c65c93ef3a2c6c9a03506808d3">mean_charge</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a280c4b87c00dcc43852c2a8eba8e3271">sum_charge</a> / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a871dfc394113d9815565dc88a5af54c3">N_Hits</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a280c4b87c00dcc43852c2a8eba8e3271">sum_charge</a> != 0.) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a7572a3749336b2d0df0f9db4da4b8f6d">charge_wgt_x</a> /= <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a280c4b87c00dcc43852c2a8eba8e3271">sum_charge</a>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#acff78f7f053efdc79b9e8c825df884f5">charge_wgt_y</a> /= <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a280c4b87c00dcc43852c2a8eba8e3271">sum_charge</a>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">else</span> { <span class="comment">// &quot;SNAFU&quot;; use the mean</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a7572a3749336b2d0df0f9db4da4b8f6d">charge_wgt_x</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a2ed0196704487ed785700339cf450e16">mean_x</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#acff78f7f053efdc79b9e8c825df884f5">charge_wgt_y</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#afdf972f6b2dcc10452f4c638da6fb8dd">mean_y</a>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    fPrincipal.MakePrincipals();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#ab143ec2bdc3cdd41cfeab77f71d26185">eigenvalue_principal</a> = (*fPrincipal.GetEigenValues())[0];</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09fb7a96f590aacbd63e4f6c855bba01">eigenvalue_secondary</a> = (*fPrincipal.GetEigenValues())[1];</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af5023da2abe72f09a46cc3b0c4bf2ff4">fFinishedGetAverages</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a>.push_back(<span class="stringliteral">&quot;GetAverages&quot;</span>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">fTimeRecord_ProcTime</a>.push_back(localWatch.RealTime());</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  }</div>
<div class="ttc" id="classcluster_1_1cluster__params_html_ab33a4ca54da3d4689f380ac7cd1fcfe3"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#ab33a4ca54da3d4689f380ac7cd1fcfe3">cluster::cluster_params::rms_ADC</a></div><div class="ttdeci">double rms_ADC</div><div class="ttdoc">RMS (standard deviation of sample) of ADC counts of hits in ADC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00031">ClusterParams.h:31</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_afe0f5028bed38591bce50567c6689d0f"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#afe0f5028bed38591bce50567c6689d0f">cluster::cluster_params::N_Wires</a></div><div class="ttdeci">double N_Wires</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00056">ClusterParams.h:56</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ad8c1852c676d659d1204712e91be10a0"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">cluster::ClusterParamsAlg::fTimeRecord_ProcName</a></div><div class="ttdeci">std::vector&lt; std::string &gt; fTimeRecord_ProcName</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00387">ClusterParamsAlg.h:387</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_acff78f7f053efdc79b9e8c825df884f5"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#acff78f7f053efdc79b9e8c825df884f5">cluster::cluster_params::charge_wgt_y</a></div><div class="ttdeci">double charge_wgt_y</div><div class="ttdoc">Mean of hits along y, charge weighted. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00037">ClusterParams.h:37</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a37a0eb16c129298148b9a2123e3c71c4"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a37a0eb16c129298148b9a2123e3c71c4">cluster::cluster_params::multi_hit_wires</a></div><div class="ttdeci">double multi_hit_wires</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00055">ClusterParams.h:55</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a2ed0196704487ed785700339cf450e16"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a2ed0196704487ed785700339cf450e16">cluster::cluster_params::mean_x</a></div><div class="ttdeci">double mean_x</div><div class="ttdoc">Mean of hits along x, peaks only. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00032">ClusterParams.h:32</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_ad0897e255ccbdeb5a81c78662f05ecfa"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#ad0897e255ccbdeb5a81c78662f05ecfa">cluster::cluster_params::rms_charge</a></div><div class="ttdeci">double rms_charge</div><div class="ttdoc">RMS (standard deviation of sample) of charge of hits in ADC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00028">ClusterParams.h:28</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb9af9abb6078d131e338e85f49aebb4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">cluster::ClusterParamsAlg::fHitVector</a></div><div class="ttdeci">std::vector&lt; util::PxHit &gt; fHitVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00298">ClusterParamsAlg.h:298</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_ab143ec2bdc3cdd41cfeab77f71d26185"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#ab143ec2bdc3cdd41cfeab77f71d26185">cluster::cluster_params::eigenvalue_principal</a></div><div class="ttdeci">double eigenvalue_principal</div><div class="ttdoc">the principal eigenvalue from PCA </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00046">ClusterParams.h:46</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a3ed238c13489267c81999d2cde0cb758"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a3ed238c13489267c81999d2cde0cb758">cluster::cluster_params::mean_ADC</a></div><div class="ttdeci">double mean_ADC</div><div class="ttdoc">Mean (average) of ADC counts of hits, in ADC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00030">ClusterParams.h:30</a></div></div>
<div class="ttc" id="cheaterreco_8fcl_html_abf2e819dbf4c327e098bebd4b2dc0597"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a></div><div class="ttdeci">process_name hit</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_afdf972f6b2dcc10452f4c638da6fb8dd"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#afdf972f6b2dcc10452f4c638da6fb8dd">cluster::cluster_params::mean_y</a></div><div class="ttdeci">double mean_y</div><div class="ttdoc">Mean of hits along y, peaks only. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00033">ClusterParams.h:33</a></div></div>
<div class="ttc" id="classlar_1_1util_1_1StatCollector_html_af8bd806087356e148d6be9f7ea9a7512"><div class="ttname"><a href="../../d1/d98/classlar_1_1util_1_1StatCollector.html#af8bd806087356e148d6be9f7ea9a7512">lar::util::StatCollector::RMS</a></div><div class="ttdeci">Weight_t RMS() const </div><div class="ttdoc">Returns the root mean square. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d87/StatCollector_8h_source.html#l00927">StatCollector.h:927</a></div></div>
<div class="ttc" id="classlar_1_1util_1_1StatCollector_html_a799c5d81b7e11cc9fcc243ce1f5f625a"><div class="ttname"><a href="../../d1/d98/classlar_1_1util_1_1StatCollector.html#a799c5d81b7e11cc9fcc243ce1f5f625a">lar::util::StatCollector::Average</a></div><div class="ttdeci">Weight_t Average() const </div><div class="ttdoc">Returns the value average. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d87/StatCollector_8h_source.html#l00907">StatCollector.h:907</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a09fb7a96f590aacbd63e4f6c855bba01"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a09fb7a96f590aacbd63e4f6c855bba01">cluster::cluster_params::eigenvalue_secondary</a></div><div class="ttdeci">double eigenvalue_secondary</div><div class="ttdoc">the secondary eigenvalue from PCA </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00047">ClusterParams.h:47</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a280c4b87c00dcc43852c2a8eba8e3271"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a280c4b87c00dcc43852c2a8eba8e3271">cluster::cluster_params::sum_charge</a></div><div class="ttdeci">double sum_charge</div><div class="ttdoc">Sum charge of hits in ADC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00026">ClusterParams.h:26</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae048785b39f20c708426303fc5dbe197"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">cluster::ClusterParamsAlg::fParams</a></div><div class="ttdeci">cluster::cluster_params fParams</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00383">ClusterParamsAlg.h:383</a></div></div>
<div class="ttc" id="classlar_1_1util_1_1StatCollector_html_a38b33a815c96a05053d1f5b9c4d2d9d4"><div class="ttname"><a href="../../d1/d98/classlar_1_1util_1_1StatCollector.html#a38b33a815c96a05053d1f5b9c4d2d9d4">lar::util::StatCollector::Sum</a></div><div class="ttdeci">Weight_t Sum() const </div><div class="ttdoc">Returns the weighted sum of the values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d87/StatCollector_8h_source.html#l00398">StatCollector.h:398</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a871dfc394113d9815565dc88a5af54c3"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a871dfc394113d9815565dc88a5af54c3">cluster::cluster_params::N_Hits</a></div><div class="ttdeci">double N_Hits</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00058">ClusterParams.h:58</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ab6e8a917560abcf71a5079c7a172fa7f"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">cluster::ClusterParamsAlg::fTimeRecord_ProcTime</a></div><div class="ttdeci">std::vector&lt; double &gt; fTimeRecord_ProcTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00388">ClusterParamsAlg.h:388</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a67b30831c0db42fa4cabb40bde02ab00"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a67b30831c0db42fa4cabb40bde02ab00">cluster::cluster_params::sum_ADC</a></div><div class="ttdeci">double sum_ADC</div><div class="ttdoc">Sum charge of ADC counts of hits, in ADC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00029">ClusterParams.h:29</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a3ee2a4c65c93ef3a2c6c9a03506808d3"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a3ee2a4c65c93ef3a2c6c9a03506808d3">cluster::cluster_params::mean_charge</a></div><div class="ttdeci">double mean_charge</div><div class="ttdoc">Mean (average) charge of hits in ADC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00027">ClusterParams.h:27</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a7572a3749336b2d0df0f9db4da4b8f6d"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a7572a3749336b2d0df0f9db4da4b8f6d">cluster::cluster_params::charge_wgt_x</a></div><div class="ttdeci">double charge_wgt_x</div><div class="ttdoc">Mean of hits along x, charge weighted. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00036">ClusterParams.h:36</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_af5023da2abe72f09a46cc3b0c4bf2ff4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af5023da2abe72f09a46cc3b0c4bf2ff4">cluster::ClusterParamsAlg::fFinishedGetAverages</a></div><div class="ttdeci">bool fFinishedGetAverages</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00329">ClusterParamsAlg.h:329</a></div></div>
<div class="ttc" id="classcluster_1_1CRUException_html"><div class="ttname"><a href="../../d8/d0d/classcluster_1_1CRUException.html">cluster::CRUException</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1d/CRUException_8h_source.html#l00025">CRUException.h:25</a></div></div>
<div class="ttc" id="classlar_1_1util_1_1StatCollector_html"><div class="ttname"><a href="../../d1/d98/classlar_1_1util_1_1StatCollector.html">lar::util::StatCollector&lt; double &gt;</a></div></div>
<div class="ttc" id="classlar_1_1util_1_1StatCollector_html_a4fe421c1a38594b70fd506780d1697c0"><div class="ttname"><a href="../../d1/d98/classlar_1_1util_1_1StatCollector.html#a4fe421c1a38594b70fd506780d1697c0">lar::util::StatCollector::add</a></div><div class="ttdeci">void add(Data_t value, Weight_t weight=Weight_t(1.0))</div><div class="ttdoc">Adds one entry with specified value and weight. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d87/StatCollector_8h_source.html#l00855">StatCollector.h:855</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8b0aaad7d5964b0a2f72f950f3c0566c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::GetEndCharges </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;&#160;</td>
          <td class="paramname"><em>gser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>override_</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the following variables: start_charge end_charge </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">override_</td><td>force recompute the variables </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a277f8ef9c4d94f5b4a829384434dd0ca" title="Returns the expected charge at the beginning of the cluster. ">StartCharge()</a>, <a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aac5960c5625e536685e450184f35f8f3" title="Returns the expected charge at the end of the cluster. ">EndCharge()</a> </dd></dl>

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01379">1379</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  {</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="keywordflow">if</span> (!override_) { <span class="comment">//Override being set, we skip all this logic.</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      <span class="comment">//OK, no override. Stop if we&#39;re already finshed.</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a91ba354744efb9666342c286f01d1228">fFinishedGetEndCharges</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    }</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    TStopwatch localWatch;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    localWatch.Start();</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#ac973da9a00e68829765c91cf56e245dc">start_charge</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a277f8ef9c4d94f5b4a829384434dd0ca">StartCharge</a>(gser);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#af63fcb56c2b820cdfe68624991cb64e9">end_charge</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aac5960c5625e536685e450184f35f8f3">EndCharge</a>(gser);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a91ba354744efb9666342c286f01d1228">fFinishedGetEndCharges</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a>.push_back(<span class="stringliteral">&quot;GetEndCharges&quot;</span>);</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">fTimeRecord_ProcTime</a>.push_back(localWatch.RealTime());</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  } <span class="comment">// ClusterParamsAlg::GetEndCharges()</span></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ad8c1852c676d659d1204712e91be10a0"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">cluster::ClusterParamsAlg::fTimeRecord_ProcName</a></div><div class="ttdeci">std::vector&lt; std::string &gt; fTimeRecord_ProcName</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00387">ClusterParamsAlg.h:387</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_ac973da9a00e68829765c91cf56e245dc"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#ac973da9a00e68829765c91cf56e245dc">cluster::cluster_params::start_charge</a></div><div class="ttdeci">double start_charge</div><div class="ttdoc">Charge at the start of the cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00044">ClusterParams.h:44</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae048785b39f20c708426303fc5dbe197"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">cluster::ClusterParamsAlg::fParams</a></div><div class="ttdeci">cluster::cluster_params fParams</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00383">ClusterParamsAlg.h:383</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a91ba354744efb9666342c286f01d1228"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a91ba354744efb9666342c286f01d1228">cluster::ClusterParamsAlg::fFinishedGetEndCharges</a></div><div class="ttdeci">bool fFinishedGetEndCharges</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00337">ClusterParamsAlg.h:337</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ab6e8a917560abcf71a5079c7a172fa7f"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">cluster::ClusterParamsAlg::fTimeRecord_ProcTime</a></div><div class="ttdeci">std::vector&lt; double &gt; fTimeRecord_ProcTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00388">ClusterParamsAlg.h:388</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aac5960c5625e536685e450184f35f8f3"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aac5960c5625e536685e450184f35f8f3">cluster::ClusterParamsAlg::EndCharge</a></div><div class="ttdeci">double EndCharge(util::GeometryUtilities const &amp;gser, float length=1., unsigned int nbins=10)</div><div class="ttdoc">Returns the expected charge at the end of the cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01486">ClusterParamsAlg.cxx:1486</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a277f8ef9c4d94f5b4a829384434dd0ca"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a277f8ef9c4d94f5b4a829384434dd0ca">cluster::ClusterParamsAlg::StartCharge</a></div><div class="ttdeci">double StartCharge(util::GeometryUtilities const &amp;gser, float length=1., unsigned int nbins=10)</div><div class="ttdoc">Returns the expected charge at the beginning of the cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01467">ClusterParamsAlg.cxx:1467</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_af63fcb56c2b820cdfe68624991cb64e9"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#af63fcb56c2b820cdfe68624991cb64e9">cluster::cluster_params::end_charge</a></div><div class="ttdeci">double end_charge</div><div class="ttdoc">Charge at the (other) end of the cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00045">ClusterParams.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad0a271fbbfec5fef707edb2e8a2a1c54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::GetFANNVector </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns a feature vector suitable for a neural net This function uses the data from <a class="el" href="../../d2/d0e/classcluster_1_1cluster__params.html">cluster_params</a> but packages it up in a different way, and so is inappropriate to include in clusterParams.hh. That's why it's here. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>takes a reference to a vector&lt; float&gt; </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00087">87</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> length = 13;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span> (data.size() != length) data.resize(length);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    data[0] = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#adf5518fe78a60ff1984ffb82100d420c">opening_angle</a> / <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    data[1] = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#ab2776dca97eb1a854a210e33d622a9af">opening_angle_charge_wgt</a> / <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    data[2] = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#af88fb4a6feb51785d524019927935469">closing_angle</a> / <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    data[3] = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a410f72b601f3e098d59b96e46df1b23c">closing_angle_charge_wgt</a> / <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    data[4] = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#ab143ec2bdc3cdd41cfeab77f71d26185">eigenvalue_principal</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    data[5] = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09fb7a96f590aacbd63e4f6c855bba01">eigenvalue_secondary</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    data[6] = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a90c092ecc6922c8d7f52cdc0e4858d78">width</a> / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a549cf8b7a3abb808fdf88e077fe1d611">length</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    data[7] = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a9d41112986377a8ff190e3c2f8256143">hit_density_1D</a> / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a7870cc22bc83d108efe310e2640d0cfc">modified_hit_density</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    data[8] = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a37a0eb16c129298148b9a2123e3c71c4">multi_hit_wires</a> / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#afe0f5028bed38591bce50567c6689d0f">N_Wires</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    data[9] = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a43a698a4c1e03f02af8440f85b5ef1d3">N_Hits_HC</a> / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a871dfc394113d9815565dc88a5af54c3">N_Hits</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    data[10] = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a7870cc22bc83d108efe310e2640d0cfc">modified_hit_density</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    data[11] = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a144991e12fd4eaeab03981dd3f1c902c">RMS_charge</a> / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a3ee2a4c65c93ef3a2c6c9a03506808d3">mean_charge</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    data[12] = log(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a280c4b87c00dcc43852c2a8eba8e3271">sum_charge</a> / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a549cf8b7a3abb808fdf88e077fe1d611">length</a>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  }</div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a7870cc22bc83d108efe310e2640d0cfc"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a7870cc22bc83d108efe310e2640d0cfc">cluster::cluster_params::modified_hit_density</a></div><div class="ttdeci">double modified_hit_density</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00057">ClusterParams.h:57</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a410f72b601f3e098d59b96e46df1b23c"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a410f72b601f3e098d59b96e46df1b23c">cluster::cluster_params::closing_angle_charge_wgt</a></div><div class="ttdeci">double closing_angle_charge_wgt</div><div class="ttdoc">Same for charge_wgt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00043">ClusterParams.h:43</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_afe0f5028bed38591bce50567c6689d0f"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#afe0f5028bed38591bce50567c6689d0f">cluster::cluster_params::N_Wires</a></div><div class="ttdeci">double N_Wires</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00056">ClusterParams.h:56</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a37a0eb16c129298148b9a2123e3c71c4"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a37a0eb16c129298148b9a2123e3c71c4">cluster::cluster_params::multi_hit_wires</a></div><div class="ttdeci">double multi_hit_wires</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00055">ClusterParams.h:55</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a9d41112986377a8ff190e3c2f8256143"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a9d41112986377a8ff190e3c2f8256143">cluster::cluster_params::hit_density_1D</a></div><div class="ttdeci">double hit_density_1D</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00053">ClusterParams.h:53</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_ab143ec2bdc3cdd41cfeab77f71d26185"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#ab143ec2bdc3cdd41cfeab77f71d26185">cluster::cluster_params::eigenvalue_principal</a></div><div class="ttdeci">double eigenvalue_principal</div><div class="ttdoc">the principal eigenvalue from PCA </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00046">ClusterParams.h:46</a></div></div>
<div class="ttc" id="HoughBaseAlg_8cxx_html_a299aabc5fc8285cbf99025330a3d0d0d"><div class="ttname"><a href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a></div><div class="ttdeci">constexpr double PI</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dee/HoughBaseAlg_8cxx_source.html#l00060">HoughBaseAlg.cxx:60</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a09fb7a96f590aacbd63e4f6c855bba01"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a09fb7a96f590aacbd63e4f6c855bba01">cluster::cluster_params::eigenvalue_secondary</a></div><div class="ttdeci">double eigenvalue_secondary</div><div class="ttdoc">the secondary eigenvalue from PCA </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00047">ClusterParams.h:47</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a90c092ecc6922c8d7f52cdc0e4858d78"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a90c092ecc6922c8d7f52cdc0e4858d78">cluster::cluster_params::width</a></div><div class="ttdeci">double width</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00051">ClusterParams.h:51</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a280c4b87c00dcc43852c2a8eba8e3271"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a280c4b87c00dcc43852c2a8eba8e3271">cluster::cluster_params::sum_charge</a></div><div class="ttdeci">double sum_charge</div><div class="ttdoc">Sum charge of hits in ADC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00026">ClusterParams.h:26</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae048785b39f20c708426303fc5dbe197"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">cluster::ClusterParamsAlg::fParams</a></div><div class="ttdeci">cluster::cluster_params fParams</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00383">ClusterParamsAlg.h:383</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a144991e12fd4eaeab03981dd3f1c902c"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a144991e12fd4eaeab03981dd3f1c902c">cluster::cluster_params::RMS_charge</a></div><div class="ttdeci">double RMS_charge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00062">ClusterParams.h:62</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a871dfc394113d9815565dc88a5af54c3"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a871dfc394113d9815565dc88a5af54c3">cluster::cluster_params::N_Hits</a></div><div class="ttdeci">double N_Hits</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00058">ClusterParams.h:58</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a43a698a4c1e03f02af8440f85b5ef1d3"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a43a698a4c1e03f02af8440f85b5ef1d3">cluster::cluster_params::N_Hits_HC</a></div><div class="ttdeci">double N_Hits_HC</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00059">ClusterParams.h:59</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a549cf8b7a3abb808fdf88e077fe1d611"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a549cf8b7a3abb808fdf88e077fe1d611">cluster::cluster_params::length</a></div><div class="ttdeci">double length</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00050">ClusterParams.h:50</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a3ee2a4c65c93ef3a2c6c9a03506808d3"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a3ee2a4c65c93ef3a2c6c9a03506808d3">cluster::cluster_params::mean_charge</a></div><div class="ttdeci">double mean_charge</div><div class="ttdoc">Mean (average) charge of hits in ADC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00027">ClusterParams.h:27</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_ab2776dca97eb1a854a210e33d622a9af"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#ab2776dca97eb1a854a210e33d622a9af">cluster::cluster_params::opening_angle_charge_wgt</a></div><div class="ttdeci">double opening_angle_charge_wgt</div><div class="ttdoc">Same for charge_wgt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00041">ClusterParams.h:41</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_adf5518fe78a60ff1984ffb82100d420c"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#adf5518fe78a60ff1984ffb82100d420c">cluster::cluster_params::opening_angle</a></div><div class="ttdeci">double opening_angle</div><div class="ttdoc">Width of angular distubtion wrt vertx. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00040">ClusterParams.h:40</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_af88fb4a6feb51785d524019927935469"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#af88fb4a6feb51785d524019927935469">cluster::cluster_params::closing_angle</a></div><div class="ttdeci">double closing_angle</div><div class="ttdoc">Width of angular distubtion wrt endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00042">ClusterParams.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4562df6f289483dbef7348062165ed63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::GetFinalSlope </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;&#160;</td>
          <td class="paramname"><em>gser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>override</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the following variables: hit_density_1D hit_density_2D angle_2d direction </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">override</td><td>[description] </td></tr>
  </table>
  </dd>
</dl>
<p>Calculates the following variables: angle_2d modified_hit_density</p>
<p>end testing </p>

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00892">892</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordflow">if</span> (!<span class="keyword">override</span>) { <span class="comment">//Override being set, we skip all this logic.</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <span class="comment">//OK, no override. Stop if we&#39;re already finshed.</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a8f82fbc519ea7024b1dd15829dda19b6">fFinishedGetFinalSlope</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      <span class="comment">//Try to run the previous function if not yet done.</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb4dccf8a4331f45a6601ee53bf290fb">fFinishedRefineStartPoints</a>) <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af95deec45ca513b48bf5da9387bb114d">RefineStartPoints</a>(gser);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      <span class="comment">//Try to run the previous function if not yet done.</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb4dccf8a4331f45a6601ee53bf290fb">fFinishedRefineStartPoints</a>) <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af95deec45ca513b48bf5da9387bb114d">RefineStartPoints</a>(gser);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    }</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    TStopwatch localWatch;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    localWatch.Start();<span class="comment"></span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">     * Calculates the following variables:</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">     * angle_2d</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">     * modified_hit_density</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> NBINS = 720;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    std::vector&lt;int&gt; fh_omega_single(NBINS, 0); <span class="comment">//720,-180., 180.</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordtype">double</span> current_maximum = 0;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordtype">double</span> curr_max_bin = -1;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a> : <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>) {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <span class="keywordtype">double</span> omx = gser.Get2Dangle((<a class="code" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a>*)&amp;<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>,</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                                   &amp;<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a>); <span class="comment">// in rad and assuming cm/cm space.</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <span class="keywordtype">int</span> nbin = (omx + TMath::Pi()) * (NBINS - 1) / (2 * TMath::Pi());</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      <span class="keywordflow">if</span> (nbin &gt;= NBINS) nbin = NBINS - 1;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <span class="keywordflow">if</span> (nbin &lt; 0) nbin = 0;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      fh_omega_single[nbin] += <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.charge;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      <span class="keywordflow">if</span> (fh_omega_single[nbin] &gt; current_maximum) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        current_maximum = fh_omega_single[nbin];</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        curr_max_bin = nbin;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    }</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="comment">// FIXME: using two different definitions of PI in the same calculation?</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="comment">//        2022-04-18 CHG</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a7d6a715d4b19f137c00f8a5cad0e66c9">angle_2d</a> = (curr_max_bin / 720 * (2 * TMath::Pi())) - TMath::Pi();</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a7d6a715d4b19f137c00f8a5cad0e66c9">angle_2d</a> *= 180 / <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>) <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot; Final 2D angle: &quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a7d6a715d4b19f137c00f8a5cad0e66c9">angle_2d</a> &lt;&lt; <span class="stringliteral">&quot; degrees &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordtype">double</span> mod_angle =</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      (fabs(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a7d6a715d4b19f137c00f8a5cad0e66c9">angle_2d</a>) &lt;= 90) ?</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        fabs(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a7d6a715d4b19f137c00f8a5cad0e66c9">angle_2d</a>) :</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        180 - fabs(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a7d6a715d4b19f137c00f8a5cad0e66c9">angle_2d</a>); <span class="comment">//want to transfer angle to radians and from 0 to 90.</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">if</span> (</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      cos(</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        mod_angle * <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> /</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        180.)) { <span class="comment">//values here based on fit of hit_density_1D vs. mod_angle defined as above (in ArgoNeuT).</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      <span class="keywordflow">if</span> (mod_angle &lt;= 75.)</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a7870cc22bc83d108efe310e2640d0cfc">modified_hit_density</a> =</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;          <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a9d41112986377a8ff190e3c2f8256143">hit_density_1D</a> / (2.45 * cos(mod_angle * <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> / 180.) + 0.2595);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a7870cc22bc83d108efe310e2640d0cfc">modified_hit_density</a> =</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;          <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a9d41112986377a8ff190e3c2f8256143">hit_density_1D</a> / (1.036 * mod_angle * <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> / 180. - 0.2561);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <span class="comment">//calculate modified mean_charge:</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a31f9a23d9f5099b8a52c33d8ec0be7dd">modmeancharge</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a3ee2a4c65c93ef3a2c6c9a03506808d3">mean_charge</a> / (1264 - 780 * cos(mod_angle * <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> / 180.));</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    }</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a7870cc22bc83d108efe310e2640d0cfc">modified_hit_density</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a9d41112986377a8ff190e3c2f8256143">hit_density_1D</a>;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="comment">    /////////////////// testing</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="comment"></span>    <span class="comment">// do not use for now.</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordtype">bool</span> drawProfileHisto = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordflow">if</span> (drawProfileHisto) {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a> = (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a549cf8b7a3abb808fdf88e077fe1d611">length</a>);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <span class="keywordtype">double</span> corr_factor = 1;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <span class="keywordflow">if</span> (</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        cos(</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;          mod_angle * <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> /</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;          180.)) { <span class="comment">//values here based on fit of hit_density_1D vs. mod_angle defined as above (in ArgoNeuT).</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <span class="keywordflow">if</span> (mod_angle &lt;= 75.)</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;          corr_factor *= (2.45 * cos(mod_angle * <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> / 180.) + 0.2595);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;          corr_factor *= (1.036 * mod_angle * <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> / 180. - 0.2561);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      }</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a> =</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        (int)(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a> / 2 * corr_factor + 0.5); <span class="comment">// +0.5 to round to nearest sensible value</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>) <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot; number of final profile bins &quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.clear();</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a73eaded4573b1f056181f673b5ad2b85">fCoarseChargeProfile</a>.clear();</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.resize(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a>, 0);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a73eaded4573b1f056181f673b5ad2b85">fCoarseChargeProfile</a>.resize(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a43eaa08014e1a0c213a2ed432dfdd72b">fCoarseNbins</a>, 0);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad363a6f8398cc1125773c69b52b261c7">fChargeProfileNew</a>.clear();</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad363a6f8398cc1125773c69b52b261c7">fChargeProfileNew</a>.resize(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a>, 0);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <a class="code" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a> BeginOnlinePoint;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      gser.GetPointOnLine(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">fRough2DIntercept</a>, &amp;<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a>, BeginOnlinePoint);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a> : fHitVector) {</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <a class="code" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a> OnlinePoint;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        <span class="comment">// get coordinates of point on axis.</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        gser.GetPointOnLine(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a>, &amp;BeginOnlinePoint, &amp;<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>, OnlinePoint);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <span class="keywordtype">double</span> linedist = gser.Get2DDistance(&amp;OnlinePoint, &amp;BeginOnlinePoint);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        <span class="keywordtype">int</span> fine_bin = (int)(linedist / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abe0316531aeec61519f82e429c4b8b2d">fProjectedLength</a> * (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a> - 1));</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <span class="keywordflow">if</span> (fine_bin &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a>) <span class="comment">//only fill if bin number is in range</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        {</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;          <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad363a6f8398cc1125773c69b52b261c7">fChargeProfileNew</a>.at(fine_bin) += <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.charge;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        }</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      TH1F* charge_histo = <span class="keyword">new</span> TH1F(<span class="stringliteral">&quot;charge dist&quot;</span>, <span class="stringliteral">&quot;charge dist&quot;</span>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a>, 0, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a>);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      TH1F* charge_diff = <span class="keyword">new</span> TH1F(<span class="stringliteral">&quot;charge diff&quot;</span>, <span class="stringliteral">&quot;charge diff&quot;</span>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a>, 0, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a>);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ix = 0; ix &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a> - 1; ix++) {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        charge_histo-&gt;SetBinContent(ix, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad363a6f8398cc1125773c69b52b261c7">fChargeProfileNew</a>[ix]);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        <span class="keywordflow">if</span> (ix &gt; 2 &amp;&amp; ix &lt; fProfileNbins - 3) {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;          <span class="keywordtype">double</span> diff =</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            (1. / 12. * <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad363a6f8398cc1125773c69b52b261c7">fChargeProfileNew</a>[ix - 2] - 2. / 3. * <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad363a6f8398cc1125773c69b52b261c7">fChargeProfileNew</a>[ix - 1] +</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;             2. / 3. * <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad363a6f8398cc1125773c69b52b261c7">fChargeProfileNew</a>[ix + 1] - 1. / 12. * <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad363a6f8398cc1125773c69b52b261c7">fChargeProfileNew</a>[ix + 2]) /</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            (<span class="keywordtype">double</span>)<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a>;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;          charge_diff-&gt;SetBinContent(ix, diff);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        }</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      }</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      TCanvas* chCanv = <span class="keyword">new</span> TCanvas(<span class="stringliteral">&quot;chCanv&quot;</span>, <span class="stringliteral">&quot;chCanv&quot;</span>, 600, 600);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      chCanv-&gt;cd();</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      charge_histo-&gt;SetLineColor(3);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      charge_histo-&gt;Draw(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      charge_diff-&gt;SetLineColor(2);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;      charge_diff-&gt;Draw(<span class="stringliteral">&quot;same&quot;</span>);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      chCanv-&gt;Update();</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="comment">    /// end testing</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a>.push_back(<span class="stringliteral">&quot;GetFinalSlope&quot;</span>);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">fTimeRecord_ProcTime</a>.push_back(localWatch.RealTime());</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a8f82fbc519ea7024b1dd15829dda19b6">fFinishedGetFinalSlope</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  }</div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a7870cc22bc83d108efe310e2640d0cfc"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a7870cc22bc83d108efe310e2640d0cfc">cluster::cluster_params::modified_hit_density</a></div><div class="ttdeci">double modified_hit_density</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00057">ClusterParams.h:57</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a43eaa08014e1a0c213a2ed432dfdd72b"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a43eaa08014e1a0c213a2ed432dfdd72b">cluster::ClusterParamsAlg::fCoarseNbins</a></div><div class="ttdeci">int fCoarseNbins</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00315">ClusterParamsAlg.h:315</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a73eaded4573b1f056181f673b5ad2b85"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a73eaded4573b1f056181f673b5ad2b85">cluster::ClusterParamsAlg::fCoarseChargeProfile</a></div><div class="ttdeci">std::vector&lt; double &gt; fCoarseChargeProfile</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00311">ClusterParamsAlg.h:311</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ad8c1852c676d659d1204712e91be10a0"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">cluster::ClusterParamsAlg::fTimeRecord_ProcName</a></div><div class="ttdeci">std::vector&lt; std::string &gt; fTimeRecord_ProcName</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00387">ClusterParamsAlg.h:387</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a31f9a23d9f5099b8a52c33d8ec0be7dd"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a31f9a23d9f5099b8a52c33d8ec0be7dd">cluster::cluster_params::modmeancharge</a></div><div class="ttdeci">double modmeancharge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00061">ClusterParams.h:61</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a9d41112986377a8ff190e3c2f8256143"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a9d41112986377a8ff190e3c2f8256143">cluster::cluster_params::hit_density_1D</a></div><div class="ttdeci">double hit_density_1D</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00053">ClusterParams.h:53</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb9af9abb6078d131e338e85f49aebb4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">cluster::ClusterParamsAlg::fHitVector</a></div><div class="ttdeci">std::vector&lt; util::PxHit &gt; fHitVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00298">ClusterParamsAlg.h:298</a></div></div>
<div class="ttc" id="cheaterreco_8fcl_html_abf2e819dbf4c327e098bebd4b2dc0597"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a></div><div class="ttdeci">process_name hit</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_abe0316531aeec61519f82e429c4b8b2d"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abe0316531aeec61519f82e429c4b8b2d">cluster::ClusterParamsAlg::fProjectedLength</a></div><div class="ttdeci">double fProjectedLength</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00320">ClusterParamsAlg.h:320</a></div></div>
<div class="ttc" id="HoughBaseAlg_8cxx_html_a299aabc5fc8285cbf99025330a3d0d0d"><div class="ttname"><a href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a></div><div class="ttdeci">constexpr double PI</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dee/HoughBaseAlg_8cxx_source.html#l00060">HoughBaseAlg.cxx:60</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a8f82fbc519ea7024b1dd15829dda19b6"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a8f82fbc519ea7024b1dd15829dda19b6">cluster::ClusterParamsAlg::fFinishedGetFinalSlope</a></div><div class="ttdeci">bool fFinishedGetFinalSlope</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00334">ClusterParamsAlg.h:334</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_af95deec45ca513b48bf5da9387bb114d"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af95deec45ca513b48bf5da9387bb114d">cluster::ClusterParamsAlg::RefineStartPoints</a></div><div class="ttdeci">void RefineStartPoints(util::GeometryUtilities const &amp;gser)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00697">ClusterParamsAlg.cxx:697</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae048785b39f20c708426303fc5dbe197"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">cluster::ClusterParamsAlg::fParams</a></div><div class="ttdeci">cluster::cluster_params fParams</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00383">ClusterParamsAlg.h:383</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ab6e8a917560abcf71a5079c7a172fa7f"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">cluster::ClusterParamsAlg::fTimeRecord_ProcTime</a></div><div class="ttdeci">std::vector&lt; double &gt; fTimeRecord_ProcTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00388">ClusterParamsAlg.h:388</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a09109ad847929d48f11d1ee7d6b78ddc"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">cluster::cluster_params::start_point</a></div><div class="ttdeci">util::PxPoint start_point</div><div class="ttdoc">start point </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00023">ClusterParams.h:23</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aa562a0d352b8dc45dc0b90d034f6feaf"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">cluster::ClusterParamsAlg::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00301">ClusterParamsAlg.h:301</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae203cdb5ed5dab4c10336fefc57c3a4f"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">cluster::ClusterParamsAlg::fRough2DIntercept</a></div><div class="ttdeci">double fRough2DIntercept</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00340">ClusterParamsAlg.h:340</a></div></div>
<div class="ttc" id="classutil_1_1PxPoint_html"><div class="ttname"><a href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00008">PxUtils.h:8</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a7d6a715d4b19f137c00f8a5cad0e66c9"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a7d6a715d4b19f137c00f8a5cad0e66c9">cluster::cluster_params::angle_2d</a></div><div class="ttdeci">double angle_2d</div><div class="ttdoc">Angle of axis in wire/hit view. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00039">ClusterParams.h:39</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aa06e4f84c550ccce228d135b7bfbd6ac"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">cluster::ClusterParamsAlg::fChargeProfile</a></div><div class="ttdeci">std::vector&lt; double &gt; fChargeProfile</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00310">ClusterParamsAlg.h:310</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ad363a6f8398cc1125773c69b52b261c7"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad363a6f8398cc1125773c69b52b261c7">cluster::ClusterParamsAlg::fChargeProfileNew</a></div><div class="ttdeci">std::vector&lt; double &gt; fChargeProfileNew</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00313">ClusterParamsAlg.h:313</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a549cf8b7a3abb808fdf88e077fe1d611"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a549cf8b7a3abb808fdf88e077fe1d611">cluster::cluster_params::length</a></div><div class="ttdeci">double length</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00050">ClusterParams.h:50</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_afdf7948afa880726dd4683e51ce90fba"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">cluster::ClusterParamsAlg::fProfileNbins</a></div><div class="ttdeci">int fProfileNbins</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00316">ClusterParamsAlg.h:316</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a3ee2a4c65c93ef3a2c6c9a03506808d3"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a3ee2a4c65c93ef3a2c6c9a03506808d3">cluster::cluster_params::mean_charge</a></div><div class="ttdeci">double mean_charge</div><div class="ttdoc">Mean (average) charge of hits in ADC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00027">ClusterParams.h:27</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb4dccf8a4331f45a6601ee53bf290fb"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb4dccf8a4331f45a6601ee53bf290fb">cluster::ClusterParamsAlg::fFinishedRefineStartPoints</a></div><div class="ttdeci">bool fFinishedRefineStartPoints</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00332">ClusterParamsAlg.h:332</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a0f44780404f5242c805b2b989eb3998b"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">cluster::ClusterParamsAlg::fRough2DSlope</a></div><div class="ttdeci">double fRough2DSlope</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00339">ClusterParamsAlg.h:339</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6312be00bad9410f973bb5748208cd78"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;<a class="el" href="../../d4/d8a/classutil_1_1PxHit.html">util::PxHit</a>&gt;&amp; cluster::ClusterParamsAlg::GetHitVector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00279">279</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb9af9abb6078d131e338e85f49aebb4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">cluster::ClusterParamsAlg::fHitVector</a></div><div class="ttdeci">std::vector&lt; util::PxHit &gt; fHitVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00298">ClusterParamsAlg.h:298</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af005ee2987843c53a8164b5582a1984f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t cluster::ClusterParamsAlg::GetNHits </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00274">274</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>.size();</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb9af9abb6078d131e338e85f49aebb4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">cluster::ClusterParamsAlg::fHitVector</a></div><div class="ttdeci">std::vector&lt; util::PxHit &gt; fHitVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00298">ClusterParamsAlg.h:298</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa95a8a5bef97079595be687df61596f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::GetOpeningAngle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afdc309fcdc60ff755e7fcf7afec81050"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d2/d0e/classcluster_1_1cluster__params.html">cluster_params</a>&amp; cluster::ClusterParamsAlg::GetParams </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00099">99</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae048785b39f20c708426303fc5dbe197"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">cluster::ClusterParamsAlg::fParams</a></div><div class="ttdeci">cluster::cluster_params fParams</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00383">ClusterParamsAlg.h:383</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af382f3ab279409a068ff3f36c2cc0833"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::GetProfileInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;&#160;</td>
          <td class="paramname"><em>gser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>override</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the following variables: opening_angle opening_angle_highcharge closing_angle closing_angle_highcharge offaxis_hits </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">override</td><td>[description] </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00347">347</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">if</span> (!<span class="keyword">override</span>) { <span class="comment">//Override being set, we skip all this logic.</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="comment">//OK, no override. Stop if we&#39;re already finshed.</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acc350cec04111ec313ae33521d22d10c">fFinishedGetProfileInfo</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="comment">//Try to run the previous function if not yet done.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a48f0337eb89c4856d24ed014f48f1fb1">fFinishedGetRoughAxis</a>) <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a38fae65231a0e8b930cde5adfef15f09">GetRoughAxis</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a48f0337eb89c4856d24ed014f48f1fb1">fFinishedGetRoughAxis</a>) <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a38fae65231a0e8b930cde5adfef15f09">GetRoughAxis</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    TStopwatch localWatch;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    localWatch.Start();</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordtype">bool</span> drawOrtHistos = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="comment">//these variables need to be initialized to other values?</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a> == -999.999 || <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">fRough2DIntercept</a> == -999.999) <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a38fae65231a0e8b930cde5adfef15f09">GetRoughAxis</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment">//get slope of lines orthogonal to those found crossing the shower.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordtype">double</span> inv_2d_slope = 0;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">if</span> (fabs(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a>) &gt; 0.001)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      inv_2d_slope = -1. / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      inv_2d_slope = -999999.;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordtype">double</span> InterHigh = -999999;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordtype">double</span> InterLow = 999999;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordtype">double</span> WireHigh = -999999;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordtype">double</span> WireLow = 999999;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a9d7c4145cff439c0d23d6b5a003cd66b">fInterHigh_side</a> = -999999;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a96a72f528edb966984b99ed90f4c105c">fInterLow_side</a> = 999999;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordtype">double</span> min_ortdist(999), max_ortdist(-999); <span class="comment">// needed to calculate width</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">//loop over all hits. Create coarse and fine profiles</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">// of the charge weight to help refine the start/end</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="comment">// points and have a first guess of direction</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a> : <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="comment">//calculate intercepts along</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="keywordtype">double</span> intercept = <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.t - inv_2d_slope * (double)(<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.w);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="keywordtype">double</span> side_intercept = <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.t - <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a> * (double)(<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.w);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <a class="code" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a> OnlinePoint;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="comment">// get coordinates of point on axis.</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      gser.GetPointOnLine(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">fRough2DIntercept</a>, &amp;<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>, OnlinePoint);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <span class="keywordtype">double</span> ortdist = gser.Get2DDistance(&amp;OnlinePoint, &amp;<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="keywordflow">if</span> (ortdist &lt; min_ortdist) min_ortdist = ortdist;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="keywordflow">if</span> (ortdist &gt; max_ortdist) max_ortdist = ortdist;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <span class="keywordflow">if</span> (inv_2d_slope != -999999) <span class="comment">//almost all cases</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keywordflow">if</span> (intercept &gt; InterHigh) { InterHigh = intercept; }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">if</span> (intercept &lt; InterLow) { InterLow = intercept; }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keywordflow">else</span> <span class="comment">//slope is practically horizontal. Care only about wires.</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.w &gt; WireHigh) { WireHigh = <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.w; }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.w &lt; WireLow) { WireLow = <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.w; }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <span class="keywordflow">if</span> (side_intercept &gt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a9d7c4145cff439c0d23d6b5a003cd66b">fInterHigh_side</a>) { <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a9d7c4145cff439c0d23d6b5a003cd66b">fInterHigh_side</a> = side_intercept; }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordflow">if</span> (side_intercept &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a96a72f528edb966984b99ed90f4c105c">fInterLow_side</a>) { <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a96a72f528edb966984b99ed90f4c105c">fInterLow_side</a> = side_intercept; }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="comment">// end of first HitIter loop, at this point we should</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">// have the extreme intercepts</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">    /////////////////////////////////////////////</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment"></span>    <span class="comment">// Second loop. Fill profiles.</span><span class="comment"></span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">    /////////////////////////////////////////////</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">// get projected points at the beginning and end of the axis.</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a> HighOnlinePoint, LowOnlinePoint, BeginOnlinePoint, EndOnlinePoint;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">if</span> (inv_2d_slope != -999999) <span class="comment">//almost all cases</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      gser.GetPointOnLineWSlopes(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">fRough2DIntercept</a>, InterHigh, HighOnlinePoint);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      gser.GetPointOnLineWSlopes(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">fRough2DIntercept</a>, InterLow, LowOnlinePoint);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">else</span> <span class="comment">//need better treatment of horizontal events.</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <a class="code" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a> ptemphigh(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a>, WireHigh, (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a9d7c4145cff439c0d23d6b5a003cd66b">fInterHigh_side</a> + <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a96a72f528edb966984b99ed90f4c105c">fInterLow_side</a>) / 2);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <a class="code" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a> ptemplow(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a>, WireLow, (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a9d7c4145cff439c0d23d6b5a003cd66b">fInterHigh_side</a> + <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a96a72f528edb966984b99ed90f4c105c">fInterLow_side</a>) / 2);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      gser.GetPointOnLine(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">fRough2DIntercept</a>, &amp;ptemphigh, HighOnlinePoint);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      gser.GetPointOnLine(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">fRough2DIntercept</a>, &amp;ptemplow, LowOnlinePoint);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot; Low online point: &quot;</span> &lt;&lt; LowOnlinePoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; LowOnlinePoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; High: &quot;</span> &lt;&lt; HighOnlinePoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; HighOnlinePoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="comment">//define BeginOnlinePoint as the one with lower wire number (for now), adjust intercepts accordingly</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">if</span> (HighOnlinePoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> &gt;= LowOnlinePoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a>) {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      BeginOnlinePoint = LowOnlinePoint;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a702151257eff2af1499e7b657f55403b">fBeginIntercept</a> = InterLow;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      EndOnlinePoint = HighOnlinePoint;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a5a8bc02edea927fa87d8957354a678c0">fEndIntercept</a> = InterHigh;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      BeginOnlinePoint = HighOnlinePoint;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a702151257eff2af1499e7b657f55403b">fBeginIntercept</a> = InterHigh;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      EndOnlinePoint = LowOnlinePoint;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a5a8bc02edea927fa87d8957354a678c0">fEndIntercept</a> = InterLow;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abe0316531aeec61519f82e429c4b8b2d">fProjectedLength</a> = gser.Get2DDistance(&amp;BeginOnlinePoint, &amp;EndOnlinePoint);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">    /////////////////// THe binning is now set here</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment"></span>    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a43eaa08014e1a0c213a2ed432dfdd72b">fCoarseNbins</a> = 2;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a> = (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abe0316531aeec61519f82e429c4b8b2d">fProjectedLength</a> &gt; 100) ? 100 : <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abe0316531aeec61519f82e429c4b8b2d">fProjectedLength</a>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a> &lt; 10) <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a> = 10;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.clear();</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a73eaded4573b1f056181f673b5ad2b85">fCoarseChargeProfile</a>.clear();</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.resize(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a>, 0);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a73eaded4573b1f056181f673b5ad2b85">fCoarseChargeProfile</a>.resize(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a43eaa08014e1a0c213a2ed432dfdd72b">fCoarseNbins</a>, 0);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">    ////////////////////////// end of new binning</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment"></span>    <span class="comment">// Some fitting variables to make a histogram:</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="comment">// TODO this is nonsense for small clusters</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    std::vector&lt;double&gt; ort_profile;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> NBINS = 100;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    ort_profile.resize(NBINS);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    std::vector&lt;double&gt; ort_dist_vect;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    ort_dist_vect.reserve(fHitVector.size());</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordtype">double</span> current_maximum = 0;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a> : fHitVector) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <a class="code" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a> OnlinePoint;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="comment">// get coordinates of point on axis.</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      gser.GetPointOnLine(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a>, &amp;BeginOnlinePoint, &amp;<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>, OnlinePoint);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordtype">double</span> ortdist = gser.Get2DDistance(&amp;OnlinePoint, &amp;<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="keywordtype">double</span> linedist = gser.Get2DDistance(&amp;OnlinePoint, &amp;BeginOnlinePoint);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      ort_dist_vect.push_back(ortdist);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="keywordtype">int</span> ortbin;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="keywordflow">if</span> (ortdist == 0)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        ortbin = 0;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (max_ortdist == min_ortdist)</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        ortbin = 0;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        ortbin = (int)(ortdist - min_ortdist) / (max_ortdist - min_ortdist) * (NBINS - 1);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      ort_profile.at(ortbin) += <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.charge;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">      //////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment"></span>      <span class="comment">//calculate the weight along the axis, this formula is based on rough guessology.</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="comment">// there is no physics motivation behind the particular numbers, A.S.</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="comment">// \todo: switch to something that is motivated and easier to</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="comment">//        spell than guessology.  C.A.</span><span class="comment"></span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment">      ///////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment"></span>      <span class="keywordtype">double</span> weight = (ortdist &lt; 1.) ? 10 * (<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.charge) : 5 * (<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.charge) / ortdist;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <span class="keywordtype">int</span> fine_bin =</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abe0316531aeec61519f82e429c4b8b2d">fProjectedLength</a> ? (int)(linedist / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abe0316531aeec61519f82e429c4b8b2d">fProjectedLength</a> * (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a> - 1)) : 0;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="keywordtype">int</span> coarse_bin =</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abe0316531aeec61519f82e429c4b8b2d">fProjectedLength</a> ? (int)(linedist / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abe0316531aeec61519f82e429c4b8b2d">fProjectedLength</a> * (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a43eaa08014e1a0c213a2ed432dfdd72b">fCoarseNbins</a> - 1)) : 0;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <span class="keywordflow">if</span> (fine_bin &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a>) <span class="comment">//only fill if bin number is in range</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.at(fine_bin) += weight;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="comment">//find maximum bin on the fly:</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.at(fine_bin) &gt; current_maximum &amp;&amp; fine_bin != 0 &amp;&amp;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            fine_bin != <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a> - 1) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;          current_maximum = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.at(fine_bin);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;          <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a414196d21654aeb29c2e9b5c2c13917b">fProfileMaximumBin</a> = fine_bin;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <span class="keywordflow">if</span> (coarse_bin &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a43eaa08014e1a0c213a2ed432dfdd72b">fCoarseNbins</a>) <span class="comment">//only fill if bin number is in range</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a73eaded4573b1f056181f673b5ad2b85">fCoarseChargeProfile</a>.at(coarse_bin) += weight;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    } <span class="comment">// end second loop on hits. Now should have filled profile vectors.</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>) <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;end second loop &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordtype">double</span> integral = 0;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordtype">int</span> ix = 0;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">for</span> (ix = 0; ix &lt; NBINS; ix++) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      integral += ort_profile.at(ix);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <span class="keywordflow">if</span> (integral &gt;= 0.95 * <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a280c4b87c00dcc43852c2a8eba8e3271">sum_charge</a>) { <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a90c092ecc6922c8d7f52cdc0e4858d78">width</a> =</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      2 * (double)ix / (<span class="keywordtype">double</span>)(NBINS - 1) *</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      (<span class="keywordtype">double</span>)(max_ortdist -</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;               min_ortdist); <span class="comment">// multiply by two because ortdist is folding in both sides.</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>) <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot; after width  &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">if</span> (drawOrtHistos) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      TH1F* ortDistHist = <span class="keyword">new</span> TH1F(</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="stringliteral">&quot;ortDistHist&quot;</span>, <span class="stringliteral">&quot;Orthogonal Distance to axis;Distance (cm)&quot;</span>, 100, min_ortdist, max_ortdist);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      TH1F* ortDistHistCharge =</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keyword">new</span> TH1F(<span class="stringliteral">&quot;ortDistHistCharge&quot;</span>,</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                 <span class="stringliteral">&quot;Orthogonal Distance to axis (Charge Weighted);Distance (cm)&quot;</span>,</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                 100,</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                 min_ortdist,</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                 max_ortdist);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      TH1F* ortDistHistAndrzej = <span class="keyword">new</span> TH1F(<span class="stringliteral">&quot;ortDistHistAndrzej&quot;</span>,</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                                          <span class="stringliteral">&quot;Orthogonal Distance Andrzej weighting&quot;</span>,</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                                          100,</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                                          min_ortdist,</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                                          max_ortdist);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a871dfc394113d9815565dc88a5af54c3">N_Hits</a>; index++) {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        ortDistHist-&gt;Fill(ort_dist_vect.at(index));</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        ortDistHistCharge-&gt;Fill(ort_dist_vect.at(index), fHitVector.at(index).charge);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="keywordtype">double</span> weight = (ort_dist_vect.at(index) &lt; 1.) ?</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                          10 * (fHitVector.at(index).charge) :</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                          (5 * (fHitVector.at(index).charge) / ort_dist_vect.at(index));</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        ortDistHistAndrzej-&gt;Fill(ort_dist_vect.at(index), weight);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      ortDistHist-&gt;Scale(1.0 / ortDistHist-&gt;Integral());</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      ortDistHistCharge-&gt;Scale(1.0 / ortDistHistCharge-&gt;Integral());</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      ortDistHistAndrzej-&gt;Scale(1.0 / ortDistHistAndrzej-&gt;Integral());</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      TCanvas* ortCanv = <span class="keyword">new</span> TCanvas(<span class="stringliteral">&quot;ortCanv&quot;</span>, <span class="stringliteral">&quot;ortCanv&quot;</span>, 600, 600);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      ortCanv-&gt;cd();</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      ortDistHistAndrzej-&gt;SetLineColor(3);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      ortDistHistAndrzej-&gt;Draw(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      ortDistHistCharge-&gt;Draw(<span class="stringliteral">&quot;same&quot;</span>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      ortDistHist-&gt;SetLineColor(2);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      ortDistHist-&gt;Draw(<span class="stringliteral">&quot;same&quot;</span>);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      TLegend* leg = <span class="keyword">new</span> TLegend(.4, .6, .8, .9);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      leg-&gt;SetHeader(<span class="stringliteral">&quot;Charge distribution&quot;</span>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      leg-&gt;AddEntry(ortDistHist, <span class="stringliteral">&quot;Unweighted Hits&quot;</span>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      leg-&gt;AddEntry(ortDistHistCharge, <span class="stringliteral">&quot;Charge Weighted Hits&quot;</span>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      leg-&gt;AddEntry(ortDistHistAndrzej, <span class="stringliteral">&quot;Charge Weighted by Guessology&quot;</span>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      leg-&gt;Draw();</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      ortCanv-&gt;Update();</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a23b4d2100d221a5fcc5ed1c69c5e706d">fProfileIntegralForward</a> = 0;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a6632fc6e57a83fdceed6e0324206c6bc">fProfileIntegralBackward</a> = 0;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="comment">//calculate the forward and backward integrals counting int the maximum bin.</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ibin = 0; ibin &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">fProfileNbins</a>; ibin++) {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">if</span> (ibin &lt;= <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a414196d21654aeb29c2e9b5c2c13917b">fProfileMaximumBin</a>) <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a23b4d2100d221a5fcc5ed1c69c5e706d">fProfileIntegralForward</a> += <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.at(ibin);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <span class="keywordflow">if</span> (ibin &gt;= <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a414196d21654aeb29c2e9b5c2c13917b">fProfileMaximumBin</a>) <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a6632fc6e57a83fdceed6e0324206c6bc">fProfileIntegralBackward</a> += <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.at(ibin);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="comment">// now, we have the forward and backward integral so start</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="comment">// stepping forward and backward to find the trunk of the</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="comment">// shower. This is done making sure that the running</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="comment">// integral until less than 1% is left and the bin is above</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="comment">// a set theshold many empty bins.</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="comment">//forward loop</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordtype">double</span> running_integral = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a23b4d2100d221a5fcc5ed1c69c5e706d">fProfileIntegralForward</a>;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordtype">int</span> startbin, endbin;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">for</span> (startbin = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a414196d21654aeb29c2e9b5c2c13917b">fProfileMaximumBin</a>; startbin &gt; 1 &amp;&amp; startbin &lt; (int)(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.size());</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;         startbin--) {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      running_integral -= <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.at(startbin);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.at(startbin) &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a330a3428d9fd443210389039d6ad10f5">fChargeCutoffThreshold</a>.at(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a>) &amp;&amp;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;          running_integral / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a23b4d2100d221a5fcc5ed1c69c5e706d">fProfileIntegralForward</a> &lt; 0.01)</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.at(startbin) &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a330a3428d9fd443210389039d6ad10f5">fChargeCutoffThreshold</a>.at(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a>) &amp;&amp;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;               startbin - 1 &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;               <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.at(startbin - 1) &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a330a3428d9fd443210389039d6ad10f5">fChargeCutoffThreshold</a>.at(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a>) &amp;&amp;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;               startbin - 2 &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;               <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.at(startbin - 2) &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a330a3428d9fd443210389039d6ad10f5">fChargeCutoffThreshold</a>.at(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a>))</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="comment">//backward loop</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    running_integral = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a6632fc6e57a83fdceed6e0324206c6bc">fProfileIntegralBackward</a>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordflow">for</span> (endbin = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a414196d21654aeb29c2e9b5c2c13917b">fProfileMaximumBin</a>; endbin &gt; 0 &amp;&amp; endbin &lt; fProfileNbins - 1; endbin++) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      running_integral -= <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.at(endbin);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.at(endbin) &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a330a3428d9fd443210389039d6ad10f5">fChargeCutoffThreshold</a>.at(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a>) &amp;&amp;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;          running_integral / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a6632fc6e57a83fdceed6e0324206c6bc">fProfileIntegralBackward</a> &lt; 0.01)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.at(endbin) &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a330a3428d9fd443210389039d6ad10f5">fChargeCutoffThreshold</a>.at(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a>) &amp;&amp;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;               endbin + 1 &lt; fProfileNbins - 1 &amp;&amp; endbin + 2 &lt; fProfileNbins - 1 &amp;&amp;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;               <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.at(endbin + 1) &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a330a3428d9fd443210389039d6ad10f5">fChargeCutoffThreshold</a>.at(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a>) &amp;&amp;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;               <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.at(endbin + 2) &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a330a3428d9fd443210389039d6ad10f5">fChargeCutoffThreshold</a>.at(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a>))</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="comment">// now have profile start and endpoints. Now translate to wire/time.</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="comment">// Will use wire/time that are on the rough axis.</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="comment">// fProjectedLength is the length from fInterLow to interhigh a</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="comment">// long the rough_2d_axis on bin distance is:</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="comment">// util::PxPoint OnlinePoint;</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keywordflow">if</span> (inv_2d_slope != -999999) <span class="comment">//almost all cases</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <span class="keywordtype">double</span> ort_intercept_begin =</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a702151257eff2af1499e7b657f55403b">fBeginIntercept</a> + (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a5a8bc02edea927fa87d8957354a678c0">fEndIntercept</a> - <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a702151257eff2af1499e7b657f55403b">fBeginIntercept</a>) / fProfileNbins * startbin;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      gser.GetPointOnLineWSlopes(</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">fRough2DIntercept</a>, ort_intercept_begin, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <span class="keywordtype">double</span> ort_intercept_end =</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a702151257eff2af1499e7b657f55403b">fBeginIntercept</a> + (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a5a8bc02edea927fa87d8957354a678c0">fEndIntercept</a> - <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a702151257eff2af1499e7b657f55403b">fBeginIntercept</a>) / fProfileNbins * endbin;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a8c46094a24571dc2e0c3295491660cf1">plane</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a>;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      gser.GetPointOnLineWSlopes(</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">fRough2DIntercept</a>, ort_intercept_end, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a8c46094a24571dc2e0c3295491660cf1">plane</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a>;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <span class="keywordtype">double</span> wire_begin = WireLow + (WireHigh - WireLow) / fProfileNbins * startbin;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <a class="code" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a> ptemphigh(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a>, wire_begin, (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a9d7c4145cff439c0d23d6b5a003cd66b">fInterHigh_side</a> + <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a96a72f528edb966984b99ed90f4c105c">fInterLow_side</a>) / 2);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      gser.GetPointOnLine(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">fRough2DIntercept</a>, &amp;ptemphigh, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a8c46094a24571dc2e0c3295491660cf1">plane</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <span class="keywordtype">double</span> wire_end = WireLow + (WireHigh - WireLow) / fProfileNbins * endbin;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <a class="code" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a> ptemplow(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a>, wire_end, (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a9d7c4145cff439c0d23d6b5a003cd66b">fInterHigh_side</a> + <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a96a72f528edb966984b99ed90f4c105c">fInterLow_side</a>) / 2);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      gser.GetPointOnLine(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">fRough2DIntercept</a>, &amp;ptemplow, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a8c46094a24571dc2e0c3295491660cf1">plane</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a>;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>)</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;  rough start points &quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; end: &quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="comment">// ok. now have fRoughBeginPoint and fRoughEndPoint. No decision about direction has been made yet.</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">end_point</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acc350cec04111ec313ae33521d22d10c">fFinishedGetProfileInfo</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a>.push_back(<span class="stringliteral">&quot;GetProfileInfo&quot;</span>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">fTimeRecord_ProcTime</a>.push_back(localWatch.RealTime());</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a38fae65231a0e8b930cde5adfef15f09"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a38fae65231a0e8b930cde5adfef15f09">cluster::ClusterParamsAlg::GetRoughAxis</a></div><div class="ttdeci">void GetRoughAxis(bool override=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00277">ClusterParamsAlg.cxx:277</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a48f0337eb89c4856d24ed014f48f1fb1"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a48f0337eb89c4856d24ed014f48f1fb1">cluster::ClusterParamsAlg::fFinishedGetRoughAxis</a></div><div class="ttdeci">bool fFinishedGetRoughAxis</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00330">ClusterParamsAlg.h:330</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a43eaa08014e1a0c213a2ed432dfdd72b"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a43eaa08014e1a0c213a2ed432dfdd72b">cluster::ClusterParamsAlg::fCoarseNbins</a></div><div class="ttdeci">int fCoarseNbins</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00315">ClusterParamsAlg.h:315</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a73eaded4573b1f056181f673b5ad2b85"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a73eaded4573b1f056181f673b5ad2b85">cluster::ClusterParamsAlg::fCoarseChargeProfile</a></div><div class="ttdeci">std::vector&lt; double &gt; fCoarseChargeProfile</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00311">ClusterParamsAlg.h:311</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a9d7c4145cff439c0d23d6b5a003cd66b"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a9d7c4145cff439c0d23d6b5a003cd66b">cluster::ClusterParamsAlg::fInterHigh_side</a></div><div class="ttdeci">double fInterHigh_side</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00325">ClusterParamsAlg.h:325</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ad8c1852c676d659d1204712e91be10a0"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">cluster::ClusterParamsAlg::fTimeRecord_ProcName</a></div><div class="ttdeci">std::vector&lt; std::string &gt; fTimeRecord_ProcName</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00387">ClusterParamsAlg.h:387</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_acebf44d6575c557990437f02608b0c6a"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">cluster::ClusterParamsAlg::fRoughBeginPoint</a></div><div class="ttdeci">util::PxPoint fRoughBeginPoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00341">ClusterParamsAlg.h:341</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb9af9abb6078d131e338e85f49aebb4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">cluster::ClusterParamsAlg::fHitVector</a></div><div class="ttdeci">std::vector&lt; util::PxHit &gt; fHitVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00298">ClusterParamsAlg.h:298</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a5a8bc02edea927fa87d8957354a678c0"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a5a8bc02edea927fa87d8957354a678c0">cluster::ClusterParamsAlg::fEndIntercept</a></div><div class="ttdeci">double fEndIntercept</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00324">ClusterParamsAlg.h:324</a></div></div>
<div class="ttc" id="cheaterreco_8fcl_html_abf2e819dbf4c327e098bebd4b2dc0597"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a></div><div class="ttdeci">process_name hit</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_abe0316531aeec61519f82e429c4b8b2d"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abe0316531aeec61519f82e429c4b8b2d">cluster::ClusterParamsAlg::fProjectedLength</a></div><div class="ttdeci">double fProjectedLength</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00320">ClusterParamsAlg.h:320</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a6632fc6e57a83fdceed6e0324206c6bc"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a6632fc6e57a83fdceed6e0324206c6bc">cluster::ClusterParamsAlg::fProfileIntegralBackward</a></div><div class="ttdeci">double fProfileIntegralBackward</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00319">ClusterParamsAlg.h:319</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a90c092ecc6922c8d7f52cdc0e4858d78"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a90c092ecc6922c8d7f52cdc0e4858d78">cluster::cluster_params::width</a></div><div class="ttdeci">double width</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00051">ClusterParams.h:51</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a414196d21654aeb29c2e9b5c2c13917b"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a414196d21654aeb29c2e9b5c2c13917b">cluster::ClusterParamsAlg::fProfileMaximumBin</a></div><div class="ttdeci">int fProfileMaximumBin</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00317">ClusterParamsAlg.h:317</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a23b4d2100d221a5fcc5ed1c69c5e706d"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a23b4d2100d221a5fcc5ed1c69c5e706d">cluster::ClusterParamsAlg::fProfileIntegralForward</a></div><div class="ttdeci">double fProfileIntegralForward</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00318">ClusterParamsAlg.h:318</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a280c4b87c00dcc43852c2a8eba8e3271"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a280c4b87c00dcc43852c2a8eba8e3271">cluster::cluster_params::sum_charge</a></div><div class="ttdeci">double sum_charge</div><div class="ttdoc">Sum charge of hits in ADC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00026">ClusterParams.h:26</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae048785b39f20c708426303fc5dbe197"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">cluster::ClusterParamsAlg::fParams</a></div><div class="ttdeci">cluster::cluster_params fParams</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00383">ClusterParamsAlg.h:383</a></div></div>
<div class="ttc" id="classutil_1_1PxPoint_html_adb9e9f9647d218f44804110a664e5eea"><div class="ttname"><a href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">util::PxPoint::t</a></div><div class="ttdeci">double t</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00011">PxUtils.h:11</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a871dfc394113d9815565dc88a5af54c3"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a871dfc394113d9815565dc88a5af54c3">cluster::cluster_params::N_Hits</a></div><div class="ttdeci">double N_Hits</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00058">ClusterParams.h:58</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ab6e8a917560abcf71a5079c7a172fa7f"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">cluster::ClusterParamsAlg::fTimeRecord_ProcTime</a></div><div class="ttdeci">std::vector&lt; double &gt; fTimeRecord_ProcTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00388">ClusterParamsAlg.h:388</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a09109ad847929d48f11d1ee7d6b78ddc"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">cluster::cluster_params::start_point</a></div><div class="ttdeci">util::PxPoint start_point</div><div class="ttdoc">start point </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00023">ClusterParams.h:23</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a96a72f528edb966984b99ed90f4c105c"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a96a72f528edb966984b99ed90f4c105c">cluster::ClusterParamsAlg::fInterLow_side</a></div><div class="ttdeci">double fInterLow_side</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00326">ClusterParamsAlg.h:326</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aa562a0d352b8dc45dc0b90d034f6feaf"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">cluster::ClusterParamsAlg::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00301">ClusterParamsAlg.h:301</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae203cdb5ed5dab4c10336fefc57c3a4f"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">cluster::ClusterParamsAlg::fRough2DIntercept</a></div><div class="ttdeci">double fRough2DIntercept</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00340">ClusterParamsAlg.h:340</a></div></div>
<div class="ttc" id="classutil_1_1PxPoint_html"><div class="ttname"><a href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00008">PxUtils.h:8</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_acc350cec04111ec313ae33521d22d10c"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acc350cec04111ec313ae33521d22d10c">cluster::ClusterParamsAlg::fFinishedGetProfileInfo</a></div><div class="ttdeci">bool fFinishedGetProfileInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00331">ClusterParamsAlg.h:331</a></div></div>
<div class="ttc" id="classutil_1_1PxPoint_html_a92fe4a37356c1b6968313142068ec9e5"><div class="ttname"><a href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">util::PxPoint::w</a></div><div class="ttdeci">double w</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00010">PxUtils.h:10</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aa06e4f84c550ccce228d135b7bfbd6ac"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">cluster::ClusterParamsAlg::fChargeProfile</a></div><div class="ttdeci">std::vector&lt; double &gt; fChargeProfile</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00310">ClusterParamsAlg.h:310</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a702151257eff2af1499e7b657f55403b"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a702151257eff2af1499e7b657f55403b">cluster::ClusterParamsAlg::fBeginIntercept</a></div><div class="ttdeci">double fBeginIntercept</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00323">ClusterParamsAlg.h:323</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ac3e5b414c555a9c129c1e9947595c7da"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">cluster::ClusterParamsAlg::fRoughEndPoint</a></div><div class="ttdeci">util::PxPoint fRoughEndPoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00342">ClusterParamsAlg.h:342</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_aacea4041484c2faf2f9a672f5bed6ec6"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">cluster::cluster_params::end_point</a></div><div class="ttdeci">util::PxPoint end_point</div><div class="ttdoc">end point </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00024">ClusterParams.h:24</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_afdf7948afa880726dd4683e51ce90fba"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#afdf7948afa880726dd4683e51ce90fba">cluster::ClusterParamsAlg::fProfileNbins</a></div><div class="ttdeci">int fProfileNbins</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00316">ClusterParamsAlg.h:316</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a173f5ebacd7449c535fafc4f70fe409c"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">cluster::ClusterParamsAlg::fPlane</a></div><div class="ttdeci">int fPlane</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00305">ClusterParamsAlg.h:305</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a0f44780404f5242c805b2b989eb3998b"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">cluster::ClusterParamsAlg::fRough2DSlope</a></div><div class="ttdeci">double fRough2DSlope</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00339">ClusterParamsAlg.h:339</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="classutil_1_1PxPoint_html_a8c46094a24571dc2e0c3295491660cf1"><div class="ttname"><a href="../../d4/def/classutil_1_1PxPoint.html#a8c46094a24571dc2e0c3295491660cf1">util::PxPoint::plane</a></div><div class="ttdeci">unsigned int plane</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00012">PxUtils.h:12</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a330a3428d9fd443210389039d6ad10f5"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a330a3428d9fd443210389039d6ad10f5">cluster::ClusterParamsAlg::fChargeCutoffThreshold</a></div><div class="ttdeci">std::vector&lt; double &gt; fChargeCutoffThreshold</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00304">ClusterParamsAlg.h:304</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a38fae65231a0e8b930cde5adfef15f09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::GetRoughAxis </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>override</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the following variables: verticalness fRough2DSlope fRough2DIntercept </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">override</td><td>[description] </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00277">277</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">if</span> (!<span class="keyword">override</span>) { <span class="comment">//Override being set, we skip all this logic.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="comment">//OK, no override. Stop if we&#39;re already finshed.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a48f0337eb89c4856d24ed014f48f1fb1">fFinishedGetRoughAxis</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="comment">//Try to run the previous function if not yet done.</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af5023da2abe72f09a46cc3b0c4bf2ff4">fFinishedGetAverages</a>) <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a3f5eb20ad826775167bfa107e251eb92">GetAverages</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="comment">//Try to run the previous function if not yet done.</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af5023da2abe72f09a46cc3b0c4bf2ff4">fFinishedGetAverages</a>) <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a3f5eb20ad826775167bfa107e251eb92">GetAverages</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    TStopwatch localWatch;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    localWatch.Start();</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordtype">double</span> rmsx = 0.0;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordtype">double</span> rmsy = 0.0;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordtype">double</span> rmsq = 0.0;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">//using the charge weighted coordinates find the axis from slope</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordtype">double</span> ncw = 0;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordtype">double</span> sumtime = 0;     <span class="comment">//from sum averages</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordtype">double</span> sumwire = 0;     <span class="comment">//from sum averages</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordtype">double</span> sumwiretime = 0; <span class="comment">//sum over (wire*time)</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordtype">double</span> sumwirewire = 0; <span class="comment">//sum over (wire*wire)</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="comment">//next loop over all hits again</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a> : <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="comment">// First, abuse this loop to calculate rms in x and y</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      rmsx += pow(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a2ed0196704487ed785700339cf450e16">mean_x</a> - <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.w, 2) / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a871dfc394113d9815565dc88a5af54c3">N_Hits</a>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      rmsy += pow(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#afdf972f6b2dcc10452f4c638da6fb8dd">mean_y</a> - <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.t, 2) / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a871dfc394113d9815565dc88a5af54c3">N_Hits</a>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      rmsq += pow(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a3ee2a4c65c93ef3a2c6c9a03506808d3">mean_charge</a> - <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.charge, 2) / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a871dfc394113d9815565dc88a5af54c3">N_Hits</a>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="comment">//if charge is above avg_charge</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.charge &gt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a3ee2a4c65c93ef3a2c6c9a03506808d3">mean_charge</a>) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        ncw += 1;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        sumwire += <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.w;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        sumtime += <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.t;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        sumwiretime += <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.w * <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.t;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        sumwirewire += pow(<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.w, 2);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      } <span class="comment">//for high charge</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    }   <span class="comment">//For hh loop</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a5d2847ffd3e7aea7354c267d0e56d472">rms_x</a> = sqrt(rmsx);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aad2b73580ffa2192c974922025f13059">rms_y</a> = sqrt(rmsy);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a144991e12fd4eaeab03981dd3f1c902c">RMS_charge</a> = sqrt(rmsq);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a43a698a4c1e03f02af8440f85b5ef1d3">N_Hits_HC</a> = ncw;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">//Looking for the slope and intercept of the line above avg_charge hits</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span> ((ncw * sumwirewire - sumwire * sumwire) &gt; 0.00001)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a> = (ncw * sumwiretime - sumwire * sumtime) /</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                      (ncw * sumwirewire - sumwire * sumwire); <span class="comment">//slope for cw</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a> = 999;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">fRough2DIntercept</a> =</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      (<a class="code" href="../../d0/d8e/namespacegeo_1_1vect.html#a2b86f9ce3fb9b46f603782288e918bdf">std::isfinite</a>(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a7572a3749336b2d0df0f9db4da4b8f6d">charge_wgt_x</a>) &amp;&amp; <a class="code" href="../../d0/d8e/namespacegeo_1_1vect.html#a2b86f9ce3fb9b46f603782288e918bdf">std::isfinite</a>(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#acff78f7f053efdc79b9e8c825df884f5">charge_wgt_y</a>)) ?</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#acff78f7f053efdc79b9e8c825df884f5">charge_wgt_y</a> - <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a> * (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a7572a3749336b2d0df0f9db4da4b8f6d">charge_wgt_x</a>) : <span class="comment">//intercept for cw</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        0.;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="comment">//Getthe 2D_angle</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a4bc01efdf3489efa149c811cf6814cc0">cluster_angle_2d</a> = atan(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a>) * 180 / <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a48f0337eb89c4856d24ed014f48f1fb1">fFinishedGetRoughAxis</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a>.push_back(<span class="stringliteral">&quot;GetRoughAxis&quot;</span>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">fTimeRecord_ProcTime</a>.push_back(localWatch.RealTime());</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a48f0337eb89c4856d24ed014f48f1fb1"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a48f0337eb89c4856d24ed014f48f1fb1">cluster::ClusterParamsAlg::fFinishedGetRoughAxis</a></div><div class="ttdeci">bool fFinishedGetRoughAxis</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00330">ClusterParamsAlg.h:330</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ad8c1852c676d659d1204712e91be10a0"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">cluster::ClusterParamsAlg::fTimeRecord_ProcName</a></div><div class="ttdeci">std::vector&lt; std::string &gt; fTimeRecord_ProcName</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00387">ClusterParamsAlg.h:387</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_acff78f7f053efdc79b9e8c825df884f5"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#acff78f7f053efdc79b9e8c825df884f5">cluster::cluster_params::charge_wgt_y</a></div><div class="ttdeci">double charge_wgt_y</div><div class="ttdoc">Mean of hits along y, charge weighted. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00037">ClusterParams.h:37</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a2ed0196704487ed785700339cf450e16"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a2ed0196704487ed785700339cf450e16">cluster::cluster_params::mean_x</a></div><div class="ttdeci">double mean_x</div><div class="ttdoc">Mean of hits along x, peaks only. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00032">ClusterParams.h:32</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb9af9abb6078d131e338e85f49aebb4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">cluster::ClusterParamsAlg::fHitVector</a></div><div class="ttdeci">std::vector&lt; util::PxHit &gt; fHitVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00298">ClusterParamsAlg.h:298</a></div></div>
<div class="ttc" id="cheaterreco_8fcl_html_abf2e819dbf4c327e098bebd4b2dc0597"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a></div><div class="ttdeci">process_name hit</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_afdf972f6b2dcc10452f4c638da6fb8dd"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#afdf972f6b2dcc10452f4c638da6fb8dd">cluster::cluster_params::mean_y</a></div><div class="ttdeci">double mean_y</div><div class="ttdoc">Mean of hits along y, peaks only. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00033">ClusterParams.h:33</a></div></div>
<div class="ttc" id="HoughBaseAlg_8cxx_html_a299aabc5fc8285cbf99025330a3d0d0d"><div class="ttname"><a href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a></div><div class="ttdeci">constexpr double PI</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dee/HoughBaseAlg_8cxx_source.html#l00060">HoughBaseAlg.cxx:60</a></div></div>
<div class="ttc" id="namespacegeo_1_1vect_html_a2b86f9ce3fb9b46f603782288e918bdf"><div class="ttname"><a href="../../d0/d8e/namespacegeo_1_1vect.html#a2b86f9ce3fb9b46f603782288e918bdf">geo::vect::isfinite</a></div><div class="ttdeci">bool isfinite(Vector const &amp;v)</div><div class="ttdoc">Returns whether all components of the vector are finite. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6c/geo__vectors__utils_8h_source.html#l02135">geo_vectors_utils.h:2135</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae048785b39f20c708426303fc5dbe197"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">cluster::ClusterParamsAlg::fParams</a></div><div class="ttdeci">cluster::cluster_params fParams</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00383">ClusterParamsAlg.h:383</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a144991e12fd4eaeab03981dd3f1c902c"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a144991e12fd4eaeab03981dd3f1c902c">cluster::cluster_params::RMS_charge</a></div><div class="ttdeci">double RMS_charge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00062">ClusterParams.h:62</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a871dfc394113d9815565dc88a5af54c3"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a871dfc394113d9815565dc88a5af54c3">cluster::cluster_params::N_Hits</a></div><div class="ttdeci">double N_Hits</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00058">ClusterParams.h:58</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a43a698a4c1e03f02af8440f85b5ef1d3"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a43a698a4c1e03f02af8440f85b5ef1d3">cluster::cluster_params::N_Hits_HC</a></div><div class="ttdeci">double N_Hits_HC</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00059">ClusterParams.h:59</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ab6e8a917560abcf71a5079c7a172fa7f"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">cluster::ClusterParamsAlg::fTimeRecord_ProcTime</a></div><div class="ttdeci">std::vector&lt; double &gt; fTimeRecord_ProcTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00388">ClusterParamsAlg.h:388</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae203cdb5ed5dab4c10336fefc57c3a4f"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">cluster::ClusterParamsAlg::fRough2DIntercept</a></div><div class="ttdeci">double fRough2DIntercept</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00340">ClusterParamsAlg.h:340</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a3f5eb20ad826775167bfa107e251eb92"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a3f5eb20ad826775167bfa107e251eb92">cluster::ClusterParamsAlg::GetAverages</a></div><div class="ttdeci">void GetAverages(bool override=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00203">ClusterParamsAlg.cxx:203</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a3ee2a4c65c93ef3a2c6c9a03506808d3"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a3ee2a4c65c93ef3a2c6c9a03506808d3">cluster::cluster_params::mean_charge</a></div><div class="ttdeci">double mean_charge</div><div class="ttdoc">Mean (average) charge of hits in ADC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00027">ClusterParams.h:27</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a7572a3749336b2d0df0f9db4da4b8f6d"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a7572a3749336b2d0df0f9db4da4b8f6d">cluster::cluster_params::charge_wgt_x</a></div><div class="ttdeci">double charge_wgt_x</div><div class="ttdoc">Mean of hits along x, charge weighted. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00036">ClusterParams.h:36</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a0f44780404f5242c805b2b989eb3998b"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">cluster::ClusterParamsAlg::fRough2DSlope</a></div><div class="ttdeci">double fRough2DSlope</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00339">ClusterParamsAlg.h:339</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_af5023da2abe72f09a46cc3b0c4bf2ff4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af5023da2abe72f09a46cc3b0c4bf2ff4">cluster::ClusterParamsAlg::fFinishedGetAverages</a></div><div class="ttdeci">bool fFinishedGetAverages</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00329">ClusterParamsAlg.h:329</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a4bc01efdf3489efa149c811cf6814cc0"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a4bc01efdf3489efa149c811cf6814cc0">cluster::cluster_params::cluster_angle_2d</a></div><div class="ttdeci">double cluster_angle_2d</div><div class="ttdoc">Linear best fit to high-charge hits in the cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00038">ClusterParams.h:38</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a5d2847ffd3e7aea7354c267d0e56d472"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a5d2847ffd3e7aea7354c267d0e56d472">cluster::cluster_params::rms_x</a></div><div class="ttdeci">double rms_x</div><div class="ttdoc">rms of hits along x (wires) </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00034">ClusterParams.h:34</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_aad2b73580ffa2192c974922025f13059"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#aad2b73580ffa2192c974922025f13059">cluster::cluster_params::rms_y</a></div><div class="ttdeci">double rms_y</div><div class="ttdoc">rms of hits along y, (time) </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00035">ClusterParams.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af0b16a7d34f4ef36bed9734d5afc252c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::Initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00131">131</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a>.clear();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">fTimeRecord_ProcTime</a>.clear();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    TStopwatch localWatch;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    localWatch.Start();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">//--- Initilize attributes values ---//</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af5023da2abe72f09a46cc3b0c4bf2ff4">fFinishedGetAverages</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a48f0337eb89c4856d24ed014f48f1fb1">fFinishedGetRoughAxis</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acc350cec04111ec313ae33521d22d10c">fFinishedGetProfileInfo</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb4dccf8a4331f45a6601ee53bf290fb">fFinishedRefineStartPoints</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a164f3d982dc140811b3ef995bafeff6d">fFinishedRefineDirection</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a8f82fbc519ea7024b1dd15829dda19b6">fFinishedGetFinalSlope</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa17a0963baf5e18c795a9662e85abdb6">fFinishedRefineStartPointAndDirection</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af3ba0e35ecbbdde118ca1a6b3ef6afe7">fFinishedTrackShowerSep</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a91ba354744efb9666342c286f01d1228">fFinishedGetEndCharges</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a> = -999.999;     <span class="comment">// slope</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">fRough2DIntercept</a> = -999.999; <span class="comment">// slope</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> = -999.999;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> = -999.999;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a> = -999.999;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a> = -999.999;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a23b4d2100d221a5fcc5ed1c69c5e706d">fProfileIntegralForward</a> = 999.999;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a6632fc6e57a83fdceed6e0324206c6bc">fProfileIntegralBackward</a> = 999.999;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a414196d21654aeb29c2e9b5c2c13917b">fProfileMaximumBin</a> = -999;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a330a3428d9fd443210389039d6ad10f5">fChargeCutoffThreshold</a>.clear();</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a330a3428d9fd443210389039d6ad10f5">fChargeCutoffThreshold</a>.reserve(3);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a330a3428d9fd443210389039d6ad10f5">fChargeCutoffThreshold</a>.push_back(500);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a330a3428d9fd443210389039d6ad10f5">fChargeCutoffThreshold</a>.push_back(500);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a330a3428d9fd443210389039d6ad10f5">fChargeCutoffThreshold</a>.push_back(1000);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>.clear();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#ac249b5d61a5890bc3e27db237fb1af35">Clear</a>();</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a>.push_back(<span class="stringliteral">&quot;Initialize&quot;</span>);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">fTimeRecord_ProcTime</a>.push_back(localWatch.RealTime());</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a48f0337eb89c4856d24ed014f48f1fb1"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a48f0337eb89c4856d24ed014f48f1fb1">cluster::ClusterParamsAlg::fFinishedGetRoughAxis</a></div><div class="ttdeci">bool fFinishedGetRoughAxis</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00330">ClusterParamsAlg.h:330</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_ac249b5d61a5890bc3e27db237fb1af35"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#ac249b5d61a5890bc3e27db237fb1af35">cluster::cluster_params::Clear</a></div><div class="ttdeci">void Clear()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00074">ClusterParams.h:74</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ad8c1852c676d659d1204712e91be10a0"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">cluster::ClusterParamsAlg::fTimeRecord_ProcName</a></div><div class="ttdeci">std::vector&lt; std::string &gt; fTimeRecord_ProcName</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00387">ClusterParamsAlg.h:387</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_acebf44d6575c557990437f02608b0c6a"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">cluster::ClusterParamsAlg::fRoughBeginPoint</a></div><div class="ttdeci">util::PxPoint fRoughBeginPoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00341">ClusterParamsAlg.h:341</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb9af9abb6078d131e338e85f49aebb4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">cluster::ClusterParamsAlg::fHitVector</a></div><div class="ttdeci">std::vector&lt; util::PxHit &gt; fHitVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00298">ClusterParamsAlg.h:298</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a8f82fbc519ea7024b1dd15829dda19b6"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a8f82fbc519ea7024b1dd15829dda19b6">cluster::ClusterParamsAlg::fFinishedGetFinalSlope</a></div><div class="ttdeci">bool fFinishedGetFinalSlope</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00334">ClusterParamsAlg.h:334</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a6632fc6e57a83fdceed6e0324206c6bc"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a6632fc6e57a83fdceed6e0324206c6bc">cluster::ClusterParamsAlg::fProfileIntegralBackward</a></div><div class="ttdeci">double fProfileIntegralBackward</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00319">ClusterParamsAlg.h:319</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aa17a0963baf5e18c795a9662e85abdb6"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa17a0963baf5e18c795a9662e85abdb6">cluster::ClusterParamsAlg::fFinishedRefineStartPointAndDirection</a></div><div class="ttdeci">bool fFinishedRefineStartPointAndDirection</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00335">ClusterParamsAlg.h:335</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a414196d21654aeb29c2e9b5c2c13917b"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a414196d21654aeb29c2e9b5c2c13917b">cluster::ClusterParamsAlg::fProfileMaximumBin</a></div><div class="ttdeci">int fProfileMaximumBin</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00317">ClusterParamsAlg.h:317</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a23b4d2100d221a5fcc5ed1c69c5e706d"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a23b4d2100d221a5fcc5ed1c69c5e706d">cluster::ClusterParamsAlg::fProfileIntegralForward</a></div><div class="ttdeci">double fProfileIntegralForward</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00318">ClusterParamsAlg.h:318</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae048785b39f20c708426303fc5dbe197"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">cluster::ClusterParamsAlg::fParams</a></div><div class="ttdeci">cluster::cluster_params fParams</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00383">ClusterParamsAlg.h:383</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a91ba354744efb9666342c286f01d1228"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a91ba354744efb9666342c286f01d1228">cluster::ClusterParamsAlg::fFinishedGetEndCharges</a></div><div class="ttdeci">bool fFinishedGetEndCharges</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00337">ClusterParamsAlg.h:337</a></div></div>
<div class="ttc" id="classutil_1_1PxPoint_html_adb9e9f9647d218f44804110a664e5eea"><div class="ttname"><a href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">util::PxPoint::t</a></div><div class="ttdeci">double t</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00011">PxUtils.h:11</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ab6e8a917560abcf71a5079c7a172fa7f"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">cluster::ClusterParamsAlg::fTimeRecord_ProcTime</a></div><div class="ttdeci">std::vector&lt; double &gt; fTimeRecord_ProcTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00388">ClusterParamsAlg.h:388</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae203cdb5ed5dab4c10336fefc57c3a4f"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">cluster::ClusterParamsAlg::fRough2DIntercept</a></div><div class="ttdeci">double fRough2DIntercept</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00340">ClusterParamsAlg.h:340</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_acc350cec04111ec313ae33521d22d10c"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acc350cec04111ec313ae33521d22d10c">cluster::ClusterParamsAlg::fFinishedGetProfileInfo</a></div><div class="ttdeci">bool fFinishedGetProfileInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00331">ClusterParamsAlg.h:331</a></div></div>
<div class="ttc" id="classutil_1_1PxPoint_html_a92fe4a37356c1b6968313142068ec9e5"><div class="ttname"><a href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">util::PxPoint::w</a></div><div class="ttdeci">double w</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00010">PxUtils.h:10</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a164f3d982dc140811b3ef995bafeff6d"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a164f3d982dc140811b3ef995bafeff6d">cluster::ClusterParamsAlg::fFinishedRefineDirection</a></div><div class="ttdeci">bool fFinishedRefineDirection</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00333">ClusterParamsAlg.h:333</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ac3e5b414c555a9c129c1e9947595c7da"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">cluster::ClusterParamsAlg::fRoughEndPoint</a></div><div class="ttdeci">util::PxPoint fRoughEndPoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00342">ClusterParamsAlg.h:342</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb4dccf8a4331f45a6601ee53bf290fb"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb4dccf8a4331f45a6601ee53bf290fb">cluster::ClusterParamsAlg::fFinishedRefineStartPoints</a></div><div class="ttdeci">bool fFinishedRefineStartPoints</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00332">ClusterParamsAlg.h:332</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_af3ba0e35ecbbdde118ca1a6b3ef6afe7"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af3ba0e35ecbbdde118ca1a6b3ef6afe7">cluster::ClusterParamsAlg::fFinishedTrackShowerSep</a></div><div class="ttdeci">bool fFinishedTrackShowerSep</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00336">ClusterParamsAlg.h:336</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a0f44780404f5242c805b2b989eb3998b"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">cluster::ClusterParamsAlg::fRough2DSlope</a></div><div class="ttdeci">double fRough2DSlope</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00339">ClusterParamsAlg.h:339</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_af5023da2abe72f09a46cc3b0c4bf2ff4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af5023da2abe72f09a46cc3b0c4bf2ff4">cluster::ClusterParamsAlg::fFinishedGetAverages</a></div><div class="ttdeci">bool fFinishedGetAverages</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00329">ClusterParamsAlg.h:329</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a330a3428d9fd443210389039d6ad10f5"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a330a3428d9fd443210389039d6ad10f5">cluster::ClusterParamsAlg::fChargeCutoffThreshold</a></div><div class="ttdeci">std::vector&lt; double &gt; fChargeCutoffThreshold</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00304">ClusterParamsAlg.h:304</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3bfe96157bea5ad046a844f51e9b6a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double cluster::ClusterParamsAlg::IntegrateFitCharge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;&#160;</td>
          <td class="paramname"><em>gser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>from_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>to_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>fit_first_bin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>fit_end_bin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Integrates the charge between two positions in the cluster axis. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">from_length</td><td>position on the axis to start integration from, in cm </td></tr>
    <tr><td class="paramname">to_length</td><td>position on the axis to end integration at, in cm </td></tr>
    <tr><td class="paramname">fit_first_bin</td><td>first bin for the charge fit </td></tr>
    <tr><td class="paramname">fit_end_bin</td><td>next-to-last bin for the charge fit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the charged fit integrated in the specified range, in ADC counts </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a277f8ef9c4d94f5b4a829384434dd0ca" title="Returns the expected charge at the beginning of the cluster. ">StartCharge()</a>, <a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aac5960c5625e536685e450184f35f8f3" title="Returns the expected charge at the end of the cluster. ">EndCharge()</a></dd></dl>
<p>This function provides an almost-punctual charge at a position in the axis. Since the effective punctual charge is 0 ADC counts by definition, the charge can be integrated for some length. The procedure is made of two steps:</p>
<ol type="1">
<li>the charge profile is parametrized with a linear fit within the specified region</li>
<li>an integration of that fit is performed along the segment specified.</li>
</ol>
<p>The region at point 1. is from <code>fit_first_bin</code> to <code>fit_end_bin</code>. These are specified in bin units. The binning is the one of the charge profile. It is suggested that a few bins are always kept, say 5 to 10, to reduce statistical fluctuations but maintaining a decent hypothesis of linearity along the range. The linear fit weighs all the bins in the profile the same.</p>
<p>The region at point to is from <code>from_length</code> to <code>to_length</code>, and it is measured in cm along the cluster axis, starting at the start of the cluster. </p>

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01407">1407</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  {</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <span class="comment">// first compute the information on the charge profile</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af382f3ab279409a068ff3f36c2cc0833">GetProfileInfo</a>(gser);</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="comment">// first things first</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="keywordflow">if</span> (fit_first_bin &gt; fit_end_bin) std::swap(fit_first_bin, fit_end_bin);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="comment">// how many bins can we use?</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nbins =</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      std::min(fit_end_bin - fit_first_bin, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.size());</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <span class="keywordflow">if</span> (nbins == 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="comment">// move the specified range within reason</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keywordflow">if</span> (fit_end_bin &gt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.size()) {</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      fit_end_bin = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.size();</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      fit_first_bin = fit_end_bin - nbins;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    }</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="comment">// if we have to use only one bin, so be it</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">if</span> (nbins &lt; 2) <span class="keywordflow">return</span> <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>[fit_first_bin];</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="comment">// fit the charge profile vs. bin number;</span></div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="comment">// we assume that the first bin (#0) starts from the very beginning of the</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="comment">// cluster, that is at axis coordinate 0.</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <a class="code" href="../../de/d76/classlar_1_1util_1_1LinearFit.html">lar::util::LinearFit&lt;double&gt;</a> fitter;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iBin = fit_first_bin; iBin &lt; fit_end_bin; ++iBin) {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;      <span class="comment">// should we use a Poisson error instead of no error?</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      fitter.<a class="code" href="../../d8/dc3/classlar_1_1util_1_1details_1_1SimplePolyFitterDataBase.html#aa856c76df4b43666b625b4e2b9e351f5">add</a>((<span class="keywordtype">double</span>)iBin, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>[iBin]);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    } <span class="comment">// for</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <span class="comment">// get the linear fit parameters; [0] intercept [1] slope</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <a class="code" href="../../de/d76/classlar_1_1util_1_1LinearFit.html#a1e9cd10f407a1a9386838bdb2bef1f11">lar::util::LinearFit&lt;double&gt;::FitParameters_t</a> fit;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      fit = fitter.<a class="code" href="../../d8/dd9/classlar_1_1util_1_1details_1_1SimplePolyFitterBase.html#ace155ab1da0a41774be251414c78ec21">FitParameters</a>();</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    }</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keywordflow">catch</span> (std::range_error <span class="keyword">const</span>&amp;) { <span class="comment">// oops...</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      <span class="comment">// this is actually unexpected, since the only reason for the fit to fail</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      <span class="comment">// would be a singular fit matrix, that should be pretty much impossible</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      <span class="comment">// given that the bin coordinates are well behaved and there are at least</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <span class="comment">// two of them</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a8d1a8a85a0b2a30cac1090ea528dd015">std::cerr</a> &lt;&lt; <span class="stringliteral">&quot;IntegrateFitCharge(): linear fit failed!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      <span class="keywordflow">return</span> 0.;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    }</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <span class="comment">// now determine the bins corresponding to the length to integrate;</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="comment">// note that length can be pathologic (0, negative...); not our problem!</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> length_to_bin = (double(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">fChargeProfile</a>.size() - 1) / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abe0316531aeec61519f82e429c4b8b2d">fProjectedLength</a>);</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> from_bin = from_length * length_to_bin, to_bin = to_length * length_to_bin;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <span class="comment">// we want the integral between from_bin and to_bin now:</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abdc2bdd25b37ba5274f87d42bb27f3ef">LinearIntegral</a>(fit[1] <span class="comment">/* m */</span>, fit[0] <span class="comment">/* q */</span>, from_bin, to_bin);</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  } <span class="comment">// ClusterParamsAlg::IntegrateFitCharge()</span></div>
<div class="ttc" id="messageservice_8fcl_html_a8d1a8a85a0b2a30cac1090ea528dd015"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a8d1a8a85a0b2a30cac1090ea528dd015">cerr</a></div><div class="ttdeci">BEGIN_PROLOG could also be cerr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_af382f3ab279409a068ff3f36c2cc0833"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af382f3ab279409a068ff3f36c2cc0833">cluster::ClusterParamsAlg::GetProfileInfo</a></div><div class="ttdeci">void GetProfileInfo(util::GeometryUtilities const &amp;gser, bool override=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00347">ClusterParamsAlg.cxx:347</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_abe0316531aeec61519f82e429c4b8b2d"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abe0316531aeec61519f82e429c4b8b2d">cluster::ClusterParamsAlg::fProjectedLength</a></div><div class="ttdeci">double fProjectedLength</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00320">ClusterParamsAlg.h:320</a></div></div>
<div class="ttc" id="classlar_1_1util_1_1LinearFit_html"><div class="ttname"><a href="../../de/d76/classlar_1_1util_1_1LinearFit.html">lar::util::LinearFit</a></div><div class="ttdoc">Performs a linear regression of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dd8/SimpleFits_8h_source.html#l00849">SimpleFits.h:849</a></div></div>
<div class="ttc" id="classlar_1_1util_1_1LinearFit_html_a1e9cd10f407a1a9386838bdb2bef1f11"><div class="ttname"><a href="../../de/d76/classlar_1_1util_1_1LinearFit.html#a1e9cd10f407a1a9386838bdb2bef1f11">lar::util::LinearFit::FitParameters_t</a></div><div class="ttdeci">std::array&lt; Data_t, NParams &gt; FitParameters_t</div><div class="ttdoc">type of set of fit parameters </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dd8/SimpleFits_8h_source.html#l00866">SimpleFits.h:866</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aa06e4f84c550ccce228d135b7bfbd6ac"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa06e4f84c550ccce228d135b7bfbd6ac">cluster::ClusterParamsAlg::fChargeProfile</a></div><div class="ttdeci">std::vector&lt; double &gt; fChargeProfile</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00310">ClusterParamsAlg.h:310</a></div></div>
<div class="ttc" id="classlar_1_1util_1_1details_1_1SimplePolyFitterBase_html_ace155ab1da0a41774be251414c78ec21"><div class="ttname"><a href="../../d8/dd9/classlar_1_1util_1_1details_1_1SimplePolyFitterBase.html#ace155ab1da0a41774be251414c78ec21">lar::util::details::SimplePolyFitterBase&lt; T, 1U &gt;::FitParameters</a></div><div class="ttdeci">virtual FitParameters_t FitParameters() const override</div><div class="ttdoc">Computes and returns all the parameters of the fit result. </div></div>
<div class="ttc" id="classlar_1_1util_1_1details_1_1SimplePolyFitterDataBase_html_aa856c76df4b43666b625b4e2b9e351f5"><div class="ttname"><a href="../../d8/dc3/classlar_1_1util_1_1details_1_1SimplePolyFitterDataBase.html#aa856c76df4b43666b625b4e2b9e351f5">lar::util::details::SimplePolyFitterDataBase::add</a></div><div class="ttdeci">bool add(Data_t x, Data_t y, Data_t sy=Data_t(1.0))</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dd8/SimpleFits_8h_source.html#l00366">SimpleFits.h:366</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_abdc2bdd25b37ba5274f87d42bb27f3ef"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#abdc2bdd25b37ba5274f87d42bb27f3ef">cluster::ClusterParamsAlg::LinearIntegral</a></div><div class="ttdeci">static double LinearIntegral(double m, double q, double x1, double x2)</div><div class="ttdoc">Returns the integral of f(x) = mx + q defined in [x1, x2]. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01400">ClusterParamsAlg.cxx:1400</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abdc2bdd25b37ba5274f87d42bb27f3ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double cluster::ClusterParamsAlg::LinearIntegral </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the integral of f(x) = mx + q defined in [x1, x2]. </p>

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01400">1400</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  {</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/ddf/namespacegen__crt__frags.html#a55a56854d78e363691470c7297fde77c">m</a> / 2. * (cet::square(x2) - cet::square(x1)) + <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#a7ffae28be1e862c24a9f06074a0b0ba0">q</a> * (x2 - x1);</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  }</div>
<div class="ttc" id="namespacechannelDBConverter_html_a7ffae28be1e862c24a9f06074a0b0ba0"><div class="ttname"><a href="../../d4/d43/namespacechannelDBConverter.html#a7ffae28be1e862c24a9f06074a0b0ba0">channelDBConverter.q</a></div><div class="ttdeci">string q</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d11/channelDBConverter_8py_source.html#l00143">channelDBConverter.py:143</a></div></div>
<div class="ttc" id="namespacegen__crt__frags_html_a55a56854d78e363691470c7297fde77c"><div class="ttname"><a href="../../d8/ddf/namespacegen__crt__frags.html#a55a56854d78e363691470c7297fde77c">gen_crt_frags.m</a></div><div class="ttdeci">tuple m</div><div class="ttdoc">now if test mode generate materials, CRT shell, world, gdml header else just generate CRT shell for u...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8c/gen__crt__frags_8py_source.html#l01347">gen_crt_frags.py:1347</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1eef06c32287bac7f338e22605f788c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t cluster::ClusterParamsAlg::MinNHits </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00038">38</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a7c282e19537198d9ef82f0b643d677de">fMinNHits</a>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a7c282e19537198d9ef82f0b643d677de"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a7c282e19537198d9ef82f0b643d677de">cluster::ClusterParamsAlg::fMinNHits</a></div><div class="ttdeci">size_t fMinNHits</div><div class="ttdoc">Cut value for # hits: below this value clusters are not evaluated. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00292">ClusterParamsAlg.h:292</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6510aa6396067ced803572c67a1722be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float cluster::ClusterParamsAlg::MultipleHitDensity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;&#160;</td>
          <td class="paramname"><em>gser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of multiple hits per wire. </p>
<dl class="section return"><dt>Returns</dt><dd>the number of multiple hits per wire</dd></dl>
<p>This returns the number of wires with mmore than one hit belonging to this cluster, divided by the cluster length in cm. </p>

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01528">1528</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  {</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>.size() &lt; 2) <span class="keywordflow">return</span> 0.0<a class="code" href="../../d4/daf/sbnana_2sbnana_2CAFAna_2Analysis_2Surface_8cxx.html#a2c3bf28add4b70497e6fd9070cd7dfc9">F</a>;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="comment">// compute all the averages</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a3f5eb20ad826775167bfa107e251eb92">GetAverages</a>();</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af95deec45ca513b48bf5da9387bb114d">RefineStartPoints</a>(gser); <span class="comment">// fParams.length</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <span class="comment">// return the relevant information</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keywordflow">return</span> std::isnormal(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a549cf8b7a3abb808fdf88e077fe1d611">length</a>) ? <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a37a0eb16c129298148b9a2123e3c71c4">multi_hit_wires</a> / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a549cf8b7a3abb808fdf88e077fe1d611">length</a> : 0.;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  } <span class="comment">// ClusterParamsAlg::MultipleHitDensity()</span></div>
<div class="ttc" id="sbnana_2sbnana_2CAFAna_2Analysis_2Surface_8cxx_html_a2c3bf28add4b70497e6fd9070cd7dfc9"><div class="ttname"><a href="../../d4/daf/sbnana_2sbnana_2CAFAna_2Analysis_2Surface_8cxx.html#a2c3bf28add4b70497e6fd9070cd7dfc9">F</a></div><div class="ttdeci">#define F(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/daf/sbnana_2sbnana_2CAFAna_2Analysis_2Surface_8cxx_source.html#l00280">sbnana/sbnana/CAFAna/Analysis/Surface.cxx:280</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a37a0eb16c129298148b9a2123e3c71c4"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a37a0eb16c129298148b9a2123e3c71c4">cluster::cluster_params::multi_hit_wires</a></div><div class="ttdeci">double multi_hit_wires</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00055">ClusterParams.h:55</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb9af9abb6078d131e338e85f49aebb4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">cluster::ClusterParamsAlg::fHitVector</a></div><div class="ttdeci">std::vector&lt; util::PxHit &gt; fHitVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00298">ClusterParamsAlg.h:298</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_af95deec45ca513b48bf5da9387bb114d"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af95deec45ca513b48bf5da9387bb114d">cluster::ClusterParamsAlg::RefineStartPoints</a></div><div class="ttdeci">void RefineStartPoints(util::GeometryUtilities const &amp;gser)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00697">ClusterParamsAlg.cxx:697</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae048785b39f20c708426303fc5dbe197"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">cluster::ClusterParamsAlg::fParams</a></div><div class="ttdeci">cluster::cluster_params fParams</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00383">ClusterParamsAlg.h:383</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a3f5eb20ad826775167bfa107e251eb92"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a3f5eb20ad826775167bfa107e251eb92">cluster::ClusterParamsAlg::GetAverages</a></div><div class="ttdeci">void GetAverages(bool override=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00203">ClusterParamsAlg.cxx:203</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a549cf8b7a3abb808fdf88e077fe1d611"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a549cf8b7a3abb808fdf88e077fe1d611">cluster::cluster_params::length</a></div><div class="ttdeci">double length</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00050">ClusterParams.h:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8c3a2289c83b26028743de1802823449"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float cluster::ClusterParamsAlg::MultipleHitWires </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of multiple hits per wire. </p>
<dl class="section return"><dt>Returns</dt><dd>the number of multiple hits per wire</dd></dl>
<p>This returns the fraction of wires that have more than one hit belonging to this cluster. </p>

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01515">1515</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  {</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>.size() &lt; 2) <span class="keywordflow">return</span> 0.0<a class="code" href="../../d4/daf/sbnana_2sbnana_2CAFAna_2Analysis_2Surface_8cxx.html#a2c3bf28add4b70497e6fd9070cd7dfc9">F</a>;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <span class="comment">// compute all the averages</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a3f5eb20ad826775167bfa107e251eb92">GetAverages</a>();</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="comment">// return the relevant information</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordflow">return</span> std::isnormal(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#afe0f5028bed38591bce50567c6689d0f">N_Wires</a>) ? <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a37a0eb16c129298148b9a2123e3c71c4">multi_hit_wires</a> / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#afe0f5028bed38591bce50567c6689d0f">N_Wires</a> : 0.;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  } <span class="comment">// ClusterParamsAlg::MultipleHitWires()</span></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_afe0f5028bed38591bce50567c6689d0f"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#afe0f5028bed38591bce50567c6689d0f">cluster::cluster_params::N_Wires</a></div><div class="ttdeci">double N_Wires</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00056">ClusterParams.h:56</a></div></div>
<div class="ttc" id="sbnana_2sbnana_2CAFAna_2Analysis_2Surface_8cxx_html_a2c3bf28add4b70497e6fd9070cd7dfc9"><div class="ttname"><a href="../../d4/daf/sbnana_2sbnana_2CAFAna_2Analysis_2Surface_8cxx.html#a2c3bf28add4b70497e6fd9070cd7dfc9">F</a></div><div class="ttdeci">#define F(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/daf/sbnana_2sbnana_2CAFAna_2Analysis_2Surface_8cxx_source.html#l00280">sbnana/sbnana/CAFAna/Analysis/Surface.cxx:280</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a37a0eb16c129298148b9a2123e3c71c4"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a37a0eb16c129298148b9a2123e3c71c4">cluster::cluster_params::multi_hit_wires</a></div><div class="ttdeci">double multi_hit_wires</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00055">ClusterParams.h:55</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb9af9abb6078d131e338e85f49aebb4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">cluster::ClusterParamsAlg::fHitVector</a></div><div class="ttdeci">std::vector&lt; util::PxHit &gt; fHitVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00298">ClusterParamsAlg.h:298</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae048785b39f20c708426303fc5dbe197"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">cluster::ClusterParamsAlg::fParams</a></div><div class="ttdeci">cluster::cluster_params fParams</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00383">ClusterParamsAlg.h:383</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a3f5eb20ad826775167bfa107e251eb92"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a3f5eb20ad826775167bfa107e251eb92">cluster::ClusterParamsAlg::GetAverages</a></div><div class="ttdeci">void GetAverages(bool override=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00203">ClusterParamsAlg.cxx:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8024dcadd8b11703083c598b48d25e87"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int cluster::ClusterParamsAlg::Plane </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00284">284</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a173f5ebacd7449c535fafc4f70fe409c"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">cluster::ClusterParamsAlg::fPlane</a></div><div class="ttdeci">int fPlane</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00305">ClusterParamsAlg.h:305</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af41d34478f491100f466c70aa8fd7142"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::PrintFANNVector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For debugging purposes, prints the result of GetFANNVector in a nicely formatted form. </p>
<dl class="section return"><dt>Returns</dt><dd>[description] </dd></dl>

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00108">108</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    std::vector&lt;float&gt; data;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad0a271fbbfec5fef707edb2e8a2a1c54">GetFANNVector</a>(data);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Printing FANN input vector:\n&quot;</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;   Opening Angle (normalized)  ... : &quot;</span> &lt;&lt; data[0] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;   Opening Angle charge weight  .. : &quot;</span> &lt;&lt; data[1] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;   Closing Angle (normalized)  ... : &quot;</span> &lt;&lt; data[2] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;   Closing Angle charge weight  .. : &quot;</span> &lt;&lt; data[3] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;   Principal Eigenvalue  ......... : &quot;</span> &lt;&lt; data[4] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;   Secondary Eigenvalue  ......... : &quot;</span> &lt;&lt; data[5] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;   Width / Length  ............... : &quot;</span> &lt;&lt; data[6] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;   Hit Density / M.H.D.  ......... : &quot;</span> &lt;&lt; data[7] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;   Percent MultiHit Wires  ....... : &quot;</span> &lt;&lt; data[8] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;   Percent High Charge Hits  ..... : &quot;</span> &lt;&lt; data[9] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;   Modified Hit Density  ......... : &quot;</span> &lt;&lt; data[10] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;   Charge RMS / Mean Charge ...... : &quot;</span> &lt;&lt; data[11] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;   log(Sum Charge / Length) ...... : &quot;</span> &lt;&lt; data[12] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aa562a0d352b8dc45dc0b90d034f6feaf"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">cluster::ClusterParamsAlg::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00301">ClusterParamsAlg.h:301</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ad0a271fbbfec5fef707edb2e8a2a1c54"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad0a271fbbfec5fef707edb2e8a2a1c54">cluster::ClusterParamsAlg::GetFANNVector</a></div><div class="ttdeci">void GetFANNVector(std::vector&lt; float &gt; &amp;data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00087">ClusterParamsAlg.cxx:87</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5b6d91c9ed60c61ea13487a94505c7b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::RefineDirection </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>override</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function calculates the opening/closing angles It also makes a decision on whether or not to flip the direction the cluster. Then the start point is refined later. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">override</td><td>[description] </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01051">1051</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  {</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="comment">// We don&#39;t use &quot;override&quot;? Should we remove? 05/01/14</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="keywordflow">if</span> (!<span class="keyword">override</span>) <span class="keyword">override</span> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    TStopwatch localWatch;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    localWatch.Start();</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="comment">// if(!override) { //Override being set, we skip all this logic.</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="comment">//   //OK, no override. Stop if we&#39;re already finshed.</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="comment">//   if (fFinishedRefineDirection) return;</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="comment">//   //Try to run the previous function if not yet done.</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="comment">//   if (!fFinishedGetProfileInfo) GetProfileInfo(true);</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="comment">// } else {</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="comment">//   //Try to run the previous function if not yet done.</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="comment">//   if (!fFinishedGetProfileInfo) GetProfileInfo(true);</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="comment">// }</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="comment">// double wire_2_cm = gser.WireToCm();</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="comment">// double time_2_cm = gser.TimeToCm();</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="comment">// Removing the conversion since these points are set above in cm-cm space</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="comment">//   -- Corey</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a> this_startPoint, this_endPoint;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb4dccf8a4331f45a6601ee53bf290fb">fFinishedRefineStartPoints</a>) {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      this_startPoint = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a>;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      this_endPoint = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">end_point</a>;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    }</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      this_startPoint = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      this_endPoint = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    }</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>) {</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Angle: Start point: (&quot;</span> &lt;&lt; this_startPoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; this_startPoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Angle: End point  : (&quot;</span> &lt;&lt; this_endPoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; this_endPoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a> &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    }</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keywordtype">double</span> endStartDiff_x = (this_endPoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> - this_startPoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a>);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keywordtype">double</span> endStartDiff_y = (this_endPoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a> - this_startPoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a>);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordtype">double</span> rms_forward = 0;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="keywordtype">double</span> rms_backward = 0;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordtype">double</span> mean_forward = 0;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keywordtype">double</span> mean_backward = 0;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="comment">//double weight_total  = 0;</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordtype">double</span> hit_counter_forward = 0;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordtype">double</span> hit_counter_backward = 0;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a> &amp;&amp; endStartDiff_y == 0 &amp;&amp; endStartDiff_x == 0) {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a8d1a8a85a0b2a30cac1090ea528dd015">std::cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error:  end point and start point are the same!\n&quot;</span>;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a>.push_back(<span class="stringliteral">&quot;RefineDirection&quot;</span>);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">fTimeRecord_ProcTime</a>.push_back(localWatch.RealTime());</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    }</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordtype">double</span> percentage = 0.90;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="keywordtype">double</span> percentage_HC = 0.90 * <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a43a698a4c1e03f02af8440f85b5ef1d3">N_Hits_HC</a> / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a871dfc394113d9815565dc88a5af54c3">N_Hits</a>;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> NBINS = 200;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> wgt = 1.0 / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a871dfc394113d9815565dc88a5af54c3">N_Hits</a>;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="comment">// Containers for the angle histograms</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    std::vector&lt;float&gt; opening_angle_bin(NBINS, 0.0);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    std::vector&lt;float&gt; closing_angle_bin(NBINS, 0.0);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    std::vector&lt;float&gt; opening_angle_highcharge_bin(NBINS, 0.0);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    std::vector&lt;float&gt; closing_angle_highcharge_bin(NBINS, 0.0);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    std::vector&lt;float&gt; opening_angle_chargeWgt_bin(NBINS, 0.0);</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    std::vector&lt;float&gt; closing_angle_chargeWgt_bin(NBINS, 0.0);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="comment">//hard coding this for now, should use SetRefineDirectionQMin function</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a73cb1fb8d1dd66beceedf2bef6283ae8">fQMinRefDir</a> = 25;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keywordtype">int</span> index = -1;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a> : <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      index++;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      <span class="comment">//skip this hit if below minimum cutoff param</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.charge &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a73cb1fb8d1dd66beceedf2bef6283ae8">fQMinRefDir</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <span class="comment">//weight_total = hit.charge;</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="comment">// Compute forward mean</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      <span class="keywordtype">double</span> hitStartDiff_x = (<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.w - this_startPoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a>);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <span class="keywordtype">double</span> hitStartDiff_y = (<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.t - this_startPoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a>);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      <span class="keywordflow">if</span> (hitStartDiff_x == 0 &amp;&amp; hitStartDiff_y == 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      <span class="keywordtype">double</span> cosangle_start = (endStartDiff_x * hitStartDiff_x + endStartDiff_y * hitStartDiff_y);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      cosangle_start /= (pow(pow(endStartDiff_x, 2) + pow(endStartDiff_y, 2), 0.5) *</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                         pow(pow(hitStartDiff_x, 2) + pow(hitStartDiff_y, 2), 0.5));</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <span class="keywordflow">if</span> (cosangle_start &gt; 0) {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="comment">// Only take into account for hits that are in &quot;front&quot;</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="comment">//no weighted average, works better as flat average w/ min charge cut</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        mean_forward += cosangle_start;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        rms_forward += pow(cosangle_start, 2);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        hit_counter_forward++;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <span class="comment">// Compute backward mean</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      <span class="keywordtype">double</span> hitEndDiff_x = (<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.w - this_endPoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a>);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      <span class="keywordtype">double</span> hitEndDiff_y = (<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.t - this_endPoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a>);</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      <span class="keywordflow">if</span> (hitEndDiff_x == 0 &amp;&amp; hitEndDiff_y == 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <span class="keywordtype">double</span> cosangle_end = (endStartDiff_x * hitEndDiff_x + endStartDiff_y * hitEndDiff_y) * (-1.);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      cosangle_end /= (pow(pow(endStartDiff_x, 2) + pow(endStartDiff_y, 2), 0.5) *</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                       pow(pow(hitEndDiff_x, 2) + pow(hitEndDiff_y, 2), 0.5));</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <span class="keywordflow">if</span> (cosangle_end &gt; 0) {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <span class="comment">//no weighted average, works better as flat average w/ min charge cut</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        mean_backward += cosangle_end;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        rms_backward += pow(cosangle_end, 2);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        hit_counter_backward++;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      }</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <span class="keywordtype">int</span> N_bins_OPEN = (NBINS - 1) * acos(cosangle_start) / <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <span class="keywordtype">int</span> N_bins_CLOSE = (NBINS - 1) * acos(cosangle_end) / <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <span class="keywordflow">if</span> (N_bins_OPEN &lt; 0) N_bins_OPEN = 0;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <span class="keywordflow">if</span> (N_bins_CLOSE &lt; 0) N_bins_CLOSE = 0;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      opening_angle_chargeWgt_bin[N_bins_OPEN] += <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.charge / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a280c4b87c00dcc43852c2a8eba8e3271">sum_charge</a>;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      closing_angle_chargeWgt_bin[N_bins_CLOSE] += <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.charge / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a280c4b87c00dcc43852c2a8eba8e3271">sum_charge</a>;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      opening_angle_bin[N_bins_OPEN] += wgt;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      closing_angle_bin[N_bins_CLOSE] += wgt;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <span class="comment">//Also fill bins for high charge hits</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.charge &gt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a3ee2a4c65c93ef3a2c6c9a03506808d3">mean_charge</a>) {</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        opening_angle_highcharge_bin[N_bins_OPEN] += wgt;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        closing_angle_highcharge_bin[N_bins_CLOSE] += wgt;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      }</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    }</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="comment">//initialize iterators for the angles</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="keywordtype">int</span> iBin(0), jBin(0), kBin(0), lBin(0), mBin(0), nBin(0);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordtype">double</span> percentage_OPEN(0.0), percentage_CLOSE(0.0), percentage_OPEN_HC(0.0),</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;      percentage_CLOSE_HC(0.0), <span class="comment">//The last 2 are for High Charge (HC)</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      percentage_OPEN_CHARGEWGT(0.0), percentage_CLOSE_CHARGEWGT(0.0);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="keywordflow">for</span> (iBin = 0; percentage_OPEN &lt;= percentage &amp;&amp; iBin &lt; NBINS; iBin++) {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      percentage_OPEN += opening_angle_bin[iBin];</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    }</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordflow">for</span> (jBin = 0; percentage_CLOSE &lt;= percentage &amp;&amp; jBin &lt; NBINS; jBin++) {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      percentage_CLOSE += closing_angle_bin[jBin];</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keywordflow">for</span> (kBin = 0; percentage_OPEN_HC &lt;= percentage_HC &amp;&amp; kBin &lt; NBINS; kBin++) {</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      percentage_OPEN_HC += opening_angle_highcharge_bin[kBin];</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    }</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <span class="keywordflow">for</span> (lBin = 0; percentage_CLOSE_HC &lt;= percentage_HC &amp;&amp; lBin &lt; NBINS; lBin++) {</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      percentage_CLOSE_HC += closing_angle_highcharge_bin[lBin];</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    }</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordflow">for</span> (mBin = 0; percentage_OPEN_CHARGEWGT &lt;= percentage &amp;&amp; mBin &lt; NBINS; mBin++) {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      percentage_OPEN_CHARGEWGT += opening_angle_chargeWgt_bin[mBin];</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    }</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keywordflow">for</span> (nBin = 0; percentage_CLOSE_CHARGEWGT &lt;= percentage &amp;&amp; nBin &lt; NBINS; nBin++) {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      percentage_CLOSE_CHARGEWGT += closing_angle_chargeWgt_bin[nBin];</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    }</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordtype">double</span> opening_angle = iBin * <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> / NBINS;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keywordtype">double</span> closing_angle = jBin * <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> / NBINS;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordtype">double</span> opening_angle_highcharge = kBin * <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> / NBINS;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordtype">double</span> closing_angle_highcharge = lBin * <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> / NBINS;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordtype">double</span> opening_angle_charge_wgt = mBin * <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> / NBINS;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordtype">double</span> closing_angle_charge_wgt = nBin * <a class="code" href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> / NBINS;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="keywordtype">double</span> value_1 = closing_angle / opening_angle - 1;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="keywordtype">double</span> value_2 = (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a73eaded4573b1f056181f673b5ad2b85">fCoarseChargeProfile</a>[0] / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a73eaded4573b1f056181f673b5ad2b85">fCoarseChargeProfile</a>[1]);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="keywordflow">if</span> (value_2 &lt; 100.0 &amp;&amp; value_2 &gt; 0.01)</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      value_2 = log(value_2);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      value_2 = 0.0;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordtype">double</span> value_3 = closing_angle_charge_wgt / opening_angle_charge_wgt - 1;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="comment">// Using a sigmoid function to determine flipping.</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="comment">// I am going to weigh all of the values above (1, 2, 3) equally.</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="comment">// But, since value 2 in particular, I&#39;m going to cut things off at 5.</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">if</span> (value_1 &gt; 3) value_1 = 3.0;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordflow">if</span> (value_1 &lt; -3) value_1 = -3.0;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <span class="keywordflow">if</span> (value_2 &gt; 3) value_2 = 3.0;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="keywordflow">if</span> (value_2 &lt; -3) value_2 = -3.0;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">if</span> (value_3 &gt; 3) value_3 = 3.0;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordflow">if</span> (value_3 &lt; -3) value_3 = -3.0;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordtype">double</span> Exp = <a class="code" href="../../d6/d11/namespacemake__calib__df.html#ada2bd95dba6a990f1012b56dacc20b0e">exp</a>(value_1 + value_2 + value_3);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="keywordtype">double</span> sigmoid = (Exp - 1) / (Exp + 1);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordtype">bool</span> flip = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="keywordflow">if</span> (sigmoid &lt; 0) flip = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">if</span> (flip) {</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>) <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Flipping!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      std::swap(opening_angle, closing_angle);</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      std::swap(opening_angle_highcharge, closing_angle_highcharge);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      std::swap(opening_angle_charge_wgt, closing_angle_charge_wgt);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      std::swap(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">end_point</a>);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      std::swap(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    }</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>) {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Not Flipping!\n&quot;</span>;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    }</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#adf5518fe78a60ff1984ffb82100d420c">opening_angle</a> = opening_angle;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#ab2776dca97eb1a854a210e33d622a9af">opening_angle_charge_wgt</a> = opening_angle_charge_wgt;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#af88fb4a6feb51785d524019927935469">closing_angle</a> = closing_angle;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a410f72b601f3e098d59b96e46df1b23c">closing_angle_charge_wgt</a> = closing_angle_charge_wgt;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a164f3d982dc140811b3ef995bafeff6d">fFinishedRefineDirection</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a>.push_back(<span class="stringliteral">&quot;RefineDirection&quot;</span>);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">fTimeRecord_ProcTime</a>.push_back(localWatch.RealTime());</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  } <span class="comment">//end RefineDirection</span></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a410f72b601f3e098d59b96e46df1b23c"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a410f72b601f3e098d59b96e46df1b23c">cluster::cluster_params::closing_angle_charge_wgt</a></div><div class="ttdeci">double closing_angle_charge_wgt</div><div class="ttdoc">Same for charge_wgt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00043">ClusterParams.h:43</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a73eaded4573b1f056181f673b5ad2b85"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a73eaded4573b1f056181f673b5ad2b85">cluster::ClusterParamsAlg::fCoarseChargeProfile</a></div><div class="ttdeci">std::vector&lt; double &gt; fCoarseChargeProfile</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00311">ClusterParamsAlg.h:311</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ad8c1852c676d659d1204712e91be10a0"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">cluster::ClusterParamsAlg::fTimeRecord_ProcName</a></div><div class="ttdeci">std::vector&lt; std::string &gt; fTimeRecord_ProcName</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00387">ClusterParamsAlg.h:387</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a8d1a8a85a0b2a30cac1090ea528dd015"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a8d1a8a85a0b2a30cac1090ea528dd015">cerr</a></div><div class="ttdeci">BEGIN_PROLOG could also be cerr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_acebf44d6575c557990437f02608b0c6a"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">cluster::ClusterParamsAlg::fRoughBeginPoint</a></div><div class="ttdeci">util::PxPoint fRoughBeginPoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00341">ClusterParamsAlg.h:341</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a73cb1fb8d1dd66beceedf2bef6283ae8"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a73cb1fb8d1dd66beceedf2bef6283ae8">cluster::ClusterParamsAlg::fQMinRefDir</a></div><div class="ttdeci">double fQMinRefDir</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00308">ClusterParamsAlg.h:308</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb9af9abb6078d131e338e85f49aebb4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">cluster::ClusterParamsAlg::fHitVector</a></div><div class="ttdeci">std::vector&lt; util::PxHit &gt; fHitVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00298">ClusterParamsAlg.h:298</a></div></div>
<div class="ttc" id="cheaterreco_8fcl_html_abf2e819dbf4c327e098bebd4b2dc0597"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a></div><div class="ttdeci">process_name hit</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="HoughBaseAlg_8cxx_html_a299aabc5fc8285cbf99025330a3d0d0d"><div class="ttname"><a href="../../d3/dee/HoughBaseAlg_8cxx.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a></div><div class="ttdeci">constexpr double PI</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dee/HoughBaseAlg_8cxx_source.html#l00060">HoughBaseAlg.cxx:60</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a280c4b87c00dcc43852c2a8eba8e3271"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a280c4b87c00dcc43852c2a8eba8e3271">cluster::cluster_params::sum_charge</a></div><div class="ttdeci">double sum_charge</div><div class="ttdoc">Sum charge of hits in ADC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00026">ClusterParams.h:26</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae048785b39f20c708426303fc5dbe197"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">cluster::ClusterParamsAlg::fParams</a></div><div class="ttdeci">cluster::cluster_params fParams</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00383">ClusterParamsAlg.h:383</a></div></div>
<div class="ttc" id="classutil_1_1PxPoint_html_adb9e9f9647d218f44804110a664e5eea"><div class="ttname"><a href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">util::PxPoint::t</a></div><div class="ttdeci">double t</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00011">PxUtils.h:11</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a871dfc394113d9815565dc88a5af54c3"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a871dfc394113d9815565dc88a5af54c3">cluster::cluster_params::N_Hits</a></div><div class="ttdeci">double N_Hits</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00058">ClusterParams.h:58</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a43a698a4c1e03f02af8440f85b5ef1d3"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a43a698a4c1e03f02af8440f85b5ef1d3">cluster::cluster_params::N_Hits_HC</a></div><div class="ttdeci">double N_Hits_HC</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00059">ClusterParams.h:59</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ab6e8a917560abcf71a5079c7a172fa7f"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">cluster::ClusterParamsAlg::fTimeRecord_ProcTime</a></div><div class="ttdeci">std::vector&lt; double &gt; fTimeRecord_ProcTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00388">ClusterParamsAlg.h:388</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a09109ad847929d48f11d1ee7d6b78ddc"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">cluster::cluster_params::start_point</a></div><div class="ttdeci">util::PxPoint start_point</div><div class="ttdoc">start point </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00023">ClusterParams.h:23</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aa562a0d352b8dc45dc0b90d034f6feaf"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">cluster::ClusterParamsAlg::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00301">ClusterParamsAlg.h:301</a></div></div>
<div class="ttc" id="classutil_1_1PxPoint_html"><div class="ttname"><a href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00008">PxUtils.h:8</a></div></div>
<div class="ttc" id="namespacemake__calib__df_html_ada2bd95dba6a990f1012b56dacc20b0e"><div class="ttname"><a href="../../d6/d11/namespacemake__calib__df.html#ada2bd95dba6a990f1012b56dacc20b0e">make_calib_df.exp</a></div><div class="ttdeci">def exp</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0e/make__calib__df_8py_source.html#l00043">make_calib_df.py:43</a></div></div>
<div class="ttc" id="classutil_1_1PxPoint_html_a92fe4a37356c1b6968313142068ec9e5"><div class="ttname"><a href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">util::PxPoint::w</a></div><div class="ttdeci">double w</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00010">PxUtils.h:10</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a164f3d982dc140811b3ef995bafeff6d"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a164f3d982dc140811b3ef995bafeff6d">cluster::ClusterParamsAlg::fFinishedRefineDirection</a></div><div class="ttdeci">bool fFinishedRefineDirection</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00333">ClusterParamsAlg.h:333</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ac3e5b414c555a9c129c1e9947595c7da"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">cluster::ClusterParamsAlg::fRoughEndPoint</a></div><div class="ttdeci">util::PxPoint fRoughEndPoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00342">ClusterParamsAlg.h:342</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_aacea4041484c2faf2f9a672f5bed6ec6"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">cluster::cluster_params::end_point</a></div><div class="ttdeci">util::PxPoint end_point</div><div class="ttdoc">end point </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00024">ClusterParams.h:24</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a3ee2a4c65c93ef3a2c6c9a03506808d3"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a3ee2a4c65c93ef3a2c6c9a03506808d3">cluster::cluster_params::mean_charge</a></div><div class="ttdeci">double mean_charge</div><div class="ttdoc">Mean (average) charge of hits in ADC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00027">ClusterParams.h:27</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb4dccf8a4331f45a6601ee53bf290fb"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb4dccf8a4331f45a6601ee53bf290fb">cluster::ClusterParamsAlg::fFinishedRefineStartPoints</a></div><div class="ttdeci">bool fFinishedRefineStartPoints</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00332">ClusterParamsAlg.h:332</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_ab2776dca97eb1a854a210e33d622a9af"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#ab2776dca97eb1a854a210e33d622a9af">cluster::cluster_params::opening_angle_charge_wgt</a></div><div class="ttdeci">double opening_angle_charge_wgt</div><div class="ttdoc">Same for charge_wgt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00041">ClusterParams.h:41</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_adf5518fe78a60ff1984ffb82100d420c"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#adf5518fe78a60ff1984ffb82100d420c">cluster::cluster_params::opening_angle</a></div><div class="ttdeci">double opening_angle</div><div class="ttdoc">Width of angular distubtion wrt vertx. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00040">ClusterParams.h:40</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_af88fb4a6feb51785d524019927935469"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#af88fb4a6feb51785d524019927935469">cluster::cluster_params::closing_angle</a></div><div class="ttdeci">double closing_angle</div><div class="ttdoc">Width of angular distubtion wrt endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00042">ClusterParams.h:42</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab883b42c25f4125fb162039b3358d10b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::RefineStartPointAndDirection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;&#160;</td>
          <td class="paramname"><em>gser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>override</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01295">1295</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="comment">// This function is meant to pick the direction.</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="comment">// It refines both the start and end point, and then asks</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="comment">// if it should flip.</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    TStopwatch localWatch;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    localWatch.Start();</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>) <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot; here!!! &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keywordflow">if</span> (!<span class="keyword">override</span>) { <span class="comment">//Override being set, we skip all this logic.</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      <span class="comment">//OK, no override. Stop if we&#39;re already finshed.</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa17a0963baf5e18c795a9662e85abdb6">fFinishedRefineStartPointAndDirection</a>) {</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a>.push_back(<span class="stringliteral">&quot;RefineStartPointAndDirection&quot;</span>);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">fTimeRecord_ProcTime</a>.push_back(localWatch.RealTime());</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      }</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      <span class="comment">//Try to run the previous function if not yet done.</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acc350cec04111ec313ae33521d22d10c">fFinishedGetProfileInfo</a>) <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af382f3ab279409a068ff3f36c2cc0833">GetProfileInfo</a>(gser, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    }</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;      <span class="comment">//Try to run the previous function if not yet done.</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acc350cec04111ec313ae33521d22d10c">fFinishedGetProfileInfo</a>) <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af382f3ab279409a068ff3f36c2cc0833">GetProfileInfo</a>(gser, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    }</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>) {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;REFINING .... &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;  Rough start and end point: &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;    s: (&quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                &lt;&lt; std::endl;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;    e: (&quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">end_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">end_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                &lt;&lt; std::endl;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    }</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af95deec45ca513b48bf5da9387bb114d">RefineStartPoints</a>(gser);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>) {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;  Once Refined start and end point: &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;    s: (&quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                &lt;&lt; std::endl;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;    e: (&quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">end_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">end_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                &lt;&lt; std::endl;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;      std::swap(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">end_point</a>);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;      std::swap(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    }</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af95deec45ca513b48bf5da9387bb114d">RefineStartPoints</a>(gser);</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>) {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;  Twice Refined start and end point: &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;    s: (&quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                &lt;&lt; std::endl;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;    e: (&quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">end_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">end_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                &lt;&lt; std::endl;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      std::swap(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">end_point</a>);</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      std::swap(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>, <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>);</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    }</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a5b6d91c9ed60c61ea13487a94505c7b3">RefineDirection</a>();</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>) {</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;  Final start and end point: &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;    s: (&quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                &lt;&lt; std::endl;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;    e: (&quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">end_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">end_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                &lt;&lt; std::endl;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    }</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a04becaa00a86109eadebe3818a4abcd8">direction</a> = (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">end_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a>) ? 1 : -1;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a>.push_back(<span class="stringliteral">&quot;RefineStartPointAndDirection&quot;</span>);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">fTimeRecord_ProcTime</a>.push_back(localWatch.RealTime());</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ad8c1852c676d659d1204712e91be10a0"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">cluster::ClusterParamsAlg::fTimeRecord_ProcName</a></div><div class="ttdeci">std::vector&lt; std::string &gt; fTimeRecord_ProcName</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00387">ClusterParamsAlg.h:387</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_acebf44d6575c557990437f02608b0c6a"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">cluster::ClusterParamsAlg::fRoughBeginPoint</a></div><div class="ttdeci">util::PxPoint fRoughBeginPoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00341">ClusterParamsAlg.h:341</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_af382f3ab279409a068ff3f36c2cc0833"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af382f3ab279409a068ff3f36c2cc0833">cluster::ClusterParamsAlg::GetProfileInfo</a></div><div class="ttdeci">void GetProfileInfo(util::GeometryUtilities const &amp;gser, bool override=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00347">ClusterParamsAlg.cxx:347</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a04becaa00a86109eadebe3818a4abcd8"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a04becaa00a86109eadebe3818a4abcd8">cluster::cluster_params::direction</a></div><div class="ttdeci">int direction</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00068">ClusterParams.h:68</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_af95deec45ca513b48bf5da9387bb114d"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af95deec45ca513b48bf5da9387bb114d">cluster::ClusterParamsAlg::RefineStartPoints</a></div><div class="ttdeci">void RefineStartPoints(util::GeometryUtilities const &amp;gser)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00697">ClusterParamsAlg.cxx:697</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aa17a0963baf5e18c795a9662e85abdb6"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa17a0963baf5e18c795a9662e85abdb6">cluster::ClusterParamsAlg::fFinishedRefineStartPointAndDirection</a></div><div class="ttdeci">bool fFinishedRefineStartPointAndDirection</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00335">ClusterParamsAlg.h:335</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae048785b39f20c708426303fc5dbe197"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">cluster::ClusterParamsAlg::fParams</a></div><div class="ttdeci">cluster::cluster_params fParams</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00383">ClusterParamsAlg.h:383</a></div></div>
<div class="ttc" id="classutil_1_1PxPoint_html_adb9e9f9647d218f44804110a664e5eea"><div class="ttname"><a href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">util::PxPoint::t</a></div><div class="ttdeci">double t</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00011">PxUtils.h:11</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ab6e8a917560abcf71a5079c7a172fa7f"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">cluster::ClusterParamsAlg::fTimeRecord_ProcTime</a></div><div class="ttdeci">std::vector&lt; double &gt; fTimeRecord_ProcTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00388">ClusterParamsAlg.h:388</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a09109ad847929d48f11d1ee7d6b78ddc"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">cluster::cluster_params::start_point</a></div><div class="ttdeci">util::PxPoint start_point</div><div class="ttdoc">start point </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00023">ClusterParams.h:23</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aa562a0d352b8dc45dc0b90d034f6feaf"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">cluster::ClusterParamsAlg::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00301">ClusterParamsAlg.h:301</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_acc350cec04111ec313ae33521d22d10c"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acc350cec04111ec313ae33521d22d10c">cluster::ClusterParamsAlg::fFinishedGetProfileInfo</a></div><div class="ttdeci">bool fFinishedGetProfileInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00331">ClusterParamsAlg.h:331</a></div></div>
<div class="ttc" id="classutil_1_1PxPoint_html_a92fe4a37356c1b6968313142068ec9e5"><div class="ttname"><a href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">util::PxPoint::w</a></div><div class="ttdeci">double w</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00010">PxUtils.h:10</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a5b6d91c9ed60c61ea13487a94505c7b3"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a5b6d91c9ed60c61ea13487a94505c7b3">cluster::ClusterParamsAlg::RefineDirection</a></div><div class="ttdeci">void RefineDirection(bool override=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01051">ClusterParamsAlg.cxx:1051</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ac3e5b414c555a9c129c1e9947595c7da"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">cluster::ClusterParamsAlg::fRoughEndPoint</a></div><div class="ttdeci">util::PxPoint fRoughEndPoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00342">ClusterParamsAlg.h:342</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_aacea4041484c2faf2f9a672f5bed6ec6"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">cluster::cluster_params::end_point</a></div><div class="ttdeci">util::PxPoint end_point</div><div class="ttdoc">end point </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00024">ClusterParams.h:24</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af95deec45ca513b48bf5da9387bb114d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::RefineStartPoints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;&#160;</td>
          <td class="paramname"><em>gser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the following variables: length width</p>
<p>Calculates the following variables: length width hit_density_1D hit_density_2D direction </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">override</td><td>[description] </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00697">697</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    TStopwatch localWatch;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    localWatch.Start();</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="comment">// need to define physical direction with openind angles and pass that to Ryan&#39;s line finder.</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="comment">// Direction decision has been moved entirely to Refine Direction()</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">// opening and closing angles are already set</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="comment">// they are associated with the start and endpoints.</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="comment">// If refine direction opted to switch the shower direction,</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="comment">// it also switched opening and closing angles.</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment">    /////////////////////////////////</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment"></span>    <span class="comment">// fParams.direction=  ...</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="comment">// Direction is decided by RefineDirection()</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a> startHit, endHit;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    startHit = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    endHit = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment">    ///////////////////////////////</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment"></span>    <span class="comment">//Ryan&#39;s Shower Strip finder work here.</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="comment">//First we need to define the strip width that we want</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordtype">double</span> d = 0.6; <span class="comment">//this is the width of the strip.... this needs to be tuned to something.</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="comment">//===============================================================================================================</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="comment">// Will need to feed in the set of hits that we want.</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="comment">//  const std::vector&lt;util::PxHit*&gt; whole;</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    std::vector&lt;const util::PxHit*&gt; subhit;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordtype">double</span> linearlimit = 8;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordtype">double</span> ortlimit = 12;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordtype">double</span> lineslopetest(<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a>);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <a class="code" href="../../d4/d8a/classutil_1_1PxHit.html">util::PxHit</a> averageHit;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="comment">//also are we sure this is actually doing what it is supposed to???</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="comment">//are we sure this works?</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="comment">//is anybody even listening?  Were they eaten by a grue?</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    gser.SelectLocalHitlist(</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>, subhit, startHit, linearlimit, ortlimit, lineslopetest, averageHit);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">if</span> (!(subhit.size()) || subhit.size() &lt; 3) {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>)</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Subhit list is empty or too small. Using rough start/end points...&quot;</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                  &lt;&lt; std::endl;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">end_point</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb4dccf8a4331f45a6601ee53bf290fb">fFinishedRefineStartPoints</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a>.push_back(<span class="stringliteral">&quot;RefineStartPoints&quot;</span>);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">fTimeRecord_ProcTime</a>.push_back(localWatch.RealTime());</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordtype">double</span> avgwire = averageHit.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordtype">double</span> avgtime = averageHit.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a>;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="comment">//vertex in tilda-space pair(x-til,y-til)</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    std::vector&lt;std::pair&lt;double, double&gt;&gt; vertil;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="comment">//vector of the sum of the distance of a vector to every vertex in tilda-space</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    std::vector&lt;double&gt; vs;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="comment">// $$This needs to be corrected//this is the good hits that are between strip</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    std::vector&lt;const util::PxHit*&gt; ghits;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    ghits.reserve(subhit.size());</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ab6cfbbcbb53c275375289d47dec67f46">n</a> = 0;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordtype">double</span> fardistcurrent = 0;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <a class="code" href="../../d4/d8a/classutil_1_1PxHit.html">util::PxHit</a> startpoint;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordtype">double</span> gwiretime = 0;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordtype">double</span> gwire = 0;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordtype">double</span> gtime = 0;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordtype">double</span> gwirewire = 0;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="comment">//KAZU!!! I NEED this too//this will need to come from somewhere...</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="comment">//This is some hit that is from the way far side of the entire shower cluster...</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <a class="code" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a> farhit = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="comment">//=============building the local vector===================</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="comment">//this is clumsy... but just want to get something to work for now.</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="comment">//THIS is REAL Horrible and CLUMSY... We can make things into helper functions soon.</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    std::vector&lt;util::PxHit&gt; returnhits;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    std::vector&lt;double&gt; radiusofhit;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    std::vector&lt;int&gt; closehits;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="comment">//==============================================================================</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="comment">//Now we need to do the transformation into &quot;tilda-space&quot;</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a> = 0; <a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a> &lt; subhit.size(); <a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a>++) {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> b = <a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a> + 1; b &lt; subhit.size(); b++) {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <span class="keywordflow">if</span> (subhit.at(<a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a>)-&gt;w != subhit.at(b)-&gt;w) {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;          <span class="keywordtype">double</span> xtil = ((subhit.at(<a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a>)-&gt;t - avgtime) - (subhit.at(b)-&gt;t - avgtime));</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;          xtil /= ((subhit.at(<a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a>)-&gt;w - avgwire) - (subhit.at(b)-&gt;w - avgwire));</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;          <span class="keywordtype">double</span> ytil = (subhit.at(<a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a>)-&gt;w - avgwire) * xtil - (subhit.at(<a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a>)-&gt;t - avgtime);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;          <span class="comment">//push back the tilda vertex point on the pair</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;          std::pair&lt;double, double&gt; tv(xtil, ytil);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;          vertil.push_back(tv);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        } <span class="comment">//if Wires are not the same</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      }   <span class="comment">//for over b</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    }     <span class="comment">//for over a</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="comment">// look at the distance from a tilda-vertex to all other tilda-verticies</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a> = 0; <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a> &lt; vertil.size(); <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>++) {</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <span class="keywordtype">double</span> vd = 0; <span class="comment">//the distance for vertex... just needs to be something 0</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c = 0; c &lt; vertil.size(); c++)</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        vd += std::hypot(vertil.at(<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>).first - vertil.at(c).first,</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                         vertil.at(<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>).second - vertil.at(c).second);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      vs.push_back(vd);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      vd = 0.0;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    } <span class="comment">//for z loop</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordflow">if</span> (vs.size() == 0) <span class="comment">//al hits on same wire?!</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>)</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;vertil list is empty. all subhits are on the same wire?&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">end_point</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb4dccf8a4331f45a6601ee53bf290fb">fFinishedRefineStartPoints</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a>.push_back(<span class="stringliteral">&quot;RefineStartPoints&quot;</span>);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">fTimeRecord_ProcTime</a>.push_back(localWatch.RealTime());</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    }</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="comment">//need to find the min of the distance of vertex in tilda-space</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="comment">//this will get me the area where things are most linear</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordtype">int</span> minvs = std::min_element(vs.begin(), vs.end()) - vs.begin();</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="comment">// now use the min position to find the vertex in tilda-space</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="comment">//now need to look a which hits are between the tilda lines from the points</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="comment">//in the tilda space everything in wire time is based on the new origin which is at the average wire/time</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordtype">double</span> tilwire = vertil.at(minvs).first; <span class="comment">//slope</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordtype">double</span> tiltimet = -vertil.at(minvs).second +</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                      d * sqrt(1 + pow(tilwire, 2)); <span class="comment">//negative cept is accounted for top strip</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordtype">double</span> tiltimeb = -vertil.at(minvs).second -</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                      d * sqrt(1 + pow(tilwire, 2)); <span class="comment">//negative cept is accounted for bottom strip</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="comment">// look over the subhit list and ask for which are inside of the strip</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a> = 0; <a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a> &lt; subhit.size(); <a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a>++) {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <span class="keywordtype">double</span> dtstrip =</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        (-tilwire * (subhit.at(<a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a>)-&gt;w - avgwire) + (subhit.at(<a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a>)-&gt;t - avgtime) - tiltimet) /</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        sqrt(tilwire * tilwire + 1);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      <span class="keywordtype">double</span> dbstrip =</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        (-tilwire * (subhit.at(<a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a>)-&gt;w - avgwire) + (subhit.at(<a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a>)-&gt;t - avgtime) - tiltimeb) /</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        sqrt(tilwire * tilwire + 1);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      <span class="keywordflow">if</span> ((dtstrip &lt; 0.0 &amp;&amp; dbstrip &gt; 0.0) || (dbstrip &lt; 0.0 &amp;&amp; dtstrip &gt; 0.0)) {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        ghits.push_back(subhit.at(<a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a>));</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      } <span class="comment">//if between strip</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    }   <span class="comment">//for a loop</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="comment">//=======================Do stuff with the good hits============================</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="comment">//of these small set of hits just fit a simple line.</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="comment">//then we will need to see which of these hits is farthest away</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d5/d79/decoderTools__icarus_8fcl.html#a86703f8a44dd6742852257943d5a25c6">g</a> = 0; <a class="code" href="../../d5/d79/decoderTools__icarus_8fcl.html#a86703f8a44dd6742852257943d5a25c6">g</a> &lt; ghits.size(); <a class="code" href="../../d5/d79/decoderTools__icarus_8fcl.html#a86703f8a44dd6742852257943d5a25c6">g</a>++) {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <span class="comment">// should call the helper funtion to do the fit</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <span class="comment">//but for now since there is no helper function I will just write it here......again</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      n += 1;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      gwiretime += ghits.at(<a class="code" href="../../d5/d79/decoderTools__icarus_8fcl.html#a86703f8a44dd6742852257943d5a25c6">g</a>)-&gt;w * ghits.at(<a class="code" href="../../d5/d79/decoderTools__icarus_8fcl.html#a86703f8a44dd6742852257943d5a25c6">g</a>)-&gt;t;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      gwire += ghits.at(<a class="code" href="../../d5/d79/decoderTools__icarus_8fcl.html#a86703f8a44dd6742852257943d5a25c6">g</a>)-&gt;w;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      gtime += ghits.at(<a class="code" href="../../d5/d79/decoderTools__icarus_8fcl.html#a86703f8a44dd6742852257943d5a25c6">g</a>)-&gt;t;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      gwirewire += ghits.at(<a class="code" href="../../d5/d79/decoderTools__icarus_8fcl.html#a86703f8a44dd6742852257943d5a25c6">g</a>)-&gt;w * ghits.at(<a class="code" href="../../d5/d79/decoderTools__icarus_8fcl.html#a86703f8a44dd6742852257943d5a25c6">g</a>)-&gt;w;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <span class="comment">// now work on calculating the distance in wire time space from the far point</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      <span class="comment">//farhit needs to be a hit that is given to me</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      <span class="keywordtype">double</span> fardist = std::hypot(ghits.at(<a class="code" href="../../d5/d79/decoderTools__icarus_8fcl.html#a86703f8a44dd6742852257943d5a25c6">g</a>)-&gt;w - farhit.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a>, ghits.at(<a class="code" href="../../d5/d79/decoderTools__icarus_8fcl.html#a86703f8a44dd6742852257943d5a25c6">g</a>)-&gt;t - farhit.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a>);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <span class="comment">//come back to this... there is a better way to do this probably in the loop</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      <span class="comment">//there should also be a check that the hit that is farthest away has subsequent hits after it on a few wires</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="keywordflow">if</span> (fardist &gt; fardistcurrent) {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        fardistcurrent = fardist;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        <span class="comment">//if fardist... this is the point to use for the start point</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        startpoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">t</a> = ghits.at(<a class="code" href="../../d5/d79/decoderTools__icarus_8fcl.html#a86703f8a44dd6742852257943d5a25c6">g</a>)-&gt;t;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        startpoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">w</a> = ghits.at(<a class="code" href="../../d5/d79/decoderTools__icarus_8fcl.html#a86703f8a44dd6742852257943d5a25c6">g</a>)-&gt;w;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        startpoint.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a8c46094a24571dc2e0c3295491660cf1">plane</a> = ghits.at(<a class="code" href="../../d5/d79/decoderTools__icarus_8fcl.html#a86703f8a44dd6742852257943d5a25c6">g</a>)-&gt;plane;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        startpoint.<a class="code" href="../../d4/d8a/classutil_1_1PxHit.html#ac644acfe8d6d678fabfc30936dd04675">charge</a> = ghits.at(<a class="code" href="../../d5/d79/decoderTools__icarus_8fcl.html#a86703f8a44dd6742852257943d5a25c6">g</a>)-&gt;charge;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      }</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    } <span class="comment">//for ghits loop</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="comment">//This can be the new start point</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="comment">//should this be here? Id argue this might be done once outside.</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a549cf8b7a3abb808fdf88e077fe1d611">length</a> = gser.Get2DDistance((<a class="code" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a>*)&amp;startpoint, &amp;endHit);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a549cf8b7a3abb808fdf88e077fe1d611">length</a>)</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a9d41112986377a8ff190e3c2f8256143">hit_density_1D</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a871dfc394113d9815565dc88a5af54c3">N_Hits</a> / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a549cf8b7a3abb808fdf88e077fe1d611">length</a>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a9d41112986377a8ff190e3c2f8256143">hit_density_1D</a> = 0;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a549cf8b7a3abb808fdf88e077fe1d611">length</a> &amp;&amp; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a90c092ecc6922c8d7f52cdc0e4858d78">width</a>)</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aaca18b8be5437df92e1bbf283b3d79d2">hit_density_2D</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a871dfc394113d9815565dc88a5af54c3">N_Hits</a> / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a549cf8b7a3abb808fdf88e077fe1d611">length</a> / <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a90c092ecc6922c8d7f52cdc0e4858d78">width</a>;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aaca18b8be5437df92e1bbf283b3d79d2">hit_density_2D</a> = 0;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a> = startpoint;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb4dccf8a4331f45a6601ee53bf290fb">fFinishedRefineStartPoints</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a>.push_back(<span class="stringliteral">&quot;RefineStartPoints&quot;</span>);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">fTimeRecord_ProcTime</a>.push_back(localWatch.RealTime());</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  }</div>
<div class="ttc" id="run__opflash__electron_8fcl_html_ae40184b0245025a43c56daa3261d5e3c"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a></div><div class="ttdeci">process_name opflash particleana ie ie ie z</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00092">run_opflash_electron.fcl:92</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ad8c1852c676d659d1204712e91be10a0"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">cluster::ClusterParamsAlg::fTimeRecord_ProcName</a></div><div class="ttdeci">std::vector&lt; std::string &gt; fTimeRecord_ProcName</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00387">ClusterParamsAlg.h:387</a></div></div>
<div class="ttc" id="classutil_1_1PxHit_html"><div class="ttname"><a href="../../d4/d8a/classutil_1_1PxHit.html">util::PxHit</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00035">PxUtils.h:35</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_acebf44d6575c557990437f02608b0c6a"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">cluster::ClusterParamsAlg::fRoughBeginPoint</a></div><div class="ttdeci">util::PxPoint fRoughBeginPoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00341">ClusterParamsAlg.h:341</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a9d41112986377a8ff190e3c2f8256143"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a9d41112986377a8ff190e3c2f8256143">cluster::cluster_params::hit_density_1D</a></div><div class="ttdeci">double hit_density_1D</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00053">ClusterParams.h:53</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb9af9abb6078d131e338e85f49aebb4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">cluster::ClusterParamsAlg::fHitVector</a></div><div class="ttdeci">std::vector&lt; util::PxHit &gt; fHitVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00298">ClusterParamsAlg.h:298</a></div></div>
<div class="ttc" id="decoderTools__icarus_8fcl_html_a86703f8a44dd6742852257943d5a25c6"><div class="ttname"><a href="../../d5/d79/decoderTools__icarus_8fcl.html#a86703f8a44dd6742852257943d5a25c6">g</a></div><div class="ttdeci">BEGIN_PROLOG g</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d79/decoderTools__icarus_8fcl_source.html#l00007">decoderTools_icarus.fcl:7</a></div></div>
<div class="ttc" id="decode__signalprocess__icarus_8fcl_html_a2a105cb669129f9c63eb7a4c15bf2d9b"><div class="ttname"><a href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a></div><div class="ttdeci">process_name gaushit a</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8f/decode__signalprocess__icarus_8fcl_source.html#l00037">decode_signalprocess_icarus.fcl:37</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a90c092ecc6922c8d7f52cdc0e4858d78"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a90c092ecc6922c8d7f52cdc0e4858d78">cluster::cluster_params::width</a></div><div class="ttdeci">double width</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00051">ClusterParams.h:51</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae048785b39f20c708426303fc5dbe197"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">cluster::ClusterParamsAlg::fParams</a></div><div class="ttdeci">cluster::cluster_params fParams</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00383">ClusterParamsAlg.h:383</a></div></div>
<div class="ttc" id="classutil_1_1PxPoint_html_adb9e9f9647d218f44804110a664e5eea"><div class="ttname"><a href="../../d4/def/classutil_1_1PxPoint.html#adb9e9f9647d218f44804110a664e5eea">util::PxPoint::t</a></div><div class="ttdeci">double t</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00011">PxUtils.h:11</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a871dfc394113d9815565dc88a5af54c3"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a871dfc394113d9815565dc88a5af54c3">cluster::cluster_params::N_Hits</a></div><div class="ttdeci">double N_Hits</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00058">ClusterParams.h:58</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ab6e8a917560abcf71a5079c7a172fa7f"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">cluster::ClusterParamsAlg::fTimeRecord_ProcTime</a></div><div class="ttdeci">std::vector&lt; double &gt; fTimeRecord_ProcTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00388">ClusterParamsAlg.h:388</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a09109ad847929d48f11d1ee7d6b78ddc"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">cluster::cluster_params::start_point</a></div><div class="ttdeci">util::PxPoint start_point</div><div class="ttdoc">start point </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00023">ClusterParams.h:23</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aa562a0d352b8dc45dc0b90d034f6feaf"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">cluster::ClusterParamsAlg::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00301">ClusterParamsAlg.h:301</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_aaca18b8be5437df92e1bbf283b3d79d2"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#aaca18b8be5437df92e1bbf283b3d79d2">cluster::cluster_params::hit_density_2D</a></div><div class="ttdeci">double hit_density_2D</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00054">ClusterParams.h:54</a></div></div>
<div class="ttc" id="classutil_1_1PxPoint_html"><div class="ttname"><a href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00008">PxUtils.h:8</a></div></div>
<div class="ttc" id="classutil_1_1PxPoint_html_a92fe4a37356c1b6968313142068ec9e5"><div class="ttname"><a href="../../d4/def/classutil_1_1PxPoint.html#a92fe4a37356c1b6968313142068ec9e5">util::PxPoint::w</a></div><div class="ttdeci">double w</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00010">PxUtils.h:10</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ac3e5b414c555a9c129c1e9947595c7da"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">cluster::ClusterParamsAlg::fRoughEndPoint</a></div><div class="ttdeci">util::PxPoint fRoughEndPoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00342">ClusterParamsAlg.h:342</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a549cf8b7a3abb808fdf88e077fe1d611"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a549cf8b7a3abb808fdf88e077fe1d611">cluster::cluster_params::length</a></div><div class="ttdeci">double length</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00050">ClusterParams.h:50</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_aacea4041484c2faf2f9a672f5bed6ec6"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">cluster::cluster_params::end_point</a></div><div class="ttdeci">util::PxPoint end_point</div><div class="ttdoc">end point </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00024">ClusterParams.h:24</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb4dccf8a4331f45a6601ee53bf290fb"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb4dccf8a4331f45a6601ee53bf290fb">cluster::ClusterParamsAlg::fFinishedRefineStartPoints</a></div><div class="ttdeci">bool fFinishedRefineStartPoints</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00332">ClusterParamsAlg.h:332</a></div></div>
<div class="ttc" id="classutil_1_1PxHit_html_ac644acfe8d6d678fabfc30936dd04675"><div class="ttname"><a href="../../d4/d8a/classutil_1_1PxHit.html#ac644acfe8d6d678fabfc30936dd04675">util::PxHit::charge</a></div><div class="ttdeci">double charge</div><div class="ttdoc">area charge </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00039">PxUtils.h:39</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a0f44780404f5242c805b2b989eb3998b"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">cluster::ClusterParamsAlg::fRough2DSlope</a></div><div class="ttdeci">double fRough2DSlope</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00339">ClusterParamsAlg.h:339</a></div></div>
<div class="ttc" id="namespacechannelDBConverter_html_ab6cfbbcbb53c275375289d47dec67f46"><div class="ttname"><a href="../../d4/d43/namespacechannelDBConverter.html#ab6cfbbcbb53c275375289d47dec67f46">channelDBConverter.n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d11/channelDBConverter_8py_source.html#l00249">channelDBConverter.py:249</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="classutil_1_1PxPoint_html_a8c46094a24571dc2e0c3295491660cf1"><div class="ttname"><a href="../../d4/def/classutil_1_1PxPoint.html#a8c46094a24571dc2e0c3295491660cf1">util::PxPoint::plane</a></div><div class="ttdeci">unsigned int plane</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00012">PxUtils.h:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aca04bc25c7eff2d2f083c5249148d48d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a>&amp; cluster::ClusterParamsAlg::RoughEndPoint </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00187">187</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ac3e5b414c555a9c129c1e9947595c7da"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">cluster::ClusterParamsAlg::fRoughEndPoint</a></div><div class="ttdeci">util::PxPoint fRoughEndPoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00342">ClusterParamsAlg.h:342</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a394a9755e12d3e2736248591502ab2a5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double cluster::ClusterParamsAlg::RoughIntercept </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00198">198</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">fRough2DIntercept</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae203cdb5ed5dab4c10336fefc57c3a4f"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae203cdb5ed5dab4c10336fefc57c3a4f">cluster::ClusterParamsAlg::fRough2DIntercept</a></div><div class="ttdeci">double fRough2DIntercept</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00340">ClusterParamsAlg.h:340</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa9bf1646631a9c9d78275302197b904f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double cluster::ClusterParamsAlg::RoughSlope </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00193">193</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">fRough2DSlope</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a0f44780404f5242c805b2b989eb3998b"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0f44780404f5242c805b2b989eb3998b">cluster::ClusterParamsAlg::fRough2DSlope</a></div><div class="ttdeci">double fRough2DSlope</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00339">ClusterParamsAlg.h:339</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acc4e6f316740ce8bf71a42726cf34c5d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a>&amp; cluster::ClusterParamsAlg::RoughStartPoint </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00182">182</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_acebf44d6575c557990437f02608b0c6a"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">cluster::ClusterParamsAlg::fRoughBeginPoint</a></div><div class="ttdeci">util::PxPoint fRoughBeginPoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00341">ClusterParamsAlg.h:341</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab93ace25b16b0449077873c47ec0ef54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cluster::ClusterParamsAlg::SetHits </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../d4/d8a/classutil_1_1PxHit.html">util::PxHit</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>inhitlist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00049">49</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af0b16a7d34f4ef36bed9734d5afc252c">Initialize</a>();</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">// Make default values</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="comment">// Is done by the struct</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">if</span> (!(inhitlist.size())) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <span class="keywordflow">throw</span> CRUException(<span class="stringliteral">&quot;Provided empty hit list!&quot;</span>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>.reserve(inhitlist.size());</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="../../dd/de2/getStatistics_8sh.html#a04d4c2131ccb24cc78386597e8a21c5b">h</a> : inhitlist)</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>.push_back(<a class="code" href="../../dd/de2/getStatistics_8sh.html#a04d4c2131ccb24cc78386597e8a21c5b">h</a>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>[0].plane;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>.size() &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a7c282e19537198d9ef82f0b643d677de">fMinNHits</a>) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot; the hitlist is too small. Continuing to run may result in crash!!! &quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                  &lt;&lt; std::endl;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>.size();</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb9af9abb6078d131e338e85f49aebb4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">cluster::ClusterParamsAlg::fHitVector</a></div><div class="ttdeci">std::vector&lt; util::PxHit &gt; fHitVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00298">ClusterParamsAlg.h:298</a></div></div>
<div class="ttc" id="getStatistics_8sh_html_a04d4c2131ccb24cc78386597e8a21c5b"><div class="ttname"><a href="../../dd/de2/getStatistics_8sh.html#a04d4c2131ccb24cc78386597e8a21c5b">h</a></div><div class="ttdeci">while getopts h</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/getStatistics_8sh_source.html#l00013">getStatistics.sh:13</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aa562a0d352b8dc45dc0b90d034f6feaf"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">cluster::ClusterParamsAlg::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00301">ClusterParamsAlg.h:301</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a7c282e19537198d9ef82f0b643d677de"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a7c282e19537198d9ef82f0b643d677de">cluster::ClusterParamsAlg::fMinNHits</a></div><div class="ttdeci">size_t fMinNHits</div><div class="ttdoc">Cut value for # hits: below this value clusters are not evaluated. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00292">ClusterParamsAlg.h:292</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_af0b16a7d34f4ef36bed9734d5afc252c"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#af0b16a7d34f4ef36bed9734d5afc252c">cluster::ClusterParamsAlg::Initialize</a></div><div class="ttdeci">void Initialize()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00131">ClusterParamsAlg.cxx:131</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a173f5ebacd7449c535fafc4f70fe409c"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">cluster::ClusterParamsAlg::fPlane</a></div><div class="ttdeci">int fPlane</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00305">ClusterParamsAlg.h:305</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1e4e2e44f265b95b6f194aeb2ca21b3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::SetMinNHits </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nhit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00032">32</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a7c282e19537198d9ef82f0b643d677de">fMinNHits</a> = nhit;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a7c282e19537198d9ef82f0b643d677de"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a7c282e19537198d9ef82f0b643d677de">cluster::ClusterParamsAlg::fMinNHits</a></div><div class="ttdeci">size_t fMinNHits</div><div class="ttdoc">Cut value for # hits: below this value clusters are not evaluated. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00292">ClusterParamsAlg.h:292</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6beaa1ceca1e2db11f521b1849f1894d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::setNeuralNetPath </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00172">172</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0acd916298034efee1f97742a0fe46df">fNeuralNetPath</a> = <a class="code" href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div>
<div class="ttc" id="file__to__url_8sh_html_a096ad3d3698082826189c839d7a6e46f"><div class="ttname"><a href="../../d0/dea/file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a></div><div class="ttdeci">then echo File list $list not found else cat $list while read file do echo $file sed s</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dea/file__to__url_8sh_source.html#l00060">file_to_url.sh:60</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a0acd916298034efee1f97742a0fe46df"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a0acd916298034efee1f97742a0fe46df">cluster::ClusterParamsAlg::fNeuralNetPath</a></div><div class="ttdeci">std::string fNeuralNetPath</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00385">ClusterParamsAlg.h:385</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a24b2905eab00be334c37db213fd4801b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::SetPlane </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00077">77</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">fPlane</a> = <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="../../dd/de2/getStatistics_8sh.html#a04d4c2131ccb24cc78386597e8a21c5b">h</a> : <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>)</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <a class="code" href="../../dd/de2/getStatistics_8sh.html#a04d4c2131ccb24cc78386597e8a21c5b">h</a>.plane = <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">fRoughBeginPoint</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a8c46094a24571dc2e0c3295491660cf1">plane</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">fRoughEndPoint</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a8c46094a24571dc2e0c3295491660cf1">plane</a> = <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">start_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a8c46094a24571dc2e0c3295491660cf1">plane</a> = <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">fParams</a>.<a class="code" href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">end_point</a>.<a class="code" href="../../d4/def/classutil_1_1PxPoint.html#a8c46094a24571dc2e0c3295491660cf1">plane</a> = <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_acebf44d6575c557990437f02608b0c6a"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#acebf44d6575c557990437f02608b0c6a">cluster::ClusterParamsAlg::fRoughBeginPoint</a></div><div class="ttdeci">util::PxPoint fRoughBeginPoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00341">ClusterParamsAlg.h:341</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a24c8335057af14a9b508d5ac18999ce5"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a></div><div class="ttdeci">pdgs p</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00022">selectors.fcl:22</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb9af9abb6078d131e338e85f49aebb4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">cluster::ClusterParamsAlg::fHitVector</a></div><div class="ttdeci">std::vector&lt; util::PxHit &gt; fHitVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00298">ClusterParamsAlg.h:298</a></div></div>
<div class="ttc" id="getStatistics_8sh_html_a04d4c2131ccb24cc78386597e8a21c5b"><div class="ttname"><a href="../../dd/de2/getStatistics_8sh.html#a04d4c2131ccb24cc78386597e8a21c5b">h</a></div><div class="ttdeci">while getopts h</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/getStatistics_8sh_source.html#l00013">getStatistics.sh:13</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ae048785b39f20c708426303fc5dbe197"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ae048785b39f20c708426303fc5dbe197">cluster::ClusterParamsAlg::fParams</a></div><div class="ttdeci">cluster::cluster_params fParams</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00383">ClusterParamsAlg.h:383</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_a09109ad847929d48f11d1ee7d6b78ddc"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#a09109ad847929d48f11d1ee7d6b78ddc">cluster::cluster_params::start_point</a></div><div class="ttdeci">util::PxPoint start_point</div><div class="ttdoc">start point </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00023">ClusterParams.h:23</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ac3e5b414c555a9c129c1e9947595c7da"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3e5b414c555a9c129c1e9947595c7da">cluster::ClusterParamsAlg::fRoughEndPoint</a></div><div class="ttdeci">util::PxPoint fRoughEndPoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00342">ClusterParamsAlg.h:342</a></div></div>
<div class="ttc" id="classcluster_1_1cluster__params_html_aacea4041484c2faf2f9a672f5bed6ec6"><div class="ttname"><a href="../../d2/d0e/classcluster_1_1cluster__params.html#aacea4041484c2faf2f9a672f5bed6ec6">cluster::cluster_params::end_point</a></div><div class="ttdeci">util::PxPoint end_point</div><div class="ttdoc">end point </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd9/ClusterParams_8h_source.html#l00024">ClusterParams.h:24</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a173f5ebacd7449c535fafc4f70fe409c"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a173f5ebacd7449c535fafc4f70fe409c">cluster::ClusterParamsAlg::fPlane</a></div><div class="ttdeci">int fPlane</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00305">ClusterParamsAlg.h:305</a></div></div>
<div class="ttc" id="classutil_1_1PxPoint_html_a8c46094a24571dc2e0c3295491660cf1"><div class="ttname"><a href="../../d4/def/classutil_1_1PxPoint.html#a8c46094a24571dc2e0c3295491660cf1">util::PxPoint::plane</a></div><div class="ttdeci">unsigned int plane</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/PxUtils_8h_source.html#l00012">PxUtils.h:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0ff8bf851d53b75c1d8109d139b3b2b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::SetRefineDirectionQMin </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>qmin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00046">46</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a73cb1fb8d1dd66beceedf2bef6283ae8">fQMinRefDir</a> = qmin;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a73cb1fb8d1dd66beceedf2bef6283ae8"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a73cb1fb8d1dd66beceedf2bef6283ae8">cluster::ClusterParamsAlg::fQMinRefDir</a></div><div class="ttdeci">double fQMinRefDir</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00308">ClusterParamsAlg.h:308</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaa5921ca33500a1349d3f030d86d1797"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::SetVerbose </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>yes</em> = <code><a class="el" href="../../de/d36/crtt0matchingalg__sbnd_8fcl.html#af8bc618309fb2d0f55f7f5ae0760b466">true</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00052">52</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a> = yes;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aa562a0d352b8dc45dc0b90d034f6feaf"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">cluster::ClusterParamsAlg::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00301">ClusterParamsAlg.h:301</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a277f8ef9c4d94f5b4a829384434dd0ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double cluster::ClusterParamsAlg::StartCharge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/de6/classutil_1_1GeometryUtilities.html">util::GeometryUtilities</a> const &amp;&#160;</td>
          <td class="paramname"><em>gser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>length</em> = <code>1.</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nbins</em> = <code>10</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the expected charge at the beginning of the cluster. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nbins</td><td>use at least this number of charge bins from charge profile </td></tr>
    <tr><td class="paramname">length</td><td>space at the start of cluster where to collect charge, in cm the expected charge at the beginning of the cluster </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aac5960c5625e536685e450184f35f8f3" title="Returns the expected charge at the end of the cluster. ">EndCharge()</a>, <a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3bfe96157bea5ad046a844f51e9b6a2" title="Integrates the charge between two positions in the cluster axis. ">IntegrateFitCharge()</a></dd></dl>
<p><a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html">ClusterParamsAlg</a> extracts a binned charge profile, parametrized versus the distance from the start of the cluster. All the charge on the plane orthogonal to cluster axis is collapsed into the point where that plane intersects the axis. The resulting 1D distribution is then binned.</p>
<p>This method returns the charge under the first length cm of the cluster.</p>
<p>This method considers the first nbins of this charge distribution and through a linear fit determines the expected charge at the first bin. Then, it scales the result to reflect how much charge would be deposited in a space of length centimetres, according to this linear fit.</p>
<p>Note that length may be 0 (charge will be 0) or negative (sort of extrapolation ahead of the cluster start).</p>
<p>For more details, see <a class="el" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3bfe96157bea5ad046a844f51e9b6a2" title="Integrates the charge between two positions in the cluster axis. ">IntegrateFitCharge()</a>. </p>

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01467">1467</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  {</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>.size()) {</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <span class="keywordflow">case</span> 0: <span class="keywordflow">return</span> 0.;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">fHitVector</a>.back().charge;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      <span class="comment">// the &quot;default&quot; is the rest of the function</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    } <span class="comment">// switch</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="comment">// this is the range of the fit:</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fit_first_bin = 0, fit_last_bin = nbins;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3bfe96157bea5ad046a844f51e9b6a2">IntegrateFitCharge</a>(gser, 0., length, fit_first_bin, fit_last_bin);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  } <span class="comment">// ClusterParamsAlg::StartCharge()</span></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ac3bfe96157bea5ad046a844f51e9b6a2"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ac3bfe96157bea5ad046a844f51e9b6a2">cluster::ClusterParamsAlg::IntegrateFitCharge</a></div><div class="ttdeci">double IntegrateFitCharge(util::GeometryUtilities const &amp;gser, double from_length, double to_length, unsigned int fit_first_bin, unsigned int fit_end_bin)</div><div class="ttdoc">Integrates the charge between two positions in the cluster axis. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01407">ClusterParamsAlg.cxx:1407</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_adb9af9abb6078d131e338e85f49aebb4"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#adb9af9abb6078d131e338e85f49aebb4">cluster::ClusterParamsAlg::fHitVector</a></div><div class="ttdeci">std::vector&lt; util::PxHit &gt; fHitVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00298">ClusterParamsAlg.h:298</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9770f13d418915d859a1969c6346f743"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Stream &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::TimeReport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d8f/runFilesFromSAM_8sh.html#a9cafae22b6225844ee0cdf5ea57176ff">Stream</a> &amp;&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00402">402</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="../../d0/d8f/runFilesFromSAM_8sh.html#ae489866f8220882799d2786ca0690e5b">stream</a> &lt;&lt; <span class="stringliteral">&quot;  &lt;&lt;ClusterParamsAlg::TimeReport&gt;&gt; starts...\n&quot;</span>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a>.size(); ++i) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <a class="code" href="../../d0/d8f/runFilesFromSAM_8sh.html#ae489866f8220882799d2786ca0690e5b">stream</a> &lt;&lt; <span class="stringliteral">&quot;    Function: &quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">fTimeRecord_ProcName</a>[i].c_str()</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; ... Time = &quot;</span> &lt;&lt; <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">fTimeRecord_ProcTime</a>[i] &lt;&lt; <span class="stringliteral">&quot; [s]\n&quot;</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="../../d0/d8f/runFilesFromSAM_8sh.html#ae489866f8220882799d2786ca0690e5b">stream</a> &lt;&lt; <span class="stringliteral">&quot;  &lt;&lt;ClusterParamsAlg::TimeReport&gt;&gt; ends...\n&quot;</span>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ad8c1852c676d659d1204712e91be10a0"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad8c1852c676d659d1204712e91be10a0">cluster::ClusterParamsAlg::fTimeRecord_ProcName</a></div><div class="ttdeci">std::vector&lt; std::string &gt; fTimeRecord_ProcName</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00387">ClusterParamsAlg.h:387</a></div></div>
<div class="ttc" id="runFilesFromSAM_8sh_html_ae489866f8220882799d2786ca0690e5b"><div class="ttname"><a href="../../d0/d8f/runFilesFromSAM_8sh.html#ae489866f8220882799d2786ca0690e5b">stream</a></div><div class="ttdeci">stream</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8f/runFilesFromSAM_8sh_source.html#l00295">runFilesFromSAM.sh:295</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ab6e8a917560abcf71a5079c7a172fa7f"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ab6e8a917560abcf71a5079c7a172fa7f">cluster::ClusterParamsAlg::fTimeRecord_ProcTime</a></div><div class="ttdeci">std::vector&lt; double &gt; fTimeRecord_ProcTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00388">ClusterParamsAlg.h:388</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4f01ed99f118bfb51dc4a3eab97353d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cluster::ClusterParamsAlg::TrackShowerSeparation </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>override</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l01363">1363</a> of file <a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  {</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordflow">if</span> (!<span class="keyword">override</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>) <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot; ---- Trying T/S sep. ------ \n&quot;</span>;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4b2ff97d9bd96c11822fcb686006ef4a">enableFANN</a>) {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>) <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot; ---- Doing T/S sep. ------- \n&quot;</span>;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      std::vector&lt;float&gt; FeatureVector, outputVector;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad0a271fbbfec5fef707edb2e8a2a1c54">GetFANNVector</a>(FeatureVector);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    }</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">verbose</a>) <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot; ---- Failed T/S sep. ------ \n&quot;</span>;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    }</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  }</div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_a4b2ff97d9bd96c11822fcb686006ef4a"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#a4b2ff97d9bd96c11822fcb686006ef4a">cluster::ClusterParamsAlg::enableFANN</a></div><div class="ttdeci">bool enableFANN</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00343">ClusterParamsAlg.h:343</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_aa562a0d352b8dc45dc0b90d034f6feaf"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#aa562a0d352b8dc45dc0b90d034f6feaf">cluster::ClusterParamsAlg::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00301">ClusterParamsAlg.h:301</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="classcluster_1_1ClusterParamsAlg_html_ad0a271fbbfec5fef707edb2e8a2a1c54"><div class="ttname"><a href="../../da/dad/classcluster_1_1ClusterParamsAlg.html#ad0a271fbbfec5fef707edb2e8a2a1c54">cluster::ClusterParamsAlg::GetFANNVector</a></div><div class="ttdeci">void GetFANNVector(std::vector&lt; float &gt; &amp;data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d62/ClusterParamsAlg_8cxx_source.html#l00087">ClusterParamsAlg.cxx:87</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a4b2ff97d9bd96c11822fcb686006ef4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cluster::ClusterParamsAlg::enableFANN</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00343">343</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a702151257eff2af1499e7b657f55403b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double cluster::ClusterParamsAlg::fBeginIntercept</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00323">323</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a330a3428d9fd443210389039d6ad10f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; cluster::ClusterParamsAlg::fChargeCutoffThreshold</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00304">304</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa06e4f84c550ccce228d135b7bfbd6ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; cluster::ClusterParamsAlg::fChargeProfile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00310">310</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad363a6f8398cc1125773c69b52b261c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; cluster::ClusterParamsAlg::fChargeProfileNew</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00313">313</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a73eaded4573b1f056181f673b5ad2b85"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; cluster::ClusterParamsAlg::fCoarseChargeProfile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00311">311</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a43eaa08014e1a0c213a2ed432dfdd72b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int cluster::ClusterParamsAlg::fCoarseNbins</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00315">315</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5a8bc02edea927fa87d8957354a678c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double cluster::ClusterParamsAlg::fEndIntercept</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00324">324</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="af5023da2abe72f09a46cc3b0c4bf2ff4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cluster::ClusterParamsAlg::fFinishedGetAverages</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00329">329</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a91ba354744efb9666342c286f01d1228"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cluster::ClusterParamsAlg::fFinishedGetEndCharges</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00337">337</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8f82fbc519ea7024b1dd15829dda19b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cluster::ClusterParamsAlg::fFinishedGetFinalSlope</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00334">334</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="acc350cec04111ec313ae33521d22d10c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cluster::ClusterParamsAlg::fFinishedGetProfileInfo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00331">331</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a48f0337eb89c4856d24ed014f48f1fb1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cluster::ClusterParamsAlg::fFinishedGetRoughAxis</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00330">330</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a164f3d982dc140811b3ef995bafeff6d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cluster::ClusterParamsAlg::fFinishedRefineDirection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00333">333</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa17a0963baf5e18c795a9662e85abdb6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cluster::ClusterParamsAlg::fFinishedRefineStartPointAndDirection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00335">335</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="adb4dccf8a4331f45a6601ee53bf290fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cluster::ClusterParamsAlg::fFinishedRefineStartPoints</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00332">332</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="af3ba0e35ecbbdde118ca1a6b3ef6afe7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cluster::ClusterParamsAlg::fFinishedTrackShowerSep</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00336">336</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="adb9af9abb6078d131e338e85f49aebb4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d4/d8a/classutil_1_1PxHit.html">util::PxHit</a>&gt; cluster::ClusterParamsAlg::fHitVector</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This vector holds the pointer to hits. This should be used for computation for speed. </p>

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00298">298</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9d7c4145cff439c0d23d6b5a003cd66b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double cluster::ClusterParamsAlg::fInterHigh_side</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00325">325</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a96a72f528edb966984b99ed90f4c105c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double cluster::ClusterParamsAlg::fInterLow_side</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00326">326</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7c282e19537198d9ef82f0b643d677de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t cluster::ClusterParamsAlg::fMinNHits</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cut value for # hits: below this value clusters are not evaluated. </p>

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00292">292</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0acd916298034efee1f97742a0fe46df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string cluster::ClusterParamsAlg::fNeuralNetPath</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00385">385</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae048785b39f20c708426303fc5dbe197"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d0e/classcluster_1_1cluster__params.html">cluster::cluster_params</a> cluster::ClusterParamsAlg::fParams</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00383">383</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a173f5ebacd7449c535fafc4f70fe409c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int cluster::ClusterParamsAlg::fPlane</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00305">305</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6632fc6e57a83fdceed6e0324206c6bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double cluster::ClusterParamsAlg::fProfileIntegralBackward</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00319">319</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a23b4d2100d221a5fcc5ed1c69c5e706d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double cluster::ClusterParamsAlg::fProfileIntegralForward</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00318">318</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a414196d21654aeb29c2e9b5c2c13917b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int cluster::ClusterParamsAlg::fProfileMaximumBin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00317">317</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="afdf7948afa880726dd4683e51ce90fba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int cluster::ClusterParamsAlg::fProfileNbins</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00316">316</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="abe0316531aeec61519f82e429c4b8b2d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double cluster::ClusterParamsAlg::fProjectedLength</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00320">320</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a73cb1fb8d1dd66beceedf2bef6283ae8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double cluster::ClusterParamsAlg::fQMinRefDir</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00308">308</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae203cdb5ed5dab4c10336fefc57c3a4f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double cluster::ClusterParamsAlg::fRough2DIntercept</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00340">340</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0f44780404f5242c805b2b989eb3998b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double cluster::ClusterParamsAlg::fRough2DSlope</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00339">339</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="acebf44d6575c557990437f02608b0c6a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a> cluster::ClusterParamsAlg::fRoughBeginPoint</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00341">341</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac3e5b414c555a9c129c1e9947595c7da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/def/classutil_1_1PxPoint.html">util::PxPoint</a> cluster::ClusterParamsAlg::fRoughEndPoint</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00342">342</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad8c1852c676d659d1204712e91be10a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; cluster::ClusterParamsAlg::fTimeRecord_ProcName</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00387">387</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab6e8a917560abcf71a5079c7a172fa7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; cluster::ClusterParamsAlg::fTimeRecord_ProcTime</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00388">388</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa562a0d352b8dc45dc0b90d034f6feaf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cluster::ClusterParamsAlg::verbose</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html#l00301">301</a> of file <a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d6/d49/ClusterParamsAlg_8h_source.html">ClusterParamsAlg.h</a></li>
<li><a class="el" href="../../d9/d62/ClusterParamsAlg_8cxx_source.html">ClusterParamsAlg.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
