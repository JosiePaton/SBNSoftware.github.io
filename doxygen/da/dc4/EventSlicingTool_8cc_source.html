<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>EventSlicingTool.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b73b02d482d1c4a3db20c3d9ad52d395.html">srcs</a></li><li class="navelem"><a class="el" href="../../dir_a1329299114bc1a621643048f876df5a.html">larpandoracontent</a></li><li class="navelem"><a class="el" href="../../dir_caf9afabea0076f4afd58024b4b76d1c.html">larpandoracontent</a></li><li class="navelem"><a class="el" href="../../dir_892ce62f3b99f2a05b1a8e25929034b8.html">LArThreeDReco</a></li><li class="navelem"><a class="el" href="../../dir_9c17d5a535737d744d3b849f33088dce.html">LArEventBuilding</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">EventSlicingTool.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../da/dc4/EventSlicingTool_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *  @file   larpandoracontent/LArThreeDReco/LArEventBuilding/EventSlicingTool.cc</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  @brief  Implementation of the event slicing tool class.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *  $Log: $</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;Pandora/AlgorithmHeaders.h&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/de3/LArClusterHelper_8h.html">larpandoracontent/LArHelpers/LArClusterHelper.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/de8/LArGeometryHelper_8h.html">larpandoracontent/LArHelpers/LArGeometryHelper.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d22/LArPfoHelper_8h.html">larpandoracontent/LArHelpers/LArPfoHelper.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d98/LArPointingClusterHelper_8h.html">larpandoracontent/LArHelpers/LArPointingClusterHelper.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d84/LArThreeDSlidingConeFitResult_8h.html">larpandoracontent/LArObjects/LArThreeDSlidingConeFitResult.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/de9/LArThreeDSlidingFitResult_8h.html">larpandoracontent/LArObjects/LArThreeDSlidingFitResult.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d48/EventSlicingTool_8h.html">larpandoracontent/LArThreeDReco/LArEventBuilding/EventSlicingTool.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d2b/KDTreeLinkerAlgoT_8h.html">larpandoracontent/LArUtility/KDTreeLinkerAlgoT.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../df/df8/reco__sbnd_8fcl.html#a8bcdaf138f1238e67ebf243c201082df">pandora</a>;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">namespace </span>lar_content</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;{</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../db/de7/namespacelar__content.html#aa879bc8b47c9dd31c42e69af2331b661">SlicingAlgorithm::HitTypeToNameMap</a> <a class="code" href="../../db/de7/namespacelar__content.html#aa879bc8b47c9dd31c42e69af2331b661">HitTypeToNameMap</a>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../db/de7/namespacelar__content.html#a9642b2bda4d09831392197ee5a402347">SlicingAlgorithm::SliceList</a> <a class="code" href="../../db/de7/namespacelar__content.html#a9642b2bda4d09831392197ee5a402347">SliceList</a>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../db/de7/namespacelar__content.html#af80e62ad7209ac1918f78beaad623009">SlicingAlgorithm::Slice</a> <a class="code" href="../../db/de7/namespacelar__content.html#af80e62ad7209ac1918f78beaad623009">Slice</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ad07765d5bec8b2d77a4488f4a785491b">   34</a></span>&#160;EventSlicingTool::EventSlicingTool() :</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    m_minHitsPer3DCluster(20),</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    m_min3DHitsToSeedNewSlice(50),</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    m_halfWindowLayers(20),</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    m_usePointingAssociation(<a class="code" href="../../df/d43/crtt0matchingalg__icarus_8fcl.html#af8bc618309fb2d0f55f7f5ae0760b466">true</a>),</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    m_minVertexLongitudinalDistance(-7.5f),</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    m_maxVertexLongitudinalDistance(60.f),</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    m_maxVertexTransverseDistance(10.5f),</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    m_vertexAngularAllowance(9.f),</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    m_maxClosestApproach(15.f),</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    m_maxInterceptDistance(60.f),</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    m_useProximityAssociation(<a class="code" href="../../df/d43/crtt0matchingalg__icarus_8fcl.html#af8bc618309fb2d0f55f7f5ae0760b466">true</a>),</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    m_maxHitSeparationSquared(25.f * 25.f),</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    m_useShowerConeAssociation(<a class="code" href="../../df/d43/crtt0matchingalg__icarus_8fcl.html#af8bc618309fb2d0f55f7f5ae0760b466">true</a>),</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    m_nConeFitLayers(20),</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    m_nConeFits(5),</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    m_coneLengthMultiplier(7.f),</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    m_maxConeLength(126.f),</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    m_coneTanHalfAngle1(0.5f),</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    m_coneBoundedFraction1(0.5f),</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    m_coneTanHalfAngle2(0.75f),</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    m_coneBoundedFraction2(0.75f),</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    m_use3DProjectionsInHitPickUp(<a class="code" href="../../df/d43/crtt0matchingalg__icarus_8fcl.html#af8bc618309fb2d0f55f7f5ae0760b466">true</a>)</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a20a0ecab5d436fcf0f64fbe9e4a21cc6">   62</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a20a0ecab5d436fcf0f64fbe9e4a21cc6">EventSlicingTool::RunSlicing</a>(<span class="keyword">const</span> Algorithm *<span class="keyword">const</span> pAlgorithm, <span class="keyword">const</span> <a class="code" href="../../db/de7/namespacelar__content.html#aa879bc8b47c9dd31c42e69af2331b661">HitTypeToNameMap</a> &amp;caloHitListNames,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/de7/namespacelar__content.html#aa879bc8b47c9dd31c42e69af2331b661">HitTypeToNameMap</a> &amp;clusterListNames, <a class="code" href="../../db/de7/namespacelar__content.html#a9642b2bda4d09831392197ee5a402347">SliceList</a> &amp;sliceList)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">if</span> (PandoraContentApi::GetSettings(*pAlgorithm)-&gt;ShouldDisplayAlgorithmInfo())</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;----&gt; Running Algorithm Tool: &quot;</span> &lt;&lt; this-&gt;GetInstanceName() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; this-&gt;GetType() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a99252e90e9800585bedd9d940e48d4ad">ClusterToPfoMap</a> clusterToPfoMap;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    ClusterList trackClusters3D;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ad4429cb2f02b303663d2429bcaf5ffe7">GetThreeDClusters</a>(pAlgorithm, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afd067e7f1a036c5930bc94c020a1f39e">m_trackPfoListName</a>, trackClusters3D, clusterToPfoMap);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    ClusterList showerClusters3D;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ad4429cb2f02b303663d2429bcaf5ffe7">GetThreeDClusters</a>(pAlgorithm, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69bcf815187d277fee861f5dac4ee41f">m_showerPfoListName</a>, showerClusters3D, clusterToPfoMap);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0bd7c03b8cf2459606ff8aebfc40c10a">ClusterSliceList</a> clusterSliceList;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a782597cc5bb6b6d18560f9e3fae4634e">GetClusterSliceList</a>(trackClusters3D, showerClusters3D, clusterSliceList);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">if</span> (clusterSliceList.size() &lt; 2)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordflow">return</span> this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#acc3aaa1314467a2fde1af3ed64b60047">CopyAllHitsToSingleSlice</a>(pAlgorithm, caloHitListNames, sliceList);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">ClusterToSliceIndexMap</a> clusterToSliceIndexMap;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a87b1946135ef06b69b7800305ea2f110">CreateSlices</a>(clusterSliceList, sliceList, clusterToSliceIndexMap);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        ClusterSet assignedClusters;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aee2173dae3db7c74548ed83b29a37998">CopyPfoHitsToSlices</a>(clusterToSliceIndexMap, clusterToPfoMap, sliceList, assignedClusters);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        ClusterList remainingClusters;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abcc76adc8242023302dc6920f784c8c4">GetRemainingClusters</a>(pAlgorithm, clusterListNames, assignedClusters, remainingClusters);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a49ad72522f5dd969ea74136797aed4cc">AssignRemainingHitsToSlices</a>(remainingClusters, clusterToSliceIndexMap, sliceList);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#acc3aaa1314467a2fde1af3ed64b60047">  100</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#acc3aaa1314467a2fde1af3ed64b60047">EventSlicingTool::CopyAllHitsToSingleSlice</a>(<span class="keyword">const</span> Algorithm *<span class="keyword">const</span> pAlgorithm, <span class="keyword">const</span> <a class="code" href="../../db/de7/namespacelar__content.html#aa879bc8b47c9dd31c42e69af2331b661">HitTypeToNameMap</a> &amp;caloHitListNames, <a class="code" href="../../db/de7/namespacelar__content.html#a9642b2bda4d09831392197ee5a402347">SliceList</a> &amp;sliceList)<span class="keyword"> const</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">if</span> (!sliceList.empty())</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_INVALID_PARAMETER);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keyword">const</span> CaloHitList *pCaloHitListU(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    PANDORA_THROW_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_INITIALIZED, !=,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        PandoraContentApi::GetList(*pAlgorithm, caloHitListNames.at(TPC_VIEW_U), pCaloHitListU));</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keyword">const</span> CaloHitList *pCaloHitListV(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    PANDORA_THROW_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_INITIALIZED, !=,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        PandoraContentApi::GetList(*pAlgorithm, caloHitListNames.at(TPC_VIEW_V), pCaloHitListV));</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keyword">const</span> CaloHitList *pCaloHitListW(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    PANDORA_THROW_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_INITIALIZED, !=,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        PandoraContentApi::GetList(*pAlgorithm, caloHitListNames.at(TPC_VIEW_W), pCaloHitListW));</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span> (pCaloHitListU || pCaloHitListV || pCaloHitListW)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        sliceList.push_back(<a class="code" href="../../db/de7/namespacelar__content.html#af80e62ad7209ac1918f78beaad623009">Slice</a>());</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="../../d1/d77/classlar__content_1_1SlicingAlgorithm_1_1Slice.html">Slice</a> &amp;slice(sliceList.at(0));</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keywordflow">if</span> (pCaloHitListU)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            slice.<a class="code" href="../../d1/d77/classlar__content_1_1SlicingAlgorithm_1_1Slice.html#a4289e9b894bf9c4d492f645be7e23d9b">m_caloHitListU</a> = *pCaloHitListU;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">if</span> (pCaloHitListV)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            slice.m_caloHitListV = *pCaloHitListV;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">if</span> (pCaloHitListW)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            slice.m_caloHitListW = *pCaloHitListW;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ad4429cb2f02b303663d2429bcaf5ffe7">  133</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ad4429cb2f02b303663d2429bcaf5ffe7">EventSlicingTool::GetThreeDClusters</a>(</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keyword">const</span> Algorithm *<span class="keyword">const</span> pAlgorithm, <span class="keyword">const</span> std::string &amp;pfoListName, ClusterList &amp;clusters3D, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a99252e90e9800585bedd9d940e48d4ad">ClusterToPfoMap</a> &amp;clusterToPfoMap)<span class="keyword"> const</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keyword">const</span> PfoList *pPfoList(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    PANDORA_THROW_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_INITIALIZED, !=, PandoraContentApi::GetList(*pAlgorithm, pfoListName, pPfoList));</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">if</span> (!pPfoList || pPfoList-&gt;empty())</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">if</span> (PandoraContentApi::GetSettings(*pAlgorithm)-&gt;ShouldDisplayAlgorithmInfo())</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;EventSlicingTool: unable to find pfo list &quot;</span> &lt;&lt; pfoListName &lt;&lt; std::endl;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> ParticleFlowObject *<span class="keyword">const</span> pPfo : *pPfoList)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        ClusterList pfoClusters3D;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <a class="code" href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a13bdb547f45c2729806f42e6f2bb698e">LArPfoHelper::GetThreeDClusterList</a>(pPfo, pfoClusters3D);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster3D : pfoClusters3D)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">if</span> (pCluster3D-&gt;GetNCaloHits() &lt; <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2f3dbe858296e138c6b55d09f46a042a">m_minHitsPer3DCluster</a>)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordflow">if</span> (!clusterToPfoMap.insert(ClusterToPfoMap::value_type(pCluster3D, pPfo)).second)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_ALREADY_PRESENT);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordflow">if</span> (clusters3D.end() != std::find(clusters3D.begin(), clusters3D.end(), pCluster3D))</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_ALREADY_PRESENT);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            clusters3D.push_back(pCluster3D);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a782597cc5bb6b6d18560f9e3fae4634e">  170</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a782597cc5bb6b6d18560f9e3fae4634e">EventSlicingTool::GetClusterSliceList</a>(<span class="keyword">const</span> ClusterList &amp;trackClusters3D, <span class="keyword">const</span> ClusterList &amp;showerClusters3D, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0bd7c03b8cf2459606ff8aebfc40c10a">ClusterSliceList</a> &amp;clusterSliceList)<span class="keyword"> const</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> layerPitch(<a class="code" href="../../df/df1/classlar__content_1_1LArGeometryHelper.html#a90a571d65107eedd480a692c166c5bfe">LArGeometryHelper::GetWireZPitch</a>(this-&gt;GetPandora()));</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="../../db/de7/namespacelar__content.html#afe4770c768894158bfd101423d8f410e">ThreeDSlidingFitResultMap</a> trackFitResults;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster3D : trackClusters3D)</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            trackFitResults.insert(</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                ThreeDSlidingFitResultMap::value_type(pCluster3D, <a class="code" href="../../dc/d4f/classlar__content_1_1ThreeDSlidingFitResult.html">ThreeDSlidingFitResult</a>(pCluster3D, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a249c138153de86646cabfd66c77bb875">m_halfWindowLayers</a>, layerPitch)));</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">catch</span> (StatusCodeException &amp;)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;EventSlicingTool: ThreeDSlidingFitResult failure for track cluster.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="../../db/de7/namespacelar__content.html#a2828737b9c6d73632ada95abaec15ed7">ThreeDSlidingConeFitResultMap</a> showerConeFitResults;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster3D : showerClusters3D)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            showerConeFitResults.insert(</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                ThreeDSlidingConeFitResultMap::value_type(pCluster3D, <a class="code" href="../../dc/d4a/classlar__content_1_1ThreeDSlidingConeFitResult.html">ThreeDSlidingConeFitResult</a>(pCluster3D, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a249c138153de86646cabfd66c77bb875">m_halfWindowLayers</a>, layerPitch)));</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">catch</span> (StatusCodeException &amp;)</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;EventSlicingTool: ThreeDSlidingConeFitResult failure for shower cluster.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">ClusterVector</a> sortedClusters3D(trackClusters3D.begin(), trackClusters3D.end());</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    sortedClusters3D.insert(sortedClusters3D.end(), showerClusters3D.begin(), showerClusters3D.end());</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    std::sort(sortedClusters3D.begin(), sortedClusters3D.end(), <a class="code" href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a86609499a509338a41e2fa914923c980">LArClusterHelper::SortByNHits</a>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    ClusterSet usedClusters;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster3D : sortedClusters3D)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">if</span> (usedClusters.count(pCluster3D))</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keywordflow">if</span> (pCluster3D-&gt;GetNCaloHits() &lt; <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a16d6bca9667d0510bb3741458f7e85f1">m_min3DHitsToSeedNewSlice</a>)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        clusterSliceList.push_back(<a class="code" href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">ClusterVector</a>(1, pCluster3D));</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        usedClusters.insert(pCluster3D);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <a class="code" href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">ClusterVector</a> &amp;clusterSlice(clusterSliceList.back());</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a71461b08a50b0cd69b206e58ce5ff2e4">CollectAssociatedClusters</a>(pCluster3D, sortedClusters3D, trackFitResults, showerConeFitResults, clusterSlice, usedClusters);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a71461b08a50b0cd69b206e58ce5ff2e4">  228</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a71461b08a50b0cd69b206e58ce5ff2e4">EventSlicingTool::CollectAssociatedClusters</a>(<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pClusterInSlice, <span class="keyword">const</span> <a class="code" href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">ClusterVector</a> &amp;candidateClusters,</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/de7/namespacelar__content.html#afe4770c768894158bfd101423d8f410e">ThreeDSlidingFitResultMap</a> &amp;trackFitResults, <span class="keyword">const</span> <a class="code" href="../../db/de7/namespacelar__content.html#a2828737b9c6d73632ada95abaec15ed7">ThreeDSlidingConeFitResultMap</a> &amp;showerConeFitResults,</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">ClusterVector</a> &amp;clusterSlice, ClusterSet &amp;usedClusters)<span class="keyword"> const</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">ClusterVector</a> addedClusters;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCandidateCluster : candidateClusters)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">if</span> (usedClusters.count(pCandidateCluster) || (pClusterInSlice == pCandidateCluster))</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a560576fab19c963dd44a19ee2df0dbd1">m_usePointingAssociation</a> &amp;&amp; this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aea99e1776c7e01f88bc72904a7d53419">PassPointing</a>(pClusterInSlice, pCandidateCluster, trackFitResults)) ||</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            (<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a5e82f789f77fb8852bedf1242fa5753e">m_useProximityAssociation</a> &amp;&amp; this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a31e0c287bf209620c0fed61a6dbde146">PassProximity</a>(pClusterInSlice, pCandidateCluster)) ||</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            (<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ac36a674e362ee83212d854f5c5494cd4">m_useShowerConeAssociation</a> &amp;&amp; (this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a4f4f0dd2b9e21f696c8d40d882108353">PassShowerCone</a>(pClusterInSlice, pCandidateCluster, showerConeFitResults) ||</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                               this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a4f4f0dd2b9e21f696c8d40d882108353">PassShowerCone</a>(pCandidateCluster, pClusterInSlice, showerConeFitResults))))</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            addedClusters.push_back(pCandidateCluster);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            (<a class="code" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">void</a>)usedClusters.insert(pCandidateCluster);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    clusterSlice.insert(clusterSlice.end(), addedClusters.begin(), addedClusters.end());</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pAddedCluster : addedClusters)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a71461b08a50b0cd69b206e58ce5ff2e4">CollectAssociatedClusters</a>(pAddedCluster, candidateClusters, trackFitResults, showerConeFitResults, clusterSlice, usedClusters);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;}</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aea99e1776c7e01f88bc72904a7d53419">  257</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aea99e1776c7e01f88bc72904a7d53419">EventSlicingTool::PassPointing</a>(</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keyword">const</span> Cluster *<span class="keyword">const</span> pClusterInSlice, <span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCandidateCluster, <span class="keyword">const</span> <a class="code" href="../../db/de7/namespacelar__content.html#afe4770c768894158bfd101423d8f410e">ThreeDSlidingFitResultMap</a> &amp;trackFitResults)<span class="keyword"> const</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    ThreeDSlidingFitResultMap::const_iterator inSliceIter = trackFitResults.find(pClusterInSlice);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    ThreeDSlidingFitResultMap::const_iterator candidateIter = trackFitResults.find(pCandidateCluster);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> ((trackFitResults.end() == inSliceIter) || (trackFitResults.end() == candidateIter))</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> inSlicePointingCluster(inSliceIter-&gt;second);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> candidatePointingCluster(candidateIter-&gt;second);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a8d752cffb71b03ea0d2020123238db80">CheckClosestApproach</a>(inSlicePointingCluster, candidatePointingCluster) ||</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36cc380d642333550149b7a63b0cce73">IsEmission</a>(inSlicePointingCluster, candidatePointingCluster) || this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a928442b82284524ab07e752510924732">IsNode</a>(inSlicePointingCluster, candidatePointingCluster))</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a31e0c287bf209620c0fed61a6dbde146">  280</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a31e0c287bf209620c0fed61a6dbde146">EventSlicingTool::PassProximity</a>(<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pClusterInSlice, <span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCandidateCluster)<span class="keyword"> const</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;orderedList1 : pClusterInSlice-&gt;GetOrderedCaloHitList())</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *<span class="keyword">const</span> pCaloHit1 : *(orderedList1.second))</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keyword">const</span> CartesianVector &amp;positionVector1(pCaloHit1-&gt;GetPositionVector());</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;orderedList2 : pCandidateCluster-&gt;GetOrderedCaloHitList())</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *<span class="keyword">const</span> pCaloHit2 : *(orderedList2.second))</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                    <span class="keywordflow">if</span> ((positionVector1 - pCaloHit2-&gt;GetPositionVector()).GetMagnitudeSquared() &lt; <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a6fc21ea760f05461592a36bcb84458d0">m_maxHitSeparationSquared</a>)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a4f4f0dd2b9e21f696c8d40d882108353">  304</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a4f4f0dd2b9e21f696c8d40d882108353">EventSlicingTool::PassShowerCone</a>(</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keyword">const</span> Cluster *<span class="keyword">const</span> pConeCluster, <span class="keyword">const</span> Cluster *<span class="keyword">const</span> pNearbyCluster, <span class="keyword">const</span> <a class="code" href="../../db/de7/namespacelar__content.html#a2828737b9c6d73632ada95abaec15ed7">ThreeDSlidingConeFitResultMap</a> &amp;showerConeFitResults)<span class="keyword"> const</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    ThreeDSlidingConeFitResultMap::const_iterator fitIter = showerConeFitResults.find(pConeCluster);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span> (showerConeFitResults.end() == fitIter)</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordtype">float</span> clusterLength(0.f);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="../../db/de7/namespacelar__content.html#aaf6a79c215e79fd4228bd73392e0a7a6">SimpleConeList</a> simpleConeList;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../dc/d4a/classlar__content_1_1ThreeDSlidingConeFitResult.html">ThreeDSlidingConeFitResult</a> &amp;slidingConeFitResult3D(fitIter-&gt;second);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../dc/d4f/classlar__content_1_1ThreeDSlidingFitResult.html">ThreeDSlidingFitResult</a> &amp;slidingFitResult3D(slidingConeFitResult3D.<a class="code" href="../../dc/d4a/classlar__content_1_1ThreeDSlidingConeFitResult.html#a530b4326033e1bc9c39fce3bdb71bff5">GetSlidingFitResult</a>());</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        slidingConeFitResult3D.<a class="code" href="../../dc/d4a/classlar__content_1_1ThreeDSlidingConeFitResult.html#a574b9f4b78d4465822cf1344e7396459">GetSimpleConeList</a>(<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a9af06275cd6ebcd966bbfd55c0a6945d">m_nConeFitLayers</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa5d8f980a84c194c183c08f1832069f1">m_nConeFits</a>, <a class="code" href="../../db/de7/namespacelar__content.html#a6efba97e7ca9b06e59b772ba6e48a333a641b4f20a07920f65e1be2c77e0c07da">CONE_BOTH_DIRECTIONS</a>, simpleConeList);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        clusterLength = (slidingFitResult3D.GetGlobalMaxLayerPosition() - slidingFitResult3D.GetGlobalMinLayerPosition()).GetMagnitude();</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">catch</span> (<span class="keyword">const</span> StatusCodeException &amp;)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="../../df/dcb/classlar__content_1_1SimpleCone.html">SimpleCone</a> &amp;simpleCone : simpleConeList)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> coneLength(std::min(<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a72dc200da4bc821a4f86bba8432563b0">m_coneLengthMultiplier</a> * clusterLength, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a908091f0a755d83bcfe81a47094f6373">m_maxConeLength</a>));</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">if</span> (simpleCone.GetBoundedHitFraction(pNearbyCluster, coneLength, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a3bd955bee615a64ce13cd3434b71dff6">m_coneTanHalfAngle1</a>) &lt; <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa34c52f40ad0dde30816ac6f4cb0eb56">m_coneBoundedFraction1</a>)</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">if</span> (simpleCone.GetBoundedHitFraction(pNearbyCluster, coneLength, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa7f6dd7e1a42b28bba9c03f278e8ac04">m_coneTanHalfAngle2</a>) &lt; <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a46e099b8038c988bb21be01733640d1c">m_coneBoundedFraction2</a>)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a8d752cffb71b03ea0d2020123238db80">  345</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a8d752cffb71b03ea0d2020123238db80">EventSlicingTool::CheckClosestApproach</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;cluster1, <span class="keyword">const</span> <a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;cluster2)<span class="keyword"> const</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">return</span> (this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a8d752cffb71b03ea0d2020123238db80">CheckClosestApproach</a>(cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>(), cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>()) ||</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a8d752cffb71b03ea0d2020123238db80">CheckClosestApproach</a>(cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>(), cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>()) ||</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a8d752cffb71b03ea0d2020123238db80">CheckClosestApproach</a>(cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>(), cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>()) ||</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a8d752cffb71b03ea0d2020123238db80">CheckClosestApproach</a>(cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>(), cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>()));</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;}</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ac214a909775875a7d0ada4a2ece1d75f">  355</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a8d752cffb71b03ea0d2020123238db80">EventSlicingTool::CheckClosestApproach</a>(<span class="keyword">const</span> <a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html">LArPointingCluster::Vertex</a> &amp;vertex1, <span class="keyword">const</span> <a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html">LArPointingCluster::Vertex</a> &amp;vertex2)<span class="keyword"> const</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    CartesianVector intersectionPoint(0.f, 0.f, 0.f);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordtype">float</span> displacement1(<a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::numeric_limits&lt;float&gt;::max</a>()), displacement2(<a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::numeric_limits&lt;float&gt;::max</a>());</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#abb0ff7c23652e083994e05a7fc3cda45">LArPointingClusterHelper::GetIntersection</a>(vertex1, vertex2, intersectionPoint, displacement1, displacement2);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">catch</span> (<span class="keyword">const</span> StatusCodeException &amp;)</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keyword">const</span> CartesianVector approach1(vertex1.<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>() + vertex1.<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a1d76667655665583eff293158424a2d5">GetDirection</a>() * displacement1);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keyword">const</span> CartesianVector approach2(vertex2.<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>() + vertex2.<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a1d76667655665583eff293158424a2d5">GetDirection</a>() * displacement2);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> closestApproach((approach1 - approach2).GetMagnitude());</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">return</span> ((closestApproach &lt; <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0ce07160292fa6d86818c8a30a19ea68">m_maxClosestApproach</a>) &amp;&amp; (std::fabs(displacement1) &lt; <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ae1ed7decc0014bc91ae63a0a874ba847">m_maxInterceptDistance</a>) &amp;&amp;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            (std::fabs(displacement2) &lt; <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ae1ed7decc0014bc91ae63a0a874ba847">m_maxInterceptDistance</a>));</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a928442b82284524ab07e752510924732">  379</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a928442b82284524ab07e752510924732">EventSlicingTool::IsNode</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;cluster1, <span class="keyword">const</span> <a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;cluster2)<span class="keyword"> const</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">LArPointingClusterHelper::IsNode</a>(cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>().<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>(), cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>(),</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>) ||</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">LArPointingClusterHelper::IsNode</a>(cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>().<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>(), cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>(),</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>) ||</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">LArPointingClusterHelper::IsNode</a>(cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>().<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>(), cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>(),</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>) ||</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">LArPointingClusterHelper::IsNode</a>(cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>().<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>(), cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>(),</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>) ||</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">LArPointingClusterHelper::IsNode</a>(cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>().<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>(), cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>(),</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>) ||</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">LArPointingClusterHelper::IsNode</a>(cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>().<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>(), cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>(),</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>) ||</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">LArPointingClusterHelper::IsNode</a>(cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>().<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>(), cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>(),</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>) ||</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">LArPointingClusterHelper::IsNode</a>(cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>().<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>(), cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>(),</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>));</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;}</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36cc380d642333550149b7a63b0cce73">  401</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36cc380d642333550149b7a63b0cce73">EventSlicingTool::IsEmission</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;cluster1, <span class="keyword">const</span> <a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;cluster2)<span class="keyword"> const</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">LArPointingClusterHelper::IsEmission</a>(cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>().<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>(), cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>(),</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>) ||</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">LArPointingClusterHelper::IsEmission</a>(cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>().<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>(), cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>(),</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>) ||</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">LArPointingClusterHelper::IsEmission</a>(cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>().<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>(), cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>(),</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>) ||</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">LArPointingClusterHelper::IsEmission</a>(cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>().<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>(), cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>(),</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>) ||</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">LArPointingClusterHelper::IsEmission</a>(cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>().<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>(), cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>(),</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>) ||</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">LArPointingClusterHelper::IsEmission</a>(cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>().<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>(), cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>(),</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>) ||</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">LArPointingClusterHelper::IsEmission</a>(cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">GetInnerVertex</a>().<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>(), cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>(),</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>) ||</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">LArPointingClusterHelper::IsEmission</a>(cluster2.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>().<a class="code" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">GetPosition</a>(), cluster1.<a class="code" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">GetOuterVertex</a>(),</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>));</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;}</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a87b1946135ef06b69b7800305ea2f110">  423</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a87b1946135ef06b69b7800305ea2f110">EventSlicingTool::CreateSlices</a>(<span class="keyword">const</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0bd7c03b8cf2459606ff8aebfc40c10a">ClusterSliceList</a> &amp;clusterSliceList, <a class="code" href="../../db/de7/namespacelar__content.html#a9642b2bda4d09831392197ee5a402347">SliceList</a> &amp;sliceList, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">ClusterToSliceIndexMap</a> &amp;clusterToSliceIndexMap)<span class="keyword"> const</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index(0);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">ClusterVector</a> &amp;clusterList : clusterSliceList)</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster3D : clusterList)</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordflow">if</span> (TPC_3D != <a class="code" href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a434d03423e67ad1f95790177deb8501e">LArClusterHelper::GetClusterHitType</a>(pCluster3D))</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_INVALID_PARAMETER);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="keywordflow">if</span> (!clusterToSliceIndexMap.insert(ClusterToSliceIndexMap::value_type(pCluster3D, index)).second)</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_ALREADY_PRESENT);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        sliceList.push_back(<a class="code" href="../../db/de7/namespacelar__content.html#af80e62ad7209ac1918f78beaad623009">Slice</a>());</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        ++index;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div>
<div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aee2173dae3db7c74548ed83b29a37998">  445</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aee2173dae3db7c74548ed83b29a37998">EventSlicingTool::CopyPfoHitsToSlices</a>(<span class="keyword">const</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">ClusterToSliceIndexMap</a> &amp;clusterToSliceIndexMap, <span class="keyword">const</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a99252e90e9800585bedd9d940e48d4ad">ClusterToPfoMap</a> &amp;clusterToPfoMap,</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <a class="code" href="../../db/de7/namespacelar__content.html#a9642b2bda4d09831392197ee5a402347">SliceList</a> &amp;sliceList, ClusterSet &amp;assignedClusters)<span class="keyword"> const</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    ClusterList clusterList;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;mapEntry : clusterToSliceIndexMap)</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        clusterList.push_back(mapEntry.first);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    clusterList.sort(<a class="code" href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a86609499a509338a41e2fa914923c980">LArClusterHelper::SortByNHits</a>);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster3D : clusterList)</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index(clusterToSliceIndexMap.at(pCluster3D));</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keyword">const</span> Pfo *<span class="keyword">const</span> pPfo(clusterToPfoMap.at(pCluster3D));</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <a class="code" href="../../d1/d77/classlar__content_1_1SlicingAlgorithm_1_1Slice.html">Slice</a> &amp;slice(sliceList.at(index));</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        ClusterList clusters2D;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <a class="code" href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a5043d8b0dcfab5fc9b0a0eab4b4d262e">LArPfoHelper::GetTwoDClusterList</a>(pPfo, clusters2D);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster2D : clusters2D)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keyword">const</span> HitType hitType(<a class="code" href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a434d03423e67ad1f95790177deb8501e">LArClusterHelper::GetClusterHitType</a>(pCluster2D));</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="keywordflow">if</span> ((TPC_VIEW_U != hitType) &amp;&amp; (TPC_VIEW_V != hitType) &amp;&amp; (TPC_VIEW_W != hitType))</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_INVALID_PARAMETER);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            CaloHitList &amp;targetList((TPC_VIEW_U == hitType) ? slice.m_caloHitListU : (TPC_VIEW_V == hitType) ? slice.m_caloHitListV : slice.m_caloHitListW);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            pCluster2D-&gt;GetOrderedCaloHitList().FillCaloHitList(targetList);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            targetList.insert(targetList.end(), pCluster2D-&gt;GetIsolatedCaloHitList().begin(), pCluster2D-&gt;GetIsolatedCaloHitList().end());</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <span class="keywordflow">if</span> (!assignedClusters.insert(pCluster2D).second)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_ALREADY_PRESENT);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abcc76adc8242023302dc6920f784c8c4">EventSlicingTool::GetRemainingClusters</a>(<span class="keyword">const</span> Algorithm *<span class="keyword">const</span> pAlgorithm, <span class="keyword">const</span> <a class="code" href="../../db/de7/namespacelar__content.html#aa879bc8b47c9dd31c42e69af2331b661">HitTypeToNameMap</a> &amp;clusterListNames,</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keyword">const</span> ClusterSet &amp;assignedClusters, ClusterList &amp;remainingClusters)<span class="keyword"> const</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abcc76adc8242023302dc6920f784c8c4">GetRemainingClusters</a>(pAlgorithm, clusterListNames.at(TPC_VIEW_U), assignedClusters, remainingClusters);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abcc76adc8242023302dc6920f784c8c4">GetRemainingClusters</a>(pAlgorithm, clusterListNames.at(TPC_VIEW_V), assignedClusters, remainingClusters);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abcc76adc8242023302dc6920f784c8c4">GetRemainingClusters</a>(pAlgorithm, clusterListNames.at(TPC_VIEW_W), assignedClusters, remainingClusters);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abcc76adc8242023302dc6920f784c8c4">EventSlicingTool::GetRemainingClusters</a>(<span class="keyword">const</span> Algorithm *<span class="keyword">const</span> pAlgorithm, <span class="keyword">const</span> std::string &amp;clusterListName,</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keyword">const</span> ClusterSet &amp;assignedClusters, ClusterList &amp;remainingClusters)<span class="keyword"> const</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keyword">const</span> ClusterList *pClusterList(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    PANDORA_THROW_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_INITIALIZED, !=, PandoraContentApi::GetList(*pAlgorithm, clusterListName, pClusterList));</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span> (!pClusterList || pClusterList-&gt;empty())</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keywordflow">if</span> (PandoraContentApi::GetSettings(*pAlgorithm)-&gt;ShouldDisplayAlgorithmInfo())</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;EventSlicingTool: unable to find cluster list &quot;</span> &lt;&lt; clusterListName &lt;&lt; std::endl;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster2D : *pClusterList)</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keyword">const</span> HitType hitType(<a class="code" href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a434d03423e67ad1f95790177deb8501e">LArClusterHelper::GetClusterHitType</a>(pCluster2D));</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">if</span> ((TPC_VIEW_U != hitType) &amp;&amp; (TPC_VIEW_V != hitType) &amp;&amp; (TPC_VIEW_W != hitType))</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_INVALID_PARAMETER);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="keywordflow">if</span> (assignedClusters.count(pCluster2D))</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">if</span> (remainingClusters.end() != std::find(remainingClusters.begin(), remainingClusters.end(), pCluster2D))</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_ALREADY_PRESENT);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        remainingClusters.push_back(pCluster2D);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a49ad72522f5dd969ea74136797aed4cc">  527</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a49ad72522f5dd969ea74136797aed4cc">EventSlicingTool::AssignRemainingHitsToSlices</a>(</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keyword">const</span> ClusterList &amp;remainingClusters, <span class="keyword">const</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">ClusterToSliceIndexMap</a> &amp;clusterToSliceIndexMap, <a class="code" href="../../db/de7/namespacelar__content.html#a9642b2bda4d09831392197ee5a402347">SliceList</a> &amp;sliceList)<span class="keyword"> const</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36d67b5b89f7f9bd93750ae5dd47b461">PointToSliceIndexMap</a> pointToSliceIndexMap;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> pointsU, pointsV, pointsW;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a53d45f840542bab3be6f4b6375c09119">GetKDTreeEntries2D</a>(sliceList, pointsU, pointsV, pointsW, pointToSliceIndexMap);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abbb7925f29a7120fa49c3e5d075c1c30">m_use3DProjectionsInHitPickUp</a>)</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a79048a76e3b701fa87b19e487fe30c01">GetKDTreeEntries3D</a>(clusterToSliceIndexMap, pointsU, pointsV, pointsW, pointToSliceIndexMap);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        pointsU.sort(<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afbfd531fdfde7690072d7f79551974f0">EventSlicingTool::SortPoints</a>);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        pointsV.sort(<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afbfd531fdfde7690072d7f79551974f0">EventSlicingTool::SortPoints</a>);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        pointsW.sort(<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afbfd531fdfde7690072d7f79551974f0">EventSlicingTool::SortPoints</a>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ab052cfaafcd3ebfc7e23caf995475c12">PointKDNode2DList</a> kDNode2DListU, kDNode2DListV, kDNode2DListW;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <a class="code" href="../../d8/d1d/classlar__content_1_1KDTreeBoxT.html">KDTreeBox</a> boundingRegionU = <a class="code" href="../../db/de7/namespacelar__content.html#ae11c572bac43730dbb12957868f40273">fill_and_bound_2d_kd_tree</a>(pointsU, kDNode2DListU);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <a class="code" href="../../d8/d1d/classlar__content_1_1KDTreeBoxT.html">KDTreeBox</a> boundingRegionV = <a class="code" href="../../db/de7/namespacelar__content.html#ae11c572bac43730dbb12957868f40273">fill_and_bound_2d_kd_tree</a>(pointsV, kDNode2DListV);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <a class="code" href="../../d8/d1d/classlar__content_1_1KDTreeBoxT.html">KDTreeBox</a> boundingRegionW = <a class="code" href="../../db/de7/namespacelar__content.html#ae11c572bac43730dbb12957868f40273">fill_and_bound_2d_kd_tree</a>(pointsW, kDNode2DListW);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <a class="code" href="../../d7/dad/classlar__content_1_1KDTreeLinkerAlgo.html">PointKDTree2D</a> kdTreeU, kdTreeV, kdTreeW;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        kdTreeU.<a class="code" href="../../d7/dad/classlar__content_1_1KDTreeLinkerAlgo.html#ad37f6d5dcae205bf6b0a5ad8d5ccf85e">build</a>(kDNode2DListU, boundingRegionU);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        kdTreeV.<a class="code" href="../../d7/dad/classlar__content_1_1KDTreeLinkerAlgo.html#ad37f6d5dcae205bf6b0a5ad8d5ccf85e">build</a>(kDNode2DListV, boundingRegionV);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        kdTreeW.<a class="code" href="../../d7/dad/classlar__content_1_1KDTreeLinkerAlgo.html#ad37f6d5dcae205bf6b0a5ad8d5ccf85e">build</a>(kDNode2DListW, boundingRegionW);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <a class="code" href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">ClusterVector</a> sortedRemainingClusters(remainingClusters.begin(), remainingClusters.end());</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        std::sort(sortedRemainingClusters.begin(), sortedRemainingClusters.end(), <a class="code" href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a86609499a509338a41e2fa914923c980">LArClusterHelper::SortByNHits</a>);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster2D : sortedRemainingClusters)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="keyword">const</span> HitType hitType(<a class="code" href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a434d03423e67ad1f95790177deb8501e">LArClusterHelper::GetClusterHitType</a>(pCluster2D));</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="keywordflow">if</span> ((TPC_VIEW_U != hitType) &amp;&amp; (TPC_VIEW_V != hitType) &amp;&amp; (TPC_VIEW_W != hitType))</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_INVALID_PARAMETER);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <a class="code" href="../../d7/dad/classlar__content_1_1KDTreeLinkerAlgo.html">PointKDTree2D</a> &amp;kdTree((TPC_VIEW_U == hitType) ? kdTreeU : (TPC_VIEW_V == hitType) ? kdTreeV : kdTreeW);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../de/d97/classlar__content_1_1KDTreeNodeInfoT.html">PointKDNode2D</a> *pBestResultPoint(this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a9c5bde2925d81dbe7cfe9ac4672ee588">MatchClusterToSlice</a>(pCluster2D, kdTree));</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <span class="keywordflow">if</span> (!pBestResultPoint)</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <a class="code" href="../../d1/d77/classlar__content_1_1SlicingAlgorithm_1_1Slice.html">Slice</a> &amp;slice(sliceList.at(pointToSliceIndexMap.at(pBestResultPoint-&gt;<a class="code" href="../../de/d97/classlar__content_1_1KDTreeNodeInfoT.html#a9a31b3be1ee032350d47ffe08e924658">data</a>)));</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            CaloHitList &amp;targetList((TPC_VIEW_U == hitType) ? slice.<a class="code" href="../../d1/d77/classlar__content_1_1SlicingAlgorithm_1_1Slice.html#a4289e9b894bf9c4d492f645be7e23d9b">m_caloHitListU</a> : (TPC_VIEW_V == hitType) ? slice.<a class="code" href="../../d1/d77/classlar__content_1_1SlicingAlgorithm_1_1Slice.html#af10be25165e9cc8e0ba30ca324e5c887">m_caloHitListV</a> : slice.<a class="code" href="../../d1/d77/classlar__content_1_1SlicingAlgorithm_1_1Slice.html#a0e0588962b234440d01cb5c7346647a9">m_caloHitListW</a>);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            pCluster2D-&gt;GetOrderedCaloHitList().FillCaloHitList(targetList);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            targetList.insert(targetList.end(), pCluster2D-&gt;GetIsolatedCaloHitList().begin(), pCluster2D-&gt;GetIsolatedCaloHitList().end());</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">catch</span> (...)</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;EventSlicingTool::AssignRemainingHitsToSlices - exception &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;pointMap : pointToSliceIndexMap)</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="keyword">delete</span> pointMap.first;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <span class="keywordflow">throw</span>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;pointMap : pointToSliceIndexMap)</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="keyword">delete</span> pointMap.first;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;}</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div>
<div class="line"><a name="l00591"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a53d45f840542bab3be6f4b6375c09119">  591</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a53d45f840542bab3be6f4b6375c09119">EventSlicingTool::GetKDTreeEntries2D</a>(</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/de7/namespacelar__content.html#a9642b2bda4d09831392197ee5a402347">SliceList</a> &amp;sliceList, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;pointsU, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;pointsV, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;pointsW, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36d67b5b89f7f9bd93750ae5dd47b461">PointToSliceIndexMap</a> &amp;pointToSliceIndexMap)<span class="keyword"> const</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sliceIndex(0);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="../../d1/d77/classlar__content_1_1SlicingAlgorithm_1_1Slice.html">Slice</a> &amp;slice : sliceList)</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *<span class="keyword">const</span> pCaloHit : slice.m_caloHitListU)</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pPoint(<span class="keyword">new</span> CartesianVector(pCaloHit-&gt;GetPositionVector()));</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            pointToSliceIndexMap.insert(PointToSliceIndexMap::value_type(pPoint, sliceIndex));</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            pointsU.push_back(pPoint);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *<span class="keyword">const</span> pCaloHit : slice.m_caloHitListV)</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pPoint(<span class="keyword">new</span> CartesianVector(pCaloHit-&gt;GetPositionVector()));</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            pointToSliceIndexMap.insert(PointToSliceIndexMap::value_type(pPoint, sliceIndex));</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            pointsV.push_back(pPoint);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *<span class="keyword">const</span> pCaloHit : slice.m_caloHitListW)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            <span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pPoint(<span class="keyword">new</span> CartesianVector(pCaloHit-&gt;GetPositionVector()));</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            pointToSliceIndexMap.insert(PointToSliceIndexMap::value_type(pPoint, sliceIndex));</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            pointsW.push_back(pPoint);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        ++sliceIndex;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a79048a76e3b701fa87b19e487fe30c01">  625</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a79048a76e3b701fa87b19e487fe30c01">EventSlicingTool::GetKDTreeEntries3D</a>(<span class="keyword">const</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">ClusterToSliceIndexMap</a> &amp;clusterToSliceIndexMap, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;pointsU, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;pointsV,</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;pointsW, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36d67b5b89f7f9bd93750ae5dd47b461">PointToSliceIndexMap</a> &amp;pointToSliceIndexMap)<span class="keyword"> const</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    ClusterList clusterList;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;mapEntry : clusterToSliceIndexMap)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        clusterList.push_back(mapEntry.first);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    clusterList.sort(<a class="code" href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a86609499a509338a41e2fa914923c980">LArClusterHelper::SortByNHits</a>);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster3D : clusterList)</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sliceIndex(clusterToSliceIndexMap.at(pCluster3D));</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        CaloHitList caloHitList;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        pCluster3D-&gt;GetOrderedCaloHitList().FillCaloHitList(caloHitList);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *<span class="keyword">const</span> pCaloHit3D : caloHitList)</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <span class="keywordflow">if</span> (TPC_3D != pCaloHit3D-&gt;GetHitType())</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_FAILURE);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keyword">const</span> CartesianVector &amp;position3D(pCaloHit3D-&gt;GetPositionVector());</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            <span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pProjectionU(</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                <span class="keyword">new</span> CartesianVector(<a class="code" href="../../df/df1/classlar__content_1_1LArGeometryHelper.html#aac2f570fbffeb35fd9dd76f838ad5878">LArGeometryHelper::ProjectPosition</a>(this-&gt;GetPandora(), position3D, TPC_VIEW_U)));</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            <span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pProjectionV(</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                <span class="keyword">new</span> CartesianVector(<a class="code" href="../../df/df1/classlar__content_1_1LArGeometryHelper.html#aac2f570fbffeb35fd9dd76f838ad5878">LArGeometryHelper::ProjectPosition</a>(this-&gt;GetPandora(), position3D, TPC_VIEW_V)));</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pProjectionW(</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                <span class="keyword">new</span> CartesianVector(<a class="code" href="../../df/df1/classlar__content_1_1LArGeometryHelper.html#aac2f570fbffeb35fd9dd76f838ad5878">LArGeometryHelper::ProjectPosition</a>(this-&gt;GetPandora(), position3D, TPC_VIEW_W)));</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            pointsU.push_back(pProjectionU);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            pointsV.push_back(pProjectionV);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            pointsW.push_back(pProjectionW);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            pointToSliceIndexMap.insert(PointToSliceIndexMap::value_type(pProjectionU, sliceIndex));</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            pointToSliceIndexMap.insert(PointToSliceIndexMap::value_type(pProjectionV, sliceIndex));</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            pointToSliceIndexMap.insert(PointToSliceIndexMap::value_type(pProjectionW, sliceIndex));</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;}</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div>
<div class="line"><a name="l00667"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a9c5bde2925d81dbe7cfe9ac4672ee588">  667</a></span>&#160;<span class="keyword">const</span> <a class="code" href="../../de/d97/classlar__content_1_1KDTreeNodeInfoT.html">EventSlicingTool::PointKDNode2D</a> *<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a9c5bde2925d81dbe7cfe9ac4672ee588">EventSlicingTool::MatchClusterToSlice</a>(<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster2D, <a class="code" href="../../d7/dad/classlar__content_1_1KDTreeLinkerAlgo.html">PointKDTree2D</a> &amp;kdTree)<span class="keyword"> const</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> clusterPointList;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../de/d97/classlar__content_1_1KDTreeNodeInfoT.html">PointKDNode2D</a> *pBestResultPoint(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        clusterPointList.push_back(<span class="keyword">new</span> CartesianVector(pCluster2D-&gt;GetCentroid(pCluster2D-&gt;GetInnerPseudoLayer())));</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        clusterPointList.push_back(<span class="keyword">new</span> CartesianVector(pCluster2D-&gt;GetCentroid(pCluster2D-&gt;GetOuterPseudoLayer())));</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        clusterPointList.push_back(<span class="keyword">new</span> CartesianVector(</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            (pCluster2D-&gt;GetCentroid(pCluster2D-&gt;GetInnerPseudoLayer()) + pCluster2D-&gt;GetCentroid(pCluster2D-&gt;GetOuterPseudoLayer())) * 0.5f));</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="keywordtype">float</span> bestDistance(<a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::numeric_limits&lt;float&gt;::max</a>());</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pClusterPoint : clusterPointList)</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../de/d97/classlar__content_1_1KDTreeNodeInfoT.html">PointKDNode2D</a> *pResultPoint(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            <span class="keywordtype">float</span> resultDistance(<a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::numeric_limits&lt;float&gt;::max</a>());</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../de/d97/classlar__content_1_1KDTreeNodeInfoT.html">PointKDNode2D</a> targetPoint(pClusterPoint, pClusterPoint-&gt;GetX(), pClusterPoint-&gt;GetZ());</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            kdTree.<a class="code" href="../../d7/dad/classlar__content_1_1KDTreeLinkerAlgo.html#af3bad82a07a0e6606629884af500fc13">findNearestNeighbour</a>(targetPoint, pResultPoint, resultDistance);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            <span class="keywordflow">if</span> (pResultPoint &amp;&amp; (resultDistance &lt; bestDistance))</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                pBestResultPoint = pResultPoint;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                bestDistance = resultDistance;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">catch</span> (...)</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;EventSlicingTool::MatchClusterToSlice - exception &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pPoint : clusterPointList)</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="keyword">delete</span> pPoint;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordflow">throw</span>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pPoint : clusterPointList)</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="keyword">delete</span> pPoint;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordflow">return</span> pBestResultPoint;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;}</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div>
<div class="line"><a name="l00711"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afbfd531fdfde7690072d7f79551974f0">  711</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afbfd531fdfde7690072d7f79551974f0">EventSlicingTool::SortPoints</a>(<span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pLhs, <span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pRhs)</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;{</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keyword">const</span> CartesianVector deltaPosition(*pRhs - *pLhs);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">if</span> (std::fabs(deltaPosition.GetZ()) &gt; std::numeric_limits&lt;float&gt;::epsilon())</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="keywordflow">return</span> (deltaPosition.GetZ() &gt; std::numeric_limits&lt;float&gt;::epsilon());</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">if</span> (std::fabs(deltaPosition.GetX()) &gt; std::numeric_limits&lt;float&gt;::epsilon())</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordflow">return</span> (deltaPosition.GetX() &gt; std::numeric_limits&lt;float&gt;::epsilon());</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">return</span> (deltaPosition.GetY() &gt; std::numeric_limits&lt;float&gt;::epsilon());</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;}</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div>
<div class="line"><a name="l00726"></a><span class="lineno"><a class="line" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a5dfa3ef3e8c04c43027de8e69cc0f8cf">  726</a></span>&#160;StatusCode <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a5dfa3ef3e8c04c43027de8e69cc0f8cf">EventSlicingTool::ReadSettings</a>(<span class="keyword">const</span> TiXmlHandle xmlHandle)</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;{</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;TrackPfoListName&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afd067e7f1a036c5930bc94c020a1f39e">m_trackPfoListName</a>));</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ShowerPfoListName&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69bcf815187d277fee861f5dac4ee41f">m_showerPfoListName</a>));</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MinHitsPer3DCluster&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2f3dbe858296e138c6b55d09f46a042a">m_minHitsPer3DCluster</a>));</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=,</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;Min3DHitsToSeedNewSlice&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a16d6bca9667d0510bb3741458f7e85f1">m_min3DHitsToSeedNewSlice</a>));</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;SlidingFitHalfWindow&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a249c138153de86646cabfd66c77bb875">m_halfWindowLayers</a>));</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;UsePointingAssociation&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a560576fab19c963dd44a19ee2df0dbd1">m_usePointingAssociation</a>));</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=,</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MinVertexLongitudinalDistance&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>));</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=,</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MaxVertexLongitudinalDistance&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>));</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=,</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MaxVertexTransverseDistance&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>));</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;VertexAngularAllowance&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>));</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MaxClosestApproach&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0ce07160292fa6d86818c8a30a19ea68">m_maxClosestApproach</a>));</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MaxInterceptDistance&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ae1ed7decc0014bc91ae63a0a874ba847">m_maxInterceptDistance</a>));</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=,</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;UseProximityAssociation&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a5e82f789f77fb8852bedf1242fa5753e">m_useProximityAssociation</a>));</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordtype">float</span> maxHitSeparation = std::sqrt(<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a6fc21ea760f05461592a36bcb84458d0">m_maxHitSeparationSquared</a>);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MaxHitSeparation&quot;</span>, maxHitSeparation));</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a6fc21ea760f05461592a36bcb84458d0">m_maxHitSeparationSquared</a> = maxHitSeparation * maxHitSeparation;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=,</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;UseShowerConeAssociation&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ac36a674e362ee83212d854f5c5494cd4">m_useShowerConeAssociation</a>));</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;NConeFitLayers&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a9af06275cd6ebcd966bbfd55c0a6945d">m_nConeFitLayers</a>));</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;NConeFits&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa5d8f980a84c194c183c08f1832069f1">m_nConeFits</a>));</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ConeLengthMultiplier&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a72dc200da4bc821a4f86bba8432563b0">m_coneLengthMultiplier</a>));</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MaxConeLength&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a908091f0a755d83bcfe81a47094f6373">m_maxConeLength</a>));</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ConeTanHalfAngle1&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a3bd955bee615a64ce13cd3434b71dff6">m_coneTanHalfAngle1</a>));</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ConeBoundedFraction1&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa34c52f40ad0dde30816ac6f4cb0eb56">m_coneBoundedFraction1</a>));</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ConeTanHalfAngle2&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa7f6dd7e1a42b28bba9c03f278e8ac04">m_coneTanHalfAngle2</a>));</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ConeBoundedFraction2&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a46e099b8038c988bb21be01733640d1c">m_coneBoundedFraction2</a>));</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=,</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;Use3DProjectionsInHitPickUp&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abbb7925f29a7120fa49c3e5d075c1c30">m_use3DProjectionsInHitPickUp</a>));</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;}</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;} <span class="comment">// namespace lar_content</span></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_ad4429cb2f02b303663d2429bcaf5ffe7"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ad4429cb2f02b303663d2429bcaf5ffe7">lar_content::EventSlicingTool::GetThreeDClusters</a></div><div class="ttdeci">void GetThreeDClusters(const pandora::Algorithm *const pAlgorithm, const std::string &amp;pfoListName, pandora::ClusterList &amp;clusters3D, ClusterToPfoMap &amp;clusterToPfoMap) const </div><div class="ttdoc">Get the 3D clusters from a specified list of pfos, storing the 3D clusters in the provided list and p...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00133">EventSlicingTool.cc:133</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aa5d8f980a84c194c183c08f1832069f1"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa5d8f980a84c194c183c08f1832069f1">lar_content::EventSlicingTool::m_nConeFits</a></div><div class="ttdeci">unsigned int m_nConeFits</div><div class="ttdoc">The number of cone fits to perform, spread roughly uniformly along the shower length. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00294">EventSlicingTool.h:294</a></div></div>
<div class="ttc" id="classlar__content_1_1LArClusterHelper_html_a86609499a509338a41e2fa914923c980"><div class="ttname"><a href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a86609499a509338a41e2fa914923c980">lar_content::LArClusterHelper::SortByNHits</a></div><div class="ttdeci">static bool SortByNHits(const pandora::Cluster *const pLhs, const pandora::Cluster *const pRhs)</div><div class="ttdoc">Sort clusters by number of hits, then layer span, then inner layer, then position, then pulse-height. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d12/LArClusterHelper_8cc_source.html#l00632">LArClusterHelper.cc:632</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a782597cc5bb6b6d18560f9e3fae4634e"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a782597cc5bb6b6d18560f9e3fae4634e">lar_content::EventSlicingTool::GetClusterSliceList</a></div><div class="ttdeci">void GetClusterSliceList(const pandora::ClusterList &amp;trackClusters3D, const pandora::ClusterList &amp;showerClusters3D, ClusterSliceList &amp;clusterSliceList) const </div><div class="ttdoc">Divide the provided lists of 3D track and shower clusters into slices. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00170">EventSlicingTool.cc:170</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a16d6bca9667d0510bb3741458f7e85f1"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a16d6bca9667d0510bb3741458f7e85f1">lar_content::EventSlicingTool::m_min3DHitsToSeedNewSlice</a></div><div class="ttdeci">unsigned int m_min3DHitsToSeedNewSlice</div><div class="ttdoc">The minimum number of hits in a 3D cluster to seed a new slice. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00278">EventSlicingTool.h:278</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aee2173dae3db7c74548ed83b29a37998"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aee2173dae3db7c74548ed83b29a37998">lar_content::EventSlicingTool::CopyPfoHitsToSlices</a></div><div class="ttdeci">void CopyPfoHitsToSlices(const ClusterToSliceIndexMap &amp;clusterToSliceIndexMap, const ClusterToPfoMap &amp;clusterToPfoMap, SlicingAlgorithm::SliceList &amp;sliceList, pandora::ClusterSet &amp;assignedClusters) const </div><div class="ttdoc">Use 3D clusters in the cluster slice list, find their parent pfos and assign all hits in all 2D clust...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00445">EventSlicingTool.cc:445</a></div></div>
<div class="ttc" id="classlar__content_1_1LArPointingCluster_1_1Vertex_html"><div class="ttname"><a href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html">lar_content::LArPointingCluster::Vertex</a></div><div class="ttdoc">Vertex class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da7/LArPointingCluster_8h_source.html#l00026">LArPointingCluster.h:26</a></div></div>
<div class="ttc" id="KDTreeLinkerAlgoT_8h_html"><div class="ttname"><a href="../../d5/d2b/KDTreeLinkerAlgoT_8h.html">KDTreeLinkerAlgoT.h</a></div><div class="ttdoc">Header file for the kd tree linker algo template class. </div></div>
<div class="ttc" id="LArPfoHelper_8h_html"><div class="ttname"><a href="../../d1/d22/LArPfoHelper_8h.html">LArPfoHelper.h</a></div><div class="ttdoc">Header file for the pfo helper class. </div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a6fc21ea760f05461592a36bcb84458d0"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a6fc21ea760f05461592a36bcb84458d0">lar_content::EventSlicingTool::m_maxHitSeparationSquared</a></div><div class="ttdeci">float m_maxHitSeparationSquared</div><div class="ttdoc">Proximity association: max distance allowed between the closest pair of hits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00290">EventSlicingTool.h:290</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a9af06275cd6ebcd966bbfd55c0a6945d"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a9af06275cd6ebcd966bbfd55c0a6945d">lar_content::EventSlicingTool::m_nConeFitLayers</a></div><div class="ttdeci">unsigned int m_nConeFitLayers</div><div class="ttdoc">The number of layers over which to sum fitted direction to obtain cone fit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00293">EventSlicingTool.h:293</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aa7f6dd7e1a42b28bba9c03f278e8ac04"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa7f6dd7e1a42b28bba9c03f278e8ac04">lar_content::EventSlicingTool::m_coneTanHalfAngle2</a></div><div class="ttdeci">float m_coneTanHalfAngle2</div><div class="ttdoc">The cone tan half angle to use when calculating bounded cluster fractions 2. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00299">EventSlicingTool.h:299</a></div></div>
<div class="ttc" id="namespacelar__content_html_af80e62ad7209ac1918f78beaad623009"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#af80e62ad7209ac1918f78beaad623009">lar_content::Slice</a></div><div class="ttdeci">SlicingAlgorithm::Slice Slice</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d26/CheatingEventSlicingTool_8cc_source.html#l00022">CheatingEventSlicingTool.cc:22</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a5dfa3ef3e8c04c43027de8e69cc0f8cf"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a5dfa3ef3e8c04c43027de8e69cc0f8cf">lar_content::EventSlicingTool::ReadSettings</a></div><div class="ttdeci">pandora::StatusCode ReadSettings(const pandora::TiXmlHandle xmlHandle)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00726">EventSlicingTool.cc:726</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a99252e90e9800585bedd9d940e48d4ad"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a99252e90e9800585bedd9d940e48d4ad">lar_content::EventSlicingTool::ClusterToPfoMap</a></div><div class="ttdeci">std::unordered_map&lt; const pandora::Cluster *, const pandora::ParticleFlowObject * &gt; ClusterToPfoMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00054">EventSlicingTool.h:54</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aecadfb3a4689f76530e2232eccbebd4d"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">lar_content::EventSlicingTool::m_maxVertexTransverseDistance</a></div><div class="ttdeci">float m_maxVertexTransverseDistance</div><div class="ttdoc">Pointing association check: max transverse distance cut. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00284">EventSlicingTool.h:284</a></div></div>
<div class="ttc" id="classlar__content_1_1LArPointingClusterHelper_html_aa792936e96ceb90b195ca0e633b73e02"><div class="ttname"><a href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">lar_content::LArPointingClusterHelper::IsEmission</a></div><div class="ttdeci">static bool IsEmission(const pandora::CartesianVector &amp;parentVertex, const LArPointingCluster::Vertex &amp;daughterVertex, const float minLongitudinalDistance, const float maxLongitudinalDistance, const float maxTransverseDistance, const float angularAllowance)</div><div class="ttdoc">Whether pointing vertex is emitted from a given position. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/LArPointingClusterHelper_8cc_source.html#l00047">LArPointingClusterHelper.cc:47</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a49ad72522f5dd969ea74136797aed4cc"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a49ad72522f5dd969ea74136797aed4cc">lar_content::EventSlicingTool::AssignRemainingHitsToSlices</a></div><div class="ttdeci">void AssignRemainingHitsToSlices(const pandora::ClusterList &amp;remainingClusters, const ClusterToSliceIndexMap &amp;clusterToSliceIndexMap, SlicingAlgorithm::SliceList &amp;sliceList) const </div><div class="ttdoc">Use the list of remaining 2D clusters to assign all remaining 2D hits to existing slices in the slice...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00527">EventSlicingTool.cc:527</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a46e099b8038c988bb21be01733640d1c"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a46e099b8038c988bb21be01733640d1c">lar_content::EventSlicingTool::m_coneBoundedFraction2</a></div><div class="ttdeci">float m_coneBoundedFraction2</div><div class="ttdoc">The minimum cluster bounded fraction for association 2. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00300">EventSlicingTool.h:300</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a69bcf815187d277fee861f5dac4ee41f"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69bcf815187d277fee861f5dac4ee41f">lar_content::EventSlicingTool::m_showerPfoListName</a></div><div class="ttdeci">std::string m_showerPfoListName</div><div class="ttdoc">The name of the input shower pfo list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00275">EventSlicingTool.h:275</a></div></div>
<div class="ttc" id="classlar__content_1_1LArPointingClusterHelper_html_abb0ff7c23652e083994e05a7fc3cda45"><div class="ttname"><a href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#abb0ff7c23652e083994e05a7fc3cda45">lar_content::LArPointingClusterHelper::GetIntersection</a></div><div class="ttdeci">static void GetIntersection(const LArPointingCluster::Vertex &amp;firstVertex, const LArPointingCluster::Vertex &amp;secondVertex, pandora::CartesianVector &amp;intersectPosition, float &amp;firstDisplacement, float &amp;secondDisplacement)</div><div class="ttdoc">Get intersection of two vertices. </div></div>
<div class="ttc" id="classlar__content_1_1LArPfoHelper_html_a5043d8b0dcfab5fc9b0a0eab4b4d262e"><div class="ttname"><a href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a5043d8b0dcfab5fc9b0a0eab4b4d262e">lar_content::LArPfoHelper::GetTwoDClusterList</a></div><div class="ttdeci">static void GetTwoDClusterList(const pandora::ParticleFlowObject *const pPfo, pandora::ClusterList &amp;clusterList)</div><div class="ttdoc">Get the list of 2D clusters from an input pfo. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d78/LArPfoHelper_8cc_source.html#l00123">LArPfoHelper.cc:123</a></div></div>
<div class="ttc" id="classlar__content_1_1KDTreeLinkerAlgo_html"><div class="ttname"><a href="../../d7/dad/classlar__content_1_1KDTreeLinkerAlgo.html">lar_content::KDTreeLinkerAlgo</a></div><div class="ttdoc">Class that implements the KDTree partition of 2D space and a closest point search algorithm...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/ddb/PreProcessingAlgorithm_8h_source.html#l00017">PreProcessingAlgorithm.h:17</a></div></div>
<div class="ttc" id="classlar__content_1_1KDTreeBoxT_html"><div class="ttname"><a href="../../d8/d1d/classlar__content_1_1KDTreeBoxT.html">lar_content::KDTreeBoxT</a></div><div class="ttdoc">Box structure used to define 2D field. It&amp;#39;s used in KDTree building step to divide the detector space...</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd6/KDTreeLinkerToolsT_8h_source.html#l00036">KDTreeLinkerToolsT.h:36</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_abcc76adc8242023302dc6920f784c8c4"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abcc76adc8242023302dc6920f784c8c4">lar_content::EventSlicingTool::GetRemainingClusters</a></div><div class="ttdeci">void GetRemainingClusters(const pandora::Algorithm *const pAlgorithm, const SlicingAlgorithm::HitTypeToNameMap &amp;clusterListNames, const pandora::ClusterSet &amp;assignedClusters, pandora::ClusterList &amp;remainingClusters) const </div><div class="ttdoc">Get the list of 2D clusters with hits yets to be assigned to slices. </div></div>
<div class="ttc" id="namespacelar__content_html_aaf6a79c215e79fd4228bd73392e0a7a6"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#aaf6a79c215e79fd4228bd73392e0a7a6">lar_content::SimpleConeList</a></div><div class="ttdeci">std::vector&lt; SimpleCone &gt; SimpleConeList</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d84/LArThreeDSlidingConeFitResult_8h_source.html#l00113">LArThreeDSlidingConeFitResult.h:113</a></div></div>
<div class="ttc" id="classlar__content_1_1KDTreeNodeInfoT_html_a9a31b3be1ee032350d47ffe08e924658"><div class="ttname"><a href="../../de/d97/classlar__content_1_1KDTreeNodeInfoT.html#a9a31b3be1ee032350d47ffe08e924658">lar_content::KDTreeNodeInfoT::data</a></div><div class="ttdeci">DATA data</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd6/KDTreeLinkerToolsT_8h_source.html#l00083">KDTreeLinkerToolsT.h:83</a></div></div>
<div class="ttc" id="namespacelar__content_html_a9642b2bda4d09831392197ee5a402347"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#a9642b2bda4d09831392197ee5a402347">lar_content::SliceList</a></div><div class="ttdeci">SlicingAlgorithm::SliceList SliceList</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d26/CheatingEventSlicingTool_8cc_source.html#l00021">CheatingEventSlicingTool.cc:21</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a4f4f0dd2b9e21f696c8d40d882108353"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a4f4f0dd2b9e21f696c8d40d882108353">lar_content::EventSlicingTool::PassShowerCone</a></div><div class="ttdeci">bool PassShowerCone(const pandora::Cluster *const pConeCluster, const pandora::Cluster *const pNearbyCluster, const ThreeDSlidingConeFitResultMap &amp;showerConeFitResults) const </div><div class="ttdoc">Compare the provided clusters to assess whether they are associated via cone fits to the shower clust...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00304">EventSlicingTool.cc:304</a></div></div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="classlar__content_1_1LArGeometryHelper_html_aac2f570fbffeb35fd9dd76f838ad5878"><div class="ttname"><a href="../../df/df1/classlar__content_1_1LArGeometryHelper.html#aac2f570fbffeb35fd9dd76f838ad5878">lar_content::LArGeometryHelper::ProjectPosition</a></div><div class="ttdeci">static pandora::CartesianVector ProjectPosition(const pandora::Pandora &amp;pandora, const pandora::CartesianVector &amp;position3D, const pandora::HitType view)</div><div class="ttdoc">Project 3D position into a given 2D view. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7e/LArGeometryHelper_8cc_source.html#l00323">LArGeometryHelper.cc:323</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aea99e1776c7e01f88bc72904a7d53419"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aea99e1776c7e01f88bc72904a7d53419">lar_content::EventSlicingTool::PassPointing</a></div><div class="ttdeci">bool PassPointing(const pandora::Cluster *const pClusterInSlice, const pandora::Cluster *const pCandidateCluster, const ThreeDSlidingFitResultMap &amp;trackFitResults) const </div><div class="ttdoc">Compare the provided clusters to assess whether they are associated via pointing (checks association ...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00257">EventSlicingTool.cc:257</a></div></div>
<div class="ttc" id="classlar__content_1_1ThreeDSlidingConeFitResult_html_a530b4326033e1bc9c39fce3bdb71bff5"><div class="ttname"><a href="../../dc/d4a/classlar__content_1_1ThreeDSlidingConeFitResult.html#a530b4326033e1bc9c39fce3bdb71bff5">lar_content::ThreeDSlidingConeFitResult::GetSlidingFitResult</a></div><div class="ttdeci">const ThreeDSlidingFitResult &amp; GetSlidingFitResult() const </div><div class="ttdoc">Get the sliding fit result for the full cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d84/LArThreeDSlidingConeFitResult_8h_source.html#l00220">LArThreeDSlidingConeFitResult.h:220</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a2f3dbe858296e138c6b55d09f46a042a"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2f3dbe858296e138c6b55d09f46a042a">lar_content::EventSlicingTool::m_minHitsPer3DCluster</a></div><div class="ttdeci">unsigned int m_minHitsPer3DCluster</div><div class="ttdoc">The minimum number of hits in a 3D cluster to warrant consideration in slicing. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00277">EventSlicingTool.h:277</a></div></div>
<div class="ttc" id="classlar__content_1_1LArPointingCluster_html"><div class="ttname"><a href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">lar_content::LArPointingCluster</a></div><div class="ttdoc">LArPointingCluster class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da7/LArPointingCluster_8h_source.html#l00020">LArPointingCluster.h:20</a></div></div>
<div class="ttc" id="namespacelar__content_html_a6efba97e7ca9b06e59b772ba6e48a333a641b4f20a07920f65e1be2c77e0c07da"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#a6efba97e7ca9b06e59b772ba6e48a333a641b4f20a07920f65e1be2c77e0c07da">lar_content::CONE_BOTH_DIRECTIONS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d84/LArThreeDSlidingConeFitResult_8h_source.html#l00028">LArThreeDSlidingConeFitResult.h:28</a></div></div>
<div class="ttc" id="classlar__content_1_1LArClusterHelper_html_a434d03423e67ad1f95790177deb8501e"><div class="ttname"><a href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a434d03423e67ad1f95790177deb8501e">lar_content::LArClusterHelper::GetClusterHitType</a></div><div class="ttdeci">static pandora::HitType GetClusterHitType(const pandora::Cluster *const pCluster)</div><div class="ttdoc">Get the hit type associated with a two dimensional cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d12/LArClusterHelper_8cc_source.html#l00021">LArClusterHelper.cc:21</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a3bd955bee615a64ce13cd3434b71dff6"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a3bd955bee615a64ce13cd3434b71dff6">lar_content::EventSlicingTool::m_coneTanHalfAngle1</a></div><div class="ttdeci">float m_coneTanHalfAngle1</div><div class="ttdoc">The cone tan half angle to use when calculating bounded cluster fractions 1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00297">EventSlicingTool.h:297</a></div></div>
<div class="ttc" id="classlar__content_1_1LArGeometryHelper_html_a90a571d65107eedd480a692c166c5bfe"><div class="ttname"><a href="../../df/df1/classlar__content_1_1LArGeometryHelper.html#a90a571d65107eedd480a692c166c5bfe">lar_content::LArGeometryHelper::GetWireZPitch</a></div><div class="ttdeci">static float GetWireZPitch(const pandora::Pandora &amp;pandora, const float maxWirePitchDiscrepancy=0.01)</div><div class="ttdoc">Return the wire pitch. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/LArGeometryHelper_8h_source.html#l00272">LArGeometryHelper.h:272</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a71461b08a50b0cd69b206e58ce5ff2e4"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a71461b08a50b0cd69b206e58ce5ff2e4">lar_content::EventSlicingTool::CollectAssociatedClusters</a></div><div class="ttdeci">void CollectAssociatedClusters(const pandora::Cluster *const pClusterInSlice, const pandora::ClusterVector &amp;candidateClusters, const ThreeDSlidingFitResultMap &amp;trackFitResults, const ThreeDSlidingConeFitResultMap &amp;showerConeFitResults, pandora::ClusterVector &amp;clusterSlice, pandora::ClusterSet &amp;usedClusters) const </div><div class="ttdoc">Collect all clusters associated with a provided cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00228">EventSlicingTool.cc:228</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a9c5bde2925d81dbe7cfe9ac4672ee588"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a9c5bde2925d81dbe7cfe9ac4672ee588">lar_content::EventSlicingTool::MatchClusterToSlice</a></div><div class="ttdeci">const PointKDNode2D * MatchClusterToSlice(const pandora::Cluster *const pCluster2D, PointKDTree2D &amp;kdTree) const </div><div class="ttdoc">Use the provided kd tree to efficiently identify the most appropriate slice for the provided 2D clust...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00667">EventSlicingTool.cc:667</a></div></div>
<div class="ttc" id="LArThreeDSlidingConeFitResult_8h_html"><div class="ttname"><a href="../../d4/d84/LArThreeDSlidingConeFitResult_8h.html">LArThreeDSlidingConeFitResult.h</a></div><div class="ttdoc">Header file for the lar three dimensional sliding cone fit result class. </div></div>
<div class="ttc" id="classlar__content_1_1ThreeDSlidingConeFitResult_html_a574b9f4b78d4465822cf1344e7396459"><div class="ttname"><a href="../../dc/d4a/classlar__content_1_1ThreeDSlidingConeFitResult.html#a574b9f4b78d4465822cf1344e7396459">lar_content::ThreeDSlidingConeFitResult::GetSimpleConeList</a></div><div class="ttdeci">void GetSimpleConeList(const unsigned int nLayersForConeFit, const unsigned int nCones, const ConeSelection coneSelection, SimpleConeList &amp;simpleConeList) const </div><div class="ttdoc">Get the list of simple cones fitted to the three dimensional cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d86/LArThreeDSlidingConeFitResult_8cc_source.html#l00113">LArThreeDSlidingConeFitResult.cc:113</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a75b5d7f7e6457d17946aa9e4116264a8"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">lar_content::EventSlicingTool::m_maxVertexLongitudinalDistance</a></div><div class="ttdeci">float m_maxVertexLongitudinalDistance</div><div class="ttdoc">Pointing association check: max longitudinal distance cut. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00283">EventSlicingTool.h:283</a></div></div>
<div class="ttc" id="classlar__content_1_1KDTreeLinkerAlgo_html_af3bad82a07a0e6606629884af500fc13"><div class="ttname"><a href="../../d7/dad/classlar__content_1_1KDTreeLinkerAlgo.html#af3bad82a07a0e6606629884af500fc13">lar_content::KDTreeLinkerAlgo::findNearestNeighbour</a></div><div class="ttdeci">void findNearestNeighbour(const KDTreeNodeInfoT&lt; DATA, DIM &gt; &amp;point, const KDTreeNodeInfoT&lt; DATA, DIM &gt; *&amp;result, float &amp;distance)</div><div class="ttdoc">findNearestNeighbour </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2b/KDTreeLinkerAlgoT_8h_source.html#l00334">KDTreeLinkerAlgoT.h:334</a></div></div>
<div class="ttc" id="classlar__content_1_1KDTreeNodeInfoT_html"><div class="ttname"><a href="../../de/d97/classlar__content_1_1KDTreeNodeInfoT.html">lar_content::KDTreeNodeInfoT</a></div><div class="ttdoc">Data stored in each KDTree node. The dim1/dim2 fields are usually the duplication of some PFRecHit va...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/ddb/PreProcessingAlgorithm_8h_source.html#l00019">PreProcessingAlgorithm.h:19</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a36d67b5b89f7f9bd93750ae5dd47b461"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36d67b5b89f7f9bd93750ae5dd47b461">lar_content::EventSlicingTool::PointToSliceIndexMap</a></div><div class="ttdeci">std::unordered_map&lt; const pandora::CartesianVector *, unsigned int &gt; PointToSliceIndexMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00228">EventSlicingTool.h:228</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_afd067e7f1a036c5930bc94c020a1f39e"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afd067e7f1a036c5930bc94c020a1f39e">lar_content::EventSlicingTool::m_trackPfoListName</a></div><div class="ttdeci">std::string m_trackPfoListName</div><div class="ttdoc">The name of the input track pfo list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00274">EventSlicingTool.h:274</a></div></div>
<div class="ttc" id="LArGeometryHelper_8h_html"><div class="ttname"><a href="../../d5/de8/LArGeometryHelper_8h.html">LArGeometryHelper.h</a></div><div class="ttdoc">Header file for the geometry helper class. </div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a5e82f789f77fb8852bedf1242fa5753e"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a5e82f789f77fb8852bedf1242fa5753e">lar_content::EventSlicingTool::m_useProximityAssociation</a></div><div class="ttdeci">bool m_useProximityAssociation</div><div class="ttdoc">Whether to use proximity association. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00289">EventSlicingTool.h:289</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a0ce07160292fa6d86818c8a30a19ea68"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0ce07160292fa6d86818c8a30a19ea68">lar_content::EventSlicingTool::m_maxClosestApproach</a></div><div class="ttdeci">float m_maxClosestApproach</div><div class="ttdoc">Pointing association: max distance of closest approach between straight line fits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00286">EventSlicingTool.h:286</a></div></div>
<div class="ttc" id="namespacelar__content_html_afe4770c768894158bfd101423d8f410e"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#afe4770c768894158bfd101423d8f410e">lar_content::ThreeDSlidingFitResultMap</a></div><div class="ttdeci">std::unordered_map&lt; const pandora::Cluster *, ThreeDSlidingFitResult &gt; ThreeDSlidingFitResultMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de9/LArThreeDSlidingFitResult_8h_source.html#l00231">LArThreeDSlidingFitResult.h:231</a></div></div>
<div class="ttc" id="classlar__content_1_1SimpleCone_html"><div class="ttname"><a href="../../df/dcb/classlar__content_1_1SimpleCone.html">lar_content::SimpleCone</a></div><div class="ttdoc">SimpleCone class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d84/LArThreeDSlidingConeFitResult_8h_source.html#l00036">LArThreeDSlidingConeFitResult.h:36</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a928442b82284524ab07e752510924732"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a928442b82284524ab07e752510924732">lar_content::EventSlicingTool::IsNode</a></div><div class="ttdeci">bool IsNode(const LArPointingCluster &amp;cluster1, const LArPointingCluster &amp;cluster2) const </div><div class="ttdoc">Check whether a pair of pointing clusters are nodally associated. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00379">EventSlicingTool.cc:379</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_afbfd531fdfde7690072d7f79551974f0"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afbfd531fdfde7690072d7f79551974f0">lar_content::EventSlicingTool::SortPoints</a></div><div class="ttdeci">static bool SortPoints(const pandora::CartesianVector *const pLhs, const pandora::CartesianVector *const pRhs)</div><div class="ttdoc">Sort points (use Z, followed by X, followed by Y) </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00711">EventSlicingTool.cc:711</a></div></div>
<div class="ttc" id="LArClusterHelper_8h_html"><div class="ttname"><a href="../../d2/de3/LArClusterHelper_8h.html">LArClusterHelper.h</a></div><div class="ttdoc">Header file for the cluster helper class. </div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a560576fab19c963dd44a19ee2df0dbd1"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a560576fab19c963dd44a19ee2df0dbd1">lar_content::EventSlicingTool::m_usePointingAssociation</a></div><div class="ttdeci">bool m_usePointingAssociation</div><div class="ttdoc">Whether to use pointing association. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00281">EventSlicingTool.h:281</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a72dc200da4bc821a4f86bba8432563b0"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a72dc200da4bc821a4f86bba8432563b0">lar_content::EventSlicingTool::m_coneLengthMultiplier</a></div><div class="ttdeci">float m_coneLengthMultiplier</div><div class="ttdoc">The cone length multiplier to use when calculating bounded cluster fractions. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00295">EventSlicingTool.h:295</a></div></div>
<div class="ttc" id="classlar__content_1_1LArPointingCluster_html_aa42a6e8ed17701e427ced988e05d96b4"><div class="ttname"><a href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#aa42a6e8ed17701e427ced988e05d96b4">lar_content::LArPointingCluster::GetOuterVertex</a></div><div class="ttdeci">const Vertex &amp; GetOuterVertex() const </div><div class="ttdoc">Get the outer vertex. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da7/LArPointingCluster_8h_source.html#l00215">LArPointingCluster.h:215</a></div></div>
<div class="ttc" id="classlar__content_1_1KDTreeLinkerAlgo_html_ad37f6d5dcae205bf6b0a5ad8d5ccf85e"><div class="ttname"><a href="../../d7/dad/classlar__content_1_1KDTreeLinkerAlgo.html#ad37f6d5dcae205bf6b0a5ad8d5ccf85e">lar_content::KDTreeLinkerAlgo::build</a></div><div class="ttdeci">void build(std::vector&lt; KDTreeNodeInfoT&lt; DATA, DIM &gt;&gt; &amp;eltList, const KDTreeBoxT&lt; DIM &gt; &amp;region)</div><div class="ttdoc">Build the KD tree from the &amp;quot;eltList&amp;quot; in the space define by &amp;quot;region&amp;quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2b/KDTreeLinkerAlgoT_8h_source.html#l00183">KDTreeLinkerAlgoT.h:183</a></div></div>
<div class="ttc" id="classlar__content_1_1LArPointingCluster_html_ac1babde6f054f1f7b5d5f12fecbb5e3d"><div class="ttname"><a href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html#ac1babde6f054f1f7b5d5f12fecbb5e3d">lar_content::LArPointingCluster::GetInnerVertex</a></div><div class="ttdeci">const Vertex &amp; GetInnerVertex() const </div><div class="ttdoc">Get the inner vertex. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da7/LArPointingCluster_8h_source.html#l00208">LArPointingCluster.h:208</a></div></div>
<div class="ttc" id="EventSlicingTool_8h_html"><div class="ttname"><a href="../../d7/d48/EventSlicingTool_8h.html">EventSlicingTool.h</a></div><div class="ttdoc">Header file for the event slicing tool class. </div></div>
<div class="ttc" id="LArPointingClusterHelper_8h_html"><div class="ttname"><a href="../../d7/d98/LArPointingClusterHelper_8h.html">LArPointingClusterHelper.h</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a31e0c287bf209620c0fed61a6dbde146"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a31e0c287bf209620c0fed61a6dbde146">lar_content::EventSlicingTool::PassProximity</a></div><div class="ttdeci">bool PassProximity(const pandora::Cluster *const pClusterInSlice, const pandora::Cluster *const pCandidateCluster) const </div><div class="ttdoc">Compare the provided clusters to assess whether they are associated via pointing. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00280">EventSlicingTool.cc:280</a></div></div>
<div class="ttc" id="namespacenlohmann_1_1detail_html_a59fca69799f6b9e366710cb9043aa77d"><div class="ttname"><a href="../../dc/df0/namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">nlohmann::detail::void</a></div><div class="ttdeci">j template void())</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db8/json_8hpp_source.html#l03108">json.hpp:3108</a></div></div>
<div class="ttc" id="classlar__content_1_1LArPfoHelper_html_a13bdb547f45c2729806f42e6f2bb698e"><div class="ttname"><a href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a13bdb547f45c2729806f42e6f2bb698e">lar_content::LArPfoHelper::GetThreeDClusterList</a></div><div class="ttdeci">static void GetThreeDClusterList(const pandora::ParticleFlowObject *const pPfo, pandora::ClusterList &amp;clusterList)</div><div class="ttdoc">Get the list of 3D clusters from an input pfo. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d78/LArPfoHelper_8cc_source.html#l00136">LArPfoHelper.cc:136</a></div></div>
<div class="ttc" id="classlar__content_1_1SlicingAlgorithm_1_1Slice_html_a4289e9b894bf9c4d492f645be7e23d9b"><div class="ttname"><a href="../../d1/d77/classlar__content_1_1SlicingAlgorithm_1_1Slice.html#a4289e9b894bf9c4d492f645be7e23d9b">lar_content::SlicingAlgorithm::Slice::m_caloHitListU</a></div><div class="ttdeci">pandora::CaloHitList m_caloHitListU</div><div class="ttdoc">The u calo hit list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d77/SlicingAlgorithm_8h_source.html#l00033">SlicingAlgorithm.h:33</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a0bd7c03b8cf2459606ff8aebfc40c10a"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0bd7c03b8cf2459606ff8aebfc40c10a">lar_content::EventSlicingTool::ClusterSliceList</a></div><div class="ttdeci">std::vector&lt; pandora::ClusterVector &gt; ClusterSliceList</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00068">EventSlicingTool.h:68</a></div></div>
<div class="ttc" id="LArThreeDSlidingFitResult_8h_html"><div class="ttname"><a href="../../d1/de9/LArThreeDSlidingFitResult_8h.html">LArThreeDSlidingFitResult.h</a></div><div class="ttdoc">Header file for the lar three dimensional sliding fit result class. </div></div>
<div class="ttc" id="classlar__content_1_1LArPointingCluster_1_1Vertex_html_a1d76667655665583eff293158424a2d5"><div class="ttname"><a href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a1d76667655665583eff293158424a2d5">lar_content::LArPointingCluster::Vertex::GetDirection</a></div><div class="ttdeci">const pandora::CartesianVector &amp; GetDirection() const </div><div class="ttdoc">Get the vertex direction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da7/LArPointingCluster_8h_source.html#l00257">LArPointingCluster.h:257</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_acc3aaa1314467a2fde1af3ed64b60047"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#acc3aaa1314467a2fde1af3ed64b60047">lar_content::EventSlicingTool::CopyAllHitsToSingleSlice</a></div><div class="ttdeci">void CopyAllHitsToSingleSlice(const pandora::Algorithm *const pAlgorithm, const SlicingAlgorithm::HitTypeToNameMap &amp;caloHitListNames, SlicingAlgorithm::SliceList &amp;sliceList) const </div><div class="ttdoc">Copy all the input hits in an event into a single slice. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00100">EventSlicingTool.cc:100</a></div></div>
<div class="ttc" id="namespacelar__content_html_a2828737b9c6d73632ada95abaec15ed7"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#a2828737b9c6d73632ada95abaec15ed7">lar_content::ThreeDSlidingConeFitResultMap</a></div><div class="ttdeci">std::unordered_map&lt; const pandora::Cluster *, ThreeDSlidingConeFitResult &gt; ThreeDSlidingConeFitResultMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d84/LArThreeDSlidingConeFitResult_8h_source.html#l00168">LArThreeDSlidingConeFitResult.h:168</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a69f0d23d66d3d1e7d95e35d79534dfee"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">lar_content::EventSlicingTool::PointList</a></div><div class="ttdeci">std::list&lt; const pandora::CartesianVector * &gt; PointList</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00227">EventSlicingTool.h:227</a></div></div>
<div class="ttc" id="namespacelar__content_html_aa879bc8b47c9dd31c42e69af2331b661"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#aa879bc8b47c9dd31c42e69af2331b661">lar_content::HitTypeToNameMap</a></div><div class="ttdeci">SlicingAlgorithm::HitTypeToNameMap HitTypeToNameMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d26/CheatingEventSlicingTool_8cc_source.html#l00020">CheatingEventSlicingTool.cc:20</a></div></div>
<div class="ttc" id="reco__sbnd_8fcl_html_a8bcdaf138f1238e67ebf243c201082df"><div class="ttname"><a href="../../df/df8/reco__sbnd_8fcl.html#a8bcdaf138f1238e67ebf243c201082df">pandora</a></div><div class="ttdeci">required by fuzzyCluster table::sbnd_g4_services gaushitTruthMatch pandora</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df8/reco__sbnd_8fcl_source.html#l00180">reco_sbnd.fcl:180</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a8d752cffb71b03ea0d2020123238db80"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a8d752cffb71b03ea0d2020123238db80">lar_content::EventSlicingTool::CheckClosestApproach</a></div><div class="ttdeci">bool CheckClosestApproach(const LArPointingCluster &amp;cluster1, const LArPointingCluster &amp;cluster2) const </div><div class="ttdoc">Check closest approach metrics for a pair of pointing clusters. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00345">EventSlicingTool.cc:345</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_ab052cfaafcd3ebfc7e23caf995475c12"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ab052cfaafcd3ebfc7e23caf995475c12">lar_content::EventSlicingTool::PointKDNode2DList</a></div><div class="ttdeci">std::vector&lt; PointKDNode2D &gt; PointKDNode2DList</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00225">EventSlicingTool.h:225</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a2b1cac51364acc2be6cc53ac51441c8a"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">lar_content::EventSlicingTool::ClusterToSliceIndexMap</a></div><div class="ttdeci">std::unordered_map&lt; const pandora::Cluster *, unsigned int &gt; ClusterToSliceIndexMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00168">EventSlicingTool.h:168</a></div></div>
<div class="ttc" id="classlar__content_1_1ThreeDSlidingFitResult_html"><div class="ttname"><a href="../../dc/d4f/classlar__content_1_1ThreeDSlidingFitResult.html">lar_content::ThreeDSlidingFitResult</a></div><div class="ttdoc">ThreeDSlidingFitResult class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de9/LArThreeDSlidingFitResult_8h_source.html#l00023">LArThreeDSlidingFitResult.h:23</a></div></div>
<div class="ttc" id="classlar__content_1_1SlicingAlgorithm_1_1Slice_html_a0e0588962b234440d01cb5c7346647a9"><div class="ttname"><a href="../../d1/d77/classlar__content_1_1SlicingAlgorithm_1_1Slice.html#a0e0588962b234440d01cb5c7346647a9">lar_content::SlicingAlgorithm::Slice::m_caloHitListW</a></div><div class="ttdeci">pandora::CaloHitList m_caloHitListW</div><div class="ttdoc">The w calo hit list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d77/SlicingAlgorithm_8h_source.html#l00035">SlicingAlgorithm.h:35</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_ae1ed7decc0014bc91ae63a0a874ba847"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ae1ed7decc0014bc91ae63a0a874ba847">lar_content::EventSlicingTool::m_maxInterceptDistance</a></div><div class="ttdeci">float m_maxInterceptDistance</div><div class="ttdoc">Pointing association: max distance from cluster vertex to point of closest approach. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00287">EventSlicingTool.h:287</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a20a0ecab5d436fcf0f64fbe9e4a21cc6"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a20a0ecab5d436fcf0f64fbe9e4a21cc6">lar_content::EventSlicingTool::RunSlicing</a></div><div class="ttdeci">void RunSlicing(const pandora::Algorithm *const pAlgorithm, const SlicingAlgorithm::HitTypeToNameMap &amp;caloHitListNames, const SlicingAlgorithm::HitTypeToNameMap &amp;clusterListNames, SlicingAlgorithm::SliceList &amp;sliceList)</div><div class="ttdoc">Run the slicing tool. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00062">EventSlicingTool.cc:62</a></div></div>
<div class="ttc" id="namespacelar__content_html_ae11c572bac43730dbb12957868f40273"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#ae11c572bac43730dbb12957868f40273">lar_content::fill_and_bound_2d_kd_tree</a></div><div class="ttdeci">KDTreeBox fill_and_bound_2d_kd_tree(const MANAGED_CONTAINER&lt; const T * &gt; &amp;points, std::vector&lt; KDTreeNodeInfoT&lt; const T *, 2 &gt;&gt; &amp;nodes)</div><div class="ttdoc">fill_and_bound_2d_kd_tree </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd6/KDTreeLinkerToolsT_8h_source.html#l00309">KDTreeLinkerToolsT.h:309</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_abb530b46bf16b871d23743df9d573bc8"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">lar_content::EventSlicingTool::m_minVertexLongitudinalDistance</a></div><div class="ttdeci">float m_minVertexLongitudinalDistance</div><div class="ttdoc">Pointing association check: min longitudinal distance cut. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00282">EventSlicingTool.h:282</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a36cc380d642333550149b7a63b0cce73"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36cc380d642333550149b7a63b0cce73">lar_content::EventSlicingTool::IsEmission</a></div><div class="ttdeci">bool IsEmission(const LArPointingCluster &amp;cluster1, const LArPointingCluster &amp;cluster2) const </div><div class="ttdoc">Check whether a pair of pointing clusters are consistent with an emission. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00401">EventSlicingTool.cc:401</a></div></div>
<div class="ttc" id="classlar__content_1_1SlicingAlgorithm_1_1Slice_html"><div class="ttname"><a href="../../d1/d77/classlar__content_1_1SlicingAlgorithm_1_1Slice.html">lar_content::SlicingAlgorithm::Slice</a></div><div class="ttdoc">Slice class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d77/SlicingAlgorithm_8h_source.html#l00030">SlicingAlgorithm.h:30</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_abbb7925f29a7120fa49c3e5d075c1c30"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abbb7925f29a7120fa49c3e5d075c1c30">lar_content::EventSlicingTool::m_use3DProjectionsInHitPickUp</a></div><div class="ttdeci">bool m_use3DProjectionsInHitPickUp</div><div class="ttdoc">Whether to include 3D cluster projections when assigning remaining clusters to slices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00302">EventSlicingTool.h:302</a></div></div>
<div class="ttc" id="namespacelar__pandora_html_a4c624a89baa15141e3c578004a5304ad"><div class="ttname"><a href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">lar_pandora::ClusterVector</a></div><div class="ttdeci">std::vector&lt; art::Ptr&lt; recob::Cluster &gt; &gt; ClusterVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d35/LArPandoraHelper_8h_source.html#l00060">LArPandoraHelper.h:60</a></div></div>
<div class="ttc" id="classlar__content_1_1ThreeDSlidingConeFitResult_html"><div class="ttname"><a href="../../dc/d4a/classlar__content_1_1ThreeDSlidingConeFitResult.html">lar_content::ThreeDSlidingConeFitResult</a></div><div class="ttdoc">ThreeDSlidingConeFitResult class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d84/LArThreeDSlidingConeFitResult_8h_source.html#l00122">LArThreeDSlidingConeFitResult.h:122</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a908091f0a755d83bcfe81a47094f6373"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a908091f0a755d83bcfe81a47094f6373">lar_content::EventSlicingTool::m_maxConeLength</a></div><div class="ttdeci">float m_maxConeLength</div><div class="ttdoc">The maximum allowed cone length to use when calculating bounded cluster fractions. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00296">EventSlicingTool.h:296</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_ac36a674e362ee83212d854f5c5494cd4"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ac36a674e362ee83212d854f5c5494cd4">lar_content::EventSlicingTool::m_useShowerConeAssociation</a></div><div class="ttdeci">bool m_useShowerConeAssociation</div><div class="ttdoc">Whether to use shower cone association. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00292">EventSlicingTool.h:292</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a756eef9bde5812bd511632695c3765b1"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">lar_content::EventSlicingTool::m_vertexAngularAllowance</a></div><div class="ttdeci">float m_vertexAngularAllowance</div><div class="ttdoc">Pointing association check: pointing angular allowance in degrees. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00285">EventSlicingTool.h:285</a></div></div>
<div class="ttc" id="classlar__content_1_1SlicingAlgorithm_1_1Slice_html_af10be25165e9cc8e0ba30ca324e5c887"><div class="ttname"><a href="../../d1/d77/classlar__content_1_1SlicingAlgorithm_1_1Slice.html#af10be25165e9cc8e0ba30ca324e5c887">lar_content::SlicingAlgorithm::Slice::m_caloHitListV</a></div><div class="ttdeci">pandora::CaloHitList m_caloHitListV</div><div class="ttdoc">The v calo hit list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d77/SlicingAlgorithm_8h_source.html#l00034">SlicingAlgorithm.h:34</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a53d45f840542bab3be6f4b6375c09119"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a53d45f840542bab3be6f4b6375c09119">lar_content::EventSlicingTool::GetKDTreeEntries2D</a></div><div class="ttdeci">void GetKDTreeEntries2D(const SlicingAlgorithm::SliceList &amp;sliceList, PointList &amp;pointsU, PointList &amp;pointsV, PointList &amp;pointsW, PointToSliceIndexMap &amp;pointToSliceIndexMap) const </div><div class="ttdoc">Use projections of 3D hits already assigned to slices to populate kd trees to aid assignment of remai...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00591">EventSlicingTool.cc:591</a></div></div>
<div class="ttc" id="classlar__content_1_1LArPointingCluster_1_1Vertex_html_a447def263c03ccc73c2b97eb8e1047a3"><div class="ttname"><a href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html#a447def263c03ccc73c2b97eb8e1047a3">lar_content::LArPointingCluster::Vertex::GetPosition</a></div><div class="ttdeci">const pandora::CartesianVector &amp; GetPosition() const </div><div class="ttdoc">Get the vertex position. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da7/LArPointingCluster_8h_source.html#l00247">LArPointingCluster.h:247</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a79048a76e3b701fa87b19e487fe30c01"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a79048a76e3b701fa87b19e487fe30c01">lar_content::EventSlicingTool::GetKDTreeEntries3D</a></div><div class="ttdeci">void GetKDTreeEntries3D(const ClusterToSliceIndexMap &amp;clusterToSliceIndexMap, PointList &amp;pointsU, PointList &amp;pointsV, PointList &amp;pointsW, PointToSliceIndexMap &amp;pointToSliceIndexMap) const </div><div class="ttdoc">Use 2D hits already assigned to slices to populate kd trees to aid assignment of remaining clusters...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00625">EventSlicingTool.cc:625</a></div></div>
<div class="ttc" id="crtt0matchingalg__icarus_8fcl_html_af8bc618309fb2d0f55f7f5ae0760b466"><div class="ttname"><a href="../../df/d43/crtt0matchingalg__icarus_8fcl.html#af8bc618309fb2d0f55f7f5ae0760b466">true</a></div><div class="ttdeci">BEGIN_PROLOG don t mess with this true</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d43/crtt0matchingalg__icarus_8fcl_source.html#l00014">crtt0matchingalg_icarus.fcl:14</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a87b1946135ef06b69b7800305ea2f110"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a87b1946135ef06b69b7800305ea2f110">lar_content::EventSlicingTool::CreateSlices</a></div><div class="ttdeci">void CreateSlices(const ClusterSliceList &amp;clusterSliceList, SlicingAlgorithm::SliceList &amp;sliceList, ClusterToSliceIndexMap &amp;clusterToSliceIndexMap) const </div><div class="ttdoc">Create new slices for each of the groupings of 3D clusters in the provided cluster slice list...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00423">EventSlicingTool.cc:423</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aa34c52f40ad0dde30816ac6f4cb0eb56"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa34c52f40ad0dde30816ac6f4cb0eb56">lar_content::EventSlicingTool::m_coneBoundedFraction1</a></div><div class="ttdeci">float m_coneBoundedFraction1</div><div class="ttdoc">The minimum cluster bounded fraction for association 1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00298">EventSlicingTool.h:298</a></div></div>
<div class="ttc" id="classlar__content_1_1LArPointingClusterHelper_html_aa23153c2605f276b88b21a3f3d9c5546"><div class="ttname"><a href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">lar_content::LArPointingClusterHelper::IsNode</a></div><div class="ttdeci">static bool IsNode(const pandora::CartesianVector &amp;parentVertex, const LArPointingCluster::Vertex &amp;daughterVertex, const float minLongitudinalDistance, const float maxTransverseDistance)</div><div class="ttdoc">Whether pointing vertex is adjacent to a given position. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/LArPointingClusterHelper_8cc_source.html#l00033">LArPointingClusterHelper.cc:33</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a249c138153de86646cabfd66c77bb875"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a249c138153de86646cabfd66c77bb875">lar_content::EventSlicingTool::m_halfWindowLayers</a></div><div class="ttdeci">unsigned int m_halfWindowLayers</div><div class="ttdoc">The number of layers to use for half-window of sliding fit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00279">EventSlicingTool.h:279</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
