<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>VisualParticleMonitoringAlgorithm.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b73b02d482d1c4a3db20c3d9ad52d395.html">srcs</a></li><li class="navelem"><a class="el" href="../../dir_a1329299114bc1a621643048f876df5a.html">larpandoracontent</a></li><li class="navelem"><a class="el" href="../../dir_caf9afabea0076f4afd58024b4b76d1c.html">larpandoracontent</a></li><li class="navelem"><a class="el" href="../../dir_bdd4aa4575f40de8279c0d29f8a4777e.html">LArMonitoring</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">VisualParticleMonitoringAlgorithm.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../da/d56/VisualParticleMonitoringAlgorithm_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *  @file   larpandoracontent/LArMonitoring/VisualParticleMonitoringAlgorithm.cc</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  @brief  Implementation of the particle visualisation algorithm.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *  $Log: $</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;Pandora/AlgorithmHeaders.h&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d52/VisualParticleMonitoringAlgorithm_8h.html">larpandoracontent/LArMonitoring/VisualParticleMonitoringAlgorithm.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d22/LArPfoHelper_8h.html">larpandoracontent/LArHelpers/LArPfoHelper.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d37/LArCaloHit_8h.html">larpandoracontent/LArObjects/LArCaloHit.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/dd7/LArMCParticle_8h.html">larpandoracontent/LArObjects/LArMCParticle.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../df/df8/reco__sbnd_8fcl.html#a8bcdaf138f1238e67ebf243c201082df">pandora</a>;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">namespace </span>lar_content</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;{</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#ad559d952fc257bbf82683f19a41a17cb">   22</a></span>&#160;VisualParticleMonitoringAlgorithm::VisualParticleMonitoringAlgorithm() :</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    m_visualizeMC(<a class="code" href="../../d7/d6f/namespacelarg4.html#a7eeba60c219f2d1b4094606a12d28d18">false</a>),</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    m_visualizePfo(<a class="code" href="../../d7/d6f/namespacelarg4.html#a7eeba60c219f2d1b4094606a12d28d18">false</a>),</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    m_groupMCByPdg(<a class="code" href="../../d7/d6f/namespacelarg4.html#a7eeba60c219f2d1b4094606a12d28d18">false</a>),</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    m_showPfoByPid(<a class="code" href="../../d7/d6f/namespacelarg4.html#a7eeba60c219f2d1b4094606a12d28d18">false</a>),</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    m_showPfoMatchedMC(<a class="code" href="../../d7/d6f/namespacelarg4.html#a7eeba60c219f2d1b4094606a12d28d18">false</a>),</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    m_isTestBeam{<span class="keyword">false</span>},</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    m_transparencyThresholdE{-1.f},</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    m_energyScaleThresholdE{1.f},</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    m_scalingFactor{1.f}</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;{</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;}</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a2809124b400c74ab7af0321bb44f7db4">   37</a></span>&#160;<a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a2809124b400c74ab7af0321bb44f7db4">VisualParticleMonitoringAlgorithm::~VisualParticleMonitoringAlgorithm</a>()</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;{</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a979e66f012ac5ccac4272267465b16af">   43</a></span>&#160;StatusCode <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a979e66f012ac5ccac4272267465b16af">VisualParticleMonitoringAlgorithm::Run</a>()</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#ifdef MONITORING</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor"></span>    <a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a35229b4b94f4ebbe01f8b2827e485990">LArMCParticleHelper::MCContributionMap</a> targetMCParticleToHitsMap;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a81caaf3c5d677ad98f2abedb38211f57">m_visualizeMC</a> || <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a3e0b29c6ca83e3f8dd4373a243759928">m_showPfoMatchedMC</a>)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keyword">const</span> CaloHitList *pCaloHitList(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, PandoraContentApi::GetList(*<span class="keyword">this</span>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a27022bc3319404db912d7bc2c5af750c">m_caloHitListName</a>, pCaloHitList));</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keyword">const</span> MCParticleList *pMCParticleList(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, PandoraContentApi::GetCurrentList(*<span class="keyword">this</span>, pMCParticleList));</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        this-&gt;MakeSelection(pMCParticleList, pCaloHitList, targetMCParticleToHitsMap);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a81caaf3c5d677ad98f2abedb38211f57">m_visualizeMC</a>)</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a76c42ec0a51a72b671452f8b16c2d207">m_groupMCByPdg</a>)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            this-&gt;VisualizeMCByPdgCode(targetMCParticleToHitsMap);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            this-&gt;VisualizeIndependentMC(targetMCParticleToHitsMap);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#ab68653d626d8191560fd057ec1372796">m_visualizePfo</a>)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keyword">const</span> PfoList *pPfoList(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, PandoraContentApi::GetList(*<span class="keyword">this</span>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#ad2d2f9a3ce9846d843d8a115ba467b6f">m_pfoListName</a>, pPfoList));</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a363c4acc784f06a5f9b25701157df2e9">m_showPfoByPid</a>)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            this-&gt;VisualizePfoByParticleId(*pPfoList);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a3e0b29c6ca83e3f8dd4373a243759928">m_showPfoMatchedMC</a>)</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                this-&gt;VisualizeIndependentPfo(*pPfoList, targetMCParticleToHitsMap);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                this-&gt;VisualizeIndependentPfo(*pPfoList);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#endif // MONITORING</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#ifdef MONITORING</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keywordtype">void</span> VisualParticleMonitoringAlgorithm::VisualizeIndependentMC(<span class="keyword">const</span> <a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a35229b4b94f4ebbe01f8b2827e485990">LArMCParticleHelper::MCContributionMap</a> &amp;mcMap)<span class="keyword"> const</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keyword">const</span> std::map&lt;int, const std::string&gt; keys = {{13, <span class="stringliteral">&quot;mu&quot;</span>}, {11, <span class="stringliteral">&quot;e&quot;</span>}, {22, <span class="stringliteral">&quot;gamma&quot;</span>}, {321, <span class="stringliteral">&quot;kaon&quot;</span>}, {211, <span class="stringliteral">&quot;pi&quot;</span>}, {2212, <span class="stringliteral">&quot;p&quot;</span>}};</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keyword">const</span> std::map&lt;int, Color&gt; colors = {{0, RED}, {1, BLACK}, {2, <a class="code" href="../../d2/ddb/namespacetest__distance.html#a83ddf9e704aeffa243618b25710f0656">BLUE</a>}, {3, CYAN}, {4, MAGENTA}, {5, GREEN}, {6, ORANGE}, {7, GRAY}};</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    MCParticleList linearisedMC;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span> (mcMap.empty())</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    PANDORA_MONITORING_API(</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        SetEveDisplayParameters(this-&gt;GetPandora(), <span class="keyword">true</span>, DETECTOR_VIEW_XZ, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a12406c25c30d50da7c7a14b72c46535f">m_transparencyThresholdE</a>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a2dda69e9198247a3d1a62d0d5e55f946">m_energyScaleThresholdE</a>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#aafc84988919b2ed9766fc43e181b61cb">m_scalingFactor</a>));</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a4828b5f8f1230549a3ea018665556248">LArMCParticleHelper::GetBreadthFirstHierarchyRepresentation</a>(mcMap.begin()-&gt;first, linearisedMC);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordtype">size_t</span> colorIdx{0};</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordtype">int</span> mcIdx{0};</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> MCParticle *pMC : linearisedMC)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> iter{mcMap.find(pMC)};</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordflow">if</span> (iter == mcMap.end())</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        std::string key(<span class="stringliteral">&quot;other&quot;</span>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/dd2/selectors_8fcl.html#a697017f6ca07cbb4f47653babf318012">pdg</a>{<a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(pMC-&gt;GetParticleId())};</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="keywordflow">if</span> (keys.find(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a697017f6ca07cbb4f47653babf318012">pdg</a>) != keys.end())</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                key = keys.at(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a697017f6ca07cbb4f47653babf318012">pdg</a>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">catch</span> (<span class="keyword">const</span> StatusCodeException &amp;)</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            key = <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        CaloHitList uHits, vHits, wHits;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *pCaloHit : iter-&gt;second)</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <span class="keyword">const</span> HitType view{pCaloHit-&gt;GetHitType()};</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordflow">if</span> (view == HitType::TPC_VIEW_U)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                uHits.emplace_back(pCaloHit);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (view == HitType::TPC_VIEW_V)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                vHits.emplace_back(pCaloHit);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                wHits.emplace_back(pCaloHit);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        std::string suffix{<a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a7718dbf2e5e4aa346e7fbabaa451457f">std::to_string</a>(mcIdx) + <span class="stringliteral">&quot;_&quot;</span> + key};</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">if</span> (!uHits.empty())</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;uHits, <span class="stringliteral">&quot;u_&quot;</span> + suffix, colors.at(colorIdx)));</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">if</span> (!vHits.empty())</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;vHits, <span class="stringliteral">&quot;v_&quot;</span> + suffix, colors.at(colorIdx)));</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">if</span> (!wHits.empty())</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;wHits, <span class="stringliteral">&quot;w_&quot;</span> + suffix, colors.at(colorIdx)));</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        colorIdx = (colorIdx + 1) &gt;= colors.size() ? 0 : colorIdx + 1;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        ++mcIdx;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    PANDORA_MONITORING_API(ViewEvent(this-&gt;GetPandora()));</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="keywordtype">void</span> VisualParticleMonitoringAlgorithm::VisualizeMCByPdgCode(<span class="keyword">const</span> <a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a35229b4b94f4ebbe01f8b2827e485990">LArMCParticleHelper::MCContributionMap</a> &amp;mcMap)<span class="keyword"> const</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">const</span> std::map&lt;int, const std::string&gt; keys = {{13, <span class="stringliteral">&quot;mu&quot;</span>}, {11, <span class="stringliteral">&quot;e&quot;</span>}, {22, <span class="stringliteral">&quot;gamma&quot;</span>}, {321, <span class="stringliteral">&quot;kaon&quot;</span>}, {211, <span class="stringliteral">&quot;pi&quot;</span>}, {2212, <span class="stringliteral">&quot;p&quot;</span>}};</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keyword">const</span> std::map&lt;std::string, Color&gt; colors = {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        {<span class="stringliteral">&quot;mu&quot;</span>, MAGENTA}, {<span class="stringliteral">&quot;e&quot;</span>, RED}, {<span class="stringliteral">&quot;gamma&quot;</span>, ORANGE}, {<span class="stringliteral">&quot;kaon&quot;</span>, BLACK}, {<span class="stringliteral">&quot;pi&quot;</span>, GREEN}, {<span class="stringliteral">&quot;p&quot;</span>, <a class="code" href="../../d2/ddb/namespacetest__distance.html#a83ddf9e704aeffa243618b25710f0656">BLUE</a>}, {<span class="stringliteral">&quot;other&quot;</span>, GRAY}};</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    std::map&lt;std::string, CaloHitList&gt; uHits, vHits, wHits;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; [key, <a class="code" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>] : keys)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        (<a class="code" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">void</a>)key; <span class="comment">// GCC 7 support, 8+ doesn&#39;t need this</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        uHits[<a class="code" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>] = CaloHitList();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        vHits[<a class="code" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>] = CaloHitList();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        wHits[<a class="code" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>] = CaloHitList();</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    uHits[<span class="stringliteral">&quot;other&quot;</span>] = CaloHitList();</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    vHits[<span class="stringliteral">&quot;other&quot;</span>] = CaloHitList();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    wHits[<span class="stringliteral">&quot;other&quot;</span>] = CaloHitList();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; [pMC, pCaloHits] : mcMap)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *pCaloHit : pCaloHits)</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <span class="keyword">const</span> HitType view{pCaloHit-&gt;GetHitType()};</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="keywordflow">try</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/dd2/selectors_8fcl.html#a697017f6ca07cbb4f47653babf318012">pdg</a>{<a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(pMC-&gt;GetParticleId())};</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                std::string key(<span class="stringliteral">&quot;other&quot;</span>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                <span class="keywordflow">if</span> (keys.find(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a697017f6ca07cbb4f47653babf318012">pdg</a>) != keys.end())</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    key = keys.at(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a697017f6ca07cbb4f47653babf318012">pdg</a>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <span class="keywordflow">if</span> (view == HitType::TPC_VIEW_U)</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    uHits[key].emplace_back(pCaloHit);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (view == HitType::TPC_VIEW_V)</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                    vHits[key].emplace_back(pCaloHit);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                    wHits[key].emplace_back(pCaloHit);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="keywordflow">catch</span> (<span class="keyword">const</span> StatusCodeException &amp;)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    PANDORA_MONITORING_API(</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        SetEveDisplayParameters(this-&gt;GetPandora(), <span class="keyword">true</span>, DETECTOR_VIEW_XZ, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a12406c25c30d50da7c7a14b72c46535f">m_transparencyThresholdE</a>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a2dda69e9198247a3d1a62d0d5e55f946">m_energyScaleThresholdE</a>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#aafc84988919b2ed9766fc43e181b61cb">m_scalingFactor</a>));</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; [key, <a class="code" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>] : keys)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        (<a class="code" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">void</a>)key; <span class="comment">// GCC 7 support, 8+ doesn&#39;t need this</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">if</span> (!uHits[<a class="code" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>].<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a74da18d4f0023feee71c1352a99b3910">empty</a>())</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;uHits[<a class="code" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>], <span class="stringliteral">&quot;u_&quot;</span> + value, colors.at(value)));</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">if</span> (!uHits[<span class="stringliteral">&quot;other&quot;</span>].<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a74da18d4f0023feee71c1352a99b3910">empty</a>())</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;uHits[<span class="stringliteral">&quot;other&quot;</span>], <span class="stringliteral">&quot;u_other&quot;</span>, colors.at(<span class="stringliteral">&quot;other&quot;</span>)));</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; [key, <a class="code" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>] : keys)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        (<a class="code" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">void</a>)key; <span class="comment">// GCC 7 support, 8+ doesn&#39;t need this</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">if</span> (!vHits[<a class="code" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>].<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a74da18d4f0023feee71c1352a99b3910">empty</a>())</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;vHits[<a class="code" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>], <span class="stringliteral">&quot;v_&quot;</span> + <a class="code" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>, colors.at(value)));</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">if</span> (!vHits[<span class="stringliteral">&quot;other&quot;</span>].<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a74da18d4f0023feee71c1352a99b3910">empty</a>())</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;uHits[<span class="stringliteral">&quot;other&quot;</span>], <span class="stringliteral">&quot;v_other&quot;</span>, colors.at(<span class="stringliteral">&quot;other&quot;</span>)));</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; [key, value] : keys)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        (<a class="code" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">void</a>)key; <span class="comment">// GCC 7 support, 8+ doesn&#39;t need this</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">if</span> (!wHits[value].<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a74da18d4f0023feee71c1352a99b3910">empty</a>())</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;wHits[<a class="code" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>], <span class="stringliteral">&quot;w_&quot;</span> + <a class="code" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>, colors.at(value)));</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">if</span> (!wHits[<span class="stringliteral">&quot;other&quot;</span>].<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a74da18d4f0023feee71c1352a99b3910">empty</a>())</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;uHits[<span class="stringliteral">&quot;other&quot;</span>], <span class="stringliteral">&quot;w_other&quot;</span>, colors.at(<span class="stringliteral">&quot;other&quot;</span>)));</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    PANDORA_MONITORING_API(ViewEvent(this-&gt;GetPandora()));</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="keywordtype">void</span> VisualParticleMonitoringAlgorithm::VisualizeIndependentPfo(<span class="keyword">const</span> PfoList &amp;pfoList)<span class="keyword"> const</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">// ATTN - If we aren&#39;t showing matched MC, just pass in an empty MC to hits map</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a35229b4b94f4ebbe01f8b2827e485990">LArMCParticleHelper::MCContributionMap</a> mcMap;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    this-&gt;VisualizeIndependentPfo(pfoList, mcMap);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="keywordtype">void</span> VisualParticleMonitoringAlgorithm::VisualizeIndependentPfo(<span class="keyword">const</span> PfoList &amp;pfoList, <span class="keyword">const</span> <a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a35229b4b94f4ebbe01f8b2827e485990">LArMCParticleHelper::MCContributionMap</a> &amp;mcMap)<span class="keyword"> const</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keyword">const</span> std::map&lt;int, Color&gt; colors = {{0, RED}, {1, BLACK}, {2, <a class="code" href="../../d2/ddb/namespacetest__distance.html#a83ddf9e704aeffa243618b25710f0656">BLUE</a>}, {3, CYAN}, {4, MAGENTA}, {5, GREEN}, {6, ORANGE}, {7, GRAY}};</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    PfoList linearisedPfo;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">if</span> (pfoList.empty())</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    PANDORA_MONITORING_API(</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        SetEveDisplayParameters(this-&gt;GetPandora(), <span class="keyword">true</span>, DETECTOR_VIEW_XZ, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a12406c25c30d50da7c7a14b72c46535f">m_transparencyThresholdE</a>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a2dda69e9198247a3d1a62d0d5e55f946">m_energyScaleThresholdE</a>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#aafc84988919b2ed9766fc43e181b61cb">m_scalingFactor</a>));</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a2dfa49383bea14b57bfa153e4855071d">LArPfoHelper::GetBreadthFirstHierarchyRepresentation</a>(pfoList.front(), linearisedPfo);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordtype">size_t</span> colorIdx{0};</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordtype">int</span> pfoIdx{0};</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> ParticleFlowObject *pPfo : linearisedPfo)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        CaloHitList uHits, vHits, wHits;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> isTrack{<a class="code" href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a27f209ca33e90399c1e0cc56230dd9f7">LArPfoHelper::IsTrack</a>(pPfo)};</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        CaloHitList caloHits;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> view : {HitType::TPC_VIEW_U, HitType::TPC_VIEW_V, HitType::TPC_VIEW_W})</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <a class="code" href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a475708707d11c6a57c3e9213d2f777fe">LArPfoHelper::GetCaloHits</a>(pPfo, view, caloHits);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <a class="code" href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a4762ad1d43fd33881e0252d2eec07a86">LArPfoHelper::GetIsolatedCaloHits</a>(pPfo, view, caloHits);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *pCaloHit : caloHits)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="keyword">const</span> HitType view{pCaloHit-&gt;GetHitType()};</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <span class="keywordflow">if</span> (view == HitType::TPC_VIEW_U)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                uHits.emplace_back(pCaloHit);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (view == HitType::TPC_VIEW_V)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                vHits.emplace_back(pCaloHit);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (view == HitType::TPC_VIEW_W)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                wHits.emplace_back(pCaloHit);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        std::string suffix{<a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a7718dbf2e5e4aa346e7fbabaa451457f">std::to_string</a>(pfoIdx)};</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        suffix += isTrack ? <span class="stringliteral">&quot;_T&quot;</span> : <span class="stringliteral">&quot;_S&quot;</span>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keywordflow">if</span> (!uHits.empty())</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;uHits, <span class="stringliteral">&quot;u_&quot;</span> + suffix, colors.at(colorIdx)));</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">if</span> (!vHits.empty())</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;vHits, <span class="stringliteral">&quot;v_&quot;</span> + suffix, colors.at(colorIdx)));</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">if</span> (!wHits.empty())</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;wHits, <span class="stringliteral">&quot;w_&quot;</span> + suffix, colors.at(colorIdx)));</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        colorIdx = (colorIdx + 1) &gt;= colors.size() ? 0 : colorIdx + 1;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a3e0b29c6ca83e3f8dd4373a243759928">m_showPfoMatchedMC</a>)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">try</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                <span class="keyword">const</span> MCParticle *pMC{<a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#aa503b8f3406ee3d5c2ed14d6064aff22">LArMCParticleHelper::GetMainMCParticle</a>(pPfo)};</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                <span class="keywordflow">if</span> (pMC)</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                    <span class="keyword">const</span> <span class="keyword">auto</span> iter{mcMap.find(pMC)};</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    <span class="keywordflow">if</span> (iter != mcMap.end())</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                    {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                        CaloHitList uHitsMC, vHitsMC, wHitsMC;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                        <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *pCaloHit : iter-&gt;second)</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                        {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                            <span class="keyword">const</span> HitType view{pCaloHit-&gt;GetHitType()};</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                            <span class="keywordflow">if</span> (view == HitType::TPC_VIEW_U)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                                uHitsMC.emplace_back(pCaloHit);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (view == HitType::TPC_VIEW_V)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                                vHitsMC.emplace_back(pCaloHit);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (view == HitType::TPC_VIEW_W)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                                wHitsMC.emplace_back(pCaloHit);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                        }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                        std::string mcSuffix(suffix + <span class="stringliteral">&quot;_MC&quot;</span>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                        <span class="keywordflow">if</span> (!uHitsMC.empty())</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                            PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;uHitsMC, <span class="stringliteral">&quot;u_&quot;</span> + mcSuffix, colors.at(colorIdx)));</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                        <span class="keywordflow">if</span> (!vHitsMC.empty())</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                            PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;vHitsMC, <span class="stringliteral">&quot;v_&quot;</span> + mcSuffix, colors.at(colorIdx)));</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                        <span class="keywordflow">if</span> (!wHitsMC.empty())</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                            PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;wHitsMC, <span class="stringliteral">&quot;w_&quot;</span> + mcSuffix, colors.at(colorIdx)));</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                    }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="keywordflow">catch</span> (<span class="keyword">const</span> StatusCodeException &amp;)</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            { <span class="comment">// No matched MC, move on</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        ++pfoIdx;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    PANDORA_MONITORING_API(ViewEvent(this-&gt;GetPandora()));</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;}</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="keywordtype">void</span> VisualParticleMonitoringAlgorithm::VisualizePfoByParticleId(<span class="keyword">const</span> PfoList &amp;pfoList)<span class="keyword"> const</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    PfoList linearisedPfo;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span> (pfoList.empty())</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    PANDORA_MONITORING_API(</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        SetEveDisplayParameters(this-&gt;GetPandora(), <span class="keyword">true</span>, DETECTOR_VIEW_XZ, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a12406c25c30d50da7c7a14b72c46535f">m_transparencyThresholdE</a>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a2dda69e9198247a3d1a62d0d5e55f946">m_energyScaleThresholdE</a>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#aafc84988919b2ed9766fc43e181b61cb">m_scalingFactor</a>));</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a2dfa49383bea14b57bfa153e4855071d">LArPfoHelper::GetBreadthFirstHierarchyRepresentation</a>(pfoList.front(), linearisedPfo);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordtype">int</span> pfoIdx{0};</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> ParticleFlowObject *pPfo : linearisedPfo)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        CaloHitList uTrackHits, vTrackHits, wTrackHits, uShowerHits, vShowerHits, wShowerHits;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> isTrack{<a class="code" href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a27f209ca33e90399c1e0cc56230dd9f7">LArPfoHelper::IsTrack</a>(pPfo)};</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        CaloHitList caloHits;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> view : {HitType::TPC_VIEW_U, HitType::TPC_VIEW_V, HitType::TPC_VIEW_W})</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <a class="code" href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a475708707d11c6a57c3e9213d2f777fe">LArPfoHelper::GetCaloHits</a>(pPfo, view, caloHits);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <a class="code" href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a4762ad1d43fd33881e0252d2eec07a86">LArPfoHelper::GetIsolatedCaloHits</a>(pPfo, view, caloHits);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *pCaloHit : caloHits)</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="keyword">const</span> HitType view{pCaloHit-&gt;GetHitType()};</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <span class="keywordflow">if</span> (view == HitType::TPC_VIEW_U)</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                <span class="keywordflow">if</span> (isTrack)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                    uTrackHits.emplace_back(pCaloHit);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                    uShowerHits.emplace_back(pCaloHit);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (view == HitType::TPC_VIEW_V)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                <span class="keywordflow">if</span> (isTrack)</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                    vTrackHits.emplace_back(pCaloHit);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                    vShowerHits.emplace_back(pCaloHit);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                <span class="keywordflow">if</span> (isTrack)</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                    wTrackHits.emplace_back(pCaloHit);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                    wShowerHits.emplace_back(pCaloHit);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">if</span> (isTrack)</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            std::string suffix{<a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a7718dbf2e5e4aa346e7fbabaa451457f">std::to_string</a>(pfoIdx) + <span class="stringliteral">&quot;_T&quot;</span>};</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <span class="keywordflow">if</span> (!uTrackHits.empty())</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;uTrackHits, <span class="stringliteral">&quot;u_&quot;</span> + suffix, <a class="code" href="../../d2/ddb/namespacetest__distance.html#a83ddf9e704aeffa243618b25710f0656">BLUE</a>));</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <span class="keywordflow">if</span> (!vTrackHits.empty())</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;vTrackHits, <span class="stringliteral">&quot;v_&quot;</span> + suffix, <a class="code" href="../../d2/ddb/namespacetest__distance.html#a83ddf9e704aeffa243618b25710f0656">BLUE</a>));</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="keywordflow">if</span> (!wTrackHits.empty())</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;wTrackHits, <span class="stringliteral">&quot;w_&quot;</span> + suffix, <a class="code" href="../../d2/ddb/namespacetest__distance.html#a83ddf9e704aeffa243618b25710f0656">BLUE</a>));</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            std::string suffix{<a class="code" href="../../dd/df6/namespaceicarus_1_1trigger.html#a7718dbf2e5e4aa346e7fbabaa451457f">std::to_string</a>(pfoIdx) + <span class="stringliteral">&quot;_S&quot;</span>};</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="keywordflow">if</span> (!uShowerHits.empty())</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;uShowerHits, <span class="stringliteral">&quot;u_&quot;</span> + suffix, RED));</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <span class="keywordflow">if</span> (!vShowerHits.empty())</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;vShowerHits, <span class="stringliteral">&quot;v_&quot;</span> + suffix, RED));</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <span class="keywordflow">if</span> (!wShowerHits.empty())</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                PANDORA_MONITORING_API(VisualizeCaloHits(this-&gt;GetPandora(), &amp;wShowerHits, <span class="stringliteral">&quot;w_&quot;</span> + suffix, RED));</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        ++pfoIdx;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    PANDORA_MONITORING_API(ViewEvent(this-&gt;GetPandora()));</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;}</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="keywordtype">void</span> VisualParticleMonitoringAlgorithm::MakeSelection(</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keyword">const</span> MCParticleList *pMCList, <span class="keyword">const</span> CaloHitList *pCaloHitList, <a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a35229b4b94f4ebbe01f8b2827e485990">LArMCParticleHelper::MCContributionMap</a> &amp;mcMap)<span class="keyword"> const</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="comment">// Default reconstructability criteria are very liberal to allow for unfolded hierarchy</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    LArMCParticleHelper::PrimaryParameters parameters;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    parameters.m_minPrimaryGoodHits = 2;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    parameters.m_minHitsForGoodView = 1;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    parameters.m_maxPhotonPropagation = <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::numeric_limits&lt;float&gt;::max</a>();</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    parameters.m_minHitSharingFraction = 0;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    parameters.m_foldBackHierarchy = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a6951650b359a3ec03e07968e7160cdce">m_isTestBeam</a>)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a32aa66741fdc5835f46ec0353ec7b1ca">LArMCParticleHelper::SelectReconstructableMCParticles</a>(pMCList, pCaloHitList, parameters, <a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#ae7576ee11a242f2a2f70f2b3f8bd7153">LArMCParticleHelper::IsBeamNeutrinoFinalState</a>, mcMap);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a32aa66741fdc5835f46ec0353ec7b1ca">LArMCParticleHelper::SelectReconstructableMCParticles</a>(pMCList, pCaloHitList, parameters, <a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a018627fa33cc304f41ab7b48ddd53cac">LArMCParticleHelper::IsCosmicRay</a>, mcMap);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a32aa66741fdc5835f46ec0353ec7b1ca">LArMCParticleHelper::SelectReconstructableMCParticles</a>(pMCList, pCaloHitList, parameters, <a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a22f1bcd2d1edcf1b100824b24d0eba6c">LArMCParticleHelper::IsBeamParticle</a>, mcMap);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a32aa66741fdc5835f46ec0353ec7b1ca">LArMCParticleHelper::SelectReconstructableMCParticles</a>(pMCList, pCaloHitList, parameters, <a class="code" href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a018627fa33cc304f41ab7b48ddd53cac">LArMCParticleHelper::IsCosmicRay</a>, mcMap);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="preprocessor">#endif // MONITORING</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a9f71eb0fd0037c7a0bddbd2e08aa0edd">  419</a></span>&#160;StatusCode <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a9f71eb0fd0037c7a0bddbd2e08aa0edd">VisualParticleMonitoringAlgorithm::ReadSettings</a>(<span class="keyword">const</span> TiXmlHandle xmlHandle)</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;{</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;CaloHitListName&quot;</span>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a27022bc3319404db912d7bc2c5af750c">m_caloHitListName</a>));</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a27022bc3319404db912d7bc2c5af750c">m_caloHitListName</a>.empty())</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a27022bc3319404db912d7bc2c5af750c">m_caloHitListName</a> = <span class="stringliteral">&quot;CaloHitList2D&quot;</span>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;PfoListName&quot;</span>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#ad2d2f9a3ce9846d843d8a115ba467b6f">m_pfoListName</a>));</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#ad2d2f9a3ce9846d843d8a115ba467b6f">m_pfoListName</a>.empty())</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#ad2d2f9a3ce9846d843d8a115ba467b6f">m_pfoListName</a> = <span class="stringliteral">&quot;RecreatedPfos&quot;</span>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;VisualizeMC&quot;</span>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a81caaf3c5d677ad98f2abedb38211f57">m_visualizeMC</a>));</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;VisualizePFO&quot;</span>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#ab68653d626d8191560fd057ec1372796">m_visualizePfo</a>));</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;GroupMCByPDG&quot;</span>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a76c42ec0a51a72b671452f8b16c2d207">m_groupMCByPdg</a>));</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ShowPFOByPID&quot;</span>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a363c4acc784f06a5f9b25701157df2e9">m_showPfoByPid</a>));</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ShowPFOMatchedMC&quot;</span>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a3e0b29c6ca83e3f8dd4373a243759928">m_showPfoMatchedMC</a>));</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;TransparencyThresholdE&quot;</span>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a12406c25c30d50da7c7a14b72c46535f">m_transparencyThresholdE</a>));</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;EnergyScaleThresholdE&quot;</span>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a2dda69e9198247a3d1a62d0d5e55f946">m_energyScaleThresholdE</a>));</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ScalingFactor&quot;</span>, <a class="code" href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#aafc84988919b2ed9766fc43e181b61cb">m_scalingFactor</a>));</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;}</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;} <span class="comment">// namespace lar_content</span></div>
<div class="ttc" id="LArPfoHelper_8h_html"><div class="ttname"><a href="../../d1/d22/LArPfoHelper_8h.html">LArPfoHelper.h</a></div><div class="ttdoc">Header file for the pfo helper class. </div></div>
<div class="ttc" id="classlar__content_1_1LArMCParticleHelper_html_a35229b4b94f4ebbe01f8b2827e485990"><div class="ttname"><a href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a35229b4b94f4ebbe01f8b2827e485990">lar_content::LArMCParticleHelper::MCContributionMap</a></div><div class="ttdeci">std::unordered_map&lt; const pandora::MCParticle *, pandora::CaloHitList &gt; MCContributionMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7f/LArMCParticleHelper_8h_source.html#l00035">LArMCParticleHelper.h:35</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a697017f6ca07cbb4f47653babf318012"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a697017f6ca07cbb4f47653babf318012">pdg</a></div><div class="ttdeci">var pdg</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00014">selectors.fcl:14</a></div></div>
<div class="ttc" id="namespacetest__distance_html_a83ddf9e704aeffa243618b25710f0656"><div class="ttname"><a href="../../d2/ddb/namespacetest__distance.html#a83ddf9e704aeffa243618b25710f0656">test_distance.BLUE</a></div><div class="ttdeci">string BLUE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d48/larcorealg_2test_2GeoAlgo_2test__distance_8py_source.html#l00014">larcorealg/test/GeoAlgo/test_distance.py:14</a></div></div>
<div class="ttc" id="LArCaloHit_8h_html"><div class="ttname"><a href="../../dd/d37/LArCaloHit_8h.html">LArCaloHit.h</a></div><div class="ttdoc">Header file for the lar calo hit class. </div></div>
<div class="ttc" id="classlar__content_1_1VisualParticleMonitoringAlgorithm_html_a2809124b400c74ab7af0321bb44f7db4"><div class="ttname"><a href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a2809124b400c74ab7af0321bb44f7db4">lar_content::VisualParticleMonitoringAlgorithm::~VisualParticleMonitoringAlgorithm</a></div><div class="ttdeci">virtual ~VisualParticleMonitoringAlgorithm()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d56/VisualParticleMonitoringAlgorithm_8cc_source.html#l00037">VisualParticleMonitoringAlgorithm.cc:37</a></div></div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="classlar__content_1_1VisualParticleMonitoringAlgorithm_html_ab68653d626d8191560fd057ec1372796"><div class="ttname"><a href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#ab68653d626d8191560fd057ec1372796">lar_content::VisualParticleMonitoringAlgorithm::m_visualizePfo</a></div><div class="ttdeci">bool m_visualizePfo</div><div class="ttdoc">Whether or not to visualize PFOs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d52/VisualParticleMonitoringAlgorithm_8h_source.html#l00096">VisualParticleMonitoringAlgorithm.h:96</a></div></div>
<div class="ttc" id="classlar__content_1_1VisualParticleMonitoringAlgorithm_html_a12406c25c30d50da7c7a14b72c46535f"><div class="ttname"><a href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a12406c25c30d50da7c7a14b72c46535f">lar_content::VisualParticleMonitoringAlgorithm::m_transparencyThresholdE</a></div><div class="ttdeci">float m_transparencyThresholdE</div><div class="ttdoc">Cell energy for which transparency is saturated (0%, fully opaque) </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d52/VisualParticleMonitoringAlgorithm_8h_source.html#l00101">VisualParticleMonitoringAlgorithm.h:101</a></div></div>
<div class="ttc" id="classlar__content_1_1VisualParticleMonitoringAlgorithm_html_a2dda69e9198247a3d1a62d0d5e55f946"><div class="ttname"><a href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a2dda69e9198247a3d1a62d0d5e55f946">lar_content::VisualParticleMonitoringAlgorithm::m_energyScaleThresholdE</a></div><div class="ttdeci">float m_energyScaleThresholdE</div><div class="ttdoc">Cell energy for which color is at top end of continous color palette. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d52/VisualParticleMonitoringAlgorithm_8h_source.html#l00102">VisualParticleMonitoringAlgorithm.h:102</a></div></div>
<div class="ttc" id="classlar__content_1_1LArPfoHelper_html_a27f209ca33e90399c1e0cc56230dd9f7"><div class="ttname"><a href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a27f209ca33e90399c1e0cc56230dd9f7">lar_content::LArPfoHelper::IsTrack</a></div><div class="ttdeci">static bool IsTrack(const pandora::ParticleFlowObject *const pPfo)</div><div class="ttdoc">Return track flag based on Pfo Particle ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d78/LArPfoHelper_8cc_source.html#l00344">LArPfoHelper.cc:344</a></div></div>
<div class="ttc" id="classlar__content_1_1LArMCParticleHelper_html_aa503b8f3406ee3d5c2ed14d6064aff22"><div class="ttname"><a href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#aa503b8f3406ee3d5c2ed14d6064aff22">lar_content::LArMCParticleHelper::GetMainMCParticle</a></div><div class="ttdeci">static const pandora::MCParticle * GetMainMCParticle(const pandora::ParticleFlowObject *const pPfo)</div><div class="ttdoc">Find the mc particle making the largest contribution to 2D clusters in a specified pfo...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da4/LArMCParticleHelper_8cc_source.html#l00462">LArMCParticleHelper.cc:462</a></div></div>
<div class="ttc" id="namespacelarg4_html_a7eeba60c219f2d1b4094606a12d28d18"><div class="ttname"><a href="../../d7/d6f/namespacelarg4.html#a7eeba60c219f2d1b4094606a12d28d18">larg4::false</a></div><div class="ttdeci">return false</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8a/OpFastScintillation_8hh_source.html#l00592">OpFastScintillation.hh:592</a></div></div>
<div class="ttc" id="classlar__content_1_1VisualParticleMonitoringAlgorithm_html_a3e0b29c6ca83e3f8dd4373a243759928"><div class="ttname"><a href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a3e0b29c6ca83e3f8dd4373a243759928">lar_content::VisualParticleMonitoringAlgorithm::m_showPfoMatchedMC</a></div><div class="ttdeci">bool m_showPfoMatchedMC</div><div class="ttdoc">Whether or not to display the best matched MC particle for a PFO. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d52/VisualParticleMonitoringAlgorithm_8h_source.html#l00099">VisualParticleMonitoringAlgorithm.h:99</a></div></div>
<div class="ttc" id="classlar__content_1_1VisualParticleMonitoringAlgorithm_html_a363c4acc784f06a5f9b25701157df2e9"><div class="ttname"><a href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a363c4acc784f06a5f9b25701157df2e9">lar_content::VisualParticleMonitoringAlgorithm::m_showPfoByPid</a></div><div class="ttdeci">bool m_showPfoByPid</div><div class="ttdoc">Whether or not to colour PFOs by particle id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d52/VisualParticleMonitoringAlgorithm_8h_source.html#l00098">VisualParticleMonitoringAlgorithm.h:98</a></div></div>
<div class="ttc" id="sparse__vector__test_8cc_html_a39f16bf854ba527dee7eba5bbbd93f3f"><div class="ttname"><a href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a></div><div class="ttdeci">T abs(T value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d59/sparse__vector__test_8cc_source.html#l00030">sparse_vector_test.cc:30</a></div></div>
<div class="ttc" id="classlar__content_1_1LArMCParticleHelper_html_a018627fa33cc304f41ab7b48ddd53cac"><div class="ttname"><a href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a018627fa33cc304f41ab7b48ddd53cac">lar_content::LArMCParticleHelper::IsCosmicRay</a></div><div class="ttdeci">static bool IsCosmicRay(const pandora::MCParticle *const pMCParticle)</div><div class="ttdoc">Return true if passed a primary cosmic ray MCParticle. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da4/LArMCParticleHelper_8cc_source.html#l00110">LArMCParticleHelper.cc:110</a></div></div>
<div class="ttc" id="classlar__content_1_1VisualParticleMonitoringAlgorithm_html_a979e66f012ac5ccac4272267465b16af"><div class="ttname"><a href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a979e66f012ac5ccac4272267465b16af">lar_content::VisualParticleMonitoringAlgorithm::Run</a></div><div class="ttdeci">pandora::StatusCode Run()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d56/VisualParticleMonitoringAlgorithm_8cc_source.html#l00043">VisualParticleMonitoringAlgorithm.cc:43</a></div></div>
<div class="ttc" id="classlar__content_1_1LArMCParticleHelper_html_a32aa66741fdc5835f46ec0353ec7b1ca"><div class="ttname"><a href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a32aa66741fdc5835f46ec0353ec7b1ca">lar_content::LArMCParticleHelper::SelectReconstructableMCParticles</a></div><div class="ttdeci">static void SelectReconstructableMCParticles(const pandora::MCParticleList *pMCParticleList, const pandora::CaloHitList *pCaloHitList, const PrimaryParameters &amp;parameters, std::function&lt; bool(const pandora::MCParticle *const)&gt; fCriteria, MCContributionMap &amp;selectedMCParticlesToHitsMap)</div><div class="ttdoc">Select target, reconstructable mc particles that match given criteria. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da4/LArMCParticleHelper_8cc_source.html#l00531">LArMCParticleHelper.cc:531</a></div></div>
<div class="ttc" id="VisualParticleMonitoringAlgorithm_8h_html"><div class="ttname"><a href="../../d4/d52/VisualParticleMonitoringAlgorithm_8h.html">VisualParticleMonitoringAlgorithm.h</a></div><div class="ttdoc">Header file for the particle visualisation algorithm. </div></div>
<div class="ttc" id="classlar__content_1_1LArMCParticleHelper_html_a22f1bcd2d1edcf1b100824b24d0eba6c"><div class="ttname"><a href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a22f1bcd2d1edcf1b100824b24d0eba6c">lar_content::LArMCParticleHelper::IsBeamParticle</a></div><div class="ttdeci">static bool IsBeamParticle(const pandora::MCParticle *const pMCParticle)</div><div class="ttdoc">Returns true if passed a primary beam MCParticle. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da4/LArMCParticleHelper_8cc_source.html#l00093">LArMCParticleHelper.cc:93</a></div></div>
<div class="ttc" id="namespacenlohmann_1_1detail_html_a59fca69799f6b9e366710cb9043aa77d"><div class="ttname"><a href="../../dc/df0/namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">nlohmann::detail::void</a></div><div class="ttdeci">j template void())</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db8/json_8hpp_source.html#l03108">json.hpp:3108</a></div></div>
<div class="ttc" id="LArMCParticle_8h_html"><div class="ttname"><a href="../../d7/dd7/LArMCParticle_8h.html">LArMCParticle.h</a></div><div class="ttdoc">Header file for the lar mc particle class. </div></div>
<div class="ttc" id="classlar__content_1_1VisualParticleMonitoringAlgorithm_html_ad2d2f9a3ce9846d843d8a115ba467b6f"><div class="ttname"><a href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#ad2d2f9a3ce9846d843d8a115ba467b6f">lar_content::VisualParticleMonitoringAlgorithm::m_pfoListName</a></div><div class="ttdeci">std::string m_pfoListName</div><div class="ttdoc">Name of input PFO list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d52/VisualParticleMonitoringAlgorithm_8h_source.html#l00094">VisualParticleMonitoringAlgorithm.h:94</a></div></div>
<div class="ttc" id="classlar__content_1_1LArPfoHelper_html_a2dfa49383bea14b57bfa153e4855071d"><div class="ttname"><a href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a2dfa49383bea14b57bfa153e4855071d">lar_content::LArPfoHelper::GetBreadthFirstHierarchyRepresentation</a></div><div class="ttdeci">static void GetBreadthFirstHierarchyRepresentation(const pandora::ParticleFlowObject *const pPfo, pandora::PfoList &amp;pfoList)</div><div class="ttdoc">Retrieve a linearised representation of the PFO hierarchy in breadth first order. This iterates over ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d78/LArPfoHelper_8cc_source.html#l00652">LArPfoHelper.cc:652</a></div></div>
<div class="ttc" id="classlar__content_1_1VisualParticleMonitoringAlgorithm_html_a6951650b359a3ec03e07968e7160cdce"><div class="ttname"><a href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a6951650b359a3ec03e07968e7160cdce">lar_content::VisualParticleMonitoringAlgorithm::m_isTestBeam</a></div><div class="ttdeci">bool m_isTestBeam</div><div class="ttdoc">Whether or not this is a test beam experiment. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d52/VisualParticleMonitoringAlgorithm_8h_source.html#l00100">VisualParticleMonitoringAlgorithm.h:100</a></div></div>
<div class="ttc" id="classlar__content_1_1VisualParticleMonitoringAlgorithm_html_aafc84988919b2ed9766fc43e181b61cb"><div class="ttname"><a href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#aafc84988919b2ed9766fc43e181b61cb">lar_content::VisualParticleMonitoringAlgorithm::m_scalingFactor</a></div><div class="ttdeci">float m_scalingFactor</div><div class="ttdoc">TEve works with [cm], Pandora usually works with [mm] (but LArContent went with cm too) ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d52/VisualParticleMonitoringAlgorithm_8h_source.html#l00103">VisualParticleMonitoringAlgorithm.h:103</a></div></div>
<div class="ttc" id="reco__sbnd_8fcl_html_a8bcdaf138f1238e67ebf243c201082df"><div class="ttname"><a href="../../df/df8/reco__sbnd_8fcl.html#a8bcdaf138f1238e67ebf243c201082df">pandora</a></div><div class="ttdeci">required by fuzzyCluster table::sbnd_g4_services gaushitTruthMatch pandora</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df8/reco__sbnd_8fcl_source.html#l00180">reco_sbnd.fcl:180</a></div></div>
<div class="ttc" id="namespaceicarus_1_1trigger_html_a7718dbf2e5e4aa346e7fbabaa451457f"><div class="ttname"><a href="../../dd/df6/namespaceicarus_1_1trigger.html#a7718dbf2e5e4aa346e7fbabaa451457f">icarus::trigger::to_string</a></div><div class="ttdeci">std::string to_string(WindowPattern const &amp;pattern)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d48/WindowPattern_8h_source.html#l00102">WindowPattern.h:102</a></div></div>
<div class="ttc" id="classlar__content_1_1LArPfoHelper_html_a4762ad1d43fd33881e0252d2eec07a86"><div class="ttname"><a href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a4762ad1d43fd33881e0252d2eec07a86">lar_content::LArPfoHelper::GetIsolatedCaloHits</a></div><div class="ttdeci">static void GetIsolatedCaloHits(const pandora::PfoList &amp;pfoList, const pandora::HitType &amp;hitType, pandora::CaloHitList &amp;caloHitList)</div><div class="ttdoc">Get a list of isolated calo hits of a particular hit type from a list of pfos. </div></div>
<div class="ttc" id="pmtsimulation__icarus_8fcl_html_a9fc569190f32b40862f18ac3c03a8e49"><div class="ttname"><a href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a></div><div class="ttdeci">temporary value</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d36/pmtsimulation__icarus_8fcl_source.html#l00158">pmtsimulation_icarus.fcl:158</a></div></div>
<div class="ttc" id="classlar__content_1_1VisualParticleMonitoringAlgorithm_html_a9f71eb0fd0037c7a0bddbd2e08aa0edd"><div class="ttname"><a href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a9f71eb0fd0037c7a0bddbd2e08aa0edd">lar_content::VisualParticleMonitoringAlgorithm::ReadSettings</a></div><div class="ttdeci">pandora::StatusCode ReadSettings(const pandora::TiXmlHandle xmlHandle)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d56/VisualParticleMonitoringAlgorithm_8cc_source.html#l00419">VisualParticleMonitoringAlgorithm.cc:419</a></div></div>
<div class="ttc" id="classlar__content_1_1VisualParticleMonitoringAlgorithm_html_a76c42ec0a51a72b671452f8b16c2d207"><div class="ttname"><a href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a76c42ec0a51a72b671452f8b16c2d207">lar_content::VisualParticleMonitoringAlgorithm::m_groupMCByPdg</a></div><div class="ttdeci">bool m_groupMCByPdg</div><div class="ttdoc">Whether or not to group MC particles by particle id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d52/VisualParticleMonitoringAlgorithm_8h_source.html#l00097">VisualParticleMonitoringAlgorithm.h:97</a></div></div>
<div class="ttc" id="classlar__content_1_1LArPfoHelper_html_a475708707d11c6a57c3e9213d2f777fe"><div class="ttname"><a href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a475708707d11c6a57c3e9213d2f777fe">lar_content::LArPfoHelper::GetCaloHits</a></div><div class="ttdeci">static void GetCaloHits(const pandora::PfoList &amp;pfoList, const pandora::HitType &amp;hitType, pandora::CaloHitList &amp;caloHitList)</div><div class="ttdoc">Get a list of calo hits of a particular hit type from a list of pfos. </div></div>
<div class="ttc" id="namespaceicarus_1_1ns_1_1util_html_a74da18d4f0023feee71c1352a99b3910"><div class="ttname"><a href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a74da18d4f0023feee71c1352a99b3910">icarus::ns::util::empty</a></div><div class="ttdeci">bool empty(FixedBins&lt; T, C &gt; const &amp;) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbd/FixedBins_8h_source.html#l00555">FixedBins.h:555</a></div></div>
<div class="ttc" id="classlar__content_1_1LArMCParticleHelper_html_ae7576ee11a242f2a2f70f2b3f8bd7153"><div class="ttname"><a href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#ae7576ee11a242f2a2f70f2b3f8bd7153">lar_content::LArMCParticleHelper::IsBeamNeutrinoFinalState</a></div><div class="ttdeci">static bool IsBeamNeutrinoFinalState(const pandora::MCParticle *const pMCParticle)</div><div class="ttdoc">Returns true if passed a primary neutrino final state MCParticle. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da4/LArMCParticleHelper_8cc_source.html#l00077">LArMCParticleHelper.cc:77</a></div></div>
<div class="ttc" id="classlar__content_1_1LArMCParticleHelper_html_a4828b5f8f1230549a3ea018665556248"><div class="ttname"><a href="../../da/df6/classlar__content_1_1LArMCParticleHelper.html#a4828b5f8f1230549a3ea018665556248">lar_content::LArMCParticleHelper::GetBreadthFirstHierarchyRepresentation</a></div><div class="ttdeci">static void GetBreadthFirstHierarchyRepresentation(const pandora::MCParticle *const pMCParticle, pandora::MCParticleList &amp;mcParticleList)</div><div class="ttdoc">Retrieve a linearised representation of the MC particle hierarchy in breadth first order...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da4/LArMCParticleHelper_8cc_source.html#l01170">LArMCParticleHelper.cc:1170</a></div></div>
<div class="ttc" id="classlar__content_1_1VisualParticleMonitoringAlgorithm_html_a27022bc3319404db912d7bc2c5af750c"><div class="ttname"><a href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a27022bc3319404db912d7bc2c5af750c">lar_content::VisualParticleMonitoringAlgorithm::m_caloHitListName</a></div><div class="ttdeci">std::string m_caloHitListName</div><div class="ttdoc">Name of input calo hit list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d52/VisualParticleMonitoringAlgorithm_8h_source.html#l00093">VisualParticleMonitoringAlgorithm.h:93</a></div></div>
<div class="ttc" id="classlar__content_1_1VisualParticleMonitoringAlgorithm_html_a81caaf3c5d677ad98f2abedb38211f57"><div class="ttname"><a href="../../d9/d4d/classlar__content_1_1VisualParticleMonitoringAlgorithm.html#a81caaf3c5d677ad98f2abedb38211f57">lar_content::VisualParticleMonitoringAlgorithm::m_visualizeMC</a></div><div class="ttdeci">bool m_visualizeMC</div><div class="ttdoc">Whether or not to visualize MC particles. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d52/VisualParticleMonitoringAlgorithm_8h_source.html#l00095">VisualParticleMonitoringAlgorithm.h:95</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
