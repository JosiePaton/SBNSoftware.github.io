<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>FileListSource.cxx Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b73b02d482d1c4a3db20c3d9ad52d395.html">srcs</a></li><li class="navelem"><a class="el" href="../../dir_607631e62e9a0bd3594c73aa619e3f2e.html">sbnana</a></li><li class="navelem"><a class="el" href="../../dir_a5c37560a791aae8879036327be57c99.html">sbnana</a></li><li class="navelem"><a class="el" href="../../dir_305f101192e33e865c4c8e0d3c5c3dd2.html">CAFAna</a></li><li class="navelem"><a class="el" href="../../dir_e65d9b379afc30ebd7d245d03b22895f.html">Core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">FileListSource.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../da/d56/FileListSource_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d78/FileListSource_8h.html">sbnana/CAFAna/Core/FileListSource.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d84/sbnana_2sbnana_2CAFAna_2Core_2Utilities_8h.html">sbnana/CAFAna/Core/Utilities.h</a>&quot;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;TFile.h&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d9/dad/cosmictagger_8fcl.html#a9816817880cad9de914dd1e3a94b6483">ana</a></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;{</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a037516c75db0e3794f9212571455d15c">FileListSource::fgGotTickets</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="../../d7/dc9/classana_1_1FileListSource.html#ab55a0c0cb366b9a8aad09485670782fd">   15</a></span>&#160;  <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#ab55a0c0cb366b9a8aad09485670782fd">FileListSource::FileListSource</a>(<span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; files,</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                                 <span class="keywordtype">int</span> stride, <span class="keywordtype">int</span> <a class="code" href="../../d2/d0d/CORSIKAGen_8fcl.html#a424b27db311314d6e22e0e78fd28a35a">offset</a>)</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    : fFileNames(files.<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#acc1957472e01a8d9ecd245e26338f0b9">begin</a>(), files.<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#aac918da84f16d53ad17bab4f817da1c4">end</a>()),</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;      fIt(fFileNames.<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#acc1957472e01a8d9ecd245e26338f0b9">begin</a>()),</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;      fStride(stride),</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;      fFile(0)</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;  {</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#ae35a4555028edcf5376c8c52404a1272">fFileNames</a>.empty()){</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;      <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a6db5c5308550f360d28197d5e372ae6e">fN</a> = 0;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    }</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">if</span>(offset &lt; 0){</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;      <span class="keywordflow">if</span>(getenv(<span class="stringliteral">&quot;CAFANA_OFFSET&quot;</span>))</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        offset = atoi(getenv(<span class="stringliteral">&quot;CAFANA_OFFSET&quot;</span>));</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;      offset = <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(offset, 0);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    }</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a7038eda03e506e8cfcad922ce85c8bd7">fStride</a> &lt; 0){</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;      <span class="keywordflow">if</span>(getenv(<span class="stringliteral">&quot;CAFANA_STRIDE&quot;</span>))</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a7038eda03e506e8cfcad922ce85c8bd7">fStride</a> = atoi(getenv(<span class="stringliteral">&quot;CAFANA_STRIDE&quot;</span>));</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;      <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a7038eda03e506e8cfcad922ce85c8bd7">fStride</a> = <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(<a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a7038eda03e506e8cfcad922ce85c8bd7">fStride</a>, 1);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    }</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a7038eda03e506e8cfcad922ce85c8bd7">fStride</a> &gt; <span class="keywordtype">int</span>(files.size())){</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a8d1a8a85a0b2a30cac1090ea528dd015">std::cerr</a> &lt;&lt; <span class="stringliteral">&quot;Warning: stride &quot;</span> &lt;&lt; <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a7038eda03e506e8cfcad922ce85c8bd7">fStride</a></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; is greater than the number of files: &quot;</span> &lt;&lt; files.size()</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;. This is strange and inefficient.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;      <span class="comment">// Needs to be nonzero otherwise some callers go off into SAM-query</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;      <span class="comment">// land. Having a slightly misleading progress bar is a small price to</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      <span class="comment">// pay in this weird case.</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a6db5c5308550f360d28197d5e372ae6e">fN</a> = 1;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">// How many files will we process from the list with this offset and</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">// stride?</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a6db5c5308550f360d28197d5e372ae6e">fN</a> = (int(files.size())-offset-1)/<a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a7038eda03e506e8cfcad922ce85c8bd7">fStride</a>+1;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">const</span> std::string&amp; <a class="code" href="../../d0/d8f/runFilesFromSAM_8sh.html#aeee9f371db14fda0de35d16324a167df">loc</a>: files){</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="../../d0/d8f/runFilesFromSAM_8sh.html#aeee9f371db14fda0de35d16324a167df">loc</a>.rfind(<span class="stringliteral">&quot;/pnfs/&quot;</span>, 0) == 0){ <span class="comment">// ie begins with</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a037516c75db0e3794f9212571455d15c">fgGotTickets</a>){</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;          <span class="comment">// No kerberos ticket means no point trying to voms-proxy-init. It</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;          <span class="comment">// likely also means we&#39;re in a grid job, where that would be</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;          <span class="comment">// counterproductive anyway.</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;          <span class="keywordflow">if</span>(system(<span class="stringliteral">&quot;klist -5 -s || klist -s&quot;</span>) != 0) <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a037516c75db0e3794f9212571455d15c">fgGotTickets</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a037516c75db0e3794f9212571455d15c">fgGotTickets</a>){</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;          <span class="comment">// This comes from NovaGridUtils, v02.10 onwards.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;          <span class="comment">//          system(&quot;setup_fnal_security -b&quot;);</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;          <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a037516c75db0e3794f9212571455d15c">fgGotTickets</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d2/d0d/CORSIKAGen_8fcl.html#a424b27db311314d6e22e0e78fd28a35a">offset</a>; ++i){</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      ++<a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#ae6a3c47fe1991d1f6e85e9bcf5da11f3">fIt</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#ae6a3c47fe1991d1f6e85e9bcf5da11f3">fIt</a> == <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#ae35a4555028edcf5376c8c52404a1272">fFileNames</a>.end()) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="../../d7/dc9/classana_1_1FileListSource.html#ae7a99df82c09bc4935123a31c2792ee2">   82</a></span>&#160;  <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#ae7a99df82c09bc4935123a31c2792ee2">FileListSource::~FileListSource</a>()</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a9d9ecc3de90eeed00c7c091957c7aa7a">fFile</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="../../d7/dc9/classana_1_1FileListSource.html#ab0b6acef37cee9e0cf973f7e40e205ef">   88</a></span>&#160;  TFile* <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#ab0b6acef37cee9e0cf973f7e40e205ef">FileListSource::GetNextFile</a>()</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// Tidy up the last file we gave, which the caller no longer needs</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a9d9ecc3de90eeed00c7c091957c7aa7a">fFile</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a9d9ecc3de90eeed00c7c091957c7aa7a">fFile</a> = 0;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#ae6a3c47fe1991d1f6e85e9bcf5da11f3">fIt</a> == <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#ae35a4555028edcf5376c8c52404a1272">fFileNames</a>.end()) <span class="keywordflow">return</span> 0; <span class="comment">// Ran out of files</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// If the file is on pnfs rewrite it to an xrootd address</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    std::string <a class="code" href="../../d0/d8f/runFilesFromSAM_8sh.html#aeee9f371db14fda0de35d16324a167df">loc</a> = *<a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#ae6a3c47fe1991d1f6e85e9bcf5da11f3">fIt</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">// loc = pnfs2xrootd(loc); // no-op for non /pnfs locations</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a9d9ecc3de90eeed00c7c091957c7aa7a">fFile</a> = TFile::Open(loc.c_str()); <span class="comment">// This pattern allows xrootd</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    assert(<a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a9d9ecc3de90eeed00c7c091957c7aa7a">fFile</a>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a7038eda03e506e8cfcad922ce85c8bd7">fStride</a>; ++i){</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#ae6a3c47fe1991d1f6e85e9bcf5da11f3">fIt</a> == <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#ae35a4555028edcf5376c8c52404a1272">fFileNames</a>.end()) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      ++<a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#ae6a3c47fe1991d1f6e85e9bcf5da11f3">fIt</a>; <span class="comment">// Move on to the next file, for the subsequent call</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/dc9/classana_1_1FileListSource.html#a9d9ecc3de90eeed00c7c091957c7aa7a">fFile</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div>
<div class="ttc" id="cosmictagger_8fcl_html_a9816817880cad9de914dd1e3a94b6483"><div class="ttname"><a href="../../d9/dad/cosmictagger_8fcl.html#a9816817880cad9de914dd1e3a94b6483">ana</a></div><div class="ttdeci">process_name flashTrackMatchBezier ana</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dad/cosmictagger_8fcl_source.html#l00062">cosmictagger.fcl:62</a></div></div>
<div class="ttc" id="CORSIKAGen_8fcl_html_a424b27db311314d6e22e0e78fd28a35a"><div class="ttname"><a href="../../d2/d0d/CORSIKAGen_8fcl.html#a424b27db311314d6e22e0e78fd28a35a">offset</a></div><div class="ttdeci">BEGIN_PROLOG TPC Trig offset(g4 rise time) ProjectToHeight</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0d/CORSIKAGen_8fcl_source.html#l00007">CORSIKAGen.fcl:7</a></div></div>
<div class="ttc" id="classana_1_1FileListSource_html_ae6a3c47fe1991d1f6e85e9bcf5da11f3"><div class="ttname"><a href="../../d7/dc9/classana_1_1FileListSource.html#ae6a3c47fe1991d1f6e85e9bcf5da11f3">ana::FileListSource::fIt</a></div><div class="ttdeci">std::vector&lt; std::string &gt;::iterator fIt</div><div class="ttdoc">Iterator into fFileNames. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d78/FileListSource_8h_source.html#l00023">FileListSource.h:23</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a8d1a8a85a0b2a30cac1090ea528dd015"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a8d1a8a85a0b2a30cac1090ea528dd015">cerr</a></div><div class="ttdeci">BEGIN_PROLOG could also be cerr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="FileListSource_8h_html"><div class="ttname"><a href="../../d7/d78/FileListSource_8h.html">FileListSource.h</a></div></div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="classana_1_1FileListSource_html_a6db5c5308550f360d28197d5e372ae6e"><div class="ttname"><a href="../../d7/dc9/classana_1_1FileListSource.html#a6db5c5308550f360d28197d5e372ae6e">ana::FileListSource::fN</a></div><div class="ttdeci">int fN</div><div class="ttdoc">Number of files that will actually be returned. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d78/FileListSource_8h_source.html#l00025">FileListSource.h:25</a></div></div>
<div class="ttc" id="classana_1_1FileListSource_html_ae35a4555028edcf5376c8c52404a1272"><div class="ttname"><a href="../../d7/dc9/classana_1_1FileListSource.html#ae35a4555028edcf5376c8c52404a1272">ana::FileListSource::fFileNames</a></div><div class="ttdeci">std::vector&lt; std::string &gt; fFileNames</div><div class="ttdoc">The list of files. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d78/FileListSource_8h_source.html#l00022">FileListSource.h:22</a></div></div>
<div class="ttc" id="namespaceicarus_1_1ns_1_1util_html_aac918da84f16d53ad17bab4f817da1c4"><div class="ttname"><a href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#aac918da84f16d53ad17bab4f817da1c4">icarus::ns::util::end</a></div><div class="ttdeci">auto end(FixedBins&lt; T, C &gt; const &amp;) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbd/FixedBins_8h_source.html#l00585">FixedBins.h:585</a></div></div>
<div class="ttc" id="classana_1_1FileListSource_html_ae7a99df82c09bc4935123a31c2792ee2"><div class="ttname"><a href="../../d7/dc9/classana_1_1FileListSource.html#ae7a99df82c09bc4935123a31c2792ee2">ana::FileListSource::~FileListSource</a></div><div class="ttdeci">virtual ~FileListSource()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d56/FileListSource_8cxx_source.html#l00082">FileListSource.cxx:82</a></div></div>
<div class="ttc" id="namespaceicarus_1_1ns_1_1util_html_acc1957472e01a8d9ecd245e26338f0b9"><div class="ttname"><a href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#acc1957472e01a8d9ecd245e26338f0b9">icarus::ns::util::begin</a></div><div class="ttdeci">auto begin(FixedBins&lt; T, C &gt; const &amp;) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbd/FixedBins_8h_source.html#l00573">FixedBins.h:573</a></div></div>
<div class="ttc" id="classana_1_1FileListSource_html_ab55a0c0cb366b9a8aad09485670782fd"><div class="ttname"><a href="../../d7/dc9/classana_1_1FileListSource.html#ab55a0c0cb366b9a8aad09485670782fd">ana::FileListSource::FileListSource</a></div><div class="ttdeci">FileListSource(const std::vector&lt; std::string &gt; &amp;files, int stride=-1, int offset=-1)</div><div class="ttdoc">default offset and stride mean obey cmd-line options </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d56/FileListSource_8cxx_source.html#l00015">FileListSource.cxx:15</a></div></div>
<div class="ttc" id="sbnana_2sbnana_2CAFAna_2Core_2Utilities_8h_html"><div class="ttname"><a href="../../df/d84/sbnana_2sbnana_2CAFAna_2Core_2Utilities_8h.html">Utilities.h</a></div></div>
<div class="ttc" id="classana_1_1FileListSource_html_a037516c75db0e3794f9212571455d15c"><div class="ttname"><a href="../../d7/dc9/classana_1_1FileListSource.html#a037516c75db0e3794f9212571455d15c">ana::FileListSource::fgGotTickets</a></div><div class="ttdeci">static bool fgGotTickets</div><div class="ttdoc">Have we renewed our tickets? </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d78/FileListSource_8h_source.html#l00027">FileListSource.h:27</a></div></div>
<div class="ttc" id="classana_1_1FileListSource_html_ab0b6acef37cee9e0cf973f7e40e205ef"><div class="ttname"><a href="../../d7/dc9/classana_1_1FileListSource.html#ab0b6acef37cee9e0cf973f7e40e205ef">ana::FileListSource::GetNextFile</a></div><div class="ttdeci">virtual TFile * GetNextFile() override</div><div class="ttdoc">Returns the next file in sequence, ready for reading. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d56/FileListSource_8cxx_source.html#l00088">FileListSource.cxx:88</a></div></div>
<div class="ttc" id="classana_1_1FileListSource_html_a7038eda03e506e8cfcad922ce85c8bd7"><div class="ttname"><a href="../../d7/dc9/classana_1_1FileListSource.html#a7038eda03e506e8cfcad922ce85c8bd7">ana::FileListSource::fStride</a></div><div class="ttdeci">int fStride</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d78/FileListSource_8h_source.html#l00024">FileListSource.h:24</a></div></div>
<div class="ttc" id="runFilesFromSAM_8sh_html_aeee9f371db14fda0de35d16324a167df"><div class="ttname"><a href="../../d0/d8f/runFilesFromSAM_8sh.html#aeee9f371db14fda0de35d16324a167df">loc</a></div><div class="ttdeci">loc</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8f/runFilesFromSAM_8sh_source.html#l00257">runFilesFromSAM.sh:257</a></div></div>
<div class="ttc" id="classana_1_1FileListSource_html_a9d9ecc3de90eeed00c7c091957c7aa7a"><div class="ttname"><a href="../../d7/dc9/classana_1_1FileListSource.html#a9d9ecc3de90eeed00c7c091957c7aa7a">ana::FileListSource::fFile</a></div><div class="ttdeci">TFile * fFile</div><div class="ttdoc">The most-recently-returned file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d78/FileListSource_8h_source.html#l00026">FileListSource.h:26</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
