<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>lar_cluster3d::ClusterPathFinder Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../de/d87/namespacelar__cluster3d.html">lar_cluster3d</a></li><li class="navelem"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html">ClusterPathFinder</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../dd/d30/classlar__cluster3d_1_1ClusterPathFinder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">lar_cluster3d::ClusterPathFinder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for lar_cluster3d::ClusterPathFinder:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.png" usemap="#lar_cluster3d::ClusterPathFinder_map" alt=""/>
  <map id="lar_cluster3d::ClusterPathFinder_map" name="lar_cluster3d::ClusterPathFinder_map">
<area href="../../d3/d11/classlar__cluster3d_1_1IClusterModAlg.html" title="IClusterModAlg interface class definiton. " alt="lar_cluster3d::IClusterModAlg" shape="rect" coords="0,0,194,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9a39e86eba66619102a6ceb29050042a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a9a39e86eba66619102a6ceb29050042a">ClusterPathFinder</a> (const fhicl::ParameterSet &amp;)</td></tr>
<tr class="memdesc:a9a39e86eba66619102a6ceb29050042a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a9a39e86eba66619102a6ceb29050042a">More...</a><br/></td></tr>
<tr class="separator:a9a39e86eba66619102a6ceb29050042a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f169816efe2c5c1991b78973df8485b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a4f169816efe2c5c1991b78973df8485b">~ClusterPathFinder</a> ()</td></tr>
<tr class="memdesc:a4f169816efe2c5c1991b78973df8485b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a4f169816efe2c5c1991b78973df8485b">More...</a><br/></td></tr>
<tr class="separator:a4f169816efe2c5c1991b78973df8485b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab28e8cfedc6741783e380247d745e113"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ab28e8cfedc6741783e380247d745e113">configure</a> (fhicl::ParameterSet const &amp;pset) override</td></tr>
<tr class="memdesc:ab28e8cfedc6741783e380247d745e113"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface for configuring the particular algorithm tool.  <a href="#ab28e8cfedc6741783e380247d745e113">More...</a><br/></td></tr>
<tr class="separator:ab28e8cfedc6741783e380247d745e113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a404b48fe668e9dade0ac4a6d1c57afd2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a404b48fe668e9dade0ac4a6d1c57afd2">initializeHistograms</a> (art::TFileDirectory &amp;) override</td></tr>
<tr class="memdesc:a404b48fe668e9dade0ac4a6d1c57afd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface for initializing histograms if they are desired Note that the idea is to put hisgtograms in a subfolder.  <a href="#a404b48fe668e9dade0ac4a6d1c57afd2">More...</a><br/></td></tr>
<tr class="separator:a404b48fe668e9dade0ac4a6d1c57afd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa92235e0ec2f413520e8357c0fd74c56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#aa92235e0ec2f413520e8357c0fd74c56">ModifyClusters</a> (<a class="el" href="../../d1/d57/namespacereco.html#a648503bdb2a1c43233004aeeb1ef737d">reco::ClusterParametersList</a> &amp;) const override</td></tr>
<tr class="memdesc:aa92235e0ec2f413520e8357c0fd74c56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan an input collection of clusters and modify those according to the specific implementing algorithm.  <a href="#aa92235e0ec2f413520e8357c0fd74c56">More...</a><br/></td></tr>
<tr class="separator:aa92235e0ec2f413520e8357c0fd74c56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26f10b4fd30285de4a9db5b29c9cbf07"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a26f10b4fd30285de4a9db5b29c9cbf07">getTimeToExecute</a> () const override</td></tr>
<tr class="memdesc:a26f10b4fd30285de4a9db5b29c9cbf07"><td class="mdescLeft">&#160;</td><td class="mdescRight">If monitoring, recover the time to execute a particular function.  <a href="#a26f10b4fd30285de4a9db5b29c9cbf07">More...</a><br/></td></tr>
<tr class="separator:a26f10b4fd30285de4a9db5b29c9cbf07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classlar__cluster3d_1_1IClusterModAlg"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classlar__cluster3d_1_1IClusterModAlg')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d3/d11/classlar__cluster3d_1_1IClusterModAlg.html">lar_cluster3d::IClusterModAlg</a></td></tr>
<tr class="memitem:aae16c54266e76636dfe73ed0e221aab3 inherit pub_methods_classlar__cluster3d_1_1IClusterModAlg"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d11/classlar__cluster3d_1_1IClusterModAlg.html#aae16c54266e76636dfe73ed0e221aab3">~IClusterModAlg</a> () noexcept=<a class="el" href="../../de/d36/crtt0matchingalg__sbnd_8fcl.html#a6c2384a9e3f7a8c21ae6f762a8ee0ece">default</a></td></tr>
<tr class="memdesc:aae16c54266e76636dfe73ed0e221aab3 inherit pub_methods_classlar__cluster3d_1_1IClusterModAlg"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual Destructor.  <a href="#aae16c54266e76636dfe73ed0e221aab3">More...</a><br/></td></tr>
<tr class="separator:aae16c54266e76636dfe73ed0e221aab3 inherit pub_methods_classlar__cluster3d_1_1IClusterModAlg"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a80691e1611b3085b806b6be564085d2d"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a80691e1611b3085b806b6be564085d2d">Point</a> = std::tuple&lt; float, float, const <a class="el" href="../../df/d06/classreco_1_1ClusterHit3D.html">reco::ClusterHit3D</a> * &gt;</td></tr>
<tr class="separator:a80691e1611b3085b806b6be564085d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3b19b10eb85699de28ea7a49952df4d"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ad3b19b10eb85699de28ea7a49952df4d">PointList</a> = <a class="el" href="../../d5/df9/find__global__symbol_8sh.html#ae54b7e1a1825bc958e2952b902e1b907">std::list</a>&lt; <a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a80691e1611b3085b806b6be564085d2d">Point</a> &gt;</td></tr>
<tr class="separator:ad3b19b10eb85699de28ea7a49952df4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac876d99cdd4e687619fa00fa7f84d696"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ac876d99cdd4e687619fa00fa7f84d696">MinMaxPoints</a> = std::pair&lt; <a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a80691e1611b3085b806b6be564085d2d">Point</a>, <a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a80691e1611b3085b806b6be564085d2d">Point</a> &gt;</td></tr>
<tr class="separator:ac876d99cdd4e687619fa00fa7f84d696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09344955efc3b9918dc246818686afee"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a09344955efc3b9918dc246818686afee">MinMaxPointPair</a> = std::pair&lt; <a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ac876d99cdd4e687619fa00fa7f84d696">MinMaxPoints</a>, <a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ac876d99cdd4e687619fa00fa7f84d696">MinMaxPoints</a> &gt;</td></tr>
<tr class="separator:a09344955efc3b9918dc246818686afee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a3658867a233637432946437fe1ef2fab"><td class="memItemLeft" align="right" valign="top">reco::ClusterParametersList::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a3658867a233637432946437fe1ef2fab">breakIntoTinyBits</a> (<a class="el" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a> &amp;<a class="el" href="../../d2/d36/cheaterreco_8fcl.html#afac1ac7b61385644c993fbb774a1922f">cluster</a>, reco::ClusterParametersList::iterator positionItr, <a class="el" href="../../d1/d57/namespacereco.html#a648503bdb2a1c43233004aeeb1ef737d">reco::ClusterParametersList</a> &amp;outputClusterList, int level=0) const </td></tr>
<tr class="memdesc:a3658867a233637432946437fe1ef2fab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use PCA to try to find path in cluster.  <a href="#a3658867a233637432946437fe1ef2fab">More...</a><br/></td></tr>
<tr class="separator:a3658867a233637432946437fe1ef2fab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d83f2e0bd2874ef61f4a6e0d174d241"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a8d83f2e0bd2874ef61f4a6e0d174d241">closestApproach</a> (const Eigen::Vector3f &amp;, const Eigen::Vector3f &amp;, const Eigen::Vector3f &amp;, const Eigen::Vector3f &amp;, Eigen::Vector3f &amp;, Eigen::Vector3f &amp;) const </td></tr>
<tr class="separator:a8d83f2e0bd2874ef61f4a6e0d174d241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add6edd80bc36fb9911184b7381fe8108"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#add6edd80bc36fb9911184b7381fe8108">buildConvexHull</a> (<a class="el" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a> &amp;clusterParameters, int level=0) const </td></tr>
<tr class="separator:add6edd80bc36fb9911184b7381fe8108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a131476bcaaa2d7382ecac328239254a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a131476bcaaa2d7382ecac328239254a9">buildVoronoiDiagram</a> (<a class="el" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a> &amp;clusterParameters, int level=0) const </td></tr>
<tr class="separator:a131476bcaaa2d7382ecac328239254a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a29a7e5fb0674f88f25fc2914f7f37d72"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a29a7e5fb0674f88f25fc2914f7f37d72">m_enableMonitoring</a></td></tr>
<tr class="memdesc:a29a7e5fb0674f88f25fc2914f7f37d72"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d4/ddc/structData.html">Data</a> members to follow.  <a href="#a29a7e5fb0674f88f25fc2914f7f37d72">More...</a><br/></td></tr>
<tr class="separator:a29a7e5fb0674f88f25fc2914f7f37d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3b0d6067d6a6f44ae6f7b90a3b58785"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ae3b0d6067d6a6f44ae6f7b90a3b58785">m_minTinyClusterSize</a></td></tr>
<tr class="memdesc:ae3b0d6067d6a6f44ae6f7b90a3b58785"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum size for a "tiny" cluster.  <a href="#ae3b0d6067d6a6f44ae6f7b90a3b58785">More...</a><br/></td></tr>
<tr class="separator:ae3b0d6067d6a6f44ae6f7b90a3b58785"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eb9b65e8a2e6307f1cdf2e292dfa81b"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a6eb9b65e8a2e6307f1cdf2e292dfa81b">m_timeToProcess</a></td></tr>
<tr class="separator:a6eb9b65e8a2e6307f1cdf2e292dfa81b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dcb76f8185ad0a04359d37654bcb44a"><td class="memItemLeft" align="right" valign="top">std::unique_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../de/dec/classlar__cluster3d_1_1IClusterAlg.html">lar_cluster3d::IClusterAlg</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a5dcb76f8185ad0a04359d37654bcb44a">m_clusterAlg</a></td></tr>
<tr class="memdesc:a5dcb76f8185ad0a04359d37654bcb44a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Algorithm to do 3D space point clustering.  <a href="#a5dcb76f8185ad0a04359d37654bcb44a">More...</a><br/></td></tr>
<tr class="separator:a5dcb76f8185ad0a04359d37654bcb44a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed3818afef2dbd9f82770d4a0e6600d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d48/classlar__cluster3d_1_1PrincipalComponentsAlg.html">PrincipalComponentsAlg</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#aed3818afef2dbd9f82770d4a0e6600d2">m_pcaAlg</a></td></tr>
<tr class="separator:aed3818afef2dbd9f82770d4a0e6600d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00036">36</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a09344955efc3b9918dc246818686afee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a09344955efc3b9918dc246818686afee">lar_cluster3d::ClusterPathFinder::MinMaxPointPair</a> =  std::pair&lt;<a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ac876d99cdd4e687619fa00fa7f84d696">MinMaxPoints</a>,<a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ac876d99cdd4e687619fa00fa7f84d696">MinMaxPoints</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00097">97</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ac876d99cdd4e687619fa00fa7f84d696"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ac876d99cdd4e687619fa00fa7f84d696">lar_cluster3d::ClusterPathFinder::MinMaxPoints</a> =  std::pair&lt;<a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a80691e1611b3085b806b6be564085d2d">Point</a>,<a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a80691e1611b3085b806b6be564085d2d">Point</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00096">96</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a80691e1611b3085b806b6be564085d2d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a80691e1611b3085b806b6be564085d2d">lar_cluster3d::ClusterPathFinder::Point</a> =  std::tuple&lt;float,float,const <a class="el" href="../../df/d06/classreco_1_1ClusterHit3D.html">reco::ClusterHit3D</a>*&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00094">94</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ad3b19b10eb85699de28ea7a49952df4d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ad3b19b10eb85699de28ea7a49952df4d">lar_cluster3d::ClusterPathFinder::PointList</a> =  <a class="el" href="../../d5/df9/find__global__symbol_8sh.html#ae54b7e1a1825bc958e2952b902e1b907">std::list</a>&lt;<a class="el" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a80691e1611b3085b806b6be564085d2d">Point</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00095">95</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9a39e86eba66619102a6ceb29050042a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lar_cluster3d::ClusterPathFinder::ClusterPathFinder </td>
          <td>(</td>
          <td class="paramtype">const fhicl::ParameterSet &amp;&#160;</td>
          <td class="paramname"><em>pset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pset</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00112">112</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                                                                  :</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#aed3818afef2dbd9f82770d4a0e6600d2">m_pcaAlg</a>(pset.get&lt;fhicl::ParameterSet&gt;(<span class="stringliteral">&quot;PrincipalComponentsAlg&quot;</span>))</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;{</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    this-&gt;<a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ab28e8cfedc6741783e380247d745e113">configure</a>(pset);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_ab28e8cfedc6741783e380247d745e113"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ab28e8cfedc6741783e380247d745e113">lar_cluster3d::ClusterPathFinder::configure</a></div><div class="ttdeci">void configure(fhicl::ParameterSet const &amp;pset) override</div><div class="ttdoc">Interface for configuring the particular algorithm tool. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00126">ClusterPathFinder_tool.cc:126</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_aed3818afef2dbd9f82770d4a0e6600d2"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#aed3818afef2dbd9f82770d4a0e6600d2">lar_cluster3d::ClusterPathFinder::m_pcaAlg</a></div><div class="ttdeci">PrincipalComponentsAlg m_pcaAlg</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00109">ClusterPathFinder_tool.cc:109</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4f169816efe2c5c1991b78973df8485b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lar_cluster3d::ClusterPathFinder::~ClusterPathFinder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00120">120</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;{</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3658867a233637432946437fe1ef2fab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">reco::ClusterParametersList::iterator lar_cluster3d::ClusterPathFinder::breakIntoTinyBits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">reco::ClusterParametersList::iterator&#160;</td>
          <td class="paramname"><em>positionItr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d57/namespacereco.html#a648503bdb2a1c43233004aeeb1ef737d">reco::ClusterParametersList</a> &amp;&#160;</td>
          <td class="paramname"><em>outputClusterList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Use PCA to try to find path in cluster. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clusterParameters</td><td>The given cluster parameters object to try to split </td></tr>
    <tr><td class="paramname">clusterParametersList</td><td>The list of clusters </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00224">224</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;{</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment">// This needs to be a recursive routine...</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="comment">// Idea is to take the input cluster and order 3D hits by arclength along PCA primary axis</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">// If the cluster is above the minimum number of hits then we divide into two and call ourself</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">// with the two halves. This means we form a new cluster with hits and PCA and then call ourself</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">// If the cluster is below the minimum then we can&#39;t break any more, simply add this cluster to</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">// the new output list.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="comment">// set an indention string</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    std::string pluses(level/2, <span class="charliteral">&#39;+&#39;</span>);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    std::string indent(level/2, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    indent += pluses;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    reco::ClusterParametersList::iterator inputPositionItr = positionItr;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">// To make best use of this we&#39;ll also want the PCA for this cluster... so...</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">// Recover the prime ingredients</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html">reco::PrincipalComponents</a>&amp; fullPCA     = clusterToBreak.getFullPCA();</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;&gt;&gt;&gt; breakIntoTinyBits with &quot;</span> &lt;&lt; clusterToBreak.getHitPairListPtr().size() &lt;&lt; <span class="stringliteral">&quot; input hits &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">// It turns out that computing the convex hull surrounding the points in the 2D projection onto the</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">// plane of largest spread in the PCA is a good way to break up the cluster... and we do it here since</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">// we (currently) want this to be part of the standard output</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#add6edd80bc36fb9911184b7381fe8108">buildConvexHull</a>(clusterToBreak, level+2);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordtype">bool</span> storeCurrentCluster(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordtype">int</span>  minimumClusterSize(<a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ae3b0d6067d6a6f44ae6f7b90a3b58785">m_minTinyClusterSize</a>);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">// Create a rough cut intended to tell us when we&#39;ve reached the land of diminishing returns</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">if</span> (clusterToBreak.getBestEdgeList().size()   &gt; 6 &amp;&amp;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        clusterToBreak.getHitPairListPtr().size() &gt; size_t(2 * minimumClusterSize))</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="comment">// Recover the list of 3D hits associated to this cluster</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <a class="code" href="../../d1/d57/namespacereco.html#ad2e55059e696dd652ce2edaccbb18b66">reco::HitPairListPtr</a>&amp; clusHitPairVector = clusterToBreak.getHitPairListPtr();</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="comment">// Calculate the doca to the PCA primary axis for each 3D hit</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="comment">// Importantly, this also gives us the arclength along that axis to the hit</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#aed3818afef2dbd9f82770d4a0e6600d2">m_pcaAlg</a>.<a class="code" href="../../df/d48/classlar__cluster3d_1_1PrincipalComponentsAlg.html#aa4058c83232b00e8dd0ffdbb69d1e781">PCAAnalysis_calc3DDocas</a>(clusHitPairVector, fullPCA);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="comment">// Sort the hits along the PCA</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        clusHitPairVector.sort([](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>, <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>){<span class="keywordflow">return</span> <a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>-&gt;getArclenToPoca() &lt; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>-&gt;getArclenToPoca();});</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="comment">// Now we use the convex hull vertex points to form split points for breaking up the incoming cluster</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <a class="code" href="../../d1/d57/namespacereco.html#a21bd8ec99c1440af51d59b7f36ea3d48">reco::EdgeList</a>&amp;                        bestEdgeList = clusterToBreak.getBestEdgeList();</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        std::vector&lt;const reco::ClusterHit3D*&gt; vertexHitVec;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;+&gt; Breaking cluster, convex hull has &quot;</span> &lt;&lt; bestEdgeList.size() &lt;&lt; <span class="stringliteral">&quot; edges to work with&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; edge : bestEdgeList)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            vertexHitVec.push_back(std::get&lt;0&gt;(edge));</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            vertexHitVec.push_back(std::get&lt;1&gt;(edge));</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="comment">// Sort this vector, we aren&#39;t worried about duplicates right now...</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        std::sort(vertexHitVec.begin(),vertexHitVec.end(),[](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>, <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>){<span class="keywordflow">return</span> <a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>-&gt;getArclenToPoca() &lt; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>-&gt;getArclenToPoca();});</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="comment">// Now we create a list of pairs of iterators to the start and end of each subcluster</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keyword">using</span> Hit3DItrPair   = std::pair&lt;reco::HitPairListPtr::iterator,reco::HitPairListPtr::iterator&gt;;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keyword">using</span> VertexPairList = std::list&lt;Hit3DItrPair&gt;;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        VertexPairList vertexPairList;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        reco::HitPairListPtr::iterator firstHitItr = clusHitPairVector.begin();</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; hit3D : vertexHitVec)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            reco::HitPairListPtr::iterator vertexItr = std::find(firstHitItr,clusHitPairVector.end(),hit3D);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <span class="keywordflow">if</span> (vertexItr == clusHitPairVector.end())</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Hit not found in input list, cannot happen? &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;</span>  &lt;&lt; std::endl;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;+&gt; -- Distance from first to current vertex point: &quot;</span> &lt;&lt; <a class="code" href="../../da/d4d/namespaceicarus.html#a6ad3253842c1a0803df7cd600b60c35f">std::distance</a>(firstHitItr,vertexItr) &lt;&lt; <span class="stringliteral">&quot; first: &quot;</span> &lt;&lt; *firstHitItr &lt;&lt; <span class="stringliteral">&quot;, vertex: &quot;</span> &lt;&lt; *vertexItr;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="comment">// Require a minimum number of points...</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/d4d/namespaceicarus.html#a6ad3253842c1a0803df7cd600b60c35f">std::distance</a>(firstHitItr,vertexItr) &gt; minimumClusterSize)</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                vertexPairList.emplace_back(Hit3DItrPair(firstHitItr,vertexItr));</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                firstHitItr = vertexItr;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot; ++ made pair &quot;</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="comment">// Not done if there is distance from first to end of list</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../da/d4d/namespaceicarus.html#a6ad3253842c1a0803df7cd600b60c35f">std::distance</a>(firstHitItr,clusHitPairVector.end()) &gt; 0)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;+&gt; loop over vertices done, remant distance: &quot;</span> &lt;&lt; <a class="code" href="../../da/d4d/namespaceicarus.html#a6ad3253842c1a0803df7cd600b60c35f">std::distance</a>(firstHitItr,clusHitPairVector.end()) &lt;&lt; std::endl;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="comment">// In the event we don&#39;t have the minimum number of hits we simply extend the last pair</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="keywordflow">if</span> (!vertexPairList.empty() &amp;&amp; <a class="code" href="../../da/d4d/namespaceicarus.html#a6ad3253842c1a0803df7cd600b60c35f">std::distance</a>(firstHitItr,clusHitPairVector.end()) &lt; minimumClusterSize)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                vertexPairList.back().second = clusHitPairVector.end();</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                vertexPairList.emplace_back(Hit3DItrPair(firstHitItr,clusHitPairVector.end()));</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;+&gt; ---&gt; breaking cluster into &quot;</span> &lt;&lt; vertexPairList.size() &lt;&lt; <span class="stringliteral">&quot; subclusters&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">if</span> (vertexPairList.size() &gt; 1)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            storeCurrentCluster = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="comment">// Ok, now loop through our pairs</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; hit3DItrPair : vertexPairList)</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                <a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a> clusterParams;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                <a class="code" href="../../d1/d57/namespacereco.html#ad2e55059e696dd652ce2edaccbb18b66">reco::HitPairListPtr</a>&amp;   hitPairListPtr = clusterParams.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#acbb2da3e1afbe5f9ad015f2589ac2c3d">getHitPairListPtr</a>();</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;+&gt;    -- building new cluster, size: &quot;</span> &lt;&lt; <a class="code" href="../../da/d4d/namespaceicarus.html#a6ad3253842c1a0803df7cd600b60c35f">std::distance</a>(hit3DItrPair.first,hit3DItrPair.second) &lt;&lt; std::endl;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                <span class="comment">// size the container...</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                hitPairListPtr.resize(<a class="code" href="../../da/d4d/namespaceicarus.html#a6ad3253842c1a0803df7cd600b60c35f">std::distance</a>(hit3DItrPair.first,hit3DItrPair.second));</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                <span class="comment">// and copy the hits into the container</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                <a class="code" href="../../d6/dd6/RangeForWrapper__test_8cc.html#a2a47a7f29f0ddd7ff5d68f8aff63125c">std::copy</a>(hit3DItrPair.first,hit3DItrPair.second,hitPairListPtr.begin());</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                <span class="comment">// First stage of feature extraction runs here</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#aed3818afef2dbd9f82770d4a0e6600d2">m_pcaAlg</a>.<a class="code" href="../../df/d48/classlar__cluster3d_1_1PrincipalComponentsAlg.html#a4f0d4c14216e3a8a2f696826b259c6cb">PCAAnalysis_3D</a>(hitPairListPtr, clusterParams.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">getFullPCA</a>());</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                <span class="comment">// Recover the new fullPCA</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                <a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html">reco::PrincipalComponents</a>&amp; newFullPCA = clusterParams.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">getFullPCA</a>();</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                <span class="comment">// Must have a valid pca</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                <span class="keywordflow">if</span> (newFullPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#add5a47972aeb4f3df8fa2011e36c1d0e">getSvdOK</a>())</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                    <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;+&gt;    -- &gt;&gt; cluster has a valid Full PCA&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                    <span class="comment">// Need to check if the PCA direction has been reversed</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                    Eigen::Vector3f fullPrimaryVec(fullPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a11b674201a717844b9e03035098e2418">getEigenVectors</a>().row(0));</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                    Eigen::Vector3f newPrimaryVec(newFullPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a11b674201a717844b9e03035098e2418">getEigenVectors</a>().row(0));</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                    <span class="comment">// If the PCA&#39;s are opposite the flip the axes</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                    <span class="keywordflow">if</span> (fullPrimaryVec.dot(newPrimaryVec) &lt; 0.)</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> vecIdx = 0; vecIdx &lt; 3; vecIdx++) newFullPCA.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a073a7cd8d4d704d583f689ded99e95e5">flipAxis</a>(vecIdx);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                    }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                    <span class="comment">// Set the skeleton PCA to make sure it has some value</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                    clusterParams.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a3cefc70b6690ca342564c069df9ec0e7">getSkeletonPCA</a>() = clusterParams.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">getFullPCA</a>();</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                    positionItr = <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a3658867a233637432946437fe1ef2fab">breakIntoTinyBits</a>(clusterParams, positionItr, outputClusterList, level+4);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="comment">// First question, are we done breaking?</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">if</span> (storeCurrentCluster)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="comment">// I think this is where we fill out the rest of the parameters?</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="comment">// Start by adding the 2D hits...</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="comment">// See if we can avoid duplicates by temporarily transferring to a set</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        std::set&lt;const reco::ClusterHit2D*&gt; hitSet;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="comment">// Loop through 3D hits to get a set of unique 2D hits</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; hit3D : clusterToBreak.getHitPairListPtr())</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; hit2D : hit3D-&gt;getHits())</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                <span class="keywordflow">if</span> (hit2D) hitSet.insert(hit2D);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="comment">// Now add these to the new cluster</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; hit2D : hitSet)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            hit2D-&gt;setStatusBit(<a class="code" href="../../df/dcf/classreco_1_1ClusterHit2D.html#af948a749271038c5fbf921fd0f529fb7a529c5b0ead02eedf3dfde6fa15e8e1b8">reco::ClusterHit2D::USED</a>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            clusterToBreak.UpdateParameters(hit2D);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;*********&gt;&gt;&gt; storing new subcluster of size &quot;</span> &lt;&lt; clusterToBreak.getHitPairListPtr().size() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        positionItr = outputClusterList.insert(positionItr,clusterToBreak);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="comment">// The above points to the element, want the next element</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        positionItr++;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (inputPositionItr == positionItr) <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;***** DID NOT STORE A CLUSTER *****&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">return</span> positionItr;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div>
<div class="ttc" id="classlar__cluster3d_1_1PrincipalComponentsAlg_html_aa4058c83232b00e8dd0ffdbb69d1e781"><div class="ttname"><a href="../../df/d48/classlar__cluster3d_1_1PrincipalComponentsAlg.html#aa4058c83232b00e8dd0ffdbb69d1e781">lar_cluster3d::PrincipalComponentsAlg::PCAAnalysis_calc3DDocas</a></div><div class="ttdeci">void PCAAnalysis_calc3DDocas(const reco::HitPairListPtr &amp;hitPairVector, const reco::PrincipalComponents &amp;pca) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5d/PrincipalComponentsAlg_8cxx_source.html#l00497">PrincipalComponentsAlg.cxx:497</a></div></div>
<div class="ttc" id="classreco_1_1PrincipalComponents_html_add5a47972aeb4f3df8fa2011e36c1d0e"><div class="ttname"><a href="../../da/d30/classreco_1_1PrincipalComponents.html#add5a47972aeb4f3df8fa2011e36c1d0e">reco::PrincipalComponents::getSvdOK</a></div><div class="ttdeci">bool getSvdOK() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00243">Cluster3D.h:243</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1PrincipalComponentsAlg_html_a4f0d4c14216e3a8a2f696826b259c6cb"><div class="ttname"><a href="../../df/d48/classlar__cluster3d_1_1PrincipalComponentsAlg.html#a4f0d4c14216e3a8a2f696826b259c6cb">lar_cluster3d::PrincipalComponentsAlg::PCAAnalysis_3D</a></div><div class="ttdeci">void PCAAnalysis_3D(const reco::HitPairListPtr &amp;hitPairList, reco::PrincipalComponents &amp;pca, bool skeletonOnly=false) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5d/PrincipalComponentsAlg_8cxx_source.html#l00141">PrincipalComponentsAlg.cxx:141</a></div></div>
<div class="ttc" id="classreco_1_1PrincipalComponents_html_a073a7cd8d4d704d583f689ded99e95e5"><div class="ttname"><a href="../../da/d30/classreco_1_1PrincipalComponents.html#a073a7cd8d4d704d583f689ded99e95e5">reco::PrincipalComponents::flipAxis</a></div><div class="ttdeci">void flipAxis(size_t axis)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/Cluster3D_8cxx_source.html#l00208">Cluster3D.cxx:208</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a9453748558088ae22499027391c13aaf"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a></div><div class="ttdeci">walls no right</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_a3cefc70b6690ca342564c069df9ec0e7"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#a3cefc70b6690ca342564c069df9ec0e7">reco::ClusterParameters::getSkeletonPCA</a></div><div class="ttdeci">reco::PrincipalComponents &amp; getSkeletonPCA()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00477">Cluster3D.h:477</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_acbb2da3e1afbe5f9ad015f2589ac2c3d"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#acbb2da3e1afbe5f9ad015f2589ac2c3d">reco::ClusterParameters::getHitPairListPtr</a></div><div class="ttdeci">reco::HitPairListPtr &amp; getHitPairListPtr()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00475">Cluster3D.h:475</a></div></div>
<div class="ttc" id="namespacereco_html_a21bd8ec99c1440af51d59b7f36ea3d48"><div class="ttname"><a href="../../d1/d57/namespacereco.html#a21bd8ec99c1440af51d59b7f36ea3d48">reco::EdgeList</a></div><div class="ttdeci">std::list&lt; EdgeTuple &gt; EdgeList</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00344">Cluster3D.h:344</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_add6edd80bc36fb9911184b7381fe8108"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#add6edd80bc36fb9911184b7381fe8108">lar_cluster3d::ClusterPathFinder::buildConvexHull</a></div><div class="ttdeci">void buildConvexHull(reco::ClusterParameters &amp;clusterParameters, int level=0) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00416">ClusterPathFinder_tool.cc:416</a></div></div>
<div class="ttc" id="namespaceicarus_html_a6ad3253842c1a0803df7cd600b60c35f"><div class="ttname"><a href="../../da/d4d/namespaceicarus.html#a6ad3253842c1a0803df7cd600b60c35f">icarus::distance</a></div><div class="ttdeci">double distance(geo::Point_t const &amp;point, CathodeDesc_t const &amp;cathode)</div><div class="ttdoc">Returns the distance of a point from the cathode. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd1/CathodeCrossingUtils_8cxx_source.html#l00035">CathodeCrossingUtils.cxx:35</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_a648cb681d23db3a63173924021a3bfc9"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">reco::ClusterParameters::getFullPCA</a></div><div class="ttdeci">reco::PrincipalComponents &amp; getFullPCA()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00476">Cluster3D.h:476</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_ae3b0d6067d6a6f44ae6f7b90a3b58785"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ae3b0d6067d6a6f44ae6f7b90a3b58785">lar_cluster3d::ClusterPathFinder::m_minTinyClusterSize</a></div><div class="ttdeci">size_t m_minTinyClusterSize</div><div class="ttdoc">Minimum size for a &amp;quot;tiny&amp;quot; cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00105">ClusterPathFinder_tool.cc:105</a></div></div>
<div class="ttc" id="namespacereco_html_ad2e55059e696dd652ce2edaccbb18b66"><div class="ttname"><a href="../../d1/d57/namespacereco.html#ad2e55059e696dd652ce2edaccbb18b66">reco::HitPairListPtr</a></div><div class="ttdeci">std::list&lt; const reco::ClusterHit3D * &gt; HitPairListPtr</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00334">Cluster3D.h:334</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a1abc6b9e279feba048394f49a85218c9"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a></div><div class="ttdeci">walls no left</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_a3658867a233637432946437fe1ef2fab"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a3658867a233637432946437fe1ef2fab">lar_cluster3d::ClusterPathFinder::breakIntoTinyBits</a></div><div class="ttdeci">reco::ClusterParametersList::iterator breakIntoTinyBits(reco::ClusterParameters &amp;cluster, reco::ClusterParametersList::iterator positionItr, reco::ClusterParametersList &amp;outputClusterList, int level=0) const </div><div class="ttdoc">Use PCA to try to find path in cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00224">ClusterPathFinder_tool.cc:224</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00405">Cluster3D.h:405</a></div></div>
<div class="ttc" id="classreco_1_1PrincipalComponents_html"><div class="ttname"><a href="../../da/d30/classreco_1_1PrincipalComponents.html">reco::PrincipalComponents</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00221">Cluster3D.h:221</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_aed3818afef2dbd9f82770d4a0e6600d2"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#aed3818afef2dbd9f82770d4a0e6600d2">lar_cluster3d::ClusterPathFinder::m_pcaAlg</a></div><div class="ttdeci">PrincipalComponentsAlg m_pcaAlg</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00109">ClusterPathFinder_tool.cc:109</a></div></div>
<div class="ttc" id="RangeForWrapper__test_8cc_html_a2a47a7f29f0ddd7ff5d68f8aff63125c"><div class="ttname"><a href="../../d6/dd6/RangeForWrapper__test_8cc.html#a2a47a7f29f0ddd7ff5d68f8aff63125c">copy</a></div><div class="ttdeci">T copy(T const &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd6/RangeForWrapper__test_8cc_source.html#l00098">RangeForWrapper_test.cc:98</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="classreco_1_1PrincipalComponents_html_a11b674201a717844b9e03035098e2418"><div class="ttname"><a href="../../da/d30/classreco_1_1PrincipalComponents.html#a11b674201a717844b9e03035098e2418">reco::PrincipalComponents::getEigenVectors</a></div><div class="ttdeci">const EigenVectors &amp; getEigenVectors() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00246">Cluster3D.h:246</a></div></div>
<div class="ttc" id="classreco_1_1ClusterHit2D_html_af948a749271038c5fbf921fd0f529fb7a529c5b0ead02eedf3dfde6fa15e8e1b8"><div class="ttname"><a href="../../df/dcf/classreco_1_1ClusterHit2D.html#af948a749271038c5fbf921fd0f529fb7a529c5b0ead02eedf3dfde6fa15e8e1b8">reco::ClusterHit2D::USED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00058">Cluster3D.h:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="add6edd80bc36fb9911184b7381fe8108"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_cluster3d::ClusterPathFinder::buildConvexHull </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>clusterParameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00416">416</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;{</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="comment">// set an indention string</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    std::string minuses(level/2, <span class="charliteral">&#39;-&#39;</span>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    std::string indent(level/2, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    indent += minuses;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="comment">// The plan is to build the enclosing 2D polygon around the points in the PCA plane of most spread for this cluster</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// To do so we need to start by building a list of 2D projections onto the plane of most spread...</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html">reco::PrincipalComponents</a>&amp; pca = clusterParameters.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">getFullPCA</a>();</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// Recover the parameters from the Principal Components Analysis that we need to project and accumulate</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keyword">const</span> Eigen::Vector3f&amp; pcaCenter = pca.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#ae4372271684515437a46256ca8a24802">getAvePosition</a>();</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">//dcel2d::PointList pointList;</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keyword">using</span> <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a80691e1611b3085b806b6be564085d2d">Point</a>     = std::tuple&lt;float,float,const reco::ClusterHit3D*&gt;;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keyword">using</span> <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ad3b19b10eb85699de28ea7a49952df4d">PointList</a> = std::list&lt;Point&gt;;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ad3b19b10eb85699de28ea7a49952df4d">PointList</a> pointList;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">// Loop through hits and do projection to plane</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; hit3D : clusterParameters.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#acbb2da3e1afbe5f9ad015f2589ac2c3d">getHitPairListPtr</a>())</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        Eigen::Vector3f pcaToHitVec(hit3D-&gt;getPosition()[0] - pcaCenter(0),</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                                    hit3D-&gt;getPosition()[1] - pcaCenter(1),</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                                    hit3D-&gt;getPosition()[2] - pcaCenter(2));</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        Eigen::Vector3f pcaToHit = pca.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a11b674201a717844b9e03035098e2418">getEigenVectors</a>() * pcaToHitVec;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        pointList.emplace_back(<a class="code" href="../../db/d08/namespacedcel2d.html#ae0b6902d81ed3331f0047ff86ed44808">dcel2d::Point</a>(pcaToHit(1),pcaToHit(2),hit3D));</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="comment">// Sort the point vec by increasing x, then increase y</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    pointList.sort([](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>, <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>){<span class="keywordflow">return</span> (<a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(std::get&lt;0&gt;(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>) - std::get&lt;0&gt;(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>)) &gt; std::numeric_limits&lt;float&gt;::epsilon()) ? std::get&lt;0&gt;(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>) &lt; std::get&lt;0&gt;(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>) : std::get&lt;1&gt;(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>) &lt; std::get&lt;1&gt;(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>);});</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="comment">// containers for finding the &quot;best&quot; hull...</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    std::vector&lt;ConvexHull&gt; convexHullVec;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    std::vector&lt;PointList&gt;  rejectedListVec;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordtype">bool</span>                    increaseDepth(pointList.size() &gt; 5);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordtype">float</span>                   lastArea(std::numeric_limits&lt;float&gt;::max());</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">while</span>(increaseDepth)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="comment">// Get another convexHull container</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        convexHullVec.push_back(ConvexHull(pointList));</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        rejectedListVec.push_back(<a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ad3b19b10eb85699de28ea7a49952df4d">PointList</a>());</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keyword">const</span> ConvexHull&amp; convexHull       = convexHullVec.back();</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ad3b19b10eb85699de28ea7a49952df4d">PointList</a>&amp;        rejectedList     = rejectedListVec.back();</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ad3b19b10eb85699de28ea7a49952df4d">PointList</a>&amp;  convexHullPoints = convexHull.getConvexHull();</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        increaseDepth = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">if</span> (convexHull.getConvexHullArea() &gt; 0.)</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;-&gt; built convex hull, 3D hits: &quot;</span> &lt;&lt; pointList.size() &lt;&lt; <span class="stringliteral">&quot; with &quot;</span> &lt;&lt; convexHullPoints.size() &lt;&lt; <span class="stringliteral">&quot; vertices&quot;</span> &lt;&lt; <span class="stringliteral">&quot;, area: &quot;</span> &lt;&lt; convexHull.getConvexHullArea() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;-&gt; -Points:&quot;</span>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; point : convexHullPoints)</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; std::get&lt;0&gt;(point) &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; std::get&lt;1&gt;(point) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <span class="keywordflow">if</span> (convexHullVec.size() &lt; 2 || convexHull.getConvexHullArea() &lt; 0.8 * lastArea)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; point : convexHullPoints)</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                    pointList.remove(point);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                    rejectedList.emplace_back(point);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                lastArea      = convexHull.getConvexHullArea();</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">//                increaseDepth = true;</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="comment">// do we have a valid convexHull?</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">while</span>(!convexHullVec.empty() &amp;&amp; convexHullVec.back().getConvexHullArea() &lt; 0.5)</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        convexHullVec.pop_back();</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        rejectedListVec.pop_back();</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="comment">// If we found the convex hull then build edges around the region</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">if</span> (!convexHullVec.empty())</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordtype">size_t</span>               nRejectedTotal(0);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <a class="code" href="../../d1/d57/namespacereco.html#ad2e55059e696dd652ce2edaccbb18b66">reco::HitPairListPtr</a> hitPairListPtr = clusterParameters.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#acbb2da3e1afbe5f9ad015f2589ac2c3d">getHitPairListPtr</a>();</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; rejectedList : rejectedListVec)</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            nRejectedTotal += rejectedList.size();</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; rejectedPoint : rejectedList)</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;-&gt; -- Point is &quot;</span> &lt;&lt; convexHullVec.back().findNearestDistance(rejectedPoint) &lt;&lt; <span class="stringliteral">&quot; from nearest edge&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                <span class="keywordflow">if</span> (convexHullVec.back().findNearestDistance(rejectedPoint) &gt; 0.5)</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                    hitPairListPtr.remove(std::get&lt;2&gt;(rejectedPoint));</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;-&gt; Removed &quot;</span> &lt;&lt; nRejectedTotal &lt;&lt; <span class="stringliteral">&quot; leaving &quot;</span> &lt;&lt; pointList.size() &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; hitPairListPtr.size() &lt;&lt; <span class="stringliteral">&quot; points&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="comment">// Now add &quot;edges&quot; to the cluster to describe the convex hull (for the display)</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <a class="code" href="../../d1/d57/namespacereco.html#a9d1ff6f3c6f362ff330543b87e836ea0">reco::Hit3DToEdgeMap</a>&amp; edgeMap      = clusterParameters.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a6f273ea1ff23229402583ab6fcb635a8">getHit3DToEdgeMap</a>();</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <a class="code" href="../../d1/d57/namespacereco.html#a21bd8ec99c1440af51d59b7f36ea3d48">reco::EdgeList</a>&amp;       bestEdgeList = clusterParameters.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#aad7749ef41e14ddd73061b0113334e17">getBestEdgeList</a>();</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a80691e1611b3085b806b6be564085d2d">Point</a> lastPoint = convexHullVec.back().getConvexHull().front();</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; curPoint : convexHullVec.back().getConvexHull())</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <span class="keywordflow">if</span> (curPoint == lastPoint) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html">reco::ClusterHit3D</a>* lastPoint3D = std::get&lt;2&gt;(lastPoint);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html">reco::ClusterHit3D</a>* curPoint3D  = std::get&lt;2&gt;(curPoint);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <span class="keywordtype">float</span> distBetweenPoints = (curPoint3D-&gt;getPosition()[0] - lastPoint3D-&gt;<a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html#af99cbefa85c37a75106ce43ce6179b03">getPosition</a>()[0]) * (curPoint3D-&gt;getPosition()[0] - lastPoint3D-&gt;<a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html#af99cbefa85c37a75106ce43ce6179b03">getPosition</a>()[0])</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                                    + (curPoint3D-&gt;getPosition()[1] - lastPoint3D-&gt;<a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html#af99cbefa85c37a75106ce43ce6179b03">getPosition</a>()[1]) * (curPoint3D-&gt;getPosition()[1] - lastPoint3D-&gt;<a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html#af99cbefa85c37a75106ce43ce6179b03">getPosition</a>()[1])</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                                    + (curPoint3D-&gt;getPosition()[2] - lastPoint3D-&gt;<a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html#af99cbefa85c37a75106ce43ce6179b03">getPosition</a>()[2]) * (curPoint3D-&gt;getPosition()[2] - lastPoint3D-&gt;<a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html#af99cbefa85c37a75106ce43ce6179b03">getPosition</a>()[2]);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            distBetweenPoints = std::sqrt(distBetweenPoints);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <a class="code" href="../../d1/d57/namespacereco.html#a2df31699cd220b8de330da4c23c45ea7">reco::EdgeTuple</a> edge(lastPoint3D,curPoint3D,distBetweenPoints);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            edgeMap[lastPoint3D].push_back(edge);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            edgeMap[curPoint3D].push_back(edge);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            bestEdgeList.emplace_back(edge);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            lastPoint = curPoint;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;}</div>
<div class="ttc" id="classreco_1_1ClusterHit3D_html_af99cbefa85c37a75106ce43ce6179b03"><div class="ttname"><a href="../../df/d06/classreco_1_1ClusterHit3D.html#af99cbefa85c37a75106ce43ce6179b03">reco::ClusterHit3D::getPosition</a></div><div class="ttdeci">const Eigen::Vector3f getPosition() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00157">Cluster3D.h:157</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a9453748558088ae22499027391c13aaf"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a></div><div class="ttdeci">walls no right</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_aad7749ef41e14ddd73061b0113334e17"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#aad7749ef41e14ddd73061b0113334e17">reco::ClusterParameters::getBestEdgeList</a></div><div class="ttdeci">reco::EdgeList &amp; getBestEdgeList()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00480">Cluster3D.h:480</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_a6f273ea1ff23229402583ab6fcb635a8"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#a6f273ea1ff23229402583ab6fcb635a8">reco::ClusterParameters::getHit3DToEdgeMap</a></div><div class="ttdeci">reco::Hit3DToEdgeMap &amp; getHit3DToEdgeMap()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00478">Cluster3D.h:478</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_acbb2da3e1afbe5f9ad015f2589ac2c3d"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#acbb2da3e1afbe5f9ad015f2589ac2c3d">reco::ClusterParameters::getHitPairListPtr</a></div><div class="ttdeci">reco::HitPairListPtr &amp; getHitPairListPtr()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00475">Cluster3D.h:475</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_a80691e1611b3085b806b6be564085d2d"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a80691e1611b3085b806b6be564085d2d">lar_cluster3d::ClusterPathFinder::Point</a></div><div class="ttdeci">std::tuple&lt; float, float, const reco::ClusterHit3D * &gt; Point</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00094">ClusterPathFinder_tool.cc:94</a></div></div>
<div class="ttc" id="sparse__vector__test_8cc_html_a39f16bf854ba527dee7eba5bbbd93f3f"><div class="ttname"><a href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a></div><div class="ttdeci">T abs(T value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d59/sparse__vector__test_8cc_source.html#l00030">sparse_vector_test.cc:30</a></div></div>
<div class="ttc" id="namespacereco_html_a21bd8ec99c1440af51d59b7f36ea3d48"><div class="ttname"><a href="../../d1/d57/namespacereco.html#a21bd8ec99c1440af51d59b7f36ea3d48">reco::EdgeList</a></div><div class="ttdeci">std::list&lt; EdgeTuple &gt; EdgeList</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00344">Cluster3D.h:344</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_ad3b19b10eb85699de28ea7a49952df4d"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ad3b19b10eb85699de28ea7a49952df4d">lar_cluster3d::ClusterPathFinder::PointList</a></div><div class="ttdeci">std::list&lt; Point &gt; PointList</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00095">ClusterPathFinder_tool.cc:95</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_a648cb681d23db3a63173924021a3bfc9"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">reco::ClusterParameters::getFullPCA</a></div><div class="ttdeci">reco::PrincipalComponents &amp; getFullPCA()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00476">Cluster3D.h:476</a></div></div>
<div class="ttc" id="namespacedcel2d_html_ae0b6902d81ed3331f0047ff86ed44808"><div class="ttname"><a href="../../db/d08/namespacedcel2d.html#ae0b6902d81ed3331f0047ff86ed44808">dcel2d::Point</a></div><div class="ttdeci">std::tuple&lt; double, double, const reco::ClusterHit3D * &gt; Point</div><div class="ttdoc">Definitions used by the VoronoiDiagram algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d84/DCEL_8h_source.html#l00044">DCEL.h:44</a></div></div>
<div class="ttc" id="classreco_1_1PrincipalComponents_html_ae4372271684515437a46256ca8a24802"><div class="ttname"><a href="../../da/d30/classreco_1_1PrincipalComponents.html#ae4372271684515437a46256ca8a24802">reco::PrincipalComponents::getAvePosition</a></div><div class="ttdeci">const Eigen::Vector3f &amp; getAvePosition() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00247">Cluster3D.h:247</a></div></div>
<div class="ttc" id="namespacereco_html_a2df31699cd220b8de330da4c23c45ea7"><div class="ttname"><a href="../../d1/d57/namespacereco.html#a2df31699cd220b8de330da4c23c45ea7">reco::EdgeTuple</a></div><div class="ttdeci">std::tuple&lt; const reco::ClusterHit3D *, const reco::ClusterHit3D *, double &gt; EdgeTuple</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00343">Cluster3D.h:343</a></div></div>
<div class="ttc" id="namespacereco_html_ad2e55059e696dd652ce2edaccbb18b66"><div class="ttname"><a href="../../d1/d57/namespacereco.html#ad2e55059e696dd652ce2edaccbb18b66">reco::HitPairListPtr</a></div><div class="ttdeci">std::list&lt; const reco::ClusterHit3D * &gt; HitPairListPtr</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00334">Cluster3D.h:334</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a1abc6b9e279feba048394f49a85218c9"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a></div><div class="ttdeci">walls no left</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classreco_1_1PrincipalComponents_html"><div class="ttname"><a href="../../da/d30/classreco_1_1PrincipalComponents.html">reco::PrincipalComponents</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00221">Cluster3D.h:221</a></div></div>
<div class="ttc" id="namespacereco_html_a9d1ff6f3c6f362ff330543b87e836ea0"><div class="ttname"><a href="../../d1/d57/namespacereco.html#a9d1ff6f3c6f362ff330543b87e836ea0">reco::Hit3DToEdgeMap</a></div><div class="ttdeci">std::unordered_map&lt; const reco::ClusterHit3D *, reco::EdgeList &gt; Hit3DToEdgeMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00346">Cluster3D.h:346</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="classreco_1_1PrincipalComponents_html_a11b674201a717844b9e03035098e2418"><div class="ttname"><a href="../../da/d30/classreco_1_1PrincipalComponents.html#a11b674201a717844b9e03035098e2418">reco::PrincipalComponents::getEigenVectors</a></div><div class="ttdeci">const EigenVectors &amp; getEigenVectors() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00246">Cluster3D.h:246</a></div></div>
<div class="ttc" id="classreco_1_1ClusterHit3D_html"><div class="ttname"><a href="../../df/d06/classreco_1_1ClusterHit3D.html">reco::ClusterHit3D</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00094">Cluster3D.h:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a131476bcaaa2d7382ecac328239254a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_cluster3d::ClusterPathFinder::buildVoronoiDiagram </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>clusterParameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00550">550</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;{</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">// The plan is to build the enclosing 2D polygon around the points in the PCA plane of most spread for this cluster</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="comment">// To do so we need to start by building a list of 2D projections onto the plane of most spread...</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html">reco::PrincipalComponents</a>&amp; pca = clusterParameters.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">getFullPCA</a>();</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="comment">// Recover the parameters from the Principal Components Analysis that we need to project and accumulate</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keyword">const</span> Eigen::Vector3f&amp; pcaCenter = pca.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#ae4372271684515437a46256ca8a24802">getAvePosition</a>();</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <a class="code" href="../../db/d08/namespacedcel2d.html#a4a72222ac3521a6e62cda9cf20760688">dcel2d::PointList</a>      pointList;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="comment">// Loop through hits and do projection to plane</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; hit3D : clusterParameters.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#acbb2da3e1afbe5f9ad015f2589ac2c3d">getHitPairListPtr</a>())</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        Eigen::Vector3f pcaToHitVec(hit3D-&gt;getPosition()[0] - pcaCenter(0),</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                                    hit3D-&gt;getPosition()[1] - pcaCenter(1),</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                                    hit3D-&gt;getPosition()[2] - pcaCenter(2));</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        Eigen::Vector3f pcaToHit = pca.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a11b674201a717844b9e03035098e2418">getEigenVectors</a>() * pcaToHitVec;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        pointList.emplace_back(<a class="code" href="../../db/d08/namespacedcel2d.html#ae0b6902d81ed3331f0047ff86ed44808">dcel2d::Point</a>(pcaToHit(1),pcaToHit(2),hit3D));</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="comment">// Sort the point vec by increasing x, then increase y</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    pointList.sort([](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>, <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>){<span class="keywordflow">return</span> (<a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(std::get&lt;0&gt;(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>) - std::get&lt;0&gt;(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>)) &gt; std::numeric_limits&lt;float&gt;::epsilon()) ? std::get&lt;0&gt;(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>) &lt; std::get&lt;0&gt;(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>) : std::get&lt;1&gt;(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>) &lt; std::get&lt;1&gt;(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>);});</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="comment">// Set up the voronoi diagram builder</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="../../dc/d8c/classvoronoi2d_1_1VoronoiDiagram.html">voronoi2d::VoronoiDiagram</a> voronoiDiagram(clusterParameters.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#ae606857d3e17adc8153e6e7b88d835f9">getHalfEdgeList</a>(),clusterParameters.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a627b7d790b5bc650194ce8c04e5cbbb3">getVertexList</a>(),clusterParameters.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#aa39177326d8ab6b8f8a668a7af8e7af7">getFaceList</a>());</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="comment">// And make the diagram</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    voronoiDiagram.<a class="code" href="../../dc/d8c/classvoronoi2d_1_1VoronoiDiagram.html#a9bbfcf4fe0c4d501212e1b76d93e1cd5">buildVoronoiDiagram</a>(pointList);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="comment">// Recover the voronoi diagram vertex list and the container to store them in</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="../../db/d08/namespacedcel2d.html#a8054eb55cf5bd8624fa0f46dfe56afa7">dcel2d::VertexList</a>&amp; vertexList = clusterParameters.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a627b7d790b5bc650194ce8c04e5cbbb3">getVertexList</a>();</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="comment">// Now get the inverse of the rotation matrix so we can get the vertex positions,</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="comment">// which lie in the plane of the two largest PCA axes, in the standard coordinate system</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    Eigen::Matrix3f rotationMatrixInv = pca.<a class="code" href="../../da/d30/classreco_1_1PrincipalComponents.html#a11b674201a717844b9e03035098e2418">getEigenVectors</a>().inverse();</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">// Translate and fill</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#a2e91c077dea2ff30aae790c67de81ea2">vertex</a> : vertexList)</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        Eigen::Vector3f coords = rotationMatrixInv * <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#a2e91c077dea2ff30aae790c67de81ea2">vertex</a>.getCoords();</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        coords += pcaCenter;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#a2e91c077dea2ff30aae790c67de81ea2">vertex</a>.setCoords(coords);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="comment">// Now do the Convex Hull</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">// Now add &quot;edges&quot; to the cluster to describe the convex hull (for the display)</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <a class="code" href="../../d1/d57/namespacereco.html#a9d1ff6f3c6f362ff330543b87e836ea0">reco::Hit3DToEdgeMap</a>&amp; edgeMap      = clusterParameters.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a6f273ea1ff23229402583ab6fcb635a8">getHit3DToEdgeMap</a>();</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <a class="code" href="../../d1/d57/namespacereco.html#a21bd8ec99c1440af51d59b7f36ea3d48">reco::EdgeList</a>&amp;       bestEdgeList = clusterParameters.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#aad7749ef41e14ddd73061b0113334e17">getBestEdgeList</a>();</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment">//    const dcel2d::PointList&amp; edgePoints = voronoiDiagram.getConvexHull();</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">//    PointList                localList;</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">//    for(const auto&amp; edgePoint : edgePoints) localList.emplace_back(std::get&lt;0&gt;(edgePoint),std::get&lt;1&gt;(edgePoint),std::get&lt;2&gt;(edgePoint));</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">//    // Sort the point vec by increasing x, then increase y</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">//    localList.sort([](const auto&amp; left, const auto&amp; right){return (std::abs(std::get&lt;0&gt;(left) - std::get&lt;0&gt;(right)) &gt; std::numeric_limits&lt;float&gt;::epsilon()) ? std::get&lt;0&gt;(left) &lt; std::get&lt;0&gt;(right) : std::get&lt;1&gt;(left) &lt; std::get&lt;1&gt;(right);});</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment">//    // Why do I need to do this?</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">//    ConvexHull convexHull(localList);</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">//    Point lastPoint = convexHull.getConvexHull().front();</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="../../db/d08/namespacedcel2d.html#ae0b6902d81ed3331f0047ff86ed44808">dcel2d::Point</a> lastPoint = voronoiDiagram.getConvexHull().front();</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">//    std::cout &lt;&lt; &quot;@@@@&gt;&gt; Build convex hull, voronoi handed &quot; &lt;&lt; edgePoints.size() &lt;&lt; &quot; points, convexHull cut to &quot; &lt;&lt; convexHull.getConvexHull().size() &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">//    for(auto&amp; curPoint : convexHull.getConvexHull())</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; curPoint : voronoiDiagram.getConvexHull())</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="keywordflow">if</span> (curPoint == lastPoint) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html">reco::ClusterHit3D</a>* lastPoint3D = std::get&lt;2&gt;(lastPoint);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html">reco::ClusterHit3D</a>* curPoint3D  = std::get&lt;2&gt;(curPoint);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keywordtype">float</span> distBetweenPoints = (curPoint3D-&gt;getPosition()[0] - lastPoint3D-&gt;<a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html#af99cbefa85c37a75106ce43ce6179b03">getPosition</a>()[0]) * (curPoint3D-&gt;getPosition()[0] - lastPoint3D-&gt;<a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html#af99cbefa85c37a75106ce43ce6179b03">getPosition</a>()[0])</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                                + (curPoint3D-&gt;getPosition()[1] - lastPoint3D-&gt;<a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html#af99cbefa85c37a75106ce43ce6179b03">getPosition</a>()[1]) * (curPoint3D-&gt;getPosition()[1] - lastPoint3D-&gt;<a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html#af99cbefa85c37a75106ce43ce6179b03">getPosition</a>()[1])</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                                + (curPoint3D-&gt;getPosition()[2] - lastPoint3D-&gt;<a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html#af99cbefa85c37a75106ce43ce6179b03">getPosition</a>()[2]) * (curPoint3D-&gt;getPosition()[2] - lastPoint3D-&gt;<a class="code" href="../../df/d06/classreco_1_1ClusterHit3D.html#af99cbefa85c37a75106ce43ce6179b03">getPosition</a>()[2]);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        distBetweenPoints = std::sqrt(distBetweenPoints);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <a class="code" href="../../d1/d57/namespacereco.html#a2df31699cd220b8de330da4c23c45ea7">reco::EdgeTuple</a> edge(lastPoint3D,curPoint3D,distBetweenPoints);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        edgeMap[lastPoint3D].push_back(edge);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        edgeMap[curPoint3D].push_back(edge);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        bestEdgeList.emplace_back(edge);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        lastPoint = curPoint;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;****&gt; vertexList containted &quot;</span> &lt;&lt; vertexList.size() &lt;&lt; <span class="stringliteral">&quot; vertices&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div>
<div class="ttc" id="cheaterreco_8fcl_html_a2e91c077dea2ff30aae790c67de81ea2"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#a2e91c077dea2ff30aae790c67de81ea2">vertex</a></div><div class="ttdeci">process_name vertex</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="classreco_1_1ClusterHit3D_html_af99cbefa85c37a75106ce43ce6179b03"><div class="ttname"><a href="../../df/d06/classreco_1_1ClusterHit3D.html#af99cbefa85c37a75106ce43ce6179b03">reco::ClusterHit3D::getPosition</a></div><div class="ttdeci">const Eigen::Vector3f getPosition() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00157">Cluster3D.h:157</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a9453748558088ae22499027391c13aaf"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a></div><div class="ttdeci">walls no right</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_aad7749ef41e14ddd73061b0113334e17"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#aad7749ef41e14ddd73061b0113334e17">reco::ClusterParameters::getBestEdgeList</a></div><div class="ttdeci">reco::EdgeList &amp; getBestEdgeList()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00480">Cluster3D.h:480</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_a6f273ea1ff23229402583ab6fcb635a8"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#a6f273ea1ff23229402583ab6fcb635a8">reco::ClusterParameters::getHit3DToEdgeMap</a></div><div class="ttdeci">reco::Hit3DToEdgeMap &amp; getHit3DToEdgeMap()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00478">Cluster3D.h:478</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_acbb2da3e1afbe5f9ad015f2589ac2c3d"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#acbb2da3e1afbe5f9ad015f2589ac2c3d">reco::ClusterParameters::getHitPairListPtr</a></div><div class="ttdeci">reco::HitPairListPtr &amp; getHitPairListPtr()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00475">Cluster3D.h:475</a></div></div>
<div class="ttc" id="sparse__vector__test_8cc_html_a39f16bf854ba527dee7eba5bbbd93f3f"><div class="ttname"><a href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a></div><div class="ttdeci">T abs(T value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d59/sparse__vector__test_8cc_source.html#l00030">sparse_vector_test.cc:30</a></div></div>
<div class="ttc" id="namespacereco_html_a21bd8ec99c1440af51d59b7f36ea3d48"><div class="ttname"><a href="../../d1/d57/namespacereco.html#a21bd8ec99c1440af51d59b7f36ea3d48">reco::EdgeList</a></div><div class="ttdeci">std::list&lt; EdgeTuple &gt; EdgeList</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00344">Cluster3D.h:344</a></div></div>
<div class="ttc" id="classvoronoi2d_1_1VoronoiDiagram_html"><div class="ttname"><a href="../../dc/d8c/classvoronoi2d_1_1VoronoiDiagram.html">voronoi2d::VoronoiDiagram</a></div><div class="ttdoc">VoronoiDiagram class definiton. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6b/Voronoi_8h_source.html#l00031">Voronoi.h:31</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_a648cb681d23db3a63173924021a3bfc9"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#a648cb681d23db3a63173924021a3bfc9">reco::ClusterParameters::getFullPCA</a></div><div class="ttdeci">reco::PrincipalComponents &amp; getFullPCA()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00476">Cluster3D.h:476</a></div></div>
<div class="ttc" id="namespacedcel2d_html_ae0b6902d81ed3331f0047ff86ed44808"><div class="ttname"><a href="../../db/d08/namespacedcel2d.html#ae0b6902d81ed3331f0047ff86ed44808">dcel2d::Point</a></div><div class="ttdeci">std::tuple&lt; double, double, const reco::ClusterHit3D * &gt; Point</div><div class="ttdoc">Definitions used by the VoronoiDiagram algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d84/DCEL_8h_source.html#l00044">DCEL.h:44</a></div></div>
<div class="ttc" id="classvoronoi2d_1_1VoronoiDiagram_html_a9bbfcf4fe0c4d501212e1b76d93e1cd5"><div class="ttname"><a href="../../dc/d8c/classvoronoi2d_1_1VoronoiDiagram.html#a9bbfcf4fe0c4d501212e1b76d93e1cd5">voronoi2d::VoronoiDiagram::buildVoronoiDiagram</a></div><div class="ttdeci">void buildVoronoiDiagram(const dcel2d::PointList &amp;)</div><div class="ttdoc">Given an input set of 2D points construct a 2D voronoi diagram. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6b/Voronoi_8cxx_source.html#l00133">Voronoi.cxx:133</a></div></div>
<div class="ttc" id="classreco_1_1PrincipalComponents_html_ae4372271684515437a46256ca8a24802"><div class="ttname"><a href="../../da/d30/classreco_1_1PrincipalComponents.html#ae4372271684515437a46256ca8a24802">reco::PrincipalComponents::getAvePosition</a></div><div class="ttdeci">const Eigen::Vector3f &amp; getAvePosition() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00247">Cluster3D.h:247</a></div></div>
<div class="ttc" id="namespacereco_html_a2df31699cd220b8de330da4c23c45ea7"><div class="ttname"><a href="../../d1/d57/namespacereco.html#a2df31699cd220b8de330da4c23c45ea7">reco::EdgeTuple</a></div><div class="ttdeci">std::tuple&lt; const reco::ClusterHit3D *, const reco::ClusterHit3D *, double &gt; EdgeTuple</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00343">Cluster3D.h:343</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a1abc6b9e279feba048394f49a85218c9"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a></div><div class="ttdeci">walls no left</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classreco_1_1PrincipalComponents_html"><div class="ttname"><a href="../../da/d30/classreco_1_1PrincipalComponents.html">reco::PrincipalComponents</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00221">Cluster3D.h:221</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_aa39177326d8ab6b8f8a668a7af8e7af7"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#aa39177326d8ab6b8f8a668a7af8e7af7">reco::ClusterParameters::getFaceList</a></div><div class="ttdeci">dcel2d::FaceList &amp; getFaceList()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00482">Cluster3D.h:482</a></div></div>
<div class="ttc" id="namespacedcel2d_html_a4a72222ac3521a6e62cda9cf20760688"><div class="ttname"><a href="../../db/d08/namespacedcel2d.html#a4a72222ac3521a6e62cda9cf20760688">dcel2d::PointList</a></div><div class="ttdeci">std::list&lt; Point &gt; PointList</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d84/DCEL_8h_source.html#l00045">DCEL.h:45</a></div></div>
<div class="ttc" id="namespacereco_html_a9d1ff6f3c6f362ff330543b87e836ea0"><div class="ttname"><a href="../../d1/d57/namespacereco.html#a9d1ff6f3c6f362ff330543b87e836ea0">reco::Hit3DToEdgeMap</a></div><div class="ttdeci">std::unordered_map&lt; const reco::ClusterHit3D *, reco::EdgeList &gt; Hit3DToEdgeMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00346">Cluster3D.h:346</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_ae606857d3e17adc8153e6e7b88d835f9"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#ae606857d3e17adc8153e6e7b88d835f9">reco::ClusterParameters::getHalfEdgeList</a></div><div class="ttdeci">dcel2d::HalfEdgeList &amp; getHalfEdgeList()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00484">Cluster3D.h:484</a></div></div>
<div class="ttc" id="namespacedcel2d_html_a8054eb55cf5bd8624fa0f46dfe56afa7"><div class="ttname"><a href="../../db/d08/namespacedcel2d.html#a8054eb55cf5bd8624fa0f46dfe56afa7">dcel2d::VertexList</a></div><div class="ttdeci">std::list&lt; Vertex &gt; VertexList</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d84/DCEL_8h_source.html#l00182">DCEL.h:182</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="classreco_1_1PrincipalComponents_html_a11b674201a717844b9e03035098e2418"><div class="ttname"><a href="../../da/d30/classreco_1_1PrincipalComponents.html#a11b674201a717844b9e03035098e2418">reco::PrincipalComponents::getEigenVectors</a></div><div class="ttdeci">const EigenVectors &amp; getEigenVectors() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00246">Cluster3D.h:246</a></div></div>
<div class="ttc" id="classreco_1_1ClusterHit3D_html"><div class="ttname"><a href="../../df/d06/classreco_1_1ClusterHit3D.html">reco::ClusterHit3D</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00094">Cluster3D.h:94</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_a627b7d790b5bc650194ce8c04e5cbbb3"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#a627b7d790b5bc650194ce8c04e5cbbb3">reco::ClusterParameters::getVertexList</a></div><div class="ttdeci">dcel2d::VertexList &amp; getVertexList()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00483">Cluster3D.h:483</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8d83f2e0bd2874ef61f4a6e0d174d241"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_cluster3d::ClusterPathFinder::closestApproach </td>
          <td>(</td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>P0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>u0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>P1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>u1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>poca0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>poca1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00647">647</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;{</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// Technique is to compute the arclength to each point of closest approach</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    Eigen::Vector3f w0 = <a class="code" href="../../db/d3d/icaruscode_2fcl_2gen_2single_2prodsingle__electron__pi_09__bnblike__forward_8fcl.html#ab8808e8ced8feb61cde92c2860d432b4">P0</a> - P1;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a>(1.);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordtype">float</span> b(u0.dot(u1));</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordtype">float</span> c(1.);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordtype">float</span> d(u0.dot(w0));</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a>(u1.dot(w0));</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordtype">float</span> den(<a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a> * c - b * b);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordtype">float</span> arcLen0 = (b * <a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a> - c * d) / den;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordtype">float</span> arcLen1 = (<a class="code" href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a> * <a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a> - b * d) / den;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    poca0 = <a class="code" href="../../db/d3d/icaruscode_2fcl_2gen_2single_2prodsingle__electron__pi_09__bnblike__forward_8fcl.html#ab8808e8ced8feb61cde92c2860d432b4">P0</a> + arcLen0 * u0;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    poca1 = P1 + arcLen1 * u1;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">return</span> (poca0 - poca1).norm();</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;}</div>
<div class="ttc" id="decode__signalprocess__icarus_8fcl_html_a2a105cb669129f9c63eb7a4c15bf2d9b"><div class="ttname"><a href="../../d0/d8f/decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a></div><div class="ttdeci">process_name gaushit a</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8f/decode__signalprocess__icarus_8fcl_source.html#l00037">decode_signalprocess_icarus.fcl:37</a></div></div>
<div class="ttc" id="updateVersionList_8sh_html_a067a8c1534d6da9b2c501a6cf4ef89bd"><div class="ttname"><a href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a></div><div class="ttdeci">do i e</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dca/updateVersionList_8sh_source.html#l00068">updateVersionList.sh:68</a></div></div>
<div class="ttc" id="icaruscode_2fcl_2gen_2single_2prodsingle__electron__pi_09__bnblike__forward_8fcl_html_ab8808e8ced8feb61cde92c2860d432b4"><div class="ttname"><a href="../../db/d3d/icaruscode_2fcl_2gen_2single_2prodsingle__electron__pi_09__bnblike__forward_8fcl.html#ab8808e8ced8feb61cde92c2860d432b4">P0</a></div><div class="ttdeci">process_name physics producers generator hPHist_pi physics producers generator P0</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3d/icaruscode_2fcl_2gen_2single_2prodsingle__electron__pi_09__bnblike__forward_8fcl_source.html#l00010">icaruscode/fcl/gen/single/prodsingle_electron_pi+_bnblike_forward.fcl:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab28e8cfedc6741783e380247d745e113"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_cluster3d::ClusterPathFinder::configure </td>
          <td>(</td>
          <td class="paramtype">fhicl::ParameterSet const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interface for configuring the particular algorithm tool. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ParameterSet</td><td>The input set of parameters for configuration </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d3/d11/classlar__cluster3d_1_1IClusterModAlg.html#a5ddf95487185c1e363c3dd63a68ceabc">lar_cluster3d::IClusterModAlg</a>.</p>

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00126">126</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a29a7e5fb0674f88f25fc2914f7f37d72">m_enableMonitoring</a>   = pset.get&lt;<span class="keywordtype">bool</span>&gt;  (<span class="stringliteral">&quot;EnableMonitoring&quot;</span>,  <a class="code" href="../../df/d43/crtt0matchingalg__icarus_8fcl.html#af8bc618309fb2d0f55f7f5ae0760b466">true</a>  );</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ae3b0d6067d6a6f44ae6f7b90a3b58785">m_minTinyClusterSize</a> = pset.get&lt;<span class="keywordtype">size_t</span>&gt;(<span class="stringliteral">&quot;MinTinyClusterSize&quot;</span>,40);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a5dcb76f8185ad0a04359d37654bcb44a">m_clusterAlg</a>         = art::make_tool&lt;lar_cluster3d::IClusterAlg&gt;(pset.get&lt;fhicl::ParameterSet&gt;(<span class="stringliteral">&quot;ClusterAlg&quot;</span>));</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a6eb9b65e8a2e6307f1cdf2e292dfa81b">m_timeToProcess</a> = 0.;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_a5dcb76f8185ad0a04359d37654bcb44a"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a5dcb76f8185ad0a04359d37654bcb44a">lar_cluster3d::ClusterPathFinder::m_clusterAlg</a></div><div class="ttdeci">std::unique_ptr&lt; lar_cluster3d::IClusterAlg &gt; m_clusterAlg</div><div class="ttdoc">Algorithm to do 3D space point clustering. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00108">ClusterPathFinder_tool.cc:108</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_ae3b0d6067d6a6f44ae6f7b90a3b58785"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ae3b0d6067d6a6f44ae6f7b90a3b58785">lar_cluster3d::ClusterPathFinder::m_minTinyClusterSize</a></div><div class="ttdeci">size_t m_minTinyClusterSize</div><div class="ttdoc">Minimum size for a &amp;quot;tiny&amp;quot; cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00105">ClusterPathFinder_tool.cc:105</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_a29a7e5fb0674f88f25fc2914f7f37d72"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a29a7e5fb0674f88f25fc2914f7f37d72">lar_cluster3d::ClusterPathFinder::m_enableMonitoring</a></div><div class="ttdeci">bool m_enableMonitoring</div><div class="ttdoc">Data members to follow. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00104">ClusterPathFinder_tool.cc:104</a></div></div>
<div class="ttc" id="crtt0matchingalg__icarus_8fcl_html_af8bc618309fb2d0f55f7f5ae0760b466"><div class="ttname"><a href="../../df/d43/crtt0matchingalg__icarus_8fcl.html#af8bc618309fb2d0f55f7f5ae0760b466">true</a></div><div class="ttdeci">BEGIN_PROLOG don t mess with this pandoraTrackGausCryoW true</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d43/crtt0matchingalg__icarus_8fcl_source.html#l00015">crtt0matchingalg_icarus.fcl:15</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_a6eb9b65e8a2e6307f1cdf2e292dfa81b"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a6eb9b65e8a2e6307f1cdf2e292dfa81b">lar_cluster3d::ClusterPathFinder::m_timeToProcess</a></div><div class="ttdeci">float m_timeToProcess</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00106">ClusterPathFinder_tool.cc:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a26f10b4fd30285de4a9db5b29c9cbf07"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_cluster3d::ClusterPathFinder::getTimeToExecute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If monitoring, recover the time to execute a particular function. </p>

<p>Implements <a class="el" href="../../d3/d11/classlar__cluster3d_1_1IClusterModAlg.html#a444d1a945db0cb29e976c3e32e081690">lar_cluster3d::IClusterModAlg</a>.</p>

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00072">72</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{<span class="keywordflow">return</span> <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a6eb9b65e8a2e6307f1cdf2e292dfa81b">m_timeToProcess</a>;}</div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_a6eb9b65e8a2e6307f1cdf2e292dfa81b"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a6eb9b65e8a2e6307f1cdf2e292dfa81b">lar_cluster3d::ClusterPathFinder::m_timeToProcess</a></div><div class="ttdeci">float m_timeToProcess</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00106">ClusterPathFinder_tool.cc:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a404b48fe668e9dade0ac4a6d1c57afd2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_cluster3d::ClusterPathFinder::initializeHistograms </td>
          <td>(</td>
          <td class="paramtype">art::TFileDirectory &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interface for initializing histograms if they are desired Note that the idea is to put hisgtograms in a subfolder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TFileDirectory</td><td>- the folder to store the hists in </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d3/d11/classlar__cluster3d_1_1IClusterModAlg.html#a59d8a9493ed1ddb4a928e1aaff390aeb">lar_cluster3d::IClusterModAlg</a>.</p>

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00137">137</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa92235e0ec2f413520e8357c0fd74c56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_cluster3d::ClusterPathFinder::ModifyClusters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d57/namespacereco.html#a648503bdb2a1c43233004aeeb1ef737d">reco::ClusterParametersList</a> &amp;&#160;</td>
          <td class="paramname"><em>clusterParametersList</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scan an input collection of clusters and modify those according to the specific implementing algorithm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clusterParametersList</td><td>A list of cluster objects (parameters from associated hits) </td></tr>
  </table>
  </dd>
</dl>
<p>Top level interface for algorithm to consider pairs of clusters from the input list and determine if they are consistent with each other and, therefore, should be merged. This is done by looking at the PCA for each cluster and looking at the projection of the primary axis along the vector connecting their centers.</p>

<p>Implements <a class="el" href="../../d3/d11/classlar__cluster3d_1_1IClusterModAlg.html#af482f8e0956ffb8658ff72a07271baf5">lar_cluster3d::IClusterModAlg</a>.</p>

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00142">142</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{<span class="comment"></span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">     *  @brief Top level interface for algorithm to consider pairs of clusters from the input</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">     *         list and determine if they are consistent with each other and, therefore, should</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">     *         be merged. This is done by looking at the PCA for each cluster and looking at the</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">     *         projection of the primary axis along the vector connecting their centers.</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// Initial clustering is done, now trim the list and get output parameters</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    cet::cpu_timer theClockBuildClusters;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">// Start clocks if requested</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a29a7e5fb0674f88f25fc2914f7f37d72">m_enableMonitoring</a>) theClockBuildClusters.start();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordtype">int</span> countClusters(0);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// This is the loop over candidate 3D clusters</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">// Note that it might be that the list of candidate clusters is modified by splitting</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// So we use the following construct to make sure we get all of them</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    reco::ClusterParametersList::iterator clusterParametersListItr = clusterParametersList.begin();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">while</span>(clusterParametersListItr != clusterParametersList.end())</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="comment">// Dereference to get the cluster paramters</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a>&amp; clusterParameters = *clusterParametersListItr;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;**&gt; Looking at Cluster &quot;</span> &lt;&lt; countClusters++ &lt;&lt; std::endl;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="comment">// It turns out that computing the convex hull surrounding the points in the 2D projection onto the</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="comment">// plane of largest spread in the PCA is a good way to break up the cluster... and we do it here since</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="comment">// we (currently) want this to be part of the standard output</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a131476bcaaa2d7382ecac328239254a9">buildVoronoiDiagram</a>(clusterParameters);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="comment">// Make sure our cluster has enough hits...</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">if</span> (clusterParameters.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#acbb2da3e1afbe5f9ad015f2589ac2c3d">getHitPairListPtr</a>().size() &gt; <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ae3b0d6067d6a6f44ae6f7b90a3b58785">m_minTinyClusterSize</a>)</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="comment">// Get an interim cluster list</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <a class="code" href="../../d1/d57/namespacereco.html#a648503bdb2a1c43233004aeeb1ef737d">reco::ClusterParametersList</a> reclusteredParameters;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="comment">// Call the main workhorse algorithm for building the local version of candidate 3D clusters</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a5dcb76f8185ad0a04359d37654bcb44a">m_clusterAlg</a>-&gt;Cluster3DHits(clusterParameters.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#acbb2da3e1afbe5f9ad015f2589ac2c3d">getHitPairListPtr</a>(), reclusteredParameters);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Reclustered to &quot;</span> &lt;&lt; reclusteredParameters.size() &lt;&lt; <span class="stringliteral">&quot; Clusters &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="comment">// Only process non-empty results</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="keywordflow">if</span> (!reclusteredParameters.empty())</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <span class="comment">// Loop over the reclustered set</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#afac1ac7b61385644c993fbb774a1922f">cluster</a> : reclusteredParameters)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                    <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;****&gt; Calling breakIntoTinyBits&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    <span class="comment">// Break our cluster into smaller elements...</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                    <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a3658867a233637432946437fe1ef2fab">breakIntoTinyBits</a>(<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#afac1ac7b61385644c993fbb774a1922f">cluster</a>, <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#afac1ac7b61385644c993fbb774a1922f">cluster</a>.daughterList().end(), <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#afac1ac7b61385644c993fbb774a1922f">cluster</a>.daughterList(), 4);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;****&gt; Broke Cluster with &quot;</span> &lt;&lt; <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#afac1ac7b61385644c993fbb774a1922f">cluster</a>.getHitPairListPtr().size() &lt;&lt; <span class="stringliteral">&quot; into &quot;</span> &lt;&lt; <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#afac1ac7b61385644c993fbb774a1922f">cluster</a>.daughterList().size() &lt;&lt; <span class="stringliteral">&quot; sub clusters&quot;</span>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                    <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; clus : <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#afac1ac7b61385644c993fbb774a1922f">cluster</a>.daughterList()) <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; clus.getHitPairListPtr().size();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                    <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                    <span class="comment">// Add the daughters to the cluster</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                    clusterParameters.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a5c6cc8ee690acd7e762bbaaf0dbff416">daughterList</a>().insert(clusterParameters.<a class="code" href="../../d7/d9b/classreco_1_1ClusterParameters.html#a5c6cc8ee690acd7e762bbaaf0dbff416">daughterList</a>().end(),<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#afac1ac7b61385644c993fbb774a1922f">cluster</a>);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="comment">// Go to next cluster parameters object</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        clusterParametersListItr++;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a29a7e5fb0674f88f25fc2914f7f37d72">m_enableMonitoring</a>)</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        theClockBuildClusters.stop();</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a6eb9b65e8a2e6307f1cdf2e292dfa81b">m_timeToProcess</a> = theClockBuildClusters.accumulated_real_time();</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    mf::LogDebug(<span class="stringliteral">&quot;Cluster3D&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;&gt;&gt;&gt;&gt;&gt; Cluster Path finding done&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div>
<div class="ttc" id="cheaterreco_8fcl_html_afac1ac7b61385644c993fbb774a1922f"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#afac1ac7b61385644c993fbb774a1922f">cluster</a></div><div class="ttdeci">process_name cluster</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_a5dcb76f8185ad0a04359d37654bcb44a"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a5dcb76f8185ad0a04359d37654bcb44a">lar_cluster3d::ClusterPathFinder::m_clusterAlg</a></div><div class="ttdeci">std::unique_ptr&lt; lar_cluster3d::IClusterAlg &gt; m_clusterAlg</div><div class="ttdoc">Algorithm to do 3D space point clustering. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00108">ClusterPathFinder_tool.cc:108</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_acbb2da3e1afbe5f9ad015f2589ac2c3d"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#acbb2da3e1afbe5f9ad015f2589ac2c3d">reco::ClusterParameters::getHitPairListPtr</a></div><div class="ttdeci">reco::HitPairListPtr &amp; getHitPairListPtr()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00475">Cluster3D.h:475</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html_a5c6cc8ee690acd7e762bbaaf0dbff416"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html#a5c6cc8ee690acd7e762bbaaf0dbff416">reco::ClusterParameters::daughterList</a></div><div class="ttdeci">ClusterParametersList &amp; daughterList()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00449">Cluster3D.h:449</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_ae3b0d6067d6a6f44ae6f7b90a3b58785"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#ae3b0d6067d6a6f44ae6f7b90a3b58785">lar_cluster3d::ClusterPathFinder::m_minTinyClusterSize</a></div><div class="ttdeci">size_t m_minTinyClusterSize</div><div class="ttdoc">Minimum size for a &amp;quot;tiny&amp;quot; cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00105">ClusterPathFinder_tool.cc:105</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_a3658867a233637432946437fe1ef2fab"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a3658867a233637432946437fe1ef2fab">lar_cluster3d::ClusterPathFinder::breakIntoTinyBits</a></div><div class="ttdeci">reco::ClusterParametersList::iterator breakIntoTinyBits(reco::ClusterParameters &amp;cluster, reco::ClusterParametersList::iterator positionItr, reco::ClusterParametersList &amp;outputClusterList, int level=0) const </div><div class="ttdoc">Use PCA to try to find path in cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00224">ClusterPathFinder_tool.cc:224</a></div></div>
<div class="ttc" id="classreco_1_1ClusterParameters_html"><div class="ttname"><a href="../../d7/d9b/classreco_1_1ClusterParameters.html">reco::ClusterParameters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00405">Cluster3D.h:405</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_a29a7e5fb0674f88f25fc2914f7f37d72"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a29a7e5fb0674f88f25fc2914f7f37d72">lar_cluster3d::ClusterPathFinder::m_enableMonitoring</a></div><div class="ttdeci">bool m_enableMonitoring</div><div class="ttdoc">Data members to follow. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00104">ClusterPathFinder_tool.cc:104</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_a131476bcaaa2d7382ecac328239254a9"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a131476bcaaa2d7382ecac328239254a9">lar_cluster3d::ClusterPathFinder::buildVoronoiDiagram</a></div><div class="ttdeci">void buildVoronoiDiagram(reco::ClusterParameters &amp;clusterParameters, int level=0) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00550">ClusterPathFinder_tool.cc:550</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="namespacereco_html_a648503bdb2a1c43233004aeeb1ef737d"><div class="ttname"><a href="../../d1/d57/namespacereco.html#a648503bdb2a1c43233004aeeb1ef737d">reco::ClusterParametersList</a></div><div class="ttdeci">std::list&lt; ClusterParameters &gt; ClusterParametersList</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Cluster3D_8h_source.html#l00403">Cluster3D.h:403</a></div></div>
<div class="ttc" id="classlar__cluster3d_1_1ClusterPathFinder_html_a6eb9b65e8a2e6307f1cdf2e292dfa81b"><div class="ttname"><a href="../../d6/d9a/classlar__cluster3d_1_1ClusterPathFinder.html#a6eb9b65e8a2e6307f1cdf2e292dfa81b">lar_cluster3d::ClusterPathFinder::m_timeToProcess</a></div><div class="ttdeci">float m_timeToProcess</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00106">ClusterPathFinder_tool.cc:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a5dcb76f8185ad0a04359d37654bcb44a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../de/dec/classlar__cluster3d_1_1IClusterAlg.html">lar_cluster3d::IClusterAlg</a>&gt; lar_cluster3d::ClusterPathFinder::m_clusterAlg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Algorithm to do 3D space point clustering. </p>

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00108">108</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a29a7e5fb0674f88f25fc2914f7f37d72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_cluster3d::ClusterPathFinder::m_enableMonitoring</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d4/ddc/structData.html">Data</a> members to follow. </p>

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00104">104</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ae3b0d6067d6a6f44ae6f7b90a3b58785"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lar_cluster3d::ClusterPathFinder::m_minTinyClusterSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minimum size for a "tiny" cluster. </p>

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00105">105</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aed3818afef2dbd9f82770d4a0e6600d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d48/classlar__cluster3d_1_1PrincipalComponentsAlg.html">PrincipalComponentsAlg</a> lar_cluster3d::ClusterPathFinder::m_pcaAlg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00109">109</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a6eb9b65e8a2e6307f1cdf2e292dfa81b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_cluster3d::ClusterPathFinder::m_timeToProcess</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html#l00106">106</a> of file <a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../dd/d79/ClusterPathFinder__tool_8cc_source.html">ClusterPathFinder_tool.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
