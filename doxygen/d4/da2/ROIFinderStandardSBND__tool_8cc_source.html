<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ROIFinderStandardSBND_tool.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b73b02d482d1c4a3db20c3d9ad52d395.html">srcs</a></li><li class="navelem"><a class="el" href="../../dir_e0f1515b72b556ea1a60650362b3fd43.html">sbndcode</a></li><li class="navelem"><a class="el" href="../../dir_c704eecb2dcddc67a44d0dda177b30ed.html">sbndcode</a></li><li class="navelem"><a class="el" href="../../dir_536f989121116a8335348eb5d76d1a9c.html">Calibration</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ROIFinderStandardSBND_tool.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d4/da2/ROIFinderStandardSBND__tool_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span><span class="comment">/// \file   ROIFinderStandardSBND_tool.cc</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"></span><span class="comment">/// \author T. Usher</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span><span class="comment">/// Ported from ICARUS to SBND by A. Scarff</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"></span><span class="comment">////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span><span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d0c/sbndcode_2sbndcode_2Calibration_2IROIFinder_8h.html">sbndcode/Calibration/IROIFinder.h</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;art/Utilities/ToolMacros.h&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;art_root_io/TFileService.h&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;messagefacility/MessageLogger/MessageLogger.h&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;cetlib_except/exception.h&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d50/SignalShapingServiceSBND_8h.html">sbndcode/Utilities/SignalShapingServiceSBND.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/df8/DetectorPropertiesService_8h.html">lardata/DetectorInfoServices/DetectorPropertiesService.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d8b/Geometry_8h.html">larcore/Geometry/Geometry.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;TH1D.h&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;numeric&gt;</span> <span class="comment">// std::accumulate</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">namespace </span>sbnd_tool</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;{</div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html">   22</a></span>&#160;  <span class="keyword">class </span><a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html">ROIFinderStandardSBND</a> : <span class="keyword">public</span> <a class="code" href="../../d2/d31/classsbnd__tool_1_1IROIFinder.html">IROIFinder</a></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="keyword">explicit</span> <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a751716a7662ce8d72c52b003382dba14">ROIFinderStandardSBND</a>(<span class="keyword">const</span> fhicl::ParameterSet&amp; pset);</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a376568d45ceb6aac18d56514d2277f2e">~ROIFinderStandardSBND</a>();</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keywordtype">void</span>   <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a7b40d70731bb15b1b5fec5ee90f9d65e">configure</a>(<span class="keyword">const</span> fhicl::ParameterSet&amp; pset)                        <span class="keyword">override</span>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordtype">void</span>   <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#ab43e25205027c81daa55e141b46bf770">initializeHistograms</a>(art::TFileDirectory&amp;)                  <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a7203d134c4cbd9b8739497aa0ccc2c05">   31</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a7203d134c4cbd9b8739497aa0ccc2c05">plane</a>()<span class="keyword">                                                   const override </span>{<span class="keywordflow">return</span> <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a1a100e081a31e39e79ba1a57a2bf24f2">fPlane</a>;}</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordtype">void</span>   <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a8c0ab996d7cd576388cc906be6d238f9">FindROIs</a>(<span class="keyword">const</span> <a class="code" href="../../d2/d31/classsbnd__tool_1_1IROIFinder.html#acd6de2fffb68da339c3bc5d5b449e657">Waveform</a>&amp;, <span class="keywordtype">size_t</span>, <a class="code" href="../../d2/d31/classsbnd__tool_1_1IROIFinder.html#a9b52d2c6b224484bb252ec61a1ded599">CandidateROIVec</a>&amp;) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a752f3adf6e4819100ff3ca88c64ef8da">calculateLocalRMS</a>(<span class="keyword">const</span> <a class="code" href="../../d2/d31/classsbnd__tool_1_1IROIFinder.html#acd6de2fffb68da339c3bc5d5b449e657">Waveform</a>&amp; waveform) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="comment">// Member variables from the fhicl file</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a1a100e081a31e39e79ba1a57a2bf24f2">   36</a></span>&#160;    <span class="keywordtype">size_t</span>                        <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a1a100e081a31e39e79ba1a57a2bf24f2">fPlane</a>;</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a5d863ca12a5e254eeb5ee818556ca016">   37</a></span>&#160;    <span class="keywordtype">float</span>                <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a5d863ca12a5e254eeb5ee818556ca016">fNumBinsHalf</a>;                <span class="comment">///&lt; Determines # bins in ROI running sum</span></div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a6b3cf61aeefd58db9fc044ef62fd66c9">   38</a></span>&#160;<span class="comment"></span>    std::vector&lt;float&gt;   <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a6b3cf61aeefd58db9fc044ef62fd66c9">fThreshold</a>;                  <span class="comment">///&lt; abs(threshold) ADC counts for ROI</span></div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a0fabc9dcda9bd72d64a0c0823ee63794">   39</a></span>&#160;<span class="comment"></span>    std::vector&lt;int&gt;              <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a0fabc9dcda9bd72d64a0c0823ee63794">fNumSigma</a>;                   <span class="comment">///&lt; &quot;# sigma&quot; rms noise for ROI threshold</span></div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a03e225bbf10fa98c93d45150d394927c">   40</a></span>&#160;<span class="comment"></span>    std::vector&lt;float&gt;   <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a03e225bbf10fa98c93d45150d394927c">fPreROIPad</a>;                  <span class="comment">///&lt; ROI padding</span></div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a8721721bef68718bdd9fbb870fbb3b9d">   41</a></span>&#160;<span class="comment"></span>    std::vector&lt;float&gt;   <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a8721721bef68718bdd9fbb870fbb3b9d">fPostROIPad</a>;                 <span class="comment">///&lt; ROI padding</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"></span>    </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="comment">// Services</span></div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a113ac0ab25de8d05ba73ad04bcc44bc8">   44</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a>*                             <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a113ac0ab25de8d05ba73ad04bcc44bc8">fGeometry</a> = lar::providerFrom&lt;geo::Geometry&gt;();</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#acc9b05f74f2d8d191cc80628e2481011">   45</a></span>&#160;    art::ServiceHandle&lt;util::SignalShapingServiceSBND&gt; <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#acc9b05f74f2d8d191cc80628e2481011">sss</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  };</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="comment">// Constructor.</span></div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a751716a7662ce8d72c52b003382dba14">   50</a></span>&#160;  <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a751716a7662ce8d72c52b003382dba14">ROIFinderStandardSBND::ROIFinderStandardSBND</a>(<span class="keyword">const</span> fhicl::ParameterSet&amp; pset)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a7b40d70731bb15b1b5fec5ee90f9d65e">configure</a>(pset);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a376568d45ceb6aac18d56514d2277f2e">   55</a></span>&#160;  <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a376568d45ceb6aac18d56514d2277f2e">ROIFinderStandardSBND::~ROIFinderStandardSBND</a>()</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  }</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a7b40d70731bb15b1b5fec5ee90f9d65e">   59</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a7b40d70731bb15b1b5fec5ee90f9d65e">ROIFinderStandardSBND::configure</a>(<span class="keyword">const</span> fhicl::ParameterSet&amp; pset)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">// Start by recovering the parameters</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    std::vector&lt;float&gt; uin;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    std::vector&lt;float&gt; vin;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    std::vector&lt;float&gt; zin;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a5d863ca12a5e254eeb5ee818556ca016">fNumBinsHalf</a> = pset.get&lt;<span class="keywordtype">float</span>&gt;             (<span class="stringliteral">&quot;NumBinsHalf&quot;</span>, 3);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a6b3cf61aeefd58db9fc044ef62fd66c9">fThreshold</a>   = pset.get&lt; std::vector&lt;float&gt; &gt;(<span class="stringliteral">&quot;Threshold&quot;</span>     );</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a0fabc9dcda9bd72d64a0c0823ee63794">fNumSigma</a>    = pset.get&lt; std::vector&lt;int&gt; &gt;           (<span class="stringliteral">&quot;NumSigma&quot;</span>      );</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    uin          = pset.get&lt; std::vector&lt;float&gt; &gt;(<span class="stringliteral">&quot;uPlaneROIPad&quot;</span>  );</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    vin          = pset.get&lt; std::vector&lt;float&gt; &gt;(<span class="stringliteral">&quot;vPlaneROIPad&quot;</span>  );</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    zin          = pset.get&lt; std::vector&lt;float&gt; &gt;(<span class="stringliteral">&quot;zPlaneROIPad&quot;</span>  );</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">if</span>(uin.size() != 2 || vin.size() != 2 || zin.size() != 2) {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <span class="keywordflow">throw</span> art::Exception(art::errors::Configuration)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;u/v/z plane ROI pad size != 2&quot;</span>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a03e225bbf10fa98c93d45150d394927c">fPreROIPad</a>.resize(3);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a8721721bef68718bdd9fbb870fbb3b9d">fPostROIPad</a>.resize(3);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">// put the ROI pad sizes into more convenient vectors</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a03e225bbf10fa98c93d45150d394927c">fPreROIPad</a>[0]  = uin[0];</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a8721721bef68718bdd9fbb870fbb3b9d">fPostROIPad</a>[0] = uin[1];</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a03e225bbf10fa98c93d45150d394927c">fPreROIPad</a>[1]  = vin[0];</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a8721721bef68718bdd9fbb870fbb3b9d">fPostROIPad</a>[1] = vin[1];</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a03e225bbf10fa98c93d45150d394927c">fPreROIPad</a>[2]  = zin[0];</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a8721721bef68718bdd9fbb870fbb3b9d">fPostROIPad</a>[2] = zin[1];</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// Get signal shaping service.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#acc9b05f74f2d8d191cc80628e2481011">sss</a> = art::ServiceHandle&lt;util::SignalShapingServiceSBND&gt;();</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="comment">//void ROIFinderStandardSBND::FindROIs(const Waveform&amp; waveform, size_t channel, size_t cnt, double rmsNoise, CandidateROIVec&amp; roiVec) const</span></div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a8c0ab996d7cd576388cc906be6d238f9">   96</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a8c0ab996d7cd576388cc906be6d238f9">ROIFinderStandardSBND::FindROIs</a>(<span class="keyword">const</span> <a class="code" href="../../d2/d31/classsbnd__tool_1_1IROIFinder.html#acd6de2fffb68da339c3bc5d5b449e657">Waveform</a>&amp; waveform, <span class="keywordtype">size_t</span> channel, <a class="code" href="../../d2/d31/classsbnd__tool_1_1IROIFinder.html#a9b52d2c6b224484bb252ec61a1ded599">CandidateROIVec</a>&amp; roiVec)<span class="keyword"> const</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">  </span>{</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">// First up, translate the channel to plane</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    std::vector&lt;geo::WireID&gt; wids    = <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a113ac0ab25de8d05ba73ad04bcc44bc8">fGeometry</a>-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#a0c5d3db5d5490bc3fc8fb3bbdb282f36">ChannelToWire</a>(channel);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d4/d41/structgeo_1_1PlaneID.html">geo::PlaneID</a>&amp;      planeID = wids[0].planeID();</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordtype">size_t</span> numBins(2 * <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a5d863ca12a5e254eeb5ee818556ca016">fNumBinsHalf</a> + 1);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordtype">size_t</span> startBin(0);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordtype">size_t</span> stopBin(numBins);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordtype">float</span>  elecNoise = <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#acc9b05f74f2d8d191cc80628e2481011">sss</a>-&gt;GetRawNoise(channel);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordtype">double</span> rmsNoise = this-&gt;<a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a752f3adf6e4819100ff3ca88c64ef8da">calculateLocalRMS</a>(waveform); <span class="comment">// added from ICARUS calculation.</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordtype">float</span>  rawNoise  = <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(rmsNoise, <span class="keywordtype">double</span>(elecNoise));</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordtype">float</span> startThreshold = sqrt(<span class="keywordtype">float</span>(numBins)) * (<a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a0fabc9dcda9bd72d64a0c0823ee63794">fNumSigma</a>[planeID.<a class="code" href="../../d4/d41/structgeo_1_1PlaneID.html#a02c2afa6841ef86ea8ab49478cdf5b29">Plane</a>] * rawNoise + <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a6b3cf61aeefd58db9fc044ef62fd66c9">fThreshold</a>[planeID.<a class="code" href="../../d4/d41/structgeo_1_1PlaneID.html#a02c2afa6841ef86ea8ab49478cdf5b29">Plane</a>]);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordtype">float</span> stopThreshold  = startThreshold;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// Setup</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordtype">float</span> runningSum = std::accumulate(waveform.begin(),waveform.begin()+numBins, 0.);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordtype">size_t</span> roiStartBin(0);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordtype">bool</span>   roiCandStart(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">// search for ROIs - follow prescription from Bruce B using a running sum to make faster</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">// Note that we start in the middle of the running sum... if we find an ROI padding will extend</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// past this to take care of ends of the waveform</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> <a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a512aa20fb28b8c00f3d290ba176b40e1">bin</a> = <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a5d863ca12a5e254eeb5ee818556ca016">fNumBinsHalf</a> + 1; <a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a512aa20fb28b8c00f3d290ba176b40e1">bin</a> &lt; waveform.size() - <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a5d863ca12a5e254eeb5ee818556ca016">fNumBinsHalf</a>; <a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a512aa20fb28b8c00f3d290ba176b40e1">bin</a>++)</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="comment">// handle the running sum</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="comment">// Case, we are at start of waveform</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        runningSum -= waveform[startBin++];</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="comment">// Case, we are at end of waveform</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        runningSum += waveform[stopBin++];</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="comment">// We have already started a candidate ROI</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">if</span> (roiCandStart)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;          {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordflow">if</span> (fabs(runningSum) &lt; stopThreshold)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;              {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a512aa20fb28b8c00f3d290ba176b40e1">bin</a> - roiStartBin &gt; 2) roiVec.push_back(<a class="code" href="../../d2/d31/classsbnd__tool_1_1IROIFinder.html#a9641bb100dab3eb6b266e9530c562a26">CandidateROI</a>(roiStartBin, <a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a512aa20fb28b8c00f3d290ba176b40e1">bin</a>));</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                roiCandStart = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;              }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;          }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="comment">// Not yet started a candidate ROI</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;          {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="keywordflow">if</span> (fabs(runningSum) &gt; startThreshold)</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;              {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                roiStartBin  = <a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a512aa20fb28b8c00f3d290ba176b40e1">bin</a>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                roiCandStart = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;              }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;          }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      } <span class="comment">// bin</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// add the last ROI if existed</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">if</span> (roiCandStart) roiVec.push_back(<a class="code" href="../../d2/d31/classsbnd__tool_1_1IROIFinder.html#a9641bb100dab3eb6b266e9530c562a26">CandidateROI</a>(roiStartBin, waveform.size() - 1));</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">// pad the ROIs</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; roi : roiVec)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="comment">// low ROI end</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        roi.first  = <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(<span class="keywordtype">int</span>(roi.first - <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a03e225bbf10fa98c93d45150d394927c">fPreROIPad</a>[planeID.<a class="code" href="../../d4/d41/structgeo_1_1PlaneID.html#a02c2afa6841ef86ea8ab49478cdf5b29">Plane</a>]),0);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="comment">// high ROI end</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        roi.second = std::min(roi.second + <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a8721721bef68718bdd9fbb870fbb3b9d">fPostROIPad</a>[planeID.<a class="code" href="../../d4/d41/structgeo_1_1PlaneID.html#a02c2afa6841ef86ea8ab49478cdf5b29">Plane</a>], <span class="keywordtype">float</span>(waveform.size()) - 1);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// merge overlapping (or touching) ROI&#39;s</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">if</span>(roiVec.size() &gt; 1)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="comment">// temporary vector for merged ROIs</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <a class="code" href="../../d2/d31/classsbnd__tool_1_1IROIFinder.html#a9b52d2c6b224484bb252ec61a1ded599">CandidateROIVec</a> tempRoiVec;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="comment">// Loop through candidate roi&#39;s</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordtype">size_t</span> startRoi = roiVec.front().first;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordtype">size_t</span> stopRoi  = startRoi;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; roi : roiVec)</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;          {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="keywordflow">if</span> (roi.first &lt;= stopRoi) stopRoi = roi.second;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;              {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                tempRoiVec.push_back(<a class="code" href="../../d2/d31/classsbnd__tool_1_1IROIFinder.html#a9641bb100dab3eb6b266e9530c562a26">CandidateROI</a>(startRoi,stopRoi));</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                startRoi = roi.first;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                stopRoi  = roi.second;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;              }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;          }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="comment">// Make sure to get the last one</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        tempRoiVec.push_back(<a class="code" href="../../d2/d31/classsbnd__tool_1_1IROIFinder.html#a9641bb100dab3eb6b266e9530c562a26">CandidateROI</a>(startRoi,stopRoi));</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        roiVec = tempRoiVec;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a752f3adf6e4819100ff3ca88c64ef8da">  197</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a752f3adf6e4819100ff3ca88c64ef8da">ROIFinderStandardSBND::calculateLocalRMS</a>(<span class="keyword">const</span> <a class="code" href="../../d2/d31/classsbnd__tool_1_1IROIFinder.html#acd6de2fffb68da339c3bc5d5b449e657">Waveform</a>&amp; waveform)<span class="keyword"> const</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="keyword">  </span>{</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">// do rms calculation - the old fashioned way and over all adc values                                                                                            </span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    std::vector&lt;float&gt; locWaveform = waveform;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">// sort in ascending order so we can truncate the sume                                                                                                           </span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    std::sort(locWaveform.begin(), locWaveform.end(),[](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>, <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>){<span class="keywordflow">return</span> std::fabs(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>) &lt; std::fabs(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>);});</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">// Get the mean of the waveform we&#39;re checking...                                                                                                                </span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordtype">float</span> sumWaveform  = std::accumulate(locWaveform.begin(),locWaveform.begin() + locWaveform.size()/2, 0.);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordtype">float</span> meanWaveform = sumWaveform / float(locWaveform.size()/2);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    std::vector&lt;float&gt; locWaveformDiff(locWaveform.size()/2);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">std::transform</a>(locWaveform.begin(),locWaveform.begin() + locWaveform.size()/2,locWaveformDiff.begin(), std::bind(std::minus&lt;float&gt;(),std::placeholders::_1,meanWaveform));</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordtype">double</span> localRMS = std::inner_product(locWaveformDiff.begin(), locWaveformDiff.end(), locWaveformDiff.begin(), 0.);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    localRMS = std::sqrt(<a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(<span class="keywordtype">float</span>(0.),<span class="keywordtype">float</span>(localRMS) / <span class="keywordtype">float</span>(locWaveformDiff.size())));</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">return</span>(localRMS);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#ab43e25205027c81daa55e141b46bf770">  220</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#ab43e25205027c81daa55e141b46bf770">ROIFinderStandardSBND::initializeHistograms</a>(art::TFileDirectory&amp; histDir)<span class="keyword"> const</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="keyword">  </span>{</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">// It is assumed that the input TFileDirectory has been set up to group histograms into a common</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">// folder at the calling routine&#39;s level. Here we create one more level of indirection to keep</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// histograms made by this tool separate.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">    std::string dirName = &quot;ROIFinderPlane_&quot; + std::to_string(fPlane);</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">    art::TFileDirectory dir = histDir.mkdir(dirName.c_str());</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">    auto const* detprop      = lar::providerFrom&lt;detinfo::DetectorPropertiesService&gt;();</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">    double      samplingRate = detprop-&gt;SamplingRate();</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">    double      numBins      = fROIFinderVec.size();</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">    double      maxFreq      = 500. / samplingRate;</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">    std::string histName     = &quot;ROIFinderPlane_&quot; + std::to_string(fPlane);</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">    TH1D*       hist         = dir.make&lt;TH1D&gt;(histName.c_str(), &quot;ROIFinder;Frequency(MHz)&quot;, numBins, 0., maxFreq);</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">    for(int bin = 0; bin &lt; numBins; bin++)</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">        double freq = maxFreq * double(bin + 0.5) / double(numBins);</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">        </span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">        hist-&gt;Fill(freq, fROIFinderVec.at(bin).Re());</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  DEFINE_ART_CLASS_TOOL(<a class="code" href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html">ROIFinderStandardSBND</a>)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div>
<div class="ttc" id="classsbnd__tool_1_1ROIFinderStandardSBND_html_a8c0ab996d7cd576388cc906be6d238f9"><div class="ttname"><a href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a8c0ab996d7cd576388cc906be6d238f9">sbnd_tool::ROIFinderStandardSBND::FindROIs</a></div><div class="ttdeci">void FindROIs(const Waveform &amp;, size_t, CandidateROIVec &amp;) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da2/ROIFinderStandardSBND__tool_8cc_source.html#l00096">ROIFinderStandardSBND_tool.cc:96</a></div></div>
<div class="ttc" id="namespaceicarus_1_1waveform__operations_1_1details_html_ae295d3f6cb2f9181dccdf0e3492d44e0"><div class="ttname"><a href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">icarus::waveform_operations::details::transform</a></div><div class="ttdeci">static constexpr Sample_t transform(Sample_t sample)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8e/WaveformOperations_8h_source.html#l00145">WaveformOperations.h:145</a></div></div>
<div class="ttc" id="classsbnd__tool_1_1IROIFinder_html_a9641bb100dab3eb6b266e9530c562a26"><div class="ttname"><a href="../../d2/d31/classsbnd__tool_1_1IROIFinder.html#a9641bb100dab3eb6b266e9530c562a26">sbnd_tool::IROIFinder::CandidateROI</a></div><div class="ttdeci">std::pair&lt; size_t, size_t &gt; CandidateROI</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0c/sbndcode_2sbndcode_2Calibration_2IROIFinder_8h_source.html#l00035">sbndcode/sbndcode/Calibration/IROIFinder.h:35</a></div></div>
<div class="ttc" id="classsbnd__tool_1_1ROIFinderStandardSBND_html_a0fabc9dcda9bd72d64a0c0823ee63794"><div class="ttname"><a href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a0fabc9dcda9bd72d64a0c0823ee63794">sbnd_tool::ROIFinderStandardSBND::fNumSigma</a></div><div class="ttdeci">std::vector&lt; int &gt; fNumSigma</div><div class="ttdoc">&amp;quot;# sigma&amp;quot; rms noise for ROI threshold </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da2/ROIFinderStandardSBND__tool_8cc_source.html#l00039">ROIFinderStandardSBND_tool.cc:39</a></div></div>
<div class="ttc" id="classsbnd__tool_1_1ROIFinderStandardSBND_html_a5d863ca12a5e254eeb5ee818556ca016"><div class="ttname"><a href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a5d863ca12a5e254eeb5ee818556ca016">sbnd_tool::ROIFinderStandardSBND::fNumBinsHalf</a></div><div class="ttdeci">float fNumBinsHalf</div><div class="ttdoc">Determines # bins in ROI running sum. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da2/ROIFinderStandardSBND__tool_8cc_source.html#l00037">ROIFinderStandardSBND_tool.cc:37</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a9453748558088ae22499027391c13aaf"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a></div><div class="ttdeci">walls no right</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="structgeo_1_1PlaneID_html"><div class="ttname"><a href="../../d4/d41/structgeo_1_1PlaneID.html">geo::PlaneID</a></div><div class="ttdoc">The data type to uniquely identify a Plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00472">geo_types.h:472</a></div></div>
<div class="ttc" id="classsbnd__tool_1_1IROIFinder_html_a9b52d2c6b224484bb252ec61a1ded599"><div class="ttname"><a href="../../d2/d31/classsbnd__tool_1_1IROIFinder.html#a9b52d2c6b224484bb252ec61a1ded599">sbnd_tool::IROIFinder::CandidateROIVec</a></div><div class="ttdeci">std::vector&lt; CandidateROI &gt; CandidateROIVec</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0c/sbndcode_2sbndcode_2Calibration_2IROIFinder_8h_source.html#l00036">sbndcode/sbndcode/Calibration/IROIFinder.h:36</a></div></div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_a0c5d3db5d5490bc3fc8fb3bbdb282f36"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#a0c5d3db5d5490bc3fc8fb3bbdb282f36">geo::GeometryCore::ChannelToWire</a></div><div class="ttdeci">std::vector&lt; geo::WireID &gt; ChannelToWire(raw::ChannelID_t const channel) const </div><div class="ttdoc">Returns a list of wires connected to the specified TPC channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6a/GeometryCore_8cxx_source.html#l01107">GeometryCore.cxx:1107</a></div></div>
<div class="ttc" id="classsbnd__tool_1_1ROIFinderStandardSBND_html_a6b3cf61aeefd58db9fc044ef62fd66c9"><div class="ttname"><a href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a6b3cf61aeefd58db9fc044ef62fd66c9">sbnd_tool::ROIFinderStandardSBND::fThreshold</a></div><div class="ttdeci">std::vector&lt; float &gt; fThreshold</div><div class="ttdoc">abs(threshold) ADC counts for ROI </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da2/ROIFinderStandardSBND__tool_8cc_source.html#l00038">ROIFinderStandardSBND_tool.cc:38</a></div></div>
<div class="ttc" id="classsbnd__tool_1_1ROIFinderStandardSBND_html_a8721721bef68718bdd9fbb870fbb3b9d"><div class="ttname"><a href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a8721721bef68718bdd9fbb870fbb3b9d">sbnd_tool::ROIFinderStandardSBND::fPostROIPad</a></div><div class="ttdeci">std::vector&lt; float &gt; fPostROIPad</div><div class="ttdoc">ROI padding. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da2/ROIFinderStandardSBND__tool_8cc_source.html#l00041">ROIFinderStandardSBND_tool.cc:41</a></div></div>
<div class="ttc" id="classsbnd__tool_1_1IROIFinder_html"><div class="ttname"><a href="../../d2/d31/classsbnd__tool_1_1IROIFinder.html">sbnd_tool::IROIFinder</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0c/sbndcode_2sbndcode_2Calibration_2IROIFinder_8h_source.html#l00022">sbndcode/sbndcode/Calibration/IROIFinder.h:22</a></div></div>
<div class="ttc" id="namespaceicarus_1_1ns_1_1util_html_a512aa20fb28b8c00f3d290ba176b40e1"><div class="ttname"><a href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a512aa20fb28b8c00f3d290ba176b40e1">icarus::ns::util::bin</a></div><div class="ttdeci">constexpr details::BinObj&lt; T &gt; bin(T value)</div><div class="ttdoc">Returns a wrapper to print the specified data in binary format. </div></div>
<div class="ttc" id="DetectorPropertiesService_8h_html"><div class="ttname"><a href="../../de/df8/DetectorPropertiesService_8h.html">DetectorPropertiesService.h</a></div></div>
<div class="ttc" id="SignalShapingServiceSBND_8h_html"><div class="ttname"><a href="../../d8/d50/SignalShapingServiceSBND_8h.html">SignalShapingServiceSBND.h</a></div><div class="ttdoc">Service to provide microboone-specific signal shaping for simulation (convolution) and reconstruction...</div></div>
<div class="ttc" id="classsbnd__tool_1_1ROIFinderStandardSBND_html_a752f3adf6e4819100ff3ca88c64ef8da"><div class="ttname"><a href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a752f3adf6e4819100ff3ca88c64ef8da">sbnd_tool::ROIFinderStandardSBND::calculateLocalRMS</a></div><div class="ttdeci">double calculateLocalRMS(const Waveform &amp;waveform) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da2/ROIFinderStandardSBND__tool_8cc_source.html#l00197">ROIFinderStandardSBND_tool.cc:197</a></div></div>
<div class="ttc" id="classsbnd__tool_1_1ROIFinderStandardSBND_html"><div class="ttname"><a href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html">sbnd_tool::ROIFinderStandardSBND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da2/ROIFinderStandardSBND__tool_8cc_source.html#l00022">ROIFinderStandardSBND_tool.cc:22</a></div></div>
<div class="ttc" id="classsbnd__tool_1_1ROIFinderStandardSBND_html_a376568d45ceb6aac18d56514d2277f2e"><div class="ttname"><a href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a376568d45ceb6aac18d56514d2277f2e">sbnd_tool::ROIFinderStandardSBND::~ROIFinderStandardSBND</a></div><div class="ttdeci">~ROIFinderStandardSBND()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da2/ROIFinderStandardSBND__tool_8cc_source.html#l00055">ROIFinderStandardSBND_tool.cc:55</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a1abc6b9e279feba048394f49a85218c9"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a></div><div class="ttdeci">walls no left</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classsbnd__tool_1_1ROIFinderStandardSBND_html_a7203d134c4cbd9b8739497aa0ccc2c05"><div class="ttname"><a href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a7203d134c4cbd9b8739497aa0ccc2c05">sbnd_tool::ROIFinderStandardSBND::plane</a></div><div class="ttdeci">size_t plane() const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da2/ROIFinderStandardSBND__tool_8cc_source.html#l00031">ROIFinderStandardSBND_tool.cc:31</a></div></div>
<div class="ttc" id="sbndcode_2sbndcode_2Calibration_2IROIFinder_8h_html"><div class="ttname"><a href="../../d5/d0c/sbndcode_2sbndcode_2Calibration_2IROIFinder_8h.html">IROIFinder.h</a></div></div>
<div class="ttc" id="structgeo_1_1PlaneID_html_a02c2afa6841ef86ea8ab49478cdf5b29"><div class="ttname"><a href="../../d4/d41/structgeo_1_1PlaneID.html#a02c2afa6841ef86ea8ab49478cdf5b29">geo::PlaneID::Plane</a></div><div class="ttdeci">PlaneID_t Plane</div><div class="ttdoc">Index of the plane within its TPC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00493">geo_types.h:493</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a></div><div class="ttdoc">Description of geometry of one entire detector. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de7/GeometryCore_8h_source.html#l01468">GeometryCore.h:1468</a></div></div>
<div class="ttc" id="classsbnd__tool_1_1ROIFinderStandardSBND_html_ab43e25205027c81daa55e141b46bf770"><div class="ttname"><a href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#ab43e25205027c81daa55e141b46bf770">sbnd_tool::ROIFinderStandardSBND::initializeHistograms</a></div><div class="ttdeci">void initializeHistograms(art::TFileDirectory &amp;) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da2/ROIFinderStandardSBND__tool_8cc_source.html#l00220">ROIFinderStandardSBND_tool.cc:220</a></div></div>
<div class="ttc" id="classsbnd__tool_1_1ROIFinderStandardSBND_html_acc9b05f74f2d8d191cc80628e2481011"><div class="ttname"><a href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#acc9b05f74f2d8d191cc80628e2481011">sbnd_tool::ROIFinderStandardSBND::sss</a></div><div class="ttdeci">art::ServiceHandle&lt; util::SignalShapingServiceSBND &gt; sss</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da2/ROIFinderStandardSBND__tool_8cc_source.html#l00045">ROIFinderStandardSBND_tool.cc:45</a></div></div>
<div class="ttc" id="classsbnd__tool_1_1IROIFinder_html_acd6de2fffb68da339c3bc5d5b449e657"><div class="ttname"><a href="../../d2/d31/classsbnd__tool_1_1IROIFinder.html#acd6de2fffb68da339c3bc5d5b449e657">sbnd_tool::IROIFinder::Waveform</a></div><div class="ttdeci">std::vector&lt; float &gt; Waveform</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0c/sbndcode_2sbndcode_2Calibration_2IROIFinder_8h_source.html#l00032">sbndcode/sbndcode/Calibration/IROIFinder.h:32</a></div></div>
<div class="ttc" id="classsbnd__tool_1_1ROIFinderStandardSBND_html_a7b40d70731bb15b1b5fec5ee90f9d65e"><div class="ttname"><a href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a7b40d70731bb15b1b5fec5ee90f9d65e">sbnd_tool::ROIFinderStandardSBND::configure</a></div><div class="ttdeci">void configure(const fhicl::ParameterSet &amp;pset) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da2/ROIFinderStandardSBND__tool_8cc_source.html#l00059">ROIFinderStandardSBND_tool.cc:59</a></div></div>
<div class="ttc" id="classsbnd__tool_1_1ROIFinderStandardSBND_html_a1a100e081a31e39e79ba1a57a2bf24f2"><div class="ttname"><a href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a1a100e081a31e39e79ba1a57a2bf24f2">sbnd_tool::ROIFinderStandardSBND::fPlane</a></div><div class="ttdeci">size_t fPlane</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da2/ROIFinderStandardSBND__tool_8cc_source.html#l00036">ROIFinderStandardSBND_tool.cc:36</a></div></div>
<div class="ttc" id="classsbnd__tool_1_1ROIFinderStandardSBND_html_a751716a7662ce8d72c52b003382dba14"><div class="ttname"><a href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a751716a7662ce8d72c52b003382dba14">sbnd_tool::ROIFinderStandardSBND::ROIFinderStandardSBND</a></div><div class="ttdeci">ROIFinderStandardSBND(const fhicl::ParameterSet &amp;pset)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da2/ROIFinderStandardSBND__tool_8cc_source.html#l00050">ROIFinderStandardSBND_tool.cc:50</a></div></div>
<div class="ttc" id="classsbnd__tool_1_1ROIFinderStandardSBND_html_a113ac0ab25de8d05ba73ad04bcc44bc8"><div class="ttname"><a href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a113ac0ab25de8d05ba73ad04bcc44bc8">sbnd_tool::ROIFinderStandardSBND::fGeometry</a></div><div class="ttdeci">const geo::GeometryCore * fGeometry</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da2/ROIFinderStandardSBND__tool_8cc_source.html#l00044">ROIFinderStandardSBND_tool.cc:44</a></div></div>
<div class="ttc" id="Geometry_8h_html"><div class="ttname"><a href="../../d3/d8b/Geometry_8h.html">Geometry.h</a></div><div class="ttdoc">art framework interface to geometry description </div></div>
<div class="ttc" id="classsbnd__tool_1_1ROIFinderStandardSBND_html_a03e225bbf10fa98c93d45150d394927c"><div class="ttname"><a href="../../d6/d91/classsbnd__tool_1_1ROIFinderStandardSBND.html#a03e225bbf10fa98c93d45150d394927c">sbnd_tool::ROIFinderStandardSBND::fPreROIPad</a></div><div class="ttdeci">std::vector&lt; float &gt; fPreROIPad</div><div class="ttdoc">ROI padding. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da2/ROIFinderStandardSBND__tool_8cc_source.html#l00040">ROIFinderStandardSBND_tool.cc:40</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
