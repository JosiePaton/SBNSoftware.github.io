<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>lar_content::EventSlicingTool Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../db/de7/namespacelar__content.html">lar_content</a></li><li class="navelem"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html">EventSlicingTool</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d2/da6/classlar__content_1_1EventSlicingTool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">lar_content::EventSlicingTool Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html" title="EventSlicingTool class. ">EventSlicingTool</a> class.  
 <a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for lar_content::EventSlicingTool:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d9/d12/classlar__content_1_1EventSlicingTool.png" usemap="#lar_content::EventSlicingTool_map" alt=""/>
  <map id="lar_content::EventSlicingTool_map" name="lar_content::EventSlicingTool_map">
<area href="../../d1/d1e/classlar__content_1_1EventSlicingBaseTool.html" title="EventSlicingBaseTool class. " alt="lar_content::EventSlicingBaseTool" shape="rect" coords="0,56,203,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad07765d5bec8b2d77a4488f4a785491b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ad07765d5bec8b2d77a4488f4a785491b">EventSlicingTool</a> ()</td></tr>
<tr class="memdesc:ad07765d5bec8b2d77a4488f4a785491b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#ad07765d5bec8b2d77a4488f4a785491b">More...</a><br/></td></tr>
<tr class="separator:ad07765d5bec8b2d77a4488f4a785491b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20a0ecab5d436fcf0f64fbe9e4a21cc6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a20a0ecab5d436fcf0f64fbe9e4a21cc6">RunSlicing</a> (const pandora::Algorithm *const pAlgorithm, const <a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#a365b221b032c03809ab1d50088eedc3b">SlicingAlgorithm::HitTypeToNameMap</a> &amp;caloHitListNames, const <a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#a365b221b032c03809ab1d50088eedc3b">SlicingAlgorithm::HitTypeToNameMap</a> &amp;clusterListNames, <a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#aa977badef28b6b5c7a0390365871d28c">SlicingAlgorithm::SliceList</a> &amp;sliceList)</td></tr>
<tr class="memdesc:a20a0ecab5d436fcf0f64fbe9e4a21cc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the slicing tool.  <a href="#a20a0ecab5d436fcf0f64fbe9e4a21cc6">More...</a><br/></td></tr>
<tr class="separator:a20a0ecab5d436fcf0f64fbe9e4a21cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a99252e90e9800585bedd9d940e48d4ad"><td class="memItemLeft" align="right" valign="top">typedef std::unordered_map<br class="typebreak"/>
&lt; const pandora::Cluster <br class="typebreak"/>
*, const <br class="typebreak"/>
pandora::ParticleFlowObject * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a99252e90e9800585bedd9d940e48d4ad">ClusterToPfoMap</a></td></tr>
<tr class="separator:a99252e90e9800585bedd9d940e48d4ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bd7c03b8cf2459606ff8aebfc40c10a"><td class="memItemLeft" align="right" valign="top">typedef std::vector<br class="typebreak"/>
&lt; pandora::ClusterVector &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0bd7c03b8cf2459606ff8aebfc40c10a">ClusterSliceList</a></td></tr>
<tr class="separator:a0bd7c03b8cf2459606ff8aebfc40c10a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b1cac51364acc2be6cc53ac51441c8a"><td class="memItemLeft" align="right" valign="top">typedef std::unordered_map<br class="typebreak"/>
&lt; const pandora::Cluster <br class="typebreak"/>
*, unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">ClusterToSliceIndexMap</a></td></tr>
<tr class="separator:a2b1cac51364acc2be6cc53ac51441c8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7425785be9029cd92c40932f93ed4e37"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d7/dad/classlar__content_1_1KDTreeLinkerAlgo.html">KDTreeLinkerAlgo</a><br class="typebreak"/>
&lt; const <br class="typebreak"/>
pandora::CartesianVector *, 2 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a7425785be9029cd92c40932f93ed4e37">PointKDTree2D</a></td></tr>
<tr class="separator:a7425785be9029cd92c40932f93ed4e37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affd8980a82c6113ae7cffa8f724d4a2c"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../de/d97/classlar__content_1_1KDTreeNodeInfoT.html">KDTreeNodeInfoT</a>&lt; const <br class="typebreak"/>
pandora::CartesianVector *, 2 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#affd8980a82c6113ae7cffa8f724d4a2c">PointKDNode2D</a></td></tr>
<tr class="separator:affd8980a82c6113ae7cffa8f724d4a2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab052cfaafcd3ebfc7e23caf995475c12"><td class="memItemLeft" align="right" valign="top">typedef std::vector<br class="typebreak"/>
&lt; <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#affd8980a82c6113ae7cffa8f724d4a2c">PointKDNode2D</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ab052cfaafcd3ebfc7e23caf995475c12">PointKDNode2DList</a></td></tr>
<tr class="separator:ab052cfaafcd3ebfc7e23caf995475c12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69f0d23d66d3d1e7d95e35d79534dfee"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d5/df9/find__global__symbol_8sh.html#ae54b7e1a1825bc958e2952b902e1b907">std::list</a>&lt; const <br class="typebreak"/>
pandora::CartesianVector * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a></td></tr>
<tr class="separator:a69f0d23d66d3d1e7d95e35d79534dfee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36d67b5b89f7f9bd93750ae5dd47b461"><td class="memItemLeft" align="right" valign="top">typedef std::unordered_map<br class="typebreak"/>
&lt; const <br class="typebreak"/>
pandora::CartesianVector <br class="typebreak"/>
*, unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36d67b5b89f7f9bd93750ae5dd47b461">PointToSliceIndexMap</a></td></tr>
<tr class="separator:a36d67b5b89f7f9bd93750ae5dd47b461"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:acc3aaa1314467a2fde1af3ed64b60047"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#acc3aaa1314467a2fde1af3ed64b60047">CopyAllHitsToSingleSlice</a> (const pandora::Algorithm *const pAlgorithm, const <a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#a365b221b032c03809ab1d50088eedc3b">SlicingAlgorithm::HitTypeToNameMap</a> &amp;caloHitListNames, <a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#aa977badef28b6b5c7a0390365871d28c">SlicingAlgorithm::SliceList</a> &amp;sliceList) const </td></tr>
<tr class="memdesc:acc3aaa1314467a2fde1af3ed64b60047"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy all the input hits in an event into a single slice.  <a href="#acc3aaa1314467a2fde1af3ed64b60047">More...</a><br/></td></tr>
<tr class="separator:acc3aaa1314467a2fde1af3ed64b60047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4429cb2f02b303663d2429bcaf5ffe7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ad4429cb2f02b303663d2429bcaf5ffe7">GetThreeDClusters</a> (const pandora::Algorithm *const pAlgorithm, const std::string &amp;pfoListName, pandora::ClusterList &amp;clusters3D, <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a99252e90e9800585bedd9d940e48d4ad">ClusterToPfoMap</a> &amp;clusterToPfoMap) const </td></tr>
<tr class="memdesc:ad4429cb2f02b303663d2429bcaf5ffe7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the 3D clusters from a specified list of pfos, storing the 3D clusters in the provided list and populating a map from 3D cluster to parent pfo.  <a href="#ad4429cb2f02b303663d2429bcaf5ffe7">More...</a><br/></td></tr>
<tr class="separator:ad4429cb2f02b303663d2429bcaf5ffe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a782597cc5bb6b6d18560f9e3fae4634e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a782597cc5bb6b6d18560f9e3fae4634e">GetClusterSliceList</a> (const pandora::ClusterList &amp;trackClusters3D, const pandora::ClusterList &amp;showerClusters3D, <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0bd7c03b8cf2459606ff8aebfc40c10a">ClusterSliceList</a> &amp;clusterSliceList) const </td></tr>
<tr class="memdesc:a782597cc5bb6b6d18560f9e3fae4634e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Divide the provided lists of 3D track and shower clusters into slices.  <a href="#a782597cc5bb6b6d18560f9e3fae4634e">More...</a><br/></td></tr>
<tr class="separator:a782597cc5bb6b6d18560f9e3fae4634e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71461b08a50b0cd69b206e58ce5ff2e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a71461b08a50b0cd69b206e58ce5ff2e4">CollectAssociatedClusters</a> (const pandora::Cluster *const pClusterInSlice, const pandora::ClusterVector &amp;candidateClusters, const <a class="el" href="../../db/de7/namespacelar__content.html#afe4770c768894158bfd101423d8f410e">ThreeDSlidingFitResultMap</a> &amp;trackFitResults, const <a class="el" href="../../db/de7/namespacelar__content.html#a2828737b9c6d73632ada95abaec15ed7">ThreeDSlidingConeFitResultMap</a> &amp;showerConeFitResults, pandora::ClusterVector &amp;clusterSlice, pandora::ClusterSet &amp;usedClusters) const </td></tr>
<tr class="memdesc:a71461b08a50b0cd69b206e58ce5ff2e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collect all clusters associated with a provided cluster.  <a href="#a71461b08a50b0cd69b206e58ce5ff2e4">More...</a><br/></td></tr>
<tr class="separator:a71461b08a50b0cd69b206e58ce5ff2e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea99e1776c7e01f88bc72904a7d53419"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aea99e1776c7e01f88bc72904a7d53419">PassPointing</a> (const pandora::Cluster *const pClusterInSlice, const pandora::Cluster *const pCandidateCluster, const <a class="el" href="../../db/de7/namespacelar__content.html#afe4770c768894158bfd101423d8f410e">ThreeDSlidingFitResultMap</a> &amp;trackFitResults) const </td></tr>
<tr class="memdesc:aea99e1776c7e01f88bc72904a7d53419"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare the provided clusters to assess whether they are associated via pointing (checks association "both ways")  <a href="#aea99e1776c7e01f88bc72904a7d53419">More...</a><br/></td></tr>
<tr class="separator:aea99e1776c7e01f88bc72904a7d53419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31e0c287bf209620c0fed61a6dbde146"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a31e0c287bf209620c0fed61a6dbde146">PassProximity</a> (const pandora::Cluster *const pClusterInSlice, const pandora::Cluster *const pCandidateCluster) const </td></tr>
<tr class="memdesc:a31e0c287bf209620c0fed61a6dbde146"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare the provided clusters to assess whether they are associated via pointing.  <a href="#a31e0c287bf209620c0fed61a6dbde146">More...</a><br/></td></tr>
<tr class="separator:a31e0c287bf209620c0fed61a6dbde146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f4f0dd2b9e21f696c8d40d882108353"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a4f4f0dd2b9e21f696c8d40d882108353">PassShowerCone</a> (const pandora::Cluster *const pConeCluster, const pandora::Cluster *const pNearbyCluster, const <a class="el" href="../../db/de7/namespacelar__content.html#a2828737b9c6d73632ada95abaec15ed7">ThreeDSlidingConeFitResultMap</a> &amp;showerConeFitResults) const </td></tr>
<tr class="memdesc:a4f4f0dd2b9e21f696c8d40d882108353"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare the provided clusters to assess whether they are associated via cone fits to the shower cluster (single "direction" check)  <a href="#a4f4f0dd2b9e21f696c8d40d882108353">More...</a><br/></td></tr>
<tr class="separator:a4f4f0dd2b9e21f696c8d40d882108353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d752cffb71b03ea0d2020123238db80"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a8d752cffb71b03ea0d2020123238db80">CheckClosestApproach</a> (const <a class="el" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;cluster1, const <a class="el" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;cluster2) const </td></tr>
<tr class="memdesc:a8d752cffb71b03ea0d2020123238db80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check closest approach metrics for a pair of pointing clusters.  <a href="#a8d752cffb71b03ea0d2020123238db80">More...</a><br/></td></tr>
<tr class="separator:a8d752cffb71b03ea0d2020123238db80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac214a909775875a7d0ada4a2ece1d75f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ac214a909775875a7d0ada4a2ece1d75f">CheckClosestApproach</a> (const <a class="el" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html">LArPointingCluster::Vertex</a> &amp;vertex1, const <a class="el" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html">LArPointingCluster::Vertex</a> &amp;vertex2) const </td></tr>
<tr class="memdesc:ac214a909775875a7d0ada4a2ece1d75f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check closest approach metrics for a pair of pointing cluster vertices.  <a href="#ac214a909775875a7d0ada4a2ece1d75f">More...</a><br/></td></tr>
<tr class="separator:ac214a909775875a7d0ada4a2ece1d75f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a928442b82284524ab07e752510924732"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a928442b82284524ab07e752510924732">IsNode</a> (const <a class="el" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;cluster1, const <a class="el" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;cluster2) const </td></tr>
<tr class="memdesc:a928442b82284524ab07e752510924732"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether a pair of pointing clusters are nodally associated.  <a href="#a928442b82284524ab07e752510924732">More...</a><br/></td></tr>
<tr class="separator:a928442b82284524ab07e752510924732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36cc380d642333550149b7a63b0cce73"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36cc380d642333550149b7a63b0cce73">IsEmission</a> (const <a class="el" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;cluster1, const <a class="el" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;cluster2) const </td></tr>
<tr class="memdesc:a36cc380d642333550149b7a63b0cce73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether a pair of pointing clusters are consistent with an emission.  <a href="#a36cc380d642333550149b7a63b0cce73">More...</a><br/></td></tr>
<tr class="separator:a36cc380d642333550149b7a63b0cce73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87b1946135ef06b69b7800305ea2f110"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a87b1946135ef06b69b7800305ea2f110">CreateSlices</a> (const <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0bd7c03b8cf2459606ff8aebfc40c10a">ClusterSliceList</a> &amp;clusterSliceList, <a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#aa977badef28b6b5c7a0390365871d28c">SlicingAlgorithm::SliceList</a> &amp;sliceList, <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">ClusterToSliceIndexMap</a> &amp;clusterToSliceIndexMap) const </td></tr>
<tr class="memdesc:a87b1946135ef06b69b7800305ea2f110"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create new slices for each of the groupings of 3D clusters in the provided cluster slice list.  <a href="#a87b1946135ef06b69b7800305ea2f110">More...</a><br/></td></tr>
<tr class="separator:a87b1946135ef06b69b7800305ea2f110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee2173dae3db7c74548ed83b29a37998"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aee2173dae3db7c74548ed83b29a37998">CopyPfoHitsToSlices</a> (const <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">ClusterToSliceIndexMap</a> &amp;clusterToSliceIndexMap, const <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a99252e90e9800585bedd9d940e48d4ad">ClusterToPfoMap</a> &amp;clusterToPfoMap, <a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#aa977badef28b6b5c7a0390365871d28c">SlicingAlgorithm::SliceList</a> &amp;sliceList, pandora::ClusterSet &amp;assignedClusters) const </td></tr>
<tr class="memdesc:aee2173dae3db7c74548ed83b29a37998"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use 3D clusters in the cluster slice list, find their parent pfos and assign all hits in all 2D clusters in the pfos to the relevant slice in the output slice list.  <a href="#aee2173dae3db7c74548ed83b29a37998">More...</a><br/></td></tr>
<tr class="separator:aee2173dae3db7c74548ed83b29a37998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcc76adc8242023302dc6920f784c8c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abcc76adc8242023302dc6920f784c8c4">GetRemainingClusters</a> (const pandora::Algorithm *const pAlgorithm, const <a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#a365b221b032c03809ab1d50088eedc3b">SlicingAlgorithm::HitTypeToNameMap</a> &amp;clusterListNames, const pandora::ClusterSet &amp;assignedClusters, pandora::ClusterList &amp;remainingClusters) const </td></tr>
<tr class="memdesc:abcc76adc8242023302dc6920f784c8c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of 2D clusters with hits yets to be assigned to slices.  <a href="#abcc76adc8242023302dc6920f784c8c4">More...</a><br/></td></tr>
<tr class="separator:abcc76adc8242023302dc6920f784c8c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4098b56f2916860e8b4ad21afdc12269"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a4098b56f2916860e8b4ad21afdc12269">GetRemainingClusters</a> (const pandora::Algorithm *const pAlgorithm, const std::string &amp;clusterListName, const pandora::ClusterSet &amp;assignedClusters, pandora::ClusterList &amp;remainingClusters) const </td></tr>
<tr class="memdesc:a4098b56f2916860e8b4ad21afdc12269"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of 2D clusters (from a named 2D cluster list) with hits yets to be assigned to slices.  <a href="#a4098b56f2916860e8b4ad21afdc12269">More...</a><br/></td></tr>
<tr class="separator:a4098b56f2916860e8b4ad21afdc12269"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49ad72522f5dd969ea74136797aed4cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a49ad72522f5dd969ea74136797aed4cc">AssignRemainingHitsToSlices</a> (const pandora::ClusterList &amp;remainingClusters, const <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">ClusterToSliceIndexMap</a> &amp;clusterToSliceIndexMap, <a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#aa977badef28b6b5c7a0390365871d28c">SlicingAlgorithm::SliceList</a> &amp;sliceList) const </td></tr>
<tr class="memdesc:a49ad72522f5dd969ea74136797aed4cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use the list of remaining 2D clusters to assign all remaining 2D hits to existing slices in the slice list.  <a href="#a49ad72522f5dd969ea74136797aed4cc">More...</a><br/></td></tr>
<tr class="separator:a49ad72522f5dd969ea74136797aed4cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53d45f840542bab3be6f4b6375c09119"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a53d45f840542bab3be6f4b6375c09119">GetKDTreeEntries2D</a> (const <a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#aa977badef28b6b5c7a0390365871d28c">SlicingAlgorithm::SliceList</a> &amp;sliceList, <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;pointsU, <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;pointsV, <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;pointsW, <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36d67b5b89f7f9bd93750ae5dd47b461">PointToSliceIndexMap</a> &amp;pointToSliceIndexMap) const </td></tr>
<tr class="memdesc:a53d45f840542bab3be6f4b6375c09119"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use projections of 3D hits already assigned to slices to populate kd trees to aid assignment of remaining clusters.  <a href="#a53d45f840542bab3be6f4b6375c09119">More...</a><br/></td></tr>
<tr class="separator:a53d45f840542bab3be6f4b6375c09119"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79048a76e3b701fa87b19e487fe30c01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a79048a76e3b701fa87b19e487fe30c01">GetKDTreeEntries3D</a> (const <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">ClusterToSliceIndexMap</a> &amp;clusterToSliceIndexMap, <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;pointsU, <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;pointsV, <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;pointsW, <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36d67b5b89f7f9bd93750ae5dd47b461">PointToSliceIndexMap</a> &amp;pointToSliceIndexMap) const </td></tr>
<tr class="memdesc:a79048a76e3b701fa87b19e487fe30c01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use 2D hits already assigned to slices to populate kd trees to aid assignment of remaining clusters.  <a href="#a79048a76e3b701fa87b19e487fe30c01">More...</a><br/></td></tr>
<tr class="separator:a79048a76e3b701fa87b19e487fe30c01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c5bde2925d81dbe7cfe9ac4672ee588"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#affd8980a82c6113ae7cffa8f724d4a2c">PointKDNode2D</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a9c5bde2925d81dbe7cfe9ac4672ee588">MatchClusterToSlice</a> (const pandora::Cluster *const pCluster2D, <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a7425785be9029cd92c40932f93ed4e37">PointKDTree2D</a> &amp;kdTree) const </td></tr>
<tr class="memdesc:a9c5bde2925d81dbe7cfe9ac4672ee588"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use the provided kd tree to efficiently identify the most appropriate slice for the provided 2D cluster.  <a href="#a9c5bde2925d81dbe7cfe9ac4672ee588">More...</a><br/></td></tr>
<tr class="separator:a9c5bde2925d81dbe7cfe9ac4672ee588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dfa3ef3e8c04c43027de8e69cc0f8cf"><td class="memItemLeft" align="right" valign="top">pandora::StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a5dfa3ef3e8c04c43027de8e69cc0f8cf">ReadSettings</a> (const pandora::TiXmlHandle xmlHandle)</td></tr>
<tr class="separator:a5dfa3ef3e8c04c43027de8e69cc0f8cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:afbfd531fdfde7690072d7f79551974f0"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afbfd531fdfde7690072d7f79551974f0">SortPoints</a> (const pandora::CartesianVector *const pLhs, const pandora::CartesianVector *const pRhs)</td></tr>
<tr class="memdesc:afbfd531fdfde7690072d7f79551974f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sort points (use Z, followed by X, followed by Y)  <a href="#afbfd531fdfde7690072d7f79551974f0">More...</a><br/></td></tr>
<tr class="separator:afbfd531fdfde7690072d7f79551974f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:afd067e7f1a036c5930bc94c020a1f39e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afd067e7f1a036c5930bc94c020a1f39e">m_trackPfoListName</a></td></tr>
<tr class="memdesc:afd067e7f1a036c5930bc94c020a1f39e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the input track pfo list.  <a href="#afd067e7f1a036c5930bc94c020a1f39e">More...</a><br/></td></tr>
<tr class="separator:afd067e7f1a036c5930bc94c020a1f39e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69bcf815187d277fee861f5dac4ee41f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69bcf815187d277fee861f5dac4ee41f">m_showerPfoListName</a></td></tr>
<tr class="memdesc:a69bcf815187d277fee861f5dac4ee41f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the input shower pfo list.  <a href="#a69bcf815187d277fee861f5dac4ee41f">More...</a><br/></td></tr>
<tr class="separator:a69bcf815187d277fee861f5dac4ee41f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f3dbe858296e138c6b55d09f46a042a"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2f3dbe858296e138c6b55d09f46a042a">m_minHitsPer3DCluster</a></td></tr>
<tr class="memdesc:a2f3dbe858296e138c6b55d09f46a042a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The minimum number of hits in a 3D cluster to warrant consideration in slicing.  <a href="#a2f3dbe858296e138c6b55d09f46a042a">More...</a><br/></td></tr>
<tr class="separator:a2f3dbe858296e138c6b55d09f46a042a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d6bca9667d0510bb3741458f7e85f1"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a16d6bca9667d0510bb3741458f7e85f1">m_min3DHitsToSeedNewSlice</a></td></tr>
<tr class="memdesc:a16d6bca9667d0510bb3741458f7e85f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The minimum number of hits in a 3D cluster to seed a new slice.  <a href="#a16d6bca9667d0510bb3741458f7e85f1">More...</a><br/></td></tr>
<tr class="separator:a16d6bca9667d0510bb3741458f7e85f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a249c138153de86646cabfd66c77bb875"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a249c138153de86646cabfd66c77bb875">m_halfWindowLayers</a></td></tr>
<tr class="memdesc:a249c138153de86646cabfd66c77bb875"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of layers to use for half-window of sliding fit.  <a href="#a249c138153de86646cabfd66c77bb875">More...</a><br/></td></tr>
<tr class="separator:a249c138153de86646cabfd66c77bb875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a560576fab19c963dd44a19ee2df0dbd1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a560576fab19c963dd44a19ee2df0dbd1">m_usePointingAssociation</a></td></tr>
<tr class="memdesc:a560576fab19c963dd44a19ee2df0dbd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to use pointing association.  <a href="#a560576fab19c963dd44a19ee2df0dbd1">More...</a><br/></td></tr>
<tr class="separator:a560576fab19c963dd44a19ee2df0dbd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb530b46bf16b871d23743df9d573bc8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a></td></tr>
<tr class="memdesc:abb530b46bf16b871d23743df9d573bc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointing association check: min longitudinal distance cut.  <a href="#abb530b46bf16b871d23743df9d573bc8">More...</a><br/></td></tr>
<tr class="separator:abb530b46bf16b871d23743df9d573bc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75b5d7f7e6457d17946aa9e4116264a8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a></td></tr>
<tr class="memdesc:a75b5d7f7e6457d17946aa9e4116264a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointing association check: max longitudinal distance cut.  <a href="#a75b5d7f7e6457d17946aa9e4116264a8">More...</a><br/></td></tr>
<tr class="separator:a75b5d7f7e6457d17946aa9e4116264a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecadfb3a4689f76530e2232eccbebd4d"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a></td></tr>
<tr class="memdesc:aecadfb3a4689f76530e2232eccbebd4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointing association check: max transverse distance cut.  <a href="#aecadfb3a4689f76530e2232eccbebd4d">More...</a><br/></td></tr>
<tr class="separator:aecadfb3a4689f76530e2232eccbebd4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a756eef9bde5812bd511632695c3765b1"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a></td></tr>
<tr class="memdesc:a756eef9bde5812bd511632695c3765b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointing association check: pointing angular allowance in degrees.  <a href="#a756eef9bde5812bd511632695c3765b1">More...</a><br/></td></tr>
<tr class="separator:a756eef9bde5812bd511632695c3765b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ce07160292fa6d86818c8a30a19ea68"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0ce07160292fa6d86818c8a30a19ea68">m_maxClosestApproach</a></td></tr>
<tr class="memdesc:a0ce07160292fa6d86818c8a30a19ea68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointing association: max distance of closest approach between straight line fits.  <a href="#a0ce07160292fa6d86818c8a30a19ea68">More...</a><br/></td></tr>
<tr class="separator:a0ce07160292fa6d86818c8a30a19ea68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1ed7decc0014bc91ae63a0a874ba847"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ae1ed7decc0014bc91ae63a0a874ba847">m_maxInterceptDistance</a></td></tr>
<tr class="memdesc:ae1ed7decc0014bc91ae63a0a874ba847"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointing association: max distance from cluster vertex to point of closest approach.  <a href="#ae1ed7decc0014bc91ae63a0a874ba847">More...</a><br/></td></tr>
<tr class="separator:ae1ed7decc0014bc91ae63a0a874ba847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e82f789f77fb8852bedf1242fa5753e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a5e82f789f77fb8852bedf1242fa5753e">m_useProximityAssociation</a></td></tr>
<tr class="memdesc:a5e82f789f77fb8852bedf1242fa5753e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to use proximity association.  <a href="#a5e82f789f77fb8852bedf1242fa5753e">More...</a><br/></td></tr>
<tr class="separator:a5e82f789f77fb8852bedf1242fa5753e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fc21ea760f05461592a36bcb84458d0"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a6fc21ea760f05461592a36bcb84458d0">m_maxHitSeparationSquared</a></td></tr>
<tr class="memdesc:a6fc21ea760f05461592a36bcb84458d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Proximity association: max distance allowed between the closest pair of hits.  <a href="#a6fc21ea760f05461592a36bcb84458d0">More...</a><br/></td></tr>
<tr class="separator:a6fc21ea760f05461592a36bcb84458d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac36a674e362ee83212d854f5c5494cd4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ac36a674e362ee83212d854f5c5494cd4">m_useShowerConeAssociation</a></td></tr>
<tr class="memdesc:ac36a674e362ee83212d854f5c5494cd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to use shower cone association.  <a href="#ac36a674e362ee83212d854f5c5494cd4">More...</a><br/></td></tr>
<tr class="separator:ac36a674e362ee83212d854f5c5494cd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9af06275cd6ebcd966bbfd55c0a6945d"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a9af06275cd6ebcd966bbfd55c0a6945d">m_nConeFitLayers</a></td></tr>
<tr class="memdesc:a9af06275cd6ebcd966bbfd55c0a6945d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of layers over which to sum fitted direction to obtain cone fit.  <a href="#a9af06275cd6ebcd966bbfd55c0a6945d">More...</a><br/></td></tr>
<tr class="separator:a9af06275cd6ebcd966bbfd55c0a6945d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5d8f980a84c194c183c08f1832069f1"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa5d8f980a84c194c183c08f1832069f1">m_nConeFits</a></td></tr>
<tr class="memdesc:aa5d8f980a84c194c183c08f1832069f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of cone fits to perform, spread roughly uniformly along the shower length.  <a href="#aa5d8f980a84c194c183c08f1832069f1">More...</a><br/></td></tr>
<tr class="separator:aa5d8f980a84c194c183c08f1832069f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72dc200da4bc821a4f86bba8432563b0"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a72dc200da4bc821a4f86bba8432563b0">m_coneLengthMultiplier</a></td></tr>
<tr class="memdesc:a72dc200da4bc821a4f86bba8432563b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The cone length multiplier to use when calculating bounded cluster fractions.  <a href="#a72dc200da4bc821a4f86bba8432563b0">More...</a><br/></td></tr>
<tr class="separator:a72dc200da4bc821a4f86bba8432563b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a908091f0a755d83bcfe81a47094f6373"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a908091f0a755d83bcfe81a47094f6373">m_maxConeLength</a></td></tr>
<tr class="memdesc:a908091f0a755d83bcfe81a47094f6373"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum allowed cone length to use when calculating bounded cluster fractions.  <a href="#a908091f0a755d83bcfe81a47094f6373">More...</a><br/></td></tr>
<tr class="separator:a908091f0a755d83bcfe81a47094f6373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bd955bee615a64ce13cd3434b71dff6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a3bd955bee615a64ce13cd3434b71dff6">m_coneTanHalfAngle1</a></td></tr>
<tr class="memdesc:a3bd955bee615a64ce13cd3434b71dff6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The cone tan half angle to use when calculating bounded cluster fractions 1.  <a href="#a3bd955bee615a64ce13cd3434b71dff6">More...</a><br/></td></tr>
<tr class="separator:a3bd955bee615a64ce13cd3434b71dff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa34c52f40ad0dde30816ac6f4cb0eb56"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa34c52f40ad0dde30816ac6f4cb0eb56">m_coneBoundedFraction1</a></td></tr>
<tr class="memdesc:aa34c52f40ad0dde30816ac6f4cb0eb56"><td class="mdescLeft">&#160;</td><td class="mdescRight">The minimum cluster bounded fraction for association 1.  <a href="#aa34c52f40ad0dde30816ac6f4cb0eb56">More...</a><br/></td></tr>
<tr class="separator:aa34c52f40ad0dde30816ac6f4cb0eb56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7f6dd7e1a42b28bba9c03f278e8ac04"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa7f6dd7e1a42b28bba9c03f278e8ac04">m_coneTanHalfAngle2</a></td></tr>
<tr class="memdesc:aa7f6dd7e1a42b28bba9c03f278e8ac04"><td class="mdescLeft">&#160;</td><td class="mdescRight">The cone tan half angle to use when calculating bounded cluster fractions 2.  <a href="#aa7f6dd7e1a42b28bba9c03f278e8ac04">More...</a><br/></td></tr>
<tr class="separator:aa7f6dd7e1a42b28bba9c03f278e8ac04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46e099b8038c988bb21be01733640d1c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a46e099b8038c988bb21be01733640d1c">m_coneBoundedFraction2</a></td></tr>
<tr class="memdesc:a46e099b8038c988bb21be01733640d1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The minimum cluster bounded fraction for association 2.  <a href="#a46e099b8038c988bb21be01733640d1c">More...</a><br/></td></tr>
<tr class="separator:a46e099b8038c988bb21be01733640d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbb7925f29a7120fa49c3e5d075c1c30"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abbb7925f29a7120fa49c3e5d075c1c30">m_use3DProjectionsInHitPickUp</a></td></tr>
<tr class="memdesc:abbb7925f29a7120fa49c3e5d075c1c30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to include 3D cluster projections when assigning remaining clusters to slices.  <a href="#abbb7925f29a7120fa49c3e5d075c1c30">More...</a><br/></td></tr>
<tr class="separator:abbb7925f29a7120fa49c3e5d075c1c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html" title="EventSlicingTool class. ">EventSlicingTool</a> class. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00032">32</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a0bd7c03b8cf2459606ff8aebfc40c10a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;pandora::ClusterVector&gt; <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0bd7c03b8cf2459606ff8aebfc40c10a">lar_content::EventSlicingTool::ClusterSliceList</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00068">68</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a99252e90e9800585bedd9d940e48d4ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::unordered_map&lt;const pandora::Cluster *, const pandora::ParticleFlowObject *&gt; <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a99252e90e9800585bedd9d940e48d4ad">lar_content::EventSlicingTool::ClusterToPfoMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00054">54</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2b1cac51364acc2be6cc53ac51441c8a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::unordered_map&lt;const pandora::Cluster *, unsigned int&gt; <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">lar_content::EventSlicingTool::ClusterToSliceIndexMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00168">168</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="affd8980a82c6113ae7cffa8f724d4a2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../de/d97/classlar__content_1_1KDTreeNodeInfoT.html">KDTreeNodeInfoT</a>&lt;const pandora::CartesianVector *, 2&gt; <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#affd8980a82c6113ae7cffa8f724d4a2c">lar_content::EventSlicingTool::PointKDNode2D</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00224">224</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab052cfaafcd3ebfc7e23caf995475c12"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#affd8980a82c6113ae7cffa8f724d4a2c">PointKDNode2D</a>&gt; <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ab052cfaafcd3ebfc7e23caf995475c12">lar_content::EventSlicingTool::PointKDNode2DList</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00225">225</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7425785be9029cd92c40932f93ed4e37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d7/dad/classlar__content_1_1KDTreeLinkerAlgo.html">KDTreeLinkerAlgo</a>&lt;const pandora::CartesianVector *, 2&gt; <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a7425785be9029cd92c40932f93ed4e37">lar_content::EventSlicingTool::PointKDTree2D</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00223">223</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a69f0d23d66d3d1e7d95e35d79534dfee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d5/df9/find__global__symbol_8sh.html#ae54b7e1a1825bc958e2952b902e1b907">std::list</a>&lt;const pandora::CartesianVector *&gt; <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">lar_content::EventSlicingTool::PointList</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00227">227</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a36d67b5b89f7f9bd93750ae5dd47b461"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::unordered_map&lt;const pandora::CartesianVector *, unsigned int&gt; <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36d67b5b89f7f9bd93750ae5dd47b461">lar_content::EventSlicingTool::PointToSliceIndexMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00228">228</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad07765d5bec8b2d77a4488f4a785491b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lar_content::EventSlicingTool::EventSlicingTool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00034">34</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                                   :</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2f3dbe858296e138c6b55d09f46a042a">m_minHitsPer3DCluster</a>(20),</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a16d6bca9667d0510bb3741458f7e85f1">m_min3DHitsToSeedNewSlice</a>(50),</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a249c138153de86646cabfd66c77bb875">m_halfWindowLayers</a>(20),</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a560576fab19c963dd44a19ee2df0dbd1">m_usePointingAssociation</a>(<span class="keyword">true</span>),</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>(-7.5f),</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>(60.f),</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>(10.5f),</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>(9.f),</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0ce07160292fa6d86818c8a30a19ea68">m_maxClosestApproach</a>(15.f),</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ae1ed7decc0014bc91ae63a0a874ba847">m_maxInterceptDistance</a>(60.f),</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a5e82f789f77fb8852bedf1242fa5753e">m_useProximityAssociation</a>(<span class="keyword">true</span>),</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a6fc21ea760f05461592a36bcb84458d0">m_maxHitSeparationSquared</a>(25.f * 25.f),</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ac36a674e362ee83212d854f5c5494cd4">m_useShowerConeAssociation</a>(<span class="keyword">true</span>),</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a9af06275cd6ebcd966bbfd55c0a6945d">m_nConeFitLayers</a>(20),</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa5d8f980a84c194c183c08f1832069f1">m_nConeFits</a>(5),</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a72dc200da4bc821a4f86bba8432563b0">m_coneLengthMultiplier</a>(7.f),</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a908091f0a755d83bcfe81a47094f6373">m_maxConeLength</a>(126.f),</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a3bd955bee615a64ce13cd3434b71dff6">m_coneTanHalfAngle1</a>(0.5f),</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa34c52f40ad0dde30816ac6f4cb0eb56">m_coneBoundedFraction1</a>(0.5f),</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa7f6dd7e1a42b28bba9c03f278e8ac04">m_coneTanHalfAngle2</a>(0.75f),</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a46e099b8038c988bb21be01733640d1c">m_coneBoundedFraction2</a>(0.75f),</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abbb7925f29a7120fa49c3e5d075c1c30">m_use3DProjectionsInHitPickUp</a>(<span class="keyword">true</span>)</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aa5d8f980a84c194c183c08f1832069f1"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa5d8f980a84c194c183c08f1832069f1">lar_content::EventSlicingTool::m_nConeFits</a></div><div class="ttdeci">unsigned int m_nConeFits</div><div class="ttdoc">The number of cone fits to perform, spread roughly uniformly along the shower length. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00294">EventSlicingTool.h:294</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a16d6bca9667d0510bb3741458f7e85f1"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a16d6bca9667d0510bb3741458f7e85f1">lar_content::EventSlicingTool::m_min3DHitsToSeedNewSlice</a></div><div class="ttdeci">unsigned int m_min3DHitsToSeedNewSlice</div><div class="ttdoc">The minimum number of hits in a 3D cluster to seed a new slice. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00278">EventSlicingTool.h:278</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a6fc21ea760f05461592a36bcb84458d0"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a6fc21ea760f05461592a36bcb84458d0">lar_content::EventSlicingTool::m_maxHitSeparationSquared</a></div><div class="ttdeci">float m_maxHitSeparationSquared</div><div class="ttdoc">Proximity association: max distance allowed between the closest pair of hits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00290">EventSlicingTool.h:290</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a9af06275cd6ebcd966bbfd55c0a6945d"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a9af06275cd6ebcd966bbfd55c0a6945d">lar_content::EventSlicingTool::m_nConeFitLayers</a></div><div class="ttdeci">unsigned int m_nConeFitLayers</div><div class="ttdoc">The number of layers over which to sum fitted direction to obtain cone fit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00293">EventSlicingTool.h:293</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aa7f6dd7e1a42b28bba9c03f278e8ac04"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa7f6dd7e1a42b28bba9c03f278e8ac04">lar_content::EventSlicingTool::m_coneTanHalfAngle2</a></div><div class="ttdeci">float m_coneTanHalfAngle2</div><div class="ttdoc">The cone tan half angle to use when calculating bounded cluster fractions 2. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00299">EventSlicingTool.h:299</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aecadfb3a4689f76530e2232eccbebd4d"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">lar_content::EventSlicingTool::m_maxVertexTransverseDistance</a></div><div class="ttdeci">float m_maxVertexTransverseDistance</div><div class="ttdoc">Pointing association check: max transverse distance cut. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00284">EventSlicingTool.h:284</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a46e099b8038c988bb21be01733640d1c"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a46e099b8038c988bb21be01733640d1c">lar_content::EventSlicingTool::m_coneBoundedFraction2</a></div><div class="ttdeci">float m_coneBoundedFraction2</div><div class="ttdoc">The minimum cluster bounded fraction for association 2. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00300">EventSlicingTool.h:300</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a2f3dbe858296e138c6b55d09f46a042a"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2f3dbe858296e138c6b55d09f46a042a">lar_content::EventSlicingTool::m_minHitsPer3DCluster</a></div><div class="ttdeci">unsigned int m_minHitsPer3DCluster</div><div class="ttdoc">The minimum number of hits in a 3D cluster to warrant consideration in slicing. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00277">EventSlicingTool.h:277</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a3bd955bee615a64ce13cd3434b71dff6"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a3bd955bee615a64ce13cd3434b71dff6">lar_content::EventSlicingTool::m_coneTanHalfAngle1</a></div><div class="ttdeci">float m_coneTanHalfAngle1</div><div class="ttdoc">The cone tan half angle to use when calculating bounded cluster fractions 1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00297">EventSlicingTool.h:297</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a75b5d7f7e6457d17946aa9e4116264a8"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">lar_content::EventSlicingTool::m_maxVertexLongitudinalDistance</a></div><div class="ttdeci">float m_maxVertexLongitudinalDistance</div><div class="ttdoc">Pointing association check: max longitudinal distance cut. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00283">EventSlicingTool.h:283</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a5e82f789f77fb8852bedf1242fa5753e"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a5e82f789f77fb8852bedf1242fa5753e">lar_content::EventSlicingTool::m_useProximityAssociation</a></div><div class="ttdeci">bool m_useProximityAssociation</div><div class="ttdoc">Whether to use proximity association. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00289">EventSlicingTool.h:289</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a0ce07160292fa6d86818c8a30a19ea68"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0ce07160292fa6d86818c8a30a19ea68">lar_content::EventSlicingTool::m_maxClosestApproach</a></div><div class="ttdeci">float m_maxClosestApproach</div><div class="ttdoc">Pointing association: max distance of closest approach between straight line fits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00286">EventSlicingTool.h:286</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a560576fab19c963dd44a19ee2df0dbd1"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a560576fab19c963dd44a19ee2df0dbd1">lar_content::EventSlicingTool::m_usePointingAssociation</a></div><div class="ttdeci">bool m_usePointingAssociation</div><div class="ttdoc">Whether to use pointing association. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00281">EventSlicingTool.h:281</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a72dc200da4bc821a4f86bba8432563b0"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a72dc200da4bc821a4f86bba8432563b0">lar_content::EventSlicingTool::m_coneLengthMultiplier</a></div><div class="ttdeci">float m_coneLengthMultiplier</div><div class="ttdoc">The cone length multiplier to use when calculating bounded cluster fractions. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00295">EventSlicingTool.h:295</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_ae1ed7decc0014bc91ae63a0a874ba847"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ae1ed7decc0014bc91ae63a0a874ba847">lar_content::EventSlicingTool::m_maxInterceptDistance</a></div><div class="ttdeci">float m_maxInterceptDistance</div><div class="ttdoc">Pointing association: max distance from cluster vertex to point of closest approach. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00287">EventSlicingTool.h:287</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_abb530b46bf16b871d23743df9d573bc8"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">lar_content::EventSlicingTool::m_minVertexLongitudinalDistance</a></div><div class="ttdeci">float m_minVertexLongitudinalDistance</div><div class="ttdoc">Pointing association check: min longitudinal distance cut. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00282">EventSlicingTool.h:282</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_abbb7925f29a7120fa49c3e5d075c1c30"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abbb7925f29a7120fa49c3e5d075c1c30">lar_content::EventSlicingTool::m_use3DProjectionsInHitPickUp</a></div><div class="ttdeci">bool m_use3DProjectionsInHitPickUp</div><div class="ttdoc">Whether to include 3D cluster projections when assigning remaining clusters to slices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00302">EventSlicingTool.h:302</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a908091f0a755d83bcfe81a47094f6373"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a908091f0a755d83bcfe81a47094f6373">lar_content::EventSlicingTool::m_maxConeLength</a></div><div class="ttdeci">float m_maxConeLength</div><div class="ttdoc">The maximum allowed cone length to use when calculating bounded cluster fractions. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00296">EventSlicingTool.h:296</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_ac36a674e362ee83212d854f5c5494cd4"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ac36a674e362ee83212d854f5c5494cd4">lar_content::EventSlicingTool::m_useShowerConeAssociation</a></div><div class="ttdeci">bool m_useShowerConeAssociation</div><div class="ttdoc">Whether to use shower cone association. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00292">EventSlicingTool.h:292</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a756eef9bde5812bd511632695c3765b1"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">lar_content::EventSlicingTool::m_vertexAngularAllowance</a></div><div class="ttdeci">float m_vertexAngularAllowance</div><div class="ttdoc">Pointing association check: pointing angular allowance in degrees. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00285">EventSlicingTool.h:285</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aa34c52f40ad0dde30816ac6f4cb0eb56"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa34c52f40ad0dde30816ac6f4cb0eb56">lar_content::EventSlicingTool::m_coneBoundedFraction1</a></div><div class="ttdeci">float m_coneBoundedFraction1</div><div class="ttdoc">The minimum cluster bounded fraction for association 1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00298">EventSlicingTool.h:298</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a249c138153de86646cabfd66c77bb875"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a249c138153de86646cabfd66c77bb875">lar_content::EventSlicingTool::m_halfWindowLayers</a></div><div class="ttdeci">unsigned int m_halfWindowLayers</div><div class="ttdoc">The number of layers to use for half-window of sliding fit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00279">EventSlicingTool.h:279</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a49ad72522f5dd969ea74136797aed4cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_content::EventSlicingTool::AssignRemainingHitsToSlices </td>
          <td>(</td>
          <td class="paramtype">const pandora::ClusterList &amp;&#160;</td>
          <td class="paramname"><em>remainingClusters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">ClusterToSliceIndexMap</a> &amp;&#160;</td>
          <td class="paramname"><em>clusterToSliceIndexMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#aa977badef28b6b5c7a0390365871d28c">SlicingAlgorithm::SliceList</a> &amp;&#160;</td>
          <td class="paramname"><em>sliceList</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Use the list of remaining 2D clusters to assign all remaining 2D hits to existing slices in the slice list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">remainingClusters</td><td>the list of 2D clusters with hits yet to be assigned to slices </td></tr>
    <tr><td class="paramname">clusterToSliceIndexMap</td><td>the mapping from 3D clusters to index in the slice list </td></tr>
    <tr><td class="paramname">sliceList</td><td>the list containing slices to be populated with 2D hits </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00527">527</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;{</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36d67b5b89f7f9bd93750ae5dd47b461">PointToSliceIndexMap</a> pointToSliceIndexMap;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> pointsU, pointsV, pointsW;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a53d45f840542bab3be6f4b6375c09119">GetKDTreeEntries2D</a>(sliceList, pointsU, pointsV, pointsW, pointToSliceIndexMap);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abbb7925f29a7120fa49c3e5d075c1c30">m_use3DProjectionsInHitPickUp</a>)</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a79048a76e3b701fa87b19e487fe30c01">GetKDTreeEntries3D</a>(clusterToSliceIndexMap, pointsU, pointsV, pointsW, pointToSliceIndexMap);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        pointsU.sort(<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afbfd531fdfde7690072d7f79551974f0">EventSlicingTool::SortPoints</a>);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        pointsV.sort(<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afbfd531fdfde7690072d7f79551974f0">EventSlicingTool::SortPoints</a>);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        pointsW.sort(<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afbfd531fdfde7690072d7f79551974f0">EventSlicingTool::SortPoints</a>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ab052cfaafcd3ebfc7e23caf995475c12">PointKDNode2DList</a> kDNode2DListU, kDNode2DListV, kDNode2DListW;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <a class="code" href="../../db/de7/namespacelar__content.html#a5af28a2f6df6cb7728ed26b75ca4d220">KDTreeBox</a> boundingRegionU = <a class="code" href="../../db/de7/namespacelar__content.html#ae11c572bac43730dbb12957868f40273">fill_and_bound_2d_kd_tree</a>(pointsU, kDNode2DListU);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <a class="code" href="../../db/de7/namespacelar__content.html#a5af28a2f6df6cb7728ed26b75ca4d220">KDTreeBox</a> boundingRegionV = <a class="code" href="../../db/de7/namespacelar__content.html#ae11c572bac43730dbb12957868f40273">fill_and_bound_2d_kd_tree</a>(pointsV, kDNode2DListV);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <a class="code" href="../../db/de7/namespacelar__content.html#a5af28a2f6df6cb7728ed26b75ca4d220">KDTreeBox</a> boundingRegionW = <a class="code" href="../../db/de7/namespacelar__content.html#ae11c572bac43730dbb12957868f40273">fill_and_bound_2d_kd_tree</a>(pointsW, kDNode2DListW);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a7425785be9029cd92c40932f93ed4e37">PointKDTree2D</a> kdTreeU, kdTreeV, kdTreeW;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        kdTreeU.build(kDNode2DListU, boundingRegionU);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        kdTreeV.build(kDNode2DListV, boundingRegionV);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        kdTreeW.build(kDNode2DListW, boundingRegionW);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <a class="code" href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">ClusterVector</a> sortedRemainingClusters(remainingClusters.begin(), remainingClusters.end());</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        std::sort(sortedRemainingClusters.begin(), sortedRemainingClusters.end(), <a class="code" href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a86609499a509338a41e2fa914923c980">LArClusterHelper::SortByNHits</a>);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster2D : sortedRemainingClusters)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="keyword">const</span> HitType hitType(<a class="code" href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a434d03423e67ad1f95790177deb8501e">LArClusterHelper::GetClusterHitType</a>(pCluster2D));</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="keywordflow">if</span> ((TPC_VIEW_U != hitType) &amp;&amp; (TPC_VIEW_V != hitType) &amp;&amp; (TPC_VIEW_W != hitType))</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_INVALID_PARAMETER);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a7425785be9029cd92c40932f93ed4e37">PointKDTree2D</a> &amp;kdTree((TPC_VIEW_U == hitType) ? kdTreeU : (TPC_VIEW_V == hitType) ? kdTreeV : kdTreeW);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#affd8980a82c6113ae7cffa8f724d4a2c">PointKDNode2D</a> *pBestResultPoint(this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a9c5bde2925d81dbe7cfe9ac4672ee588">MatchClusterToSlice</a>(pCluster2D, kdTree));</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <span class="keywordflow">if</span> (!pBestResultPoint)</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <a class="code" href="../../db/de7/namespacelar__content.html#af80e62ad7209ac1918f78beaad623009">Slice</a> &amp;slice(sliceList.at(pointToSliceIndexMap.at(pBestResultPoint-&gt;data)));</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            CaloHitList &amp;targetList((TPC_VIEW_U == hitType) ? slice.m_caloHitListU : (TPC_VIEW_V == hitType) ? slice.m_caloHitListV : slice.m_caloHitListW);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            pCluster2D-&gt;GetOrderedCaloHitList().FillCaloHitList(targetList);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            targetList.insert(targetList.end(), pCluster2D-&gt;GetIsolatedCaloHitList().begin(), pCluster2D-&gt;GetIsolatedCaloHitList().end());</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">catch</span> (...)</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;EventSlicingTool::AssignRemainingHitsToSlices - exception &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;pointMap : pointToSliceIndexMap)</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="keyword">delete</span> pointMap.first;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <span class="keywordflow">throw</span>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;pointMap : pointToSliceIndexMap)</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="keyword">delete</span> pointMap.first;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a7425785be9029cd92c40932f93ed4e37"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a7425785be9029cd92c40932f93ed4e37">lar_content::EventSlicingTool::PointKDTree2D</a></div><div class="ttdeci">KDTreeLinkerAlgo&lt; const pandora::CartesianVector *, 2 &gt; PointKDTree2D</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00223">EventSlicingTool.h:223</a></div></div>
<div class="ttc" id="classlar__content_1_1LArClusterHelper_html_a86609499a509338a41e2fa914923c980"><div class="ttname"><a href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a86609499a509338a41e2fa914923c980">lar_content::LArClusterHelper::SortByNHits</a></div><div class="ttdeci">static bool SortByNHits(const pandora::Cluster *const pLhs, const pandora::Cluster *const pRhs)</div><div class="ttdoc">Sort clusters by number of hits, then layer span, then inner layer, then position, then pulse-height. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d12/LArClusterHelper_8cc_source.html#l00632">LArClusterHelper.cc:632</a></div></div>
<div class="ttc" id="namespacelar__content_html_af80e62ad7209ac1918f78beaad623009"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#af80e62ad7209ac1918f78beaad623009">lar_content::Slice</a></div><div class="ttdeci">SlicingAlgorithm::Slice Slice</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d26/CheatingEventSlicingTool_8cc_source.html#l00022">CheatingEventSlicingTool.cc:22</a></div></div>
<div class="ttc" id="classlar__content_1_1LArClusterHelper_html_a434d03423e67ad1f95790177deb8501e"><div class="ttname"><a href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a434d03423e67ad1f95790177deb8501e">lar_content::LArClusterHelper::GetClusterHitType</a></div><div class="ttdeci">static pandora::HitType GetClusterHitType(const pandora::Cluster *const pCluster)</div><div class="ttdoc">Get the hit type associated with a two dimensional cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d12/LArClusterHelper_8cc_source.html#l00021">LArClusterHelper.cc:21</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a9c5bde2925d81dbe7cfe9ac4672ee588"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a9c5bde2925d81dbe7cfe9ac4672ee588">lar_content::EventSlicingTool::MatchClusterToSlice</a></div><div class="ttdeci">const PointKDNode2D * MatchClusterToSlice(const pandora::Cluster *const pCluster2D, PointKDTree2D &amp;kdTree) const </div><div class="ttdoc">Use the provided kd tree to efficiently identify the most appropriate slice for the provided 2D clust...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00667">EventSlicingTool.cc:667</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a36d67b5b89f7f9bd93750ae5dd47b461"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36d67b5b89f7f9bd93750ae5dd47b461">lar_content::EventSlicingTool::PointToSliceIndexMap</a></div><div class="ttdeci">std::unordered_map&lt; const pandora::CartesianVector *, unsigned int &gt; PointToSliceIndexMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00228">EventSlicingTool.h:228</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_affd8980a82c6113ae7cffa8f724d4a2c"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#affd8980a82c6113ae7cffa8f724d4a2c">lar_content::EventSlicingTool::PointKDNode2D</a></div><div class="ttdeci">KDTreeNodeInfoT&lt; const pandora::CartesianVector *, 2 &gt; PointKDNode2D</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00224">EventSlicingTool.h:224</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_afbfd531fdfde7690072d7f79551974f0"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afbfd531fdfde7690072d7f79551974f0">lar_content::EventSlicingTool::SortPoints</a></div><div class="ttdeci">static bool SortPoints(const pandora::CartesianVector *const pLhs, const pandora::CartesianVector *const pRhs)</div><div class="ttdoc">Sort points (use Z, followed by X, followed by Y) </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00711">EventSlicingTool.cc:711</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a69f0d23d66d3d1e7d95e35d79534dfee"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">lar_content::EventSlicingTool::PointList</a></div><div class="ttdeci">std::list&lt; const pandora::CartesianVector * &gt; PointList</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00227">EventSlicingTool.h:227</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_ab052cfaafcd3ebfc7e23caf995475c12"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ab052cfaafcd3ebfc7e23caf995475c12">lar_content::EventSlicingTool::PointKDNode2DList</a></div><div class="ttdeci">std::vector&lt; PointKDNode2D &gt; PointKDNode2DList</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00225">EventSlicingTool.h:225</a></div></div>
<div class="ttc" id="namespacelar__content_html_ae11c572bac43730dbb12957868f40273"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#ae11c572bac43730dbb12957868f40273">lar_content::fill_and_bound_2d_kd_tree</a></div><div class="ttdeci">KDTreeBox fill_and_bound_2d_kd_tree(const MANAGED_CONTAINER&lt; const T * &gt; &amp;points, std::vector&lt; KDTreeNodeInfoT&lt; const T *, 2 &gt;&gt; &amp;nodes)</div><div class="ttdoc">fill_and_bound_2d_kd_tree </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd6/KDTreeLinkerToolsT_8h_source.html#l00309">KDTreeLinkerToolsT.h:309</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_abbb7925f29a7120fa49c3e5d075c1c30"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abbb7925f29a7120fa49c3e5d075c1c30">lar_content::EventSlicingTool::m_use3DProjectionsInHitPickUp</a></div><div class="ttdeci">bool m_use3DProjectionsInHitPickUp</div><div class="ttdoc">Whether to include 3D cluster projections when assigning remaining clusters to slices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00302">EventSlicingTool.h:302</a></div></div>
<div class="ttc" id="namespacelar__pandora_html_a4c624a89baa15141e3c578004a5304ad"><div class="ttname"><a href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">lar_pandora::ClusterVector</a></div><div class="ttdeci">std::vector&lt; art::Ptr&lt; recob::Cluster &gt; &gt; ClusterVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d35/LArPandoraHelper_8h_source.html#l00060">LArPandoraHelper.h:60</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a53d45f840542bab3be6f4b6375c09119"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a53d45f840542bab3be6f4b6375c09119">lar_content::EventSlicingTool::GetKDTreeEntries2D</a></div><div class="ttdeci">void GetKDTreeEntries2D(const SlicingAlgorithm::SliceList &amp;sliceList, PointList &amp;pointsU, PointList &amp;pointsV, PointList &amp;pointsW, PointToSliceIndexMap &amp;pointToSliceIndexMap) const </div><div class="ttdoc">Use projections of 3D hits already assigned to slices to populate kd trees to aid assignment of remai...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00591">EventSlicingTool.cc:591</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a79048a76e3b701fa87b19e487fe30c01"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a79048a76e3b701fa87b19e487fe30c01">lar_content::EventSlicingTool::GetKDTreeEntries3D</a></div><div class="ttdeci">void GetKDTreeEntries3D(const ClusterToSliceIndexMap &amp;clusterToSliceIndexMap, PointList &amp;pointsU, PointList &amp;pointsV, PointList &amp;pointsW, PointToSliceIndexMap &amp;pointToSliceIndexMap) const </div><div class="ttdoc">Use 2D hits already assigned to slices to populate kd trees to aid assignment of remaining clusters...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00625">EventSlicingTool.cc:625</a></div></div>
<div class="ttc" id="namespacelar__content_html_a5af28a2f6df6cb7728ed26b75ca4d220"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#a5af28a2f6df6cb7728ed26b75ca4d220">lar_content::KDTreeBox</a></div><div class="ttdeci">KDTreeBoxT&lt; 2 &gt; KDTreeBox</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd6/KDTreeLinkerToolsT_8h_source.html#l00056">KDTreeLinkerToolsT.h:56</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8d752cffb71b03ea0d2020123238db80"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_content::EventSlicingTool::CheckClosestApproach </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;&#160;</td>
          <td class="paramname"><em>cluster1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;&#160;</td>
          <td class="paramname"><em>cluster2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check closest approach metrics for a pair of pointing clusters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cluster1</td><td>the first pointing cluster </td></tr>
    <tr><td class="paramname">cluster2</td><td>the second pointing cluster</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether the pointing clusters are declared to be in the same slice </dd></dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00345">345</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;{</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">return</span> (this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a8d752cffb71b03ea0d2020123238db80">CheckClosestApproach</a>(cluster1.GetInnerVertex(), cluster2.GetInnerVertex()) ||</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a8d752cffb71b03ea0d2020123238db80">CheckClosestApproach</a>(cluster1.GetOuterVertex(), cluster2.GetInnerVertex()) ||</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a8d752cffb71b03ea0d2020123238db80">CheckClosestApproach</a>(cluster1.GetInnerVertex(), cluster2.GetOuterVertex()) ||</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a8d752cffb71b03ea0d2020123238db80">CheckClosestApproach</a>(cluster1.GetOuterVertex(), cluster2.GetOuterVertex()));</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a8d752cffb71b03ea0d2020123238db80"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a8d752cffb71b03ea0d2020123238db80">lar_content::EventSlicingTool::CheckClosestApproach</a></div><div class="ttdeci">bool CheckClosestApproach(const LArPointingCluster &amp;cluster1, const LArPointingCluster &amp;cluster2) const </div><div class="ttdoc">Check closest approach metrics for a pair of pointing clusters. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00345">EventSlicingTool.cc:345</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac214a909775875a7d0ada4a2ece1d75f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_content::EventSlicingTool::CheckClosestApproach </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html">LArPointingCluster::Vertex</a> &amp;&#160;</td>
          <td class="paramname"><em>vertex1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/da3/classlar__content_1_1LArPointingCluster_1_1Vertex.html">LArPointingCluster::Vertex</a> &amp;&#160;</td>
          <td class="paramname"><em>vertex2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check closest approach metrics for a pair of pointing cluster vertices. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vertex1</td><td>the first pointing cluster vertex </td></tr>
    <tr><td class="paramname">vertex2</td><td>the second pointing cluster vertex</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether the pointing clusters are declared to be in the same slice </dd></dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00355">355</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;{</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    CartesianVector intersectionPoint(0.f, 0.f, 0.f);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordtype">float</span> displacement1(std::numeric_limits&lt;float&gt;::max()), displacement2(std::numeric_limits&lt;float&gt;::max());</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#abb0ff7c23652e083994e05a7fc3cda45">LArPointingClusterHelper::GetIntersection</a>(vertex1, vertex2, intersectionPoint, displacement1, displacement2);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">catch</span> (<span class="keyword">const</span> StatusCodeException &amp;)</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keyword">const</span> CartesianVector approach1(vertex1.GetPosition() + vertex1.GetDirection() * displacement1);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keyword">const</span> CartesianVector approach2(vertex2.GetPosition() + vertex2.GetDirection() * displacement2);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> closestApproach((approach1 - approach2).GetMagnitude());</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">return</span> ((closestApproach &lt; <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0ce07160292fa6d86818c8a30a19ea68">m_maxClosestApproach</a>) &amp;&amp; (std::fabs(displacement1) &lt; <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ae1ed7decc0014bc91ae63a0a874ba847">m_maxInterceptDistance</a>) &amp;&amp;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            (std::fabs(displacement2) &lt; <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ae1ed7decc0014bc91ae63a0a874ba847">m_maxInterceptDistance</a>));</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1LArPointingClusterHelper_html_abb0ff7c23652e083994e05a7fc3cda45"><div class="ttname"><a href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#abb0ff7c23652e083994e05a7fc3cda45">lar_content::LArPointingClusterHelper::GetIntersection</a></div><div class="ttdeci">static void GetIntersection(const LArPointingCluster::Vertex &amp;firstVertex, const LArPointingCluster::Vertex &amp;secondVertex, pandora::CartesianVector &amp;intersectPosition, float &amp;firstDisplacement, float &amp;secondDisplacement)</div><div class="ttdoc">Get intersection of two vertices. </div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a0ce07160292fa6d86818c8a30a19ea68"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0ce07160292fa6d86818c8a30a19ea68">lar_content::EventSlicingTool::m_maxClosestApproach</a></div><div class="ttdeci">float m_maxClosestApproach</div><div class="ttdoc">Pointing association: max distance of closest approach between straight line fits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00286">EventSlicingTool.h:286</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_ae1ed7decc0014bc91ae63a0a874ba847"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ae1ed7decc0014bc91ae63a0a874ba847">lar_content::EventSlicingTool::m_maxInterceptDistance</a></div><div class="ttdeci">float m_maxInterceptDistance</div><div class="ttdoc">Pointing association: max distance from cluster vertex to point of closest approach. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00287">EventSlicingTool.h:287</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a71461b08a50b0cd69b206e58ce5ff2e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_content::EventSlicingTool::CollectAssociatedClusters </td>
          <td>(</td>
          <td class="paramtype">const pandora::Cluster *const&#160;</td>
          <td class="paramname"><em>pClusterInSlice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const pandora::ClusterVector &amp;&#160;</td>
          <td class="paramname"><em>candidateClusters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../db/de7/namespacelar__content.html#afe4770c768894158bfd101423d8f410e">ThreeDSlidingFitResultMap</a> &amp;&#160;</td>
          <td class="paramname"><em>trackFitResults</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../db/de7/namespacelar__content.html#a2828737b9c6d73632ada95abaec15ed7">ThreeDSlidingConeFitResultMap</a> &amp;&#160;</td>
          <td class="paramname"><em>showerConeFitResults</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pandora::ClusterVector &amp;&#160;</td>
          <td class="paramname"><em>clusterSlice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pandora::ClusterSet &amp;&#160;</td>
          <td class="paramname"><em>usedClusters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Collect all clusters associated with a provided cluster. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClusterInSlice</td><td>the address of the cluster already in a slice </td></tr>
    <tr><td class="paramname">candidateClusters</td><td>the list of candidate clusters </td></tr>
    <tr><td class="paramname">trackFitResults</td><td>the map of sliding fit results for track candidate clusters </td></tr>
    <tr><td class="paramname">showerConeFitResults</td><td>the map of sliding const fit results for shower candidate clusters </td></tr>
    <tr><td class="paramname">clusterSlice</td><td>the cluster slice </td></tr>
    <tr><td class="paramname">usedClusters</td><td>the list of clusters already added to slices </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00228">228</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;{</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">ClusterVector</a> addedClusters;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCandidateCluster : candidateClusters)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">if</span> (usedClusters.count(pCandidateCluster) || (pClusterInSlice == pCandidateCluster))</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a560576fab19c963dd44a19ee2df0dbd1">m_usePointingAssociation</a> &amp;&amp; this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aea99e1776c7e01f88bc72904a7d53419">PassPointing</a>(pClusterInSlice, pCandidateCluster, trackFitResults)) ||</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            (<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a5e82f789f77fb8852bedf1242fa5753e">m_useProximityAssociation</a> &amp;&amp; this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a31e0c287bf209620c0fed61a6dbde146">PassProximity</a>(pClusterInSlice, pCandidateCluster)) ||</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            (<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ac36a674e362ee83212d854f5c5494cd4">m_useShowerConeAssociation</a> &amp;&amp; (this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a4f4f0dd2b9e21f696c8d40d882108353">PassShowerCone</a>(pClusterInSlice, pCandidateCluster, showerConeFitResults) ||</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                               this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a4f4f0dd2b9e21f696c8d40d882108353">PassShowerCone</a>(pCandidateCluster, pClusterInSlice, showerConeFitResults))))</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            addedClusters.push_back(pCandidateCluster);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            (<a class="code" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">void</a>)usedClusters.insert(pCandidateCluster);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    clusterSlice.insert(clusterSlice.end(), addedClusters.begin(), addedClusters.end());</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pAddedCluster : addedClusters)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a71461b08a50b0cd69b206e58ce5ff2e4">CollectAssociatedClusters</a>(pAddedCluster, candidateClusters, trackFitResults, showerConeFitResults, clusterSlice, usedClusters);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a4f4f0dd2b9e21f696c8d40d882108353"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a4f4f0dd2b9e21f696c8d40d882108353">lar_content::EventSlicingTool::PassShowerCone</a></div><div class="ttdeci">bool PassShowerCone(const pandora::Cluster *const pConeCluster, const pandora::Cluster *const pNearbyCluster, const ThreeDSlidingConeFitResultMap &amp;showerConeFitResults) const </div><div class="ttdoc">Compare the provided clusters to assess whether they are associated via cone fits to the shower clust...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00304">EventSlicingTool.cc:304</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aea99e1776c7e01f88bc72904a7d53419"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aea99e1776c7e01f88bc72904a7d53419">lar_content::EventSlicingTool::PassPointing</a></div><div class="ttdeci">bool PassPointing(const pandora::Cluster *const pClusterInSlice, const pandora::Cluster *const pCandidateCluster, const ThreeDSlidingFitResultMap &amp;trackFitResults) const </div><div class="ttdoc">Compare the provided clusters to assess whether they are associated via pointing (checks association ...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00257">EventSlicingTool.cc:257</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a71461b08a50b0cd69b206e58ce5ff2e4"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a71461b08a50b0cd69b206e58ce5ff2e4">lar_content::EventSlicingTool::CollectAssociatedClusters</a></div><div class="ttdeci">void CollectAssociatedClusters(const pandora::Cluster *const pClusterInSlice, const pandora::ClusterVector &amp;candidateClusters, const ThreeDSlidingFitResultMap &amp;trackFitResults, const ThreeDSlidingConeFitResultMap &amp;showerConeFitResults, pandora::ClusterVector &amp;clusterSlice, pandora::ClusterSet &amp;usedClusters) const </div><div class="ttdoc">Collect all clusters associated with a provided cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00228">EventSlicingTool.cc:228</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a5e82f789f77fb8852bedf1242fa5753e"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a5e82f789f77fb8852bedf1242fa5753e">lar_content::EventSlicingTool::m_useProximityAssociation</a></div><div class="ttdeci">bool m_useProximityAssociation</div><div class="ttdoc">Whether to use proximity association. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00289">EventSlicingTool.h:289</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a560576fab19c963dd44a19ee2df0dbd1"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a560576fab19c963dd44a19ee2df0dbd1">lar_content::EventSlicingTool::m_usePointingAssociation</a></div><div class="ttdeci">bool m_usePointingAssociation</div><div class="ttdoc">Whether to use pointing association. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00281">EventSlicingTool.h:281</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a31e0c287bf209620c0fed61a6dbde146"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a31e0c287bf209620c0fed61a6dbde146">lar_content::EventSlicingTool::PassProximity</a></div><div class="ttdeci">bool PassProximity(const pandora::Cluster *const pClusterInSlice, const pandora::Cluster *const pCandidateCluster) const </div><div class="ttdoc">Compare the provided clusters to assess whether they are associated via pointing. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00280">EventSlicingTool.cc:280</a></div></div>
<div class="ttc" id="namespacenlohmann_1_1detail_html_a59fca69799f6b9e366710cb9043aa77d"><div class="ttname"><a href="../../dc/df0/namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">nlohmann::detail::void</a></div><div class="ttdeci">j template void())</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db8/json_8hpp_source.html#l03108">json.hpp:3108</a></div></div>
<div class="ttc" id="namespacelar__pandora_html_a4c624a89baa15141e3c578004a5304ad"><div class="ttname"><a href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">lar_pandora::ClusterVector</a></div><div class="ttdeci">std::vector&lt; art::Ptr&lt; recob::Cluster &gt; &gt; ClusterVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d35/LArPandoraHelper_8h_source.html#l00060">LArPandoraHelper.h:60</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_ac36a674e362ee83212d854f5c5494cd4"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ac36a674e362ee83212d854f5c5494cd4">lar_content::EventSlicingTool::m_useShowerConeAssociation</a></div><div class="ttdeci">bool m_useShowerConeAssociation</div><div class="ttdoc">Whether to use shower cone association. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00292">EventSlicingTool.h:292</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acc3aaa1314467a2fde1af3ed64b60047"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_content::EventSlicingTool::CopyAllHitsToSingleSlice </td>
          <td>(</td>
          <td class="paramtype">const pandora::Algorithm *const&#160;</td>
          <td class="paramname"><em>pAlgorithm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#a365b221b032c03809ab1d50088eedc3b">SlicingAlgorithm::HitTypeToNameMap</a> &amp;&#160;</td>
          <td class="paramname"><em>caloHitListNames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#aa977badef28b6b5c7a0390365871d28c">SlicingAlgorithm::SliceList</a> &amp;&#160;</td>
          <td class="paramname"><em>sliceList</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy all the input hits in an event into a single slice. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pAlgorithm</td><td>the address of the calling algorithm </td></tr>
    <tr><td class="paramname">caloHitListNames</td><td>the hit type to calo hit list name map </td></tr>
    <tr><td class="paramname">sliceList</td><td>the slice list to receive the single new slice </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00100">100</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;{</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">if</span> (!sliceList.empty())</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_INVALID_PARAMETER);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keyword">const</span> CaloHitList *pCaloHitListU(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    PANDORA_THROW_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_INITIALIZED, !=,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        PandoraContentApi::GetList(*pAlgorithm, caloHitListNames.at(TPC_VIEW_U), pCaloHitListU));</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keyword">const</span> CaloHitList *pCaloHitListV(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    PANDORA_THROW_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_INITIALIZED, !=,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        PandoraContentApi::GetList(*pAlgorithm, caloHitListNames.at(TPC_VIEW_V), pCaloHitListV));</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keyword">const</span> CaloHitList *pCaloHitListW(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    PANDORA_THROW_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_INITIALIZED, !=,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        PandoraContentApi::GetList(*pAlgorithm, caloHitListNames.at(TPC_VIEW_W), pCaloHitListW));</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span> (pCaloHitListU || pCaloHitListV || pCaloHitListW)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        sliceList.push_back(<a class="code" href="../../db/de7/namespacelar__content.html#af80e62ad7209ac1918f78beaad623009">Slice</a>());</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="../../db/de7/namespacelar__content.html#af80e62ad7209ac1918f78beaad623009">Slice</a> &amp;slice(sliceList.at(0));</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keywordflow">if</span> (pCaloHitListU)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            slice.<a class="code" href="../../d1/d77/classlar__content_1_1SlicingAlgorithm_1_1Slice.html#a4289e9b894bf9c4d492f645be7e23d9b">m_caloHitListU</a> = *pCaloHitListU;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">if</span> (pCaloHitListV)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            slice.m_caloHitListV = *pCaloHitListV;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">if</span> (pCaloHitListW)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            slice.m_caloHitListW = *pCaloHitListW;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div>
<div class="ttc" id="namespacelar__content_html_af80e62ad7209ac1918f78beaad623009"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#af80e62ad7209ac1918f78beaad623009">lar_content::Slice</a></div><div class="ttdeci">SlicingAlgorithm::Slice Slice</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d26/CheatingEventSlicingTool_8cc_source.html#l00022">CheatingEventSlicingTool.cc:22</a></div></div>
<div class="ttc" id="classlar__content_1_1SlicingAlgorithm_1_1Slice_html_a4289e9b894bf9c4d492f645be7e23d9b"><div class="ttname"><a href="../../d1/d77/classlar__content_1_1SlicingAlgorithm_1_1Slice.html#a4289e9b894bf9c4d492f645be7e23d9b">lar_content::SlicingAlgorithm::Slice::m_caloHitListU</a></div><div class="ttdeci">pandora::CaloHitList m_caloHitListU</div><div class="ttdoc">The u calo hit list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d77/SlicingAlgorithm_8h_source.html#l00033">SlicingAlgorithm.h:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aee2173dae3db7c74548ed83b29a37998"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_content::EventSlicingTool::CopyPfoHitsToSlices </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">ClusterToSliceIndexMap</a> &amp;&#160;</td>
          <td class="paramname"><em>clusterToSliceIndexMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a99252e90e9800585bedd9d940e48d4ad">ClusterToPfoMap</a> &amp;&#160;</td>
          <td class="paramname"><em>clusterToPfoMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#aa977badef28b6b5c7a0390365871d28c">SlicingAlgorithm::SliceList</a> &amp;&#160;</td>
          <td class="paramname"><em>sliceList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pandora::ClusterSet &amp;&#160;</td>
          <td class="paramname"><em>assignedClusters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Use 3D clusters in the cluster slice list, find their parent pfos and assign all hits in all 2D clusters in the pfos to the relevant slice in the output slice list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clusterToSliceIndexMap</td><td>the mapping from 3D clusters to index in the slice list </td></tr>
    <tr><td class="paramname">clusterToPfoMap</td><td>the mapping from 3D clusters to parent pfos </td></tr>
    <tr><td class="paramname">sliceList</td><td>the list containing slices to be populated with 2D hits </td></tr>
    <tr><td class="paramname">assignedClusters</td><td>to receive the list of 2D clusters with hits assigned to slices </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00445">445</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;{</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    ClusterList clusterList;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;mapEntry : clusterToSliceIndexMap)</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        clusterList.push_back(mapEntry.first);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    clusterList.sort(<a class="code" href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a86609499a509338a41e2fa914923c980">LArClusterHelper::SortByNHits</a>);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster3D : clusterList)</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index(clusterToSliceIndexMap.at(pCluster3D));</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keyword">const</span> Pfo *<span class="keyword">const</span> pPfo(clusterToPfoMap.at(pCluster3D));</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <a class="code" href="../../db/de7/namespacelar__content.html#af80e62ad7209ac1918f78beaad623009">Slice</a> &amp;slice(sliceList.at(index));</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        ClusterList clusters2D;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <a class="code" href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a5043d8b0dcfab5fc9b0a0eab4b4d262e">LArPfoHelper::GetTwoDClusterList</a>(pPfo, clusters2D);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster2D : clusters2D)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keyword">const</span> HitType hitType(<a class="code" href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a434d03423e67ad1f95790177deb8501e">LArClusterHelper::GetClusterHitType</a>(pCluster2D));</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="keywordflow">if</span> ((TPC_VIEW_U != hitType) &amp;&amp; (TPC_VIEW_V != hitType) &amp;&amp; (TPC_VIEW_W != hitType))</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_INVALID_PARAMETER);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            CaloHitList &amp;targetList((TPC_VIEW_U == hitType) ? slice.m_caloHitListU : (TPC_VIEW_V == hitType) ? slice.m_caloHitListV : slice.m_caloHitListW);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            pCluster2D-&gt;GetOrderedCaloHitList().FillCaloHitList(targetList);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            targetList.insert(targetList.end(), pCluster2D-&gt;GetIsolatedCaloHitList().begin(), pCluster2D-&gt;GetIsolatedCaloHitList().end());</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <span class="keywordflow">if</span> (!assignedClusters.insert(pCluster2D).second)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_ALREADY_PRESENT);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1LArClusterHelper_html_a86609499a509338a41e2fa914923c980"><div class="ttname"><a href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a86609499a509338a41e2fa914923c980">lar_content::LArClusterHelper::SortByNHits</a></div><div class="ttdeci">static bool SortByNHits(const pandora::Cluster *const pLhs, const pandora::Cluster *const pRhs)</div><div class="ttdoc">Sort clusters by number of hits, then layer span, then inner layer, then position, then pulse-height. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d12/LArClusterHelper_8cc_source.html#l00632">LArClusterHelper.cc:632</a></div></div>
<div class="ttc" id="namespacelar__content_html_af80e62ad7209ac1918f78beaad623009"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#af80e62ad7209ac1918f78beaad623009">lar_content::Slice</a></div><div class="ttdeci">SlicingAlgorithm::Slice Slice</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d26/CheatingEventSlicingTool_8cc_source.html#l00022">CheatingEventSlicingTool.cc:22</a></div></div>
<div class="ttc" id="classlar__content_1_1LArPfoHelper_html_a5043d8b0dcfab5fc9b0a0eab4b4d262e"><div class="ttname"><a href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a5043d8b0dcfab5fc9b0a0eab4b4d262e">lar_content::LArPfoHelper::GetTwoDClusterList</a></div><div class="ttdeci">static void GetTwoDClusterList(const pandora::ParticleFlowObject *const pPfo, pandora::ClusterList &amp;clusterList)</div><div class="ttdoc">Get the list of 2D clusters from an input pfo. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d78/LArPfoHelper_8cc_source.html#l00123">LArPfoHelper.cc:123</a></div></div>
<div class="ttc" id="classlar__content_1_1LArClusterHelper_html_a434d03423e67ad1f95790177deb8501e"><div class="ttname"><a href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a434d03423e67ad1f95790177deb8501e">lar_content::LArClusterHelper::GetClusterHitType</a></div><div class="ttdeci">static pandora::HitType GetClusterHitType(const pandora::Cluster *const pCluster)</div><div class="ttdoc">Get the hit type associated with a two dimensional cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d12/LArClusterHelper_8cc_source.html#l00021">LArClusterHelper.cc:21</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a87b1946135ef06b69b7800305ea2f110"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_content::EventSlicingTool::CreateSlices </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0bd7c03b8cf2459606ff8aebfc40c10a">ClusterSliceList</a> &amp;&#160;</td>
          <td class="paramname"><em>clusterSliceList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#aa977badef28b6b5c7a0390365871d28c">SlicingAlgorithm::SliceList</a> &amp;&#160;</td>
          <td class="paramname"><em>sliceList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">ClusterToSliceIndexMap</a> &amp;&#160;</td>
          <td class="paramname"><em>clusterToSliceIndexMap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create new slices for each of the groupings of 3D clusters in the provided cluster slice list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clusterSliceList</td><td>the list of 3D clusters, divided into slices (one 3D cluster list per slice) </td></tr>
    <tr><td class="paramname">sliceList</td><td>the slice list to receive the new slices </td></tr>
    <tr><td class="paramname">clusterToSliceIndexMap</td><td>to receive the mapping from 3D clusters to index in the slice list </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00423">423</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;{</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index(0);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">ClusterVector</a> &amp;clusterList : clusterSliceList)</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster3D : clusterList)</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordflow">if</span> (TPC_3D != <a class="code" href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a434d03423e67ad1f95790177deb8501e">LArClusterHelper::GetClusterHitType</a>(pCluster3D))</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_INVALID_PARAMETER);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="keywordflow">if</span> (!clusterToSliceIndexMap.insert(ClusterToSliceIndexMap::value_type(pCluster3D, index)).second)</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_ALREADY_PRESENT);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        sliceList.push_back(<a class="code" href="../../db/de7/namespacelar__content.html#af80e62ad7209ac1918f78beaad623009">Slice</a>());</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        ++index;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div>
<div class="ttc" id="namespacelar__content_html_af80e62ad7209ac1918f78beaad623009"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#af80e62ad7209ac1918f78beaad623009">lar_content::Slice</a></div><div class="ttdeci">SlicingAlgorithm::Slice Slice</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d26/CheatingEventSlicingTool_8cc_source.html#l00022">CheatingEventSlicingTool.cc:22</a></div></div>
<div class="ttc" id="classlar__content_1_1LArClusterHelper_html_a434d03423e67ad1f95790177deb8501e"><div class="ttname"><a href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a434d03423e67ad1f95790177deb8501e">lar_content::LArClusterHelper::GetClusterHitType</a></div><div class="ttdeci">static pandora::HitType GetClusterHitType(const pandora::Cluster *const pCluster)</div><div class="ttdoc">Get the hit type associated with a two dimensional cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d12/LArClusterHelper_8cc_source.html#l00021">LArClusterHelper.cc:21</a></div></div>
<div class="ttc" id="namespacelar__pandora_html_a4c624a89baa15141e3c578004a5304ad"><div class="ttname"><a href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">lar_pandora::ClusterVector</a></div><div class="ttdeci">std::vector&lt; art::Ptr&lt; recob::Cluster &gt; &gt; ClusterVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d35/LArPandoraHelper_8h_source.html#l00060">LArPandoraHelper.h:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a782597cc5bb6b6d18560f9e3fae4634e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_content::EventSlicingTool::GetClusterSliceList </td>
          <td>(</td>
          <td class="paramtype">const pandora::ClusterList &amp;&#160;</td>
          <td class="paramname"><em>trackClusters3D</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const pandora::ClusterList &amp;&#160;</td>
          <td class="paramname"><em>showerClusters3D</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0bd7c03b8cf2459606ff8aebfc40c10a">ClusterSliceList</a> &amp;&#160;</td>
          <td class="paramname"><em>clusterSliceList</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Divide the provided lists of 3D track and shower clusters into slices. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trackClusters3D</td><td>the list of 3D track clusters </td></tr>
    <tr><td class="paramname">showerClusters3D</td><td>the list of 3D shower clusters </td></tr>
    <tr><td class="paramname">clusterSliceList</td><td>to receive the list of 3D clusters, divided into slices (one 3D cluster list per slice) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00170">170</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;{</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> layerPitch(<a class="code" href="../../df/df1/classlar__content_1_1LArGeometryHelper.html#a90a571d65107eedd480a692c166c5bfe">LArGeometryHelper::GetWireZPitch</a>(this-&gt;GetPandora()));</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="../../db/de7/namespacelar__content.html#afe4770c768894158bfd101423d8f410e">ThreeDSlidingFitResultMap</a> trackFitResults;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster3D : trackClusters3D)</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            trackFitResults.insert(</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                ThreeDSlidingFitResultMap::value_type(pCluster3D, ThreeDSlidingFitResult(pCluster3D, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a249c138153de86646cabfd66c77bb875">m_halfWindowLayers</a>, layerPitch)));</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">catch</span> (StatusCodeException &amp;)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;EventSlicingTool: ThreeDSlidingFitResult failure for track cluster.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="../../db/de7/namespacelar__content.html#a2828737b9c6d73632ada95abaec15ed7">ThreeDSlidingConeFitResultMap</a> showerConeFitResults;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster3D : showerClusters3D)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            showerConeFitResults.insert(</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                ThreeDSlidingConeFitResultMap::value_type(pCluster3D, ThreeDSlidingConeFitResult(pCluster3D, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a249c138153de86646cabfd66c77bb875">m_halfWindowLayers</a>, layerPitch)));</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">catch</span> (StatusCodeException &amp;)</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;EventSlicingTool: ThreeDSlidingConeFitResult failure for shower cluster.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">ClusterVector</a> sortedClusters3D(trackClusters3D.begin(), trackClusters3D.end());</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    sortedClusters3D.insert(sortedClusters3D.end(), showerClusters3D.begin(), showerClusters3D.end());</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    std::sort(sortedClusters3D.begin(), sortedClusters3D.end(), <a class="code" href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a86609499a509338a41e2fa914923c980">LArClusterHelper::SortByNHits</a>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    ClusterSet usedClusters;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster3D : sortedClusters3D)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">if</span> (usedClusters.count(pCluster3D))</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keywordflow">if</span> (pCluster3D-&gt;GetNCaloHits() &lt; <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a16d6bca9667d0510bb3741458f7e85f1">m_min3DHitsToSeedNewSlice</a>)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        clusterSliceList.push_back(<a class="code" href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">ClusterVector</a>(1, pCluster3D));</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        usedClusters.insert(pCluster3D);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <a class="code" href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">ClusterVector</a> &amp;clusterSlice(clusterSliceList.back());</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a71461b08a50b0cd69b206e58ce5ff2e4">CollectAssociatedClusters</a>(pCluster3D, sortedClusters3D, trackFitResults, showerConeFitResults, clusterSlice, usedClusters);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1LArClusterHelper_html_a86609499a509338a41e2fa914923c980"><div class="ttname"><a href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a86609499a509338a41e2fa914923c980">lar_content::LArClusterHelper::SortByNHits</a></div><div class="ttdeci">static bool SortByNHits(const pandora::Cluster *const pLhs, const pandora::Cluster *const pRhs)</div><div class="ttdoc">Sort clusters by number of hits, then layer span, then inner layer, then position, then pulse-height. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d12/LArClusterHelper_8cc_source.html#l00632">LArClusterHelper.cc:632</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a16d6bca9667d0510bb3741458f7e85f1"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a16d6bca9667d0510bb3741458f7e85f1">lar_content::EventSlicingTool::m_min3DHitsToSeedNewSlice</a></div><div class="ttdeci">unsigned int m_min3DHitsToSeedNewSlice</div><div class="ttdoc">The minimum number of hits in a 3D cluster to seed a new slice. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00278">EventSlicingTool.h:278</a></div></div>
<div class="ttc" id="classlar__content_1_1LArGeometryHelper_html_a90a571d65107eedd480a692c166c5bfe"><div class="ttname"><a href="../../df/df1/classlar__content_1_1LArGeometryHelper.html#a90a571d65107eedd480a692c166c5bfe">lar_content::LArGeometryHelper::GetWireZPitch</a></div><div class="ttdeci">static float GetWireZPitch(const pandora::Pandora &amp;pandora, const float maxWirePitchDiscrepancy=0.01)</div><div class="ttdoc">Return the wire pitch. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/LArGeometryHelper_8h_source.html#l00273">LArGeometryHelper.h:273</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a71461b08a50b0cd69b206e58ce5ff2e4"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a71461b08a50b0cd69b206e58ce5ff2e4">lar_content::EventSlicingTool::CollectAssociatedClusters</a></div><div class="ttdeci">void CollectAssociatedClusters(const pandora::Cluster *const pClusterInSlice, const pandora::ClusterVector &amp;candidateClusters, const ThreeDSlidingFitResultMap &amp;trackFitResults, const ThreeDSlidingConeFitResultMap &amp;showerConeFitResults, pandora::ClusterVector &amp;clusterSlice, pandora::ClusterSet &amp;usedClusters) const </div><div class="ttdoc">Collect all clusters associated with a provided cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00228">EventSlicingTool.cc:228</a></div></div>
<div class="ttc" id="namespacelar__content_html_afe4770c768894158bfd101423d8f410e"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#afe4770c768894158bfd101423d8f410e">lar_content::ThreeDSlidingFitResultMap</a></div><div class="ttdeci">std::unordered_map&lt; const pandora::Cluster *, ThreeDSlidingFitResult &gt; ThreeDSlidingFitResultMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de9/LArThreeDSlidingFitResult_8h_source.html#l00231">LArThreeDSlidingFitResult.h:231</a></div></div>
<div class="ttc" id="namespacelar__content_html_a2828737b9c6d73632ada95abaec15ed7"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#a2828737b9c6d73632ada95abaec15ed7">lar_content::ThreeDSlidingConeFitResultMap</a></div><div class="ttdeci">std::unordered_map&lt; const pandora::Cluster *, ThreeDSlidingConeFitResult &gt; ThreeDSlidingConeFitResultMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d84/LArThreeDSlidingConeFitResult_8h_source.html#l00168">LArThreeDSlidingConeFitResult.h:168</a></div></div>
<div class="ttc" id="namespacelar__pandora_html_a4c624a89baa15141e3c578004a5304ad"><div class="ttname"><a href="../../d1/d8f/namespacelar__pandora.html#a4c624a89baa15141e3c578004a5304ad">lar_pandora::ClusterVector</a></div><div class="ttdeci">std::vector&lt; art::Ptr&lt; recob::Cluster &gt; &gt; ClusterVector</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d35/LArPandoraHelper_8h_source.html#l00060">LArPandoraHelper.h:60</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a249c138153de86646cabfd66c77bb875"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a249c138153de86646cabfd66c77bb875">lar_content::EventSlicingTool::m_halfWindowLayers</a></div><div class="ttdeci">unsigned int m_halfWindowLayers</div><div class="ttdoc">The number of layers to use for half-window of sliding fit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00279">EventSlicingTool.h:279</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a53d45f840542bab3be6f4b6375c09119"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_content::EventSlicingTool::GetKDTreeEntries2D </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#aa977badef28b6b5c7a0390365871d28c">SlicingAlgorithm::SliceList</a> &amp;&#160;</td>
          <td class="paramname"><em>sliceList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;&#160;</td>
          <td class="paramname"><em>pointsU</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;&#160;</td>
          <td class="paramname"><em>pointsV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;&#160;</td>
          <td class="paramname"><em>pointsW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36d67b5b89f7f9bd93750ae5dd47b461">PointToSliceIndexMap</a> &amp;&#160;</td>
          <td class="paramname"><em>pointToSliceIndexMap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Use projections of 3D hits already assigned to slices to populate kd trees to aid assignment of remaining clusters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sliceList</td><td>the slice list </td></tr>
    <tr><td class="paramname">pointsU</td><td>to receive the points in the u view </td></tr>
    <tr><td class="paramname">pointsV</td><td>to receive the points in the v view </td></tr>
    <tr><td class="paramname">pointsW</td><td>to receive the points in the w view </td></tr>
    <tr><td class="paramname">pointToSliceIndexMap</td><td>to receive the mapping from points to slice index </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00591">591</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;{</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sliceIndex(0);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="../../db/de7/namespacelar__content.html#af80e62ad7209ac1918f78beaad623009">Slice</a> &amp;slice : sliceList)</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *<span class="keyword">const</span> pCaloHit : slice.m_caloHitListU)</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pPoint(<span class="keyword">new</span> CartesianVector(pCaloHit-&gt;GetPositionVector()));</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            pointToSliceIndexMap.insert(PointToSliceIndexMap::value_type(pPoint, sliceIndex));</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            pointsU.push_back(pPoint);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *<span class="keyword">const</span> pCaloHit : slice.m_caloHitListV)</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pPoint(<span class="keyword">new</span> CartesianVector(pCaloHit-&gt;GetPositionVector()));</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            pointToSliceIndexMap.insert(PointToSliceIndexMap::value_type(pPoint, sliceIndex));</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            pointsV.push_back(pPoint);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *<span class="keyword">const</span> pCaloHit : slice.m_caloHitListW)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            <span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pPoint(<span class="keyword">new</span> CartesianVector(pCaloHit-&gt;GetPositionVector()));</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            pointToSliceIndexMap.insert(PointToSliceIndexMap::value_type(pPoint, sliceIndex));</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            pointsW.push_back(pPoint);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        ++sliceIndex;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div>
<div class="ttc" id="namespacelar__content_html_af80e62ad7209ac1918f78beaad623009"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#af80e62ad7209ac1918f78beaad623009">lar_content::Slice</a></div><div class="ttdeci">SlicingAlgorithm::Slice Slice</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d26/CheatingEventSlicingTool_8cc_source.html#l00022">CheatingEventSlicingTool.cc:22</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a79048a76e3b701fa87b19e487fe30c01"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_content::EventSlicingTool::GetKDTreeEntries3D </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">ClusterToSliceIndexMap</a> &amp;&#160;</td>
          <td class="paramname"><em>clusterToSliceIndexMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;&#160;</td>
          <td class="paramname"><em>pointsU</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;&#160;</td>
          <td class="paramname"><em>pointsV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> &amp;&#160;</td>
          <td class="paramname"><em>pointsW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36d67b5b89f7f9bd93750ae5dd47b461">PointToSliceIndexMap</a> &amp;&#160;</td>
          <td class="paramname"><em>pointToSliceIndexMap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Use 2D hits already assigned to slices to populate kd trees to aid assignment of remaining clusters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clusterToSliceIndexMap</td><td>the 3D cluster to slice index map </td></tr>
    <tr><td class="paramname">pointsU</td><td>to receive the points in the u view </td></tr>
    <tr><td class="paramname">pointsV</td><td>to receive the points in the v view </td></tr>
    <tr><td class="paramname">pointsW</td><td>to receive the points in the w view </td></tr>
    <tr><td class="paramname">pointToSliceIndexMap</td><td>to receive the mapping from points to slice index </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00625">625</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;{</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    ClusterList clusterList;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;mapEntry : clusterToSliceIndexMap)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        clusterList.push_back(mapEntry.first);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    clusterList.sort(<a class="code" href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a86609499a509338a41e2fa914923c980">LArClusterHelper::SortByNHits</a>);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster3D : clusterList)</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sliceIndex(clusterToSliceIndexMap.at(pCluster3D));</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        CaloHitList caloHitList;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        pCluster3D-&gt;GetOrderedCaloHitList().FillCaloHitList(caloHitList);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *<span class="keyword">const</span> pCaloHit3D : caloHitList)</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <span class="keywordflow">if</span> (TPC_3D != pCaloHit3D-&gt;GetHitType())</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_FAILURE);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keyword">const</span> CartesianVector &amp;position3D(pCaloHit3D-&gt;GetPositionVector());</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            <span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pProjectionU(</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                <span class="keyword">new</span> CartesianVector(<a class="code" href="../../df/df1/classlar__content_1_1LArGeometryHelper.html#aac2f570fbffeb35fd9dd76f838ad5878">LArGeometryHelper::ProjectPosition</a>(this-&gt;GetPandora(), position3D, TPC_VIEW_U)));</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            <span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pProjectionV(</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                <span class="keyword">new</span> CartesianVector(<a class="code" href="../../df/df1/classlar__content_1_1LArGeometryHelper.html#aac2f570fbffeb35fd9dd76f838ad5878">LArGeometryHelper::ProjectPosition</a>(this-&gt;GetPandora(), position3D, TPC_VIEW_V)));</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pProjectionW(</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                <span class="keyword">new</span> CartesianVector(<a class="code" href="../../df/df1/classlar__content_1_1LArGeometryHelper.html#aac2f570fbffeb35fd9dd76f838ad5878">LArGeometryHelper::ProjectPosition</a>(this-&gt;GetPandora(), position3D, TPC_VIEW_W)));</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            pointsU.push_back(pProjectionU);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            pointsV.push_back(pProjectionV);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            pointsW.push_back(pProjectionW);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            pointToSliceIndexMap.insert(PointToSliceIndexMap::value_type(pProjectionU, sliceIndex));</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            pointToSliceIndexMap.insert(PointToSliceIndexMap::value_type(pProjectionV, sliceIndex));</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            pointToSliceIndexMap.insert(PointToSliceIndexMap::value_type(pProjectionW, sliceIndex));</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1LArClusterHelper_html_a86609499a509338a41e2fa914923c980"><div class="ttname"><a href="../../d8/d71/classlar__content_1_1LArClusterHelper.html#a86609499a509338a41e2fa914923c980">lar_content::LArClusterHelper::SortByNHits</a></div><div class="ttdeci">static bool SortByNHits(const pandora::Cluster *const pLhs, const pandora::Cluster *const pRhs)</div><div class="ttdoc">Sort clusters by number of hits, then layer span, then inner layer, then position, then pulse-height. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d12/LArClusterHelper_8cc_source.html#l00632">LArClusterHelper.cc:632</a></div></div>
<div class="ttc" id="classlar__content_1_1LArGeometryHelper_html_aac2f570fbffeb35fd9dd76f838ad5878"><div class="ttname"><a href="../../df/df1/classlar__content_1_1LArGeometryHelper.html#aac2f570fbffeb35fd9dd76f838ad5878">lar_content::LArGeometryHelper::ProjectPosition</a></div><div class="ttdeci">static pandora::CartesianVector ProjectPosition(const pandora::Pandora &amp;pandora, const pandora::CartesianVector &amp;position3D, const pandora::HitType view)</div><div class="ttdoc">Project 3D position into a given 2D view. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7e/LArGeometryHelper_8cc_source.html#l00323">LArGeometryHelper.cc:323</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abcc76adc8242023302dc6920f784c8c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_content::EventSlicingTool::GetRemainingClusters </td>
          <td>(</td>
          <td class="paramtype">const pandora::Algorithm *const&#160;</td>
          <td class="paramname"><em>pAlgorithm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#a365b221b032c03809ab1d50088eedc3b">SlicingAlgorithm::HitTypeToNameMap</a> &amp;&#160;</td>
          <td class="paramname"><em>clusterListNames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const pandora::ClusterSet &amp;&#160;</td>
          <td class="paramname"><em>assignedClusters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pandora::ClusterList &amp;&#160;</td>
          <td class="paramname"><em>remainingClusters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the list of 2D clusters with hits yets to be assigned to slices. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pAlgorithm</td><td>the address of the calling algorithm </td></tr>
    <tr><td class="paramname">clusterListNames</td><td>the hit type to cluster list name map </td></tr>
    <tr><td class="paramname">assignedClusters</td><td>the list of 2D clusters with hits assigned to slices </td></tr>
    <tr><td class="paramname">remainingClusters</td><td>to receive the list of 2D clusters with hits yet to be assigned to slices </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4098b56f2916860e8b4ad21afdc12269"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_content::EventSlicingTool::GetRemainingClusters </td>
          <td>(</td>
          <td class="paramtype">const pandora::Algorithm *const&#160;</td>
          <td class="paramname"><em>pAlgorithm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>clusterListName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const pandora::ClusterSet &amp;&#160;</td>
          <td class="paramname"><em>assignedClusters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pandora::ClusterList &amp;&#160;</td>
          <td class="paramname"><em>remainingClusters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the list of 2D clusters (from a named 2D cluster list) with hits yets to be assigned to slices. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pAlgorithm</td><td>the address of the calling algorithm </td></tr>
    <tr><td class="paramname">clusterListName</td><td>the cluster list name </td></tr>
    <tr><td class="paramname">assignedClusters</td><td>the list of 2D clusters with hits assigned to slices </td></tr>
    <tr><td class="paramname">remainingClusters</td><td>to receive the list of 2D clusters with hits yet to be assigned to slices </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad4429cb2f02b303663d2429bcaf5ffe7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_content::EventSlicingTool::GetThreeDClusters </td>
          <td>(</td>
          <td class="paramtype">const pandora::Algorithm *const&#160;</td>
          <td class="paramname"><em>pAlgorithm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>pfoListName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pandora::ClusterList &amp;&#160;</td>
          <td class="paramname"><em>clusters3D</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a99252e90e9800585bedd9d940e48d4ad">ClusterToPfoMap</a> &amp;&#160;</td>
          <td class="paramname"><em>clusterToPfoMap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the 3D clusters from a specified list of pfos, storing the 3D clusters in the provided list and populating a map from 3D cluster to parent pfo. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pAlgorithm</td><td>the address of the calling algorithm </td></tr>
    <tr><td class="paramname">pfoListName</td><td>the pfo list name </td></tr>
    <tr><td class="paramname">clusters3D</td><td>to receive the list of 3D clusters </td></tr>
    <tr><td class="paramname">clusterToPfoMap</td><td>to receive the mapping from 3D clusters to parent pfos </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00133">133</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;{</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keyword">const</span> PfoList *pPfoList(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    PANDORA_THROW_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_INITIALIZED, !=, PandoraContentApi::GetList(*pAlgorithm, pfoListName, pPfoList));</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">if</span> (!pPfoList || pPfoList-&gt;empty())</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">if</span> (PandoraContentApi::GetSettings(*pAlgorithm)-&gt;ShouldDisplayAlgorithmInfo())</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;EventSlicingTool: unable to find pfo list &quot;</span> &lt;&lt; pfoListName &lt;&lt; std::endl;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> ParticleFlowObject *<span class="keyword">const</span> pPfo : *pPfoList)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        ClusterList pfoClusters3D;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <a class="code" href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a13bdb547f45c2729806f42e6f2bb698e">LArPfoHelper::GetThreeDClusterList</a>(pPfo, pfoClusters3D);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> Cluster *<span class="keyword">const</span> pCluster3D : pfoClusters3D)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">if</span> (pCluster3D-&gt;GetNCaloHits() &lt; <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2f3dbe858296e138c6b55d09f46a042a">m_minHitsPer3DCluster</a>)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordflow">if</span> (!clusterToPfoMap.insert(ClusterToPfoMap::value_type(pCluster3D, pPfo)).second)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_ALREADY_PRESENT);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordflow">if</span> (clusters3D.end() != std::find(clusters3D.begin(), clusters3D.end(), pCluster3D))</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <span class="keywordflow">throw</span> StatusCodeException(STATUS_CODE_ALREADY_PRESENT);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            clusters3D.push_back(pCluster3D);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a2f3dbe858296e138c6b55d09f46a042a"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2f3dbe858296e138c6b55d09f46a042a">lar_content::EventSlicingTool::m_minHitsPer3DCluster</a></div><div class="ttdeci">unsigned int m_minHitsPer3DCluster</div><div class="ttdoc">The minimum number of hits in a 3D cluster to warrant consideration in slicing. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00277">EventSlicingTool.h:277</a></div></div>
<div class="ttc" id="classlar__content_1_1LArPfoHelper_html_a13bdb547f45c2729806f42e6f2bb698e"><div class="ttname"><a href="../../d3/d10/classlar__content_1_1LArPfoHelper.html#a13bdb547f45c2729806f42e6f2bb698e">lar_content::LArPfoHelper::GetThreeDClusterList</a></div><div class="ttdeci">static void GetThreeDClusterList(const pandora::ParticleFlowObject *const pPfo, pandora::ClusterList &amp;clusterList)</div><div class="ttdoc">Get the list of 3D clusters from an input pfo. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d78/LArPfoHelper_8cc_source.html#l00136">LArPfoHelper.cc:136</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a36cc380d642333550149b7a63b0cce73"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_content::EventSlicingTool::IsEmission </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;&#160;</td>
          <td class="paramname"><em>cluster1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;&#160;</td>
          <td class="paramname"><em>cluster2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check whether a pair of pointing clusters are consistent with an emission. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cluster1</td><td>the first pointing cluster </td></tr>
    <tr><td class="paramname">cluster2</td><td>the second pointing cluster</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether the pointing clusters are declared to be in the same slice </dd></dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00401">401</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;{</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">LArPointingClusterHelper::IsEmission</a>(cluster1.GetInnerVertex().GetPosition(), cluster2.GetInnerVertex(),</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>) ||</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">LArPointingClusterHelper::IsEmission</a>(cluster1.GetOuterVertex().GetPosition(), cluster2.GetInnerVertex(),</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>) ||</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">LArPointingClusterHelper::IsEmission</a>(cluster1.GetInnerVertex().GetPosition(), cluster2.GetOuterVertex(),</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>) ||</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">LArPointingClusterHelper::IsEmission</a>(cluster1.GetOuterVertex().GetPosition(), cluster2.GetOuterVertex(),</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>) ||</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">LArPointingClusterHelper::IsEmission</a>(cluster2.GetInnerVertex().GetPosition(), cluster1.GetInnerVertex(),</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>) ||</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">LArPointingClusterHelper::IsEmission</a>(cluster2.GetOuterVertex().GetPosition(), cluster1.GetInnerVertex(),</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>) ||</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">LArPointingClusterHelper::IsEmission</a>(cluster2.GetInnerVertex().GetPosition(), cluster1.GetOuterVertex(),</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>) ||</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">LArPointingClusterHelper::IsEmission</a>(cluster2.GetOuterVertex().GetPosition(), cluster1.GetOuterVertex(),</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>));</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aecadfb3a4689f76530e2232eccbebd4d"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">lar_content::EventSlicingTool::m_maxVertexTransverseDistance</a></div><div class="ttdeci">float m_maxVertexTransverseDistance</div><div class="ttdoc">Pointing association check: max transverse distance cut. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00284">EventSlicingTool.h:284</a></div></div>
<div class="ttc" id="classlar__content_1_1LArPointingClusterHelper_html_aa792936e96ceb90b195ca0e633b73e02"><div class="ttname"><a href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa792936e96ceb90b195ca0e633b73e02">lar_content::LArPointingClusterHelper::IsEmission</a></div><div class="ttdeci">static bool IsEmission(const pandora::CartesianVector &amp;parentVertex, const LArPointingCluster::Vertex &amp;daughterVertex, const float minLongitudinalDistance, const float maxLongitudinalDistance, const float maxTransverseDistance, const float angularAllowance)</div><div class="ttdoc">Whether pointing vertex is emitted from a given position. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/LArPointingClusterHelper_8cc_source.html#l00047">LArPointingClusterHelper.cc:47</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a75b5d7f7e6457d17946aa9e4116264a8"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">lar_content::EventSlicingTool::m_maxVertexLongitudinalDistance</a></div><div class="ttdeci">float m_maxVertexLongitudinalDistance</div><div class="ttdoc">Pointing association check: max longitudinal distance cut. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00283">EventSlicingTool.h:283</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_abb530b46bf16b871d23743df9d573bc8"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">lar_content::EventSlicingTool::m_minVertexLongitudinalDistance</a></div><div class="ttdeci">float m_minVertexLongitudinalDistance</div><div class="ttdoc">Pointing association check: min longitudinal distance cut. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00282">EventSlicingTool.h:282</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a756eef9bde5812bd511632695c3765b1"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">lar_content::EventSlicingTool::m_vertexAngularAllowance</a></div><div class="ttdeci">float m_vertexAngularAllowance</div><div class="ttdoc">Pointing association check: pointing angular allowance in degrees. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00285">EventSlicingTool.h:285</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a928442b82284524ab07e752510924732"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_content::EventSlicingTool::IsNode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;&#160;</td>
          <td class="paramname"><em>cluster1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d6/d0d/classlar__content_1_1LArPointingCluster.html">LArPointingCluster</a> &amp;&#160;</td>
          <td class="paramname"><em>cluster2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check whether a pair of pointing clusters are nodally associated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cluster1</td><td>the first pointing cluster </td></tr>
    <tr><td class="paramname">cluster2</td><td>the second pointing cluster</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether the pointing clusters are declared to be in the same slice </dd></dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00379">379</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;{</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">LArPointingClusterHelper::IsNode</a>(cluster1.GetInnerVertex().GetPosition(), cluster2.GetInnerVertex(),</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>) ||</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">LArPointingClusterHelper::IsNode</a>(cluster1.GetOuterVertex().GetPosition(), cluster2.GetInnerVertex(),</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>) ||</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">LArPointingClusterHelper::IsNode</a>(cluster1.GetInnerVertex().GetPosition(), cluster2.GetOuterVertex(),</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>) ||</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">LArPointingClusterHelper::IsNode</a>(cluster1.GetOuterVertex().GetPosition(), cluster2.GetOuterVertex(),</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>) ||</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">LArPointingClusterHelper::IsNode</a>(cluster2.GetInnerVertex().GetPosition(), cluster1.GetInnerVertex(),</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>) ||</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">LArPointingClusterHelper::IsNode</a>(cluster2.GetOuterVertex().GetPosition(), cluster1.GetInnerVertex(),</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>) ||</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">LArPointingClusterHelper::IsNode</a>(cluster2.GetInnerVertex().GetPosition(), cluster1.GetOuterVertex(),</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>) ||</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <a class="code" href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">LArPointingClusterHelper::IsNode</a>(cluster2.GetOuterVertex().GetPosition(), cluster1.GetOuterVertex(),</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>));</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aecadfb3a4689f76530e2232eccbebd4d"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">lar_content::EventSlicingTool::m_maxVertexTransverseDistance</a></div><div class="ttdeci">float m_maxVertexTransverseDistance</div><div class="ttdoc">Pointing association check: max transverse distance cut. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00284">EventSlicingTool.h:284</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_abb530b46bf16b871d23743df9d573bc8"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">lar_content::EventSlicingTool::m_minVertexLongitudinalDistance</a></div><div class="ttdeci">float m_minVertexLongitudinalDistance</div><div class="ttdoc">Pointing association check: min longitudinal distance cut. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00282">EventSlicingTool.h:282</a></div></div>
<div class="ttc" id="classlar__content_1_1LArPointingClusterHelper_html_aa23153c2605f276b88b21a3f3d9c5546"><div class="ttname"><a href="../../d3/dd1/classlar__content_1_1LArPointingClusterHelper.html#aa23153c2605f276b88b21a3f3d9c5546">lar_content::LArPointingClusterHelper::IsNode</a></div><div class="ttdeci">static bool IsNode(const pandora::CartesianVector &amp;parentVertex, const LArPointingCluster::Vertex &amp;daughterVertex, const float minLongitudinalDistance, const float maxTransverseDistance)</div><div class="ttdoc">Whether pointing vertex is adjacent to a given position. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/LArPointingClusterHelper_8cc_source.html#l00033">LArPointingClusterHelper.cc:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9c5bde2925d81dbe7cfe9ac4672ee588"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#affd8980a82c6113ae7cffa8f724d4a2c">EventSlicingTool::PointKDNode2D</a> * lar_content::EventSlicingTool::MatchClusterToSlice </td>
          <td>(</td>
          <td class="paramtype">const pandora::Cluster *const&#160;</td>
          <td class="paramname"><em>pCluster2D</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a7425785be9029cd92c40932f93ed4e37">PointKDTree2D</a> &amp;&#160;</td>
          <td class="paramname"><em>kdTree</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Use the provided kd tree to efficiently identify the most appropriate slice for the provided 2D cluster. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pCluster2D</td><td>the address of the 2D cluster </td></tr>
    <tr><td class="paramname">kdTree</td><td>the kd tree</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the nearest-neighbour point identified by the kd tree </dd></dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00667">667</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;{</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">PointList</a> clusterPointList;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#affd8980a82c6113ae7cffa8f724d4a2c">PointKDNode2D</a> *pBestResultPoint(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        clusterPointList.push_back(<span class="keyword">new</span> CartesianVector(pCluster2D-&gt;GetCentroid(pCluster2D-&gt;GetInnerPseudoLayer())));</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        clusterPointList.push_back(<span class="keyword">new</span> CartesianVector(pCluster2D-&gt;GetCentroid(pCluster2D-&gt;GetOuterPseudoLayer())));</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        clusterPointList.push_back(<span class="keyword">new</span> CartesianVector(</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            (pCluster2D-&gt;GetCentroid(pCluster2D-&gt;GetInnerPseudoLayer()) + pCluster2D-&gt;GetCentroid(pCluster2D-&gt;GetOuterPseudoLayer())) * 0.5f));</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="keywordtype">float</span> bestDistance(std::numeric_limits&lt;float&gt;::max());</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pClusterPoint : clusterPointList)</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#affd8980a82c6113ae7cffa8f724d4a2c">PointKDNode2D</a> *pResultPoint(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            <span class="keywordtype">float</span> resultDistance(std::numeric_limits&lt;float&gt;::max());</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#affd8980a82c6113ae7cffa8f724d4a2c">PointKDNode2D</a> targetPoint(pClusterPoint, pClusterPoint-&gt;GetX(), pClusterPoint-&gt;GetZ());</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            kdTree.findNearestNeighbour(targetPoint, pResultPoint, resultDistance);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            <span class="keywordflow">if</span> (pResultPoint &amp;&amp; (resultDistance &lt; bestDistance))</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                pBestResultPoint = pResultPoint;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                bestDistance = resultDistance;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">catch</span> (...)</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;EventSlicingTool::MatchClusterToSlice - exception &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pPoint : clusterPointList)</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="keyword">delete</span> pPoint;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordflow">throw</span>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> CartesianVector *<span class="keyword">const</span> pPoint : clusterPointList)</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="keyword">delete</span> pPoint;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordflow">return</span> pBestResultPoint;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_affd8980a82c6113ae7cffa8f724d4a2c"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#affd8980a82c6113ae7cffa8f724d4a2c">lar_content::EventSlicingTool::PointKDNode2D</a></div><div class="ttdeci">KDTreeNodeInfoT&lt; const pandora::CartesianVector *, 2 &gt; PointKDNode2D</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00224">EventSlicingTool.h:224</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a69f0d23d66d3d1e7d95e35d79534dfee"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69f0d23d66d3d1e7d95e35d79534dfee">lar_content::EventSlicingTool::PointList</a></div><div class="ttdeci">std::list&lt; const pandora::CartesianVector * &gt; PointList</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00227">EventSlicingTool.h:227</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aea99e1776c7e01f88bc72904a7d53419"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_content::EventSlicingTool::PassPointing </td>
          <td>(</td>
          <td class="paramtype">const pandora::Cluster *const&#160;</td>
          <td class="paramname"><em>pClusterInSlice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const pandora::Cluster *const&#160;</td>
          <td class="paramname"><em>pCandidateCluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../db/de7/namespacelar__content.html#afe4770c768894158bfd101423d8f410e">ThreeDSlidingFitResultMap</a> &amp;&#160;</td>
          <td class="paramname"><em>trackFitResults</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compare the provided clusters to assess whether they are associated via pointing (checks association "both ways") </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClusterInSlice</td><td>address of a cluster already in the slice </td></tr>
    <tr><td class="paramname">pCandidateCluster</td><td>address of the candidate cluster </td></tr>
    <tr><td class="paramname">trackFitResults</td><td>the map of sliding fit results for track candidate clusters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether an addition to the cluster slice should be made </dd></dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00257">257</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    ThreeDSlidingFitResultMap::const_iterator inSliceIter = trackFitResults.find(pClusterInSlice);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    ThreeDSlidingFitResultMap::const_iterator candidateIter = trackFitResults.find(pCandidateCluster);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> ((trackFitResults.end() == inSliceIter) || (trackFitResults.end() == candidateIter))</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keyword">const</span> LArPointingCluster inSlicePointingCluster(inSliceIter-&gt;second);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keyword">const</span> LArPointingCluster candidatePointingCluster(candidateIter-&gt;second);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a8d752cffb71b03ea0d2020123238db80">CheckClosestApproach</a>(inSlicePointingCluster, candidatePointingCluster) ||</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36cc380d642333550149b7a63b0cce73">IsEmission</a>(inSlicePointingCluster, candidatePointingCluster) || this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a928442b82284524ab07e752510924732">IsNode</a>(inSlicePointingCluster, candidatePointingCluster))</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a928442b82284524ab07e752510924732"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a928442b82284524ab07e752510924732">lar_content::EventSlicingTool::IsNode</a></div><div class="ttdeci">bool IsNode(const LArPointingCluster &amp;cluster1, const LArPointingCluster &amp;cluster2) const </div><div class="ttdoc">Check whether a pair of pointing clusters are nodally associated. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00379">EventSlicingTool.cc:379</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a8d752cffb71b03ea0d2020123238db80"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a8d752cffb71b03ea0d2020123238db80">lar_content::EventSlicingTool::CheckClosestApproach</a></div><div class="ttdeci">bool CheckClosestApproach(const LArPointingCluster &amp;cluster1, const LArPointingCluster &amp;cluster2) const </div><div class="ttdoc">Check closest approach metrics for a pair of pointing clusters. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00345">EventSlicingTool.cc:345</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a36cc380d642333550149b7a63b0cce73"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a36cc380d642333550149b7a63b0cce73">lar_content::EventSlicingTool::IsEmission</a></div><div class="ttdeci">bool IsEmission(const LArPointingCluster &amp;cluster1, const LArPointingCluster &amp;cluster2) const </div><div class="ttdoc">Check whether a pair of pointing clusters are consistent with an emission. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00401">EventSlicingTool.cc:401</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a31e0c287bf209620c0fed61a6dbde146"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_content::EventSlicingTool::PassProximity </td>
          <td>(</td>
          <td class="paramtype">const pandora::Cluster *const&#160;</td>
          <td class="paramname"><em>pClusterInSlice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const pandora::Cluster *const&#160;</td>
          <td class="paramname"><em>pCandidateCluster</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compare the provided clusters to assess whether they are associated via pointing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClusterInSlice</td><td>address of a cluster already in the slice </td></tr>
    <tr><td class="paramname">pCandidateCluster</td><td>address of the candidate cluster</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether an addition to the cluster slice should be made </dd></dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00280">280</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;{</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;orderedList1 : pClusterInSlice-&gt;GetOrderedCaloHitList())</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *<span class="keyword">const</span> pCaloHit1 : *(orderedList1.second))</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keyword">const</span> CartesianVector &amp;positionVector1(pCaloHit1-&gt;GetPositionVector());</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;orderedList2 : pCandidateCluster-&gt;GetOrderedCaloHitList())</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">const</span> CaloHit *<span class="keyword">const</span> pCaloHit2 : *(orderedList2.second))</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                    <span class="keywordflow">if</span> ((positionVector1 - pCaloHit2-&gt;GetPositionVector()).GetMagnitudeSquared() &lt; <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a6fc21ea760f05461592a36bcb84458d0">m_maxHitSeparationSquared</a>)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a6fc21ea760f05461592a36bcb84458d0"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a6fc21ea760f05461592a36bcb84458d0">lar_content::EventSlicingTool::m_maxHitSeparationSquared</a></div><div class="ttdeci">float m_maxHitSeparationSquared</div><div class="ttdoc">Proximity association: max distance allowed between the closest pair of hits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00290">EventSlicingTool.h:290</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4f4f0dd2b9e21f696c8d40d882108353"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_content::EventSlicingTool::PassShowerCone </td>
          <td>(</td>
          <td class="paramtype">const pandora::Cluster *const&#160;</td>
          <td class="paramname"><em>pConeCluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const pandora::Cluster *const&#160;</td>
          <td class="paramname"><em>pNearbyCluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../db/de7/namespacelar__content.html#a2828737b9c6d73632ada95abaec15ed7">ThreeDSlidingConeFitResultMap</a> &amp;&#160;</td>
          <td class="paramname"><em>showerConeFitResults</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compare the provided clusters to assess whether they are associated via cone fits to the shower cluster (single "direction" check) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClusterInSlice</td><td>address of a cluster already in the slice </td></tr>
    <tr><td class="paramname">pCandidateCluster</td><td>address of the candidate cluster </td></tr>
    <tr><td class="paramname">showerConeFitResults</td><td>the map of sliding cone fit results for shower candidate clusters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether an addition to the cluster slice should be made </dd></dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00304">304</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;{</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    ThreeDSlidingConeFitResultMap::const_iterator fitIter = showerConeFitResults.find(pConeCluster);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span> (showerConeFitResults.end() == fitIter)</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordtype">float</span> clusterLength(0.f);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="../../db/de7/namespacelar__content.html#aaf6a79c215e79fd4228bd73392e0a7a6">SimpleConeList</a> simpleConeList;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keyword">const</span> ThreeDSlidingConeFitResult &amp;slidingConeFitResult3D(fitIter-&gt;second);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keyword">const</span> ThreeDSlidingFitResult &amp;slidingFitResult3D(slidingConeFitResult3D.GetSlidingFitResult());</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        slidingConeFitResult3D.GetSimpleConeList(<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a9af06275cd6ebcd966bbfd55c0a6945d">m_nConeFitLayers</a>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa5d8f980a84c194c183c08f1832069f1">m_nConeFits</a>, <a class="code" href="../../db/de7/namespacelar__content.html#a6efba97e7ca9b06e59b772ba6e48a333a641b4f20a07920f65e1be2c77e0c07da">CONE_BOTH_DIRECTIONS</a>, simpleConeList);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        clusterLength = (slidingFitResult3D.GetGlobalMaxLayerPosition() - slidingFitResult3D.GetGlobalMinLayerPosition()).GetMagnitude();</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">catch</span> (<span class="keyword">const</span> StatusCodeException &amp;)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> SimpleCone &amp;simpleCone : simpleConeList)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> coneLength(std::min(<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a72dc200da4bc821a4f86bba8432563b0">m_coneLengthMultiplier</a> * clusterLength, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a908091f0a755d83bcfe81a47094f6373">m_maxConeLength</a>));</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">if</span> (simpleCone.GetBoundedHitFraction(pNearbyCluster, coneLength, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a3bd955bee615a64ce13cd3434b71dff6">m_coneTanHalfAngle1</a>) &lt; <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa34c52f40ad0dde30816ac6f4cb0eb56">m_coneBoundedFraction1</a>)</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">if</span> (simpleCone.GetBoundedHitFraction(pNearbyCluster, coneLength, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa7f6dd7e1a42b28bba9c03f278e8ac04">m_coneTanHalfAngle2</a>) &lt; <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a46e099b8038c988bb21be01733640d1c">m_coneBoundedFraction2</a>)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aa5d8f980a84c194c183c08f1832069f1"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa5d8f980a84c194c183c08f1832069f1">lar_content::EventSlicingTool::m_nConeFits</a></div><div class="ttdeci">unsigned int m_nConeFits</div><div class="ttdoc">The number of cone fits to perform, spread roughly uniformly along the shower length. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00294">EventSlicingTool.h:294</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a9af06275cd6ebcd966bbfd55c0a6945d"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a9af06275cd6ebcd966bbfd55c0a6945d">lar_content::EventSlicingTool::m_nConeFitLayers</a></div><div class="ttdeci">unsigned int m_nConeFitLayers</div><div class="ttdoc">The number of layers over which to sum fitted direction to obtain cone fit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00293">EventSlicingTool.h:293</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aa7f6dd7e1a42b28bba9c03f278e8ac04"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa7f6dd7e1a42b28bba9c03f278e8ac04">lar_content::EventSlicingTool::m_coneTanHalfAngle2</a></div><div class="ttdeci">float m_coneTanHalfAngle2</div><div class="ttdoc">The cone tan half angle to use when calculating bounded cluster fractions 2. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00299">EventSlicingTool.h:299</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a46e099b8038c988bb21be01733640d1c"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a46e099b8038c988bb21be01733640d1c">lar_content::EventSlicingTool::m_coneBoundedFraction2</a></div><div class="ttdeci">float m_coneBoundedFraction2</div><div class="ttdoc">The minimum cluster bounded fraction for association 2. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00300">EventSlicingTool.h:300</a></div></div>
<div class="ttc" id="namespacelar__content_html_aaf6a79c215e79fd4228bd73392e0a7a6"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#aaf6a79c215e79fd4228bd73392e0a7a6">lar_content::SimpleConeList</a></div><div class="ttdeci">std::vector&lt; SimpleCone &gt; SimpleConeList</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d84/LArThreeDSlidingConeFitResult_8h_source.html#l00113">LArThreeDSlidingConeFitResult.h:113</a></div></div>
<div class="ttc" id="namespacelar__content_html_a6efba97e7ca9b06e59b772ba6e48a333a641b4f20a07920f65e1be2c77e0c07da"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#a6efba97e7ca9b06e59b772ba6e48a333a641b4f20a07920f65e1be2c77e0c07da">lar_content::CONE_BOTH_DIRECTIONS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d84/LArThreeDSlidingConeFitResult_8h_source.html#l00028">LArThreeDSlidingConeFitResult.h:28</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a3bd955bee615a64ce13cd3434b71dff6"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a3bd955bee615a64ce13cd3434b71dff6">lar_content::EventSlicingTool::m_coneTanHalfAngle1</a></div><div class="ttdeci">float m_coneTanHalfAngle1</div><div class="ttdoc">The cone tan half angle to use when calculating bounded cluster fractions 1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00297">EventSlicingTool.h:297</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a72dc200da4bc821a4f86bba8432563b0"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a72dc200da4bc821a4f86bba8432563b0">lar_content::EventSlicingTool::m_coneLengthMultiplier</a></div><div class="ttdeci">float m_coneLengthMultiplier</div><div class="ttdoc">The cone length multiplier to use when calculating bounded cluster fractions. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00295">EventSlicingTool.h:295</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a908091f0a755d83bcfe81a47094f6373"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a908091f0a755d83bcfe81a47094f6373">lar_content::EventSlicingTool::m_maxConeLength</a></div><div class="ttdeci">float m_maxConeLength</div><div class="ttdoc">The maximum allowed cone length to use when calculating bounded cluster fractions. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00296">EventSlicingTool.h:296</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aa34c52f40ad0dde30816ac6f4cb0eb56"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa34c52f40ad0dde30816ac6f4cb0eb56">lar_content::EventSlicingTool::m_coneBoundedFraction1</a></div><div class="ttdeci">float m_coneBoundedFraction1</div><div class="ttdoc">The minimum cluster bounded fraction for association 1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00298">EventSlicingTool.h:298</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5dfa3ef3e8c04c43027de8e69cc0f8cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode lar_content::EventSlicingTool::ReadSettings </td>
          <td>(</td>
          <td class="paramtype">const pandora::TiXmlHandle&#160;</td>
          <td class="paramname"><em>xmlHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00726">726</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;{</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;TrackPfoListName&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afd067e7f1a036c5930bc94c020a1f39e">m_trackPfoListName</a>));</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    PANDORA_RETURN_RESULT_IF(STATUS_CODE_SUCCESS, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ShowerPfoListName&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69bcf815187d277fee861f5dac4ee41f">m_showerPfoListName</a>));</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MinHitsPer3DCluster&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2f3dbe858296e138c6b55d09f46a042a">m_minHitsPer3DCluster</a>));</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=,</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;Min3DHitsToSeedNewSlice&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a16d6bca9667d0510bb3741458f7e85f1">m_min3DHitsToSeedNewSlice</a>));</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;SlidingFitHalfWindow&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a249c138153de86646cabfd66c77bb875">m_halfWindowLayers</a>));</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;UsePointingAssociation&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a560576fab19c963dd44a19ee2df0dbd1">m_usePointingAssociation</a>));</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=,</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MinVertexLongitudinalDistance&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">m_minVertexLongitudinalDistance</a>));</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=,</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MaxVertexLongitudinalDistance&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">m_maxVertexLongitudinalDistance</a>));</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=,</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MaxVertexTransverseDistance&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">m_maxVertexTransverseDistance</a>));</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;VertexAngularAllowance&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">m_vertexAngularAllowance</a>));</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MaxClosestApproach&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0ce07160292fa6d86818c8a30a19ea68">m_maxClosestApproach</a>));</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MaxInterceptDistance&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ae1ed7decc0014bc91ae63a0a874ba847">m_maxInterceptDistance</a>));</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=,</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;UseProximityAssociation&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a5e82f789f77fb8852bedf1242fa5753e">m_useProximityAssociation</a>));</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordtype">float</span> maxHitSeparation = std::sqrt(<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a6fc21ea760f05461592a36bcb84458d0">m_maxHitSeparationSquared</a>);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MaxHitSeparation&quot;</span>, maxHitSeparation));</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a6fc21ea760f05461592a36bcb84458d0">m_maxHitSeparationSquared</a> = maxHitSeparation * maxHitSeparation;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=,</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;UseShowerConeAssociation&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ac36a674e362ee83212d854f5c5494cd4">m_useShowerConeAssociation</a>));</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;NConeFitLayers&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a9af06275cd6ebcd966bbfd55c0a6945d">m_nConeFitLayers</a>));</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;NConeFits&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa5d8f980a84c194c183c08f1832069f1">m_nConeFits</a>));</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ConeLengthMultiplier&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a72dc200da4bc821a4f86bba8432563b0">m_coneLengthMultiplier</a>));</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MaxConeLength&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a908091f0a755d83bcfe81a47094f6373">m_maxConeLength</a>));</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ConeTanHalfAngle1&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a3bd955bee615a64ce13cd3434b71dff6">m_coneTanHalfAngle1</a>));</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ConeBoundedFraction1&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa34c52f40ad0dde30816ac6f4cb0eb56">m_coneBoundedFraction1</a>));</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ConeTanHalfAngle2&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa7f6dd7e1a42b28bba9c03f278e8ac04">m_coneTanHalfAngle2</a>));</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;ConeBoundedFraction2&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a46e099b8038c988bb21be01733640d1c">m_coneBoundedFraction2</a>));</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=,</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;Use3DProjectionsInHitPickUp&quot;</span>, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abbb7925f29a7120fa49c3e5d075c1c30">m_use3DProjectionsInHitPickUp</a>));</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aa5d8f980a84c194c183c08f1832069f1"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa5d8f980a84c194c183c08f1832069f1">lar_content::EventSlicingTool::m_nConeFits</a></div><div class="ttdeci">unsigned int m_nConeFits</div><div class="ttdoc">The number of cone fits to perform, spread roughly uniformly along the shower length. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00294">EventSlicingTool.h:294</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a16d6bca9667d0510bb3741458f7e85f1"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a16d6bca9667d0510bb3741458f7e85f1">lar_content::EventSlicingTool::m_min3DHitsToSeedNewSlice</a></div><div class="ttdeci">unsigned int m_min3DHitsToSeedNewSlice</div><div class="ttdoc">The minimum number of hits in a 3D cluster to seed a new slice. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00278">EventSlicingTool.h:278</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a6fc21ea760f05461592a36bcb84458d0"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a6fc21ea760f05461592a36bcb84458d0">lar_content::EventSlicingTool::m_maxHitSeparationSquared</a></div><div class="ttdeci">float m_maxHitSeparationSquared</div><div class="ttdoc">Proximity association: max distance allowed between the closest pair of hits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00290">EventSlicingTool.h:290</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a9af06275cd6ebcd966bbfd55c0a6945d"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a9af06275cd6ebcd966bbfd55c0a6945d">lar_content::EventSlicingTool::m_nConeFitLayers</a></div><div class="ttdeci">unsigned int m_nConeFitLayers</div><div class="ttdoc">The number of layers over which to sum fitted direction to obtain cone fit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00293">EventSlicingTool.h:293</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aa7f6dd7e1a42b28bba9c03f278e8ac04"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa7f6dd7e1a42b28bba9c03f278e8ac04">lar_content::EventSlicingTool::m_coneTanHalfAngle2</a></div><div class="ttdeci">float m_coneTanHalfAngle2</div><div class="ttdoc">The cone tan half angle to use when calculating bounded cluster fractions 2. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00299">EventSlicingTool.h:299</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aecadfb3a4689f76530e2232eccbebd4d"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aecadfb3a4689f76530e2232eccbebd4d">lar_content::EventSlicingTool::m_maxVertexTransverseDistance</a></div><div class="ttdeci">float m_maxVertexTransverseDistance</div><div class="ttdoc">Pointing association check: max transverse distance cut. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00284">EventSlicingTool.h:284</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a46e099b8038c988bb21be01733640d1c"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a46e099b8038c988bb21be01733640d1c">lar_content::EventSlicingTool::m_coneBoundedFraction2</a></div><div class="ttdeci">float m_coneBoundedFraction2</div><div class="ttdoc">The minimum cluster bounded fraction for association 2. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00300">EventSlicingTool.h:300</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a69bcf815187d277fee861f5dac4ee41f"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69bcf815187d277fee861f5dac4ee41f">lar_content::EventSlicingTool::m_showerPfoListName</a></div><div class="ttdeci">std::string m_showerPfoListName</div><div class="ttdoc">The name of the input shower pfo list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00275">EventSlicingTool.h:275</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a2f3dbe858296e138c6b55d09f46a042a"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2f3dbe858296e138c6b55d09f46a042a">lar_content::EventSlicingTool::m_minHitsPer3DCluster</a></div><div class="ttdeci">unsigned int m_minHitsPer3DCluster</div><div class="ttdoc">The minimum number of hits in a 3D cluster to warrant consideration in slicing. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00277">EventSlicingTool.h:277</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a3bd955bee615a64ce13cd3434b71dff6"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a3bd955bee615a64ce13cd3434b71dff6">lar_content::EventSlicingTool::m_coneTanHalfAngle1</a></div><div class="ttdeci">float m_coneTanHalfAngle1</div><div class="ttdoc">The cone tan half angle to use when calculating bounded cluster fractions 1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00297">EventSlicingTool.h:297</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a75b5d7f7e6457d17946aa9e4116264a8"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a75b5d7f7e6457d17946aa9e4116264a8">lar_content::EventSlicingTool::m_maxVertexLongitudinalDistance</a></div><div class="ttdeci">float m_maxVertexLongitudinalDistance</div><div class="ttdoc">Pointing association check: max longitudinal distance cut. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00283">EventSlicingTool.h:283</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_afd067e7f1a036c5930bc94c020a1f39e"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afd067e7f1a036c5930bc94c020a1f39e">lar_content::EventSlicingTool::m_trackPfoListName</a></div><div class="ttdeci">std::string m_trackPfoListName</div><div class="ttdoc">The name of the input track pfo list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00274">EventSlicingTool.h:274</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a5e82f789f77fb8852bedf1242fa5753e"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a5e82f789f77fb8852bedf1242fa5753e">lar_content::EventSlicingTool::m_useProximityAssociation</a></div><div class="ttdeci">bool m_useProximityAssociation</div><div class="ttdoc">Whether to use proximity association. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00289">EventSlicingTool.h:289</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a0ce07160292fa6d86818c8a30a19ea68"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0ce07160292fa6d86818c8a30a19ea68">lar_content::EventSlicingTool::m_maxClosestApproach</a></div><div class="ttdeci">float m_maxClosestApproach</div><div class="ttdoc">Pointing association: max distance of closest approach between straight line fits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00286">EventSlicingTool.h:286</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a560576fab19c963dd44a19ee2df0dbd1"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a560576fab19c963dd44a19ee2df0dbd1">lar_content::EventSlicingTool::m_usePointingAssociation</a></div><div class="ttdeci">bool m_usePointingAssociation</div><div class="ttdoc">Whether to use pointing association. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00281">EventSlicingTool.h:281</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a72dc200da4bc821a4f86bba8432563b0"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a72dc200da4bc821a4f86bba8432563b0">lar_content::EventSlicingTool::m_coneLengthMultiplier</a></div><div class="ttdeci">float m_coneLengthMultiplier</div><div class="ttdoc">The cone length multiplier to use when calculating bounded cluster fractions. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00295">EventSlicingTool.h:295</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_ae1ed7decc0014bc91ae63a0a874ba847"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ae1ed7decc0014bc91ae63a0a874ba847">lar_content::EventSlicingTool::m_maxInterceptDistance</a></div><div class="ttdeci">float m_maxInterceptDistance</div><div class="ttdoc">Pointing association: max distance from cluster vertex to point of closest approach. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00287">EventSlicingTool.h:287</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_abb530b46bf16b871d23743df9d573bc8"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abb530b46bf16b871d23743df9d573bc8">lar_content::EventSlicingTool::m_minVertexLongitudinalDistance</a></div><div class="ttdeci">float m_minVertexLongitudinalDistance</div><div class="ttdoc">Pointing association check: min longitudinal distance cut. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00282">EventSlicingTool.h:282</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_abbb7925f29a7120fa49c3e5d075c1c30"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abbb7925f29a7120fa49c3e5d075c1c30">lar_content::EventSlicingTool::m_use3DProjectionsInHitPickUp</a></div><div class="ttdeci">bool m_use3DProjectionsInHitPickUp</div><div class="ttdoc">Whether to include 3D cluster projections when assigning remaining clusters to slices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00302">EventSlicingTool.h:302</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a908091f0a755d83bcfe81a47094f6373"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a908091f0a755d83bcfe81a47094f6373">lar_content::EventSlicingTool::m_maxConeLength</a></div><div class="ttdeci">float m_maxConeLength</div><div class="ttdoc">The maximum allowed cone length to use when calculating bounded cluster fractions. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00296">EventSlicingTool.h:296</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_ac36a674e362ee83212d854f5c5494cd4"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ac36a674e362ee83212d854f5c5494cd4">lar_content::EventSlicingTool::m_useShowerConeAssociation</a></div><div class="ttdeci">bool m_useShowerConeAssociation</div><div class="ttdoc">Whether to use shower cone association. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00292">EventSlicingTool.h:292</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a756eef9bde5812bd511632695c3765b1"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a756eef9bde5812bd511632695c3765b1">lar_content::EventSlicingTool::m_vertexAngularAllowance</a></div><div class="ttdeci">float m_vertexAngularAllowance</div><div class="ttdoc">Pointing association check: pointing angular allowance in degrees. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00285">EventSlicingTool.h:285</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aa34c52f40ad0dde30816ac6f4cb0eb56"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aa34c52f40ad0dde30816ac6f4cb0eb56">lar_content::EventSlicingTool::m_coneBoundedFraction1</a></div><div class="ttdeci">float m_coneBoundedFraction1</div><div class="ttdoc">The minimum cluster bounded fraction for association 1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00298">EventSlicingTool.h:298</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a249c138153de86646cabfd66c77bb875"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a249c138153de86646cabfd66c77bb875">lar_content::EventSlicingTool::m_halfWindowLayers</a></div><div class="ttdeci">unsigned int m_halfWindowLayers</div><div class="ttdoc">The number of layers to use for half-window of sliding fit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00279">EventSlicingTool.h:279</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a20a0ecab5d436fcf0f64fbe9e4a21cc6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lar_content::EventSlicingTool::RunSlicing </td>
          <td>(</td>
          <td class="paramtype">const pandora::Algorithm *const&#160;</td>
          <td class="paramname"><em>pAlgorithm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#a365b221b032c03809ab1d50088eedc3b">SlicingAlgorithm::HitTypeToNameMap</a> &amp;&#160;</td>
          <td class="paramname"><em>caloHitListNames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#a365b221b032c03809ab1d50088eedc3b">SlicingAlgorithm::HitTypeToNameMap</a> &amp;&#160;</td>
          <td class="paramname"><em>clusterListNames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d08/classlar__content_1_1SlicingAlgorithm.html#aa977badef28b6b5c7a0390365871d28c">SlicingAlgorithm::SliceList</a> &amp;&#160;</td>
          <td class="paramname"><em>sliceList</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run the slicing tool. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pAlgorithm</td><td>address of the calling algorithm </td></tr>
    <tr><td class="paramname">caloHitListNames</td><td>the hit type to calo hit list name map </td></tr>
    <tr><td class="paramname">clusterListNames</td><td>the hit type to cluster list name map </td></tr>
    <tr><td class="paramname">sliceList</td><td>to receive the populated slice list </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d1/d1e/classlar__content_1_1EventSlicingBaseTool.html#aa02369431e9519f227020d265aecb5b8">lar_content::EventSlicingBaseTool</a>.</p>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00062">62</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">if</span> (PandoraContentApi::GetSettings(*pAlgorithm)-&gt;ShouldDisplayAlgorithmInfo())</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;----&gt; Running Algorithm Tool: &quot;</span> &lt;&lt; this-&gt;GetInstanceName() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; this-&gt;GetType() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a99252e90e9800585bedd9d940e48d4ad">ClusterToPfoMap</a> clusterToPfoMap;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    ClusterList trackClusters3D;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ad4429cb2f02b303663d2429bcaf5ffe7">GetThreeDClusters</a>(pAlgorithm, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afd067e7f1a036c5930bc94c020a1f39e">m_trackPfoListName</a>, trackClusters3D, clusterToPfoMap);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    ClusterList showerClusters3D;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ad4429cb2f02b303663d2429bcaf5ffe7">GetThreeDClusters</a>(pAlgorithm, <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69bcf815187d277fee861f5dac4ee41f">m_showerPfoListName</a>, showerClusters3D, clusterToPfoMap);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0bd7c03b8cf2459606ff8aebfc40c10a">ClusterSliceList</a> clusterSliceList;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a782597cc5bb6b6d18560f9e3fae4634e">GetClusterSliceList</a>(trackClusters3D, showerClusters3D, clusterSliceList);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">if</span> (clusterSliceList.size() &lt; 2)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordflow">return</span> this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#acc3aaa1314467a2fde1af3ed64b60047">CopyAllHitsToSingleSlice</a>(pAlgorithm, caloHitListNames, sliceList);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">ClusterToSliceIndexMap</a> clusterToSliceIndexMap;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a87b1946135ef06b69b7800305ea2f110">CreateSlices</a>(clusterSliceList, sliceList, clusterToSliceIndexMap);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        ClusterSet assignedClusters;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aee2173dae3db7c74548ed83b29a37998">CopyPfoHitsToSlices</a>(clusterToSliceIndexMap, clusterToPfoMap, sliceList, assignedClusters);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        ClusterList remainingClusters;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abcc76adc8242023302dc6920f784c8c4">GetRemainingClusters</a>(pAlgorithm, clusterListNames, assignedClusters, remainingClusters);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        this-&gt;<a class="code" href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a49ad72522f5dd969ea74136797aed4cc">AssignRemainingHitsToSlices</a>(remainingClusters, clusterToSliceIndexMap, sliceList);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_ad4429cb2f02b303663d2429bcaf5ffe7"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#ad4429cb2f02b303663d2429bcaf5ffe7">lar_content::EventSlicingTool::GetThreeDClusters</a></div><div class="ttdeci">void GetThreeDClusters(const pandora::Algorithm *const pAlgorithm, const std::string &amp;pfoListName, pandora::ClusterList &amp;clusters3D, ClusterToPfoMap &amp;clusterToPfoMap) const </div><div class="ttdoc">Get the 3D clusters from a specified list of pfos, storing the 3D clusters in the provided list and p...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00133">EventSlicingTool.cc:133</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a782597cc5bb6b6d18560f9e3fae4634e"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a782597cc5bb6b6d18560f9e3fae4634e">lar_content::EventSlicingTool::GetClusterSliceList</a></div><div class="ttdeci">void GetClusterSliceList(const pandora::ClusterList &amp;trackClusters3D, const pandora::ClusterList &amp;showerClusters3D, ClusterSliceList &amp;clusterSliceList) const </div><div class="ttdoc">Divide the provided lists of 3D track and shower clusters into slices. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00170">EventSlicingTool.cc:170</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_aee2173dae3db7c74548ed83b29a37998"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#aee2173dae3db7c74548ed83b29a37998">lar_content::EventSlicingTool::CopyPfoHitsToSlices</a></div><div class="ttdeci">void CopyPfoHitsToSlices(const ClusterToSliceIndexMap &amp;clusterToSliceIndexMap, const ClusterToPfoMap &amp;clusterToPfoMap, SlicingAlgorithm::SliceList &amp;sliceList, pandora::ClusterSet &amp;assignedClusters) const </div><div class="ttdoc">Use 3D clusters in the cluster slice list, find their parent pfos and assign all hits in all 2D clust...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00445">EventSlicingTool.cc:445</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a99252e90e9800585bedd9d940e48d4ad"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a99252e90e9800585bedd9d940e48d4ad">lar_content::EventSlicingTool::ClusterToPfoMap</a></div><div class="ttdeci">std::unordered_map&lt; const pandora::Cluster *, const pandora::ParticleFlowObject * &gt; ClusterToPfoMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00054">EventSlicingTool.h:54</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a49ad72522f5dd969ea74136797aed4cc"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a49ad72522f5dd969ea74136797aed4cc">lar_content::EventSlicingTool::AssignRemainingHitsToSlices</a></div><div class="ttdeci">void AssignRemainingHitsToSlices(const pandora::ClusterList &amp;remainingClusters, const ClusterToSliceIndexMap &amp;clusterToSliceIndexMap, SlicingAlgorithm::SliceList &amp;sliceList) const </div><div class="ttdoc">Use the list of remaining 2D clusters to assign all remaining 2D hits to existing slices in the slice...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00527">EventSlicingTool.cc:527</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a69bcf815187d277fee861f5dac4ee41f"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a69bcf815187d277fee861f5dac4ee41f">lar_content::EventSlicingTool::m_showerPfoListName</a></div><div class="ttdeci">std::string m_showerPfoListName</div><div class="ttdoc">The name of the input shower pfo list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00275">EventSlicingTool.h:275</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_abcc76adc8242023302dc6920f784c8c4"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#abcc76adc8242023302dc6920f784c8c4">lar_content::EventSlicingTool::GetRemainingClusters</a></div><div class="ttdeci">void GetRemainingClusters(const pandora::Algorithm *const pAlgorithm, const SlicingAlgorithm::HitTypeToNameMap &amp;clusterListNames, const pandora::ClusterSet &amp;assignedClusters, pandora::ClusterList &amp;remainingClusters) const </div><div class="ttdoc">Get the list of 2D clusters with hits yets to be assigned to slices. </div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_afd067e7f1a036c5930bc94c020a1f39e"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#afd067e7f1a036c5930bc94c020a1f39e">lar_content::EventSlicingTool::m_trackPfoListName</a></div><div class="ttdeci">std::string m_trackPfoListName</div><div class="ttdoc">The name of the input track pfo list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00274">EventSlicingTool.h:274</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a0bd7c03b8cf2459606ff8aebfc40c10a"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a0bd7c03b8cf2459606ff8aebfc40c10a">lar_content::EventSlicingTool::ClusterSliceList</a></div><div class="ttdeci">std::vector&lt; pandora::ClusterVector &gt; ClusterSliceList</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00068">EventSlicingTool.h:68</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_acc3aaa1314467a2fde1af3ed64b60047"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#acc3aaa1314467a2fde1af3ed64b60047">lar_content::EventSlicingTool::CopyAllHitsToSingleSlice</a></div><div class="ttdeci">void CopyAllHitsToSingleSlice(const pandora::Algorithm *const pAlgorithm, const SlicingAlgorithm::HitTypeToNameMap &amp;caloHitListNames, SlicingAlgorithm::SliceList &amp;sliceList) const </div><div class="ttdoc">Copy all the input hits in an event into a single slice. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00100">EventSlicingTool.cc:100</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a2b1cac51364acc2be6cc53ac51441c8a"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a2b1cac51364acc2be6cc53ac51441c8a">lar_content::EventSlicingTool::ClusterToSliceIndexMap</a></div><div class="ttdeci">std::unordered_map&lt; const pandora::Cluster *, unsigned int &gt; ClusterToSliceIndexMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/EventSlicingTool_8h_source.html#l00168">EventSlicingTool.h:168</a></div></div>
<div class="ttc" id="classlar__content_1_1EventSlicingTool_html_a87b1946135ef06b69b7800305ea2f110"><div class="ttname"><a href="../../d9/d12/classlar__content_1_1EventSlicingTool.html#a87b1946135ef06b69b7800305ea2f110">lar_content::EventSlicingTool::CreateSlices</a></div><div class="ttdeci">void CreateSlices(const ClusterSliceList &amp;clusterSliceList, SlicingAlgorithm::SliceList &amp;sliceList, ClusterToSliceIndexMap &amp;clusterToSliceIndexMap) const </div><div class="ttdoc">Create new slices for each of the groupings of 3D clusters in the provided cluster slice list...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/EventSlicingTool_8cc_source.html#l00423">EventSlicingTool.cc:423</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afbfd531fdfde7690072d7f79551974f0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_content::EventSlicingTool::SortPoints </td>
          <td>(</td>
          <td class="paramtype">const pandora::CartesianVector *const&#160;</td>
          <td class="paramname"><em>pLhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const pandora::CartesianVector *const&#160;</td>
          <td class="paramname"><em>pRhs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sort points (use Z, followed by X, followed by Y) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pLhs</td><td>address of first point </td></tr>
    <tr><td class="paramname">pRhs</td><td>address of second point </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html#l00711">711</a> of file <a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;{</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keyword">const</span> CartesianVector deltaPosition(*pRhs - *pLhs);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">if</span> (std::fabs(deltaPosition.GetZ()) &gt; std::numeric_limits&lt;float&gt;::epsilon())</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="keywordflow">return</span> (deltaPosition.GetZ() &gt; std::numeric_limits&lt;float&gt;::epsilon());</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">if</span> (std::fabs(deltaPosition.GetX()) &gt; std::numeric_limits&lt;float&gt;::epsilon())</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordflow">return</span> (deltaPosition.GetX() &gt; std::numeric_limits&lt;float&gt;::epsilon());</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">return</span> (deltaPosition.GetY() &gt; std::numeric_limits&lt;float&gt;::epsilon());</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aa34c52f40ad0dde30816ac6f4cb0eb56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_content::EventSlicingTool::m_coneBoundedFraction1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The minimum cluster bounded fraction for association 1. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00298">298</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a46e099b8038c988bb21be01733640d1c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_content::EventSlicingTool::m_coneBoundedFraction2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The minimum cluster bounded fraction for association 2. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00300">300</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a72dc200da4bc821a4f86bba8432563b0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_content::EventSlicingTool::m_coneLengthMultiplier</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The cone length multiplier to use when calculating bounded cluster fractions. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00295">295</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3bd955bee615a64ce13cd3434b71dff6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_content::EventSlicingTool::m_coneTanHalfAngle1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The cone tan half angle to use when calculating bounded cluster fractions 1. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00297">297</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa7f6dd7e1a42b28bba9c03f278e8ac04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_content::EventSlicingTool::m_coneTanHalfAngle2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The cone tan half angle to use when calculating bounded cluster fractions 2. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00299">299</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a249c138153de86646cabfd66c77bb875"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int lar_content::EventSlicingTool::m_halfWindowLayers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of layers to use for half-window of sliding fit. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00279">279</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0ce07160292fa6d86818c8a30a19ea68"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_content::EventSlicingTool::m_maxClosestApproach</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointing association: max distance of closest approach between straight line fits. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00286">286</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a908091f0a755d83bcfe81a47094f6373"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_content::EventSlicingTool::m_maxConeLength</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The maximum allowed cone length to use when calculating bounded cluster fractions. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00296">296</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6fc21ea760f05461592a36bcb84458d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_content::EventSlicingTool::m_maxHitSeparationSquared</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Proximity association: max distance allowed between the closest pair of hits. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00290">290</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae1ed7decc0014bc91ae63a0a874ba847"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_content::EventSlicingTool::m_maxInterceptDistance</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointing association: max distance from cluster vertex to point of closest approach. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00287">287</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a75b5d7f7e6457d17946aa9e4116264a8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_content::EventSlicingTool::m_maxVertexLongitudinalDistance</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointing association check: max longitudinal distance cut. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00283">283</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="aecadfb3a4689f76530e2232eccbebd4d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_content::EventSlicingTool::m_maxVertexTransverseDistance</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointing association check: max transverse distance cut. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00284">284</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a16d6bca9667d0510bb3741458f7e85f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int lar_content::EventSlicingTool::m_min3DHitsToSeedNewSlice</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The minimum number of hits in a 3D cluster to seed a new slice. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00278">278</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2f3dbe858296e138c6b55d09f46a042a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int lar_content::EventSlicingTool::m_minHitsPer3DCluster</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The minimum number of hits in a 3D cluster to warrant consideration in slicing. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00277">277</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="abb530b46bf16b871d23743df9d573bc8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_content::EventSlicingTool::m_minVertexLongitudinalDistance</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointing association check: min longitudinal distance cut. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00282">282</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9af06275cd6ebcd966bbfd55c0a6945d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int lar_content::EventSlicingTool::m_nConeFitLayers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of layers over which to sum fitted direction to obtain cone fit. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00293">293</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa5d8f980a84c194c183c08f1832069f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int lar_content::EventSlicingTool::m_nConeFits</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of cone fits to perform, spread roughly uniformly along the shower length. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00294">294</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a69bcf815187d277fee861f5dac4ee41f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lar_content::EventSlicingTool::m_showerPfoListName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The name of the input shower pfo list. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00275">275</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="afd067e7f1a036c5930bc94c020a1f39e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lar_content::EventSlicingTool::m_trackPfoListName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The name of the input track pfo list. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00274">274</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="abbb7925f29a7120fa49c3e5d075c1c30"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_content::EventSlicingTool::m_use3DProjectionsInHitPickUp</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether to include 3D cluster projections when assigning remaining clusters to slices. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00302">302</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a560576fab19c963dd44a19ee2df0dbd1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_content::EventSlicingTool::m_usePointingAssociation</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether to use pointing association. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00281">281</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5e82f789f77fb8852bedf1242fa5753e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_content::EventSlicingTool::m_useProximityAssociation</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether to use proximity association. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00289">289</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac36a674e362ee83212d854f5c5494cd4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lar_content::EventSlicingTool::m_useShowerConeAssociation</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether to use shower cone association. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00292">292</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a756eef9bde5812bd511632695c3765b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_content::EventSlicingTool::m_vertexAngularAllowance</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointing association check: pointing angular allowance in degrees. </p>

<p>Definition at line <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html#l00285">285</a> of file <a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d7/d48/EventSlicingTool_8h_source.html">EventSlicingTool.h</a></li>
<li><a class="el" href="../../da/dc4/EventSlicingTool_8cc_source.html">EventSlicingTool.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
