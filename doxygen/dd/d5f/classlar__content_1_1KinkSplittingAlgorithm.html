<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>lar_content::KinkSplittingAlgorithm Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../db/de7/namespacelar__content.html">lar_content</a></li><li class="navelem"><a class="el" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html">KinkSplittingAlgorithm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../dc/de9/classlar__content_1_1KinkSplittingAlgorithm-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">lar_content::KinkSplittingAlgorithm Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html" title="KinkSplittingAlgorithm class. ">KinkSplittingAlgorithm</a> class.  
 <a href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html">KinkSplittingAlgorithm.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for lar_content::KinkSplittingAlgorithm:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.png" usemap="#lar_content::KinkSplittingAlgorithm_map" alt=""/>
  <map id="lar_content::KinkSplittingAlgorithm_map" name="lar_content::KinkSplittingAlgorithm_map">
<area href="../../d2/d88/classlar__content_1_1TwoDSlidingFitSplittingAlgorithm.html" title="TwoDSlidingFitSplittingAlgorithm class. " alt="lar_content::TwoDSlidingFitSplittingAlgorithm" shape="rect" coords="0,112,262,136"/>
<area href="../../df/d73/classlar__content_1_1ClusterSplittingAlgorithm.html" title="ClusterSplittingAlgorithm class. " alt="lar_content::ClusterSplittingAlgorithm" shape="rect" coords="0,56,262,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abea68a72f8cfaa369dbaa6cd11ada9dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#abea68a72f8cfaa369dbaa6cd11ada9dc">KinkSplittingAlgorithm</a> ()</td></tr>
<tr class="memdesc:abea68a72f8cfaa369dbaa6cd11ada9dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#abea68a72f8cfaa369dbaa6cd11ada9dc">More...</a><br/></td></tr>
<tr class="separator:abea68a72f8cfaa369dbaa6cd11ada9dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classlar__content_1_1TwoDSlidingFitSplittingAlgorithm"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classlar__content_1_1TwoDSlidingFitSplittingAlgorithm')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d2/d88/classlar__content_1_1TwoDSlidingFitSplittingAlgorithm.html">lar_content::TwoDSlidingFitSplittingAlgorithm</a></td></tr>
<tr class="memitem:a0882a6a1495c866d0bc8905568faa06e inherit pub_methods_classlar__content_1_1TwoDSlidingFitSplittingAlgorithm"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d88/classlar__content_1_1TwoDSlidingFitSplittingAlgorithm.html#a0882a6a1495c866d0bc8905568faa06e">TwoDSlidingFitSplittingAlgorithm</a> ()</td></tr>
<tr class="memdesc:a0882a6a1495c866d0bc8905568faa06e inherit pub_methods_classlar__content_1_1TwoDSlidingFitSplittingAlgorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#a0882a6a1495c866d0bc8905568faa06e">More...</a><br/></td></tr>
<tr class="separator:a0882a6a1495c866d0bc8905568faa06e inherit pub_methods_classlar__content_1_1TwoDSlidingFitSplittingAlgorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a61db27334a8c666cffc582f67235ae52"><td class="memItemLeft" align="right" valign="top">pandora::StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#a61db27334a8c666cffc582f67235ae52">ReadSettings</a> (const pandora::TiXmlHandle xmlHandle)</td></tr>
<tr class="separator:a61db27334a8c666cffc582f67235ae52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b1c7d9e7d2bd3155a0567b57a779c7b"><td class="memItemLeft" align="right" valign="top">pandora::StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#a8b1c7d9e7d2bd3155a0567b57a779c7b">FindBestSplitPosition</a> (const <a class="el" href="../../de/de3/classlar__content_1_1TwoDSlidingFitResult.html">TwoDSlidingFitResult</a> &amp;slidingFitResult, pandora::CartesianVector &amp;splitPosition) const </td></tr>
<tr class="memdesc:a8b1c7d9e7d2bd3155a0567b57a779c7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use sliding linear fit to identify the best split position.  <a href="#a8b1c7d9e7d2bd3155a0567b57a779c7b">More...</a><br/></td></tr>
<tr class="separator:a8b1c7d9e7d2bd3155a0567b57a779c7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a68a8d8b7044fa32d4e7b59a38e92707f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#a68a8d8b7044fa32d4e7b59a38e92707f">m_maxScatterRms</a></td></tr>
<tr class="separator:a68a8d8b7044fa32d4e7b59a38e92707f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a287b7bd7e3bbc180bfb171851b99b111"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#a287b7bd7e3bbc180bfb171851b99b111">m_maxScatterCosTheta</a></td></tr>
<tr class="separator:a287b7bd7e3bbc180bfb171851b99b111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af12781fe36ca9a9ae134789477cd9cab"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#af12781fe36ca9a9ae134789477cd9cab">m_maxSlidingCosTheta</a></td></tr>
<tr class="separator:af12781fe36ca9a9ae134789477cd9cab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classlar__content_1_1ClusterSplittingAlgorithm"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classlar__content_1_1ClusterSplittingAlgorithm')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../df/d73/classlar__content_1_1ClusterSplittingAlgorithm.html">lar_content::ClusterSplittingAlgorithm</a></td></tr>
<tr class="memitem:ab8ced72d0a8d0cdba077f7af843a6cdc inherit pro_methods_classlar__content_1_1ClusterSplittingAlgorithm"><td class="memItemLeft" align="right" valign="top">virtual pandora::StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/classlar__content_1_1ClusterSplittingAlgorithm.html#ab8ced72d0a8d0cdba077f7af843a6cdc">Run</a> ()</td></tr>
<tr class="separator:ab8ced72d0a8d0cdba077f7af843a6cdc inherit pro_methods_classlar__content_1_1ClusterSplittingAlgorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a45e95ea916d96371d37d9763b624c inherit pro_methods_classlar__content_1_1ClusterSplittingAlgorithm"><td class="memItemLeft" align="right" valign="top">pandora::StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d73/classlar__content_1_1ClusterSplittingAlgorithm.html#a03a45e95ea916d96371d37d9763b624c">RunUsingCurrentList</a> () const </td></tr>
<tr class="memdesc:a03a45e95ea916d96371d37d9763b624c inherit pro_methods_classlar__content_1_1ClusterSplittingAlgorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the algorithm using the current cluster list as input.  <a href="#a03a45e95ea916d96371d37d9763b624c">More...</a><br/></td></tr>
<tr class="separator:a03a45e95ea916d96371d37d9763b624c inherit pro_methods_classlar__content_1_1ClusterSplittingAlgorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classlar__content_1_1TwoDSlidingFitSplittingAlgorithm"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classlar__content_1_1TwoDSlidingFitSplittingAlgorithm')"><img src="../../closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="../../d2/d88/classlar__content_1_1TwoDSlidingFitSplittingAlgorithm.html">lar_content::TwoDSlidingFitSplittingAlgorithm</a></td></tr>
<tr class="memitem:a4e86e98b64ce1d9fdd8b51a519f7b4a7 inherit pro_attribs_classlar__content_1_1TwoDSlidingFitSplittingAlgorithm"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d88/classlar__content_1_1TwoDSlidingFitSplittingAlgorithm.html#a4e86e98b64ce1d9fdd8b51a519f7b4a7">m_slidingFitHalfWindow</a></td></tr>
<tr class="separator:a4e86e98b64ce1d9fdd8b51a519f7b4a7 inherit pro_attribs_classlar__content_1_1TwoDSlidingFitSplittingAlgorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a786d922547574b4a930e18b3f1236c93 inherit pro_attribs_classlar__content_1_1TwoDSlidingFitSplittingAlgorithm"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d88/classlar__content_1_1TwoDSlidingFitSplittingAlgorithm.html#a786d922547574b4a930e18b3f1236c93">m_minClusterLength</a></td></tr>
<tr class="separator:a786d922547574b4a930e18b3f1236c93 inherit pro_attribs_classlar__content_1_1TwoDSlidingFitSplittingAlgorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html" title="KinkSplittingAlgorithm class. ">KinkSplittingAlgorithm</a> class. </p>

<p>Definition at line <a class="el" href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html#l00019">19</a> of file <a class="el" href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html">KinkSplittingAlgorithm.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="abea68a72f8cfaa369dbaa6cd11ada9dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lar_content::KinkSplittingAlgorithm::KinkSplittingAlgorithm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>

<p>Definition at line <a class="el" href="../../d8/d9a/KinkSplittingAlgorithm_8cc_source.html#l00018">18</a> of file <a class="el" href="../../d8/d9a/KinkSplittingAlgorithm_8cc_source.html">KinkSplittingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;                                               : <a class="code" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#a68a8d8b7044fa32d4e7b59a38e92707f">m_maxScatterRms</a>(0.2f), <a class="code" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#a287b7bd7e3bbc180bfb171851b99b111">m_maxScatterCosTheta</a>(0.905f), <a class="code" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#af12781fe36ca9a9ae134789477cd9cab">m_maxSlidingCosTheta</a>(0.985f)</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;{</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1KinkSplittingAlgorithm_html_a68a8d8b7044fa32d4e7b59a38e92707f"><div class="ttname"><a href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#a68a8d8b7044fa32d4e7b59a38e92707f">lar_content::KinkSplittingAlgorithm::m_maxScatterRms</a></div><div class="ttdeci">float m_maxScatterRms</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html#l00040">KinkSplittingAlgorithm.h:40</a></div></div>
<div class="ttc" id="classlar__content_1_1KinkSplittingAlgorithm_html_af12781fe36ca9a9ae134789477cd9cab"><div class="ttname"><a href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#af12781fe36ca9a9ae134789477cd9cab">lar_content::KinkSplittingAlgorithm::m_maxSlidingCosTheta</a></div><div class="ttdeci">float m_maxSlidingCosTheta</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html#l00042">KinkSplittingAlgorithm.h:42</a></div></div>
<div class="ttc" id="classlar__content_1_1KinkSplittingAlgorithm_html_a287b7bd7e3bbc180bfb171851b99b111"><div class="ttname"><a href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#a287b7bd7e3bbc180bfb171851b99b111">lar_content::KinkSplittingAlgorithm::m_maxScatterCosTheta</a></div><div class="ttdeci">float m_maxScatterCosTheta</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html#l00041">KinkSplittingAlgorithm.h:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a8b1c7d9e7d2bd3155a0567b57a779c7b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode lar_content::KinkSplittingAlgorithm::FindBestSplitPosition </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/de3/classlar__content_1_1TwoDSlidingFitResult.html">TwoDSlidingFitResult</a> &amp;&#160;</td>
          <td class="paramname"><em>slidingFitResult</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pandora::CartesianVector &amp;&#160;</td>
          <td class="paramname"><em>splitPosition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Use sliding linear fit to identify the best split position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slidingFitResult</td><td>the input sliding fit result </td></tr>
    <tr><td class="paramname">splitPosition</td><td>the best split position</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pandora::StatusCode </dd></dl>

<p>Implements <a class="el" href="../../d2/d88/classlar__content_1_1TwoDSlidingFitSplittingAlgorithm.html#a8dfcb77cfdc36eec61ff1e8121f16c24">lar_content::TwoDSlidingFitSplittingAlgorithm</a>.</p>

<p>Definition at line <a class="el" href="../../d8/d9a/KinkSplittingAlgorithm_8cc_source.html#l00024">24</a> of file <a class="el" href="../../d8/d9a/KinkSplittingAlgorithm_8cc_source.html">KinkSplittingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;{</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="comment">// Search for scatters by scanning over the layers in the sliding fit result</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/de7/namespacelar__content.html#ac69b9f748ffe2918a4a0e46579b159d4">LayerFitResultMap</a> &amp;layerFitResultMap(slidingFitResult.GetLayerFitResultMap());</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> minLayer(layerFitResultMap.begin()-&gt;first), maxLayer(layerFitResultMap.rbegin()-&gt;first);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> nLayersHalfWindow(slidingFitResult.GetLayerFitHalfWindow());</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> nLayersSpanned(1 + maxLayer - minLayer);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">if</span> (nLayersSpanned &lt;= 2 * nLayersHalfWindow)</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <span class="keywordflow">return</span> STATUS_CODE_NOT_FOUND;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordtype">bool</span> foundSplit(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordtype">float</span> bestCosTheta(1.f);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">for</span> (LayerFitResultMap::const_iterator iter = layerFitResultMap.begin(), iterEnd = layerFitResultMap.end(); iter != iterEnd; ++iter)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> iLayer(iter-&gt;first);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> rL(slidingFitResult.GetL(iLayer));</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> rL1(slidingFitResult.GetL(iLayer - nLayersHalfWindow));</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> rL2(slidingFitResult.GetL(iLayer + nLayersHalfWindow));</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        CartesianVector centralPosition(0.f, 0.f, 0.f), firstDirection(0.f, 0.f, 0.f), secondDirection(0.f, 0.f, 0.f);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordflow">if</span> ((STATUS_CODE_SUCCESS != slidingFitResult.GetGlobalFitPosition(rL, centralPosition)) ||</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            (STATUS_CODE_SUCCESS != slidingFitResult.GetGlobalFitDirection(rL1, firstDirection)) ||</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            (STATUS_CODE_SUCCESS != slidingFitResult.GetGlobalFitDirection(rL2, secondDirection)))</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> cosTheta(firstDirection.GetDotProduct(secondDirection));</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> rms1(slidingFitResult.GetFitRms(rL1));</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> rms2(slidingFitResult.GetFitRms(rL2));</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> rms(<a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(rms1, rms2));</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordtype">float</span> rmsCut(<a class="code" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#a68a8d8b7044fa32d4e7b59a38e92707f">m_maxScatterRms</a>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keywordflow">if</span> (cosTheta &gt; <a class="code" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#a287b7bd7e3bbc180bfb171851b99b111">m_maxScatterCosTheta</a>)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            rmsCut *= ((<a class="code" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#af12781fe36ca9a9ae134789477cd9cab">m_maxSlidingCosTheta</a> &gt; cosTheta) ? (<a class="code" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#af12781fe36ca9a9ae134789477cd9cab">m_maxSlidingCosTheta</a> - cosTheta) / (<a class="code" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#af12781fe36ca9a9ae134789477cd9cab">m_maxSlidingCosTheta</a> - <a class="code" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#a287b7bd7e3bbc180bfb171851b99b111">m_maxScatterCosTheta</a>) : 0.f);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordflow">if</span> (rms &lt; rmsCut &amp;&amp; cosTheta &lt; bestCosTheta)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            bestCosTheta = cosTheta;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            splitPosition = centralPosition;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            foundSplit = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">if</span> (!foundSplit)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordflow">return</span> STATUS_CODE_NOT_FOUND;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="classlar__content_1_1KinkSplittingAlgorithm_html_a68a8d8b7044fa32d4e7b59a38e92707f"><div class="ttname"><a href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#a68a8d8b7044fa32d4e7b59a38e92707f">lar_content::KinkSplittingAlgorithm::m_maxScatterRms</a></div><div class="ttdeci">float m_maxScatterRms</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html#l00040">KinkSplittingAlgorithm.h:40</a></div></div>
<div class="ttc" id="classlar__content_1_1KinkSplittingAlgorithm_html_af12781fe36ca9a9ae134789477cd9cab"><div class="ttname"><a href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#af12781fe36ca9a9ae134789477cd9cab">lar_content::KinkSplittingAlgorithm::m_maxSlidingCosTheta</a></div><div class="ttdeci">float m_maxSlidingCosTheta</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html#l00042">KinkSplittingAlgorithm.h:42</a></div></div>
<div class="ttc" id="namespacelar__content_html_ac69b9f748ffe2918a4a0e46579b159d4"><div class="ttname"><a href="../../db/de7/namespacelar__content.html#ac69b9f748ffe2918a4a0e46579b159d4">lar_content::LayerFitResultMap</a></div><div class="ttdeci">std::map&lt; int, LayerFitResult &gt; LayerFitResultMap</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9f/LArTwoDSlidingFitObjects_8h_source.html#l00084">LArTwoDSlidingFitObjects.h:84</a></div></div>
<div class="ttc" id="classlar__content_1_1KinkSplittingAlgorithm_html_a287b7bd7e3bbc180bfb171851b99b111"><div class="ttname"><a href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#a287b7bd7e3bbc180bfb171851b99b111">lar_content::KinkSplittingAlgorithm::m_maxScatterCosTheta</a></div><div class="ttdeci">float m_maxScatterCosTheta</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html#l00041">KinkSplittingAlgorithm.h:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a61db27334a8c666cffc582f67235ae52"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode lar_content::KinkSplittingAlgorithm::ReadSettings </td>
          <td>(</td>
          <td class="paramtype">const pandora::TiXmlHandle&#160;</td>
          <td class="paramname"><em>xmlHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="../../d2/d88/classlar__content_1_1TwoDSlidingFitSplittingAlgorithm.html#a980f051a9000653c9c1a4d952abc189b">lar_content::TwoDSlidingFitSplittingAlgorithm</a>.</p>

<p>Definition at line <a class="el" href="../../d8/d9a/KinkSplittingAlgorithm_8cc_source.html#l00085">85</a> of file <a class="el" href="../../d8/d9a/KinkSplittingAlgorithm_8cc_source.html">KinkSplittingAlgorithm.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;{</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MaxScatterRms&quot;</span>, <a class="code" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#a68a8d8b7044fa32d4e7b59a38e92707f">m_maxScatterRms</a>));</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MaxScatterCosTheta&quot;</span>, <a class="code" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#a287b7bd7e3bbc180bfb171851b99b111">m_maxScatterCosTheta</a>));</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    PANDORA_RETURN_RESULT_IF_AND_IF(</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        STATUS_CODE_SUCCESS, STATUS_CODE_NOT_FOUND, !=, XmlHelper::ReadValue(xmlHandle, <span class="stringliteral">&quot;MaxSlidingCosTeta&quot;</span>, <a class="code" href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#af12781fe36ca9a9ae134789477cd9cab">m_maxSlidingCosTheta</a>));</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/d88/classlar__content_1_1TwoDSlidingFitSplittingAlgorithm.html#a980f051a9000653c9c1a4d952abc189b">TwoDSlidingFitSplittingAlgorithm::ReadSettings</a>(xmlHandle);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div>
<div class="ttc" id="classlar__content_1_1TwoDSlidingFitSplittingAlgorithm_html_a980f051a9000653c9c1a4d952abc189b"><div class="ttname"><a href="../../d2/d88/classlar__content_1_1TwoDSlidingFitSplittingAlgorithm.html#a980f051a9000653c9c1a4d952abc189b">lar_content::TwoDSlidingFitSplittingAlgorithm::ReadSettings</a></div><div class="ttdeci">virtual pandora::StatusCode ReadSettings(const pandora::TiXmlHandle xmlHandle)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d24/TwoDSlidingFitSplittingAlgorithm_8cc_source.html#l00092">TwoDSlidingFitSplittingAlgorithm.cc:92</a></div></div>
<div class="ttc" id="classlar__content_1_1KinkSplittingAlgorithm_html_a68a8d8b7044fa32d4e7b59a38e92707f"><div class="ttname"><a href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#a68a8d8b7044fa32d4e7b59a38e92707f">lar_content::KinkSplittingAlgorithm::m_maxScatterRms</a></div><div class="ttdeci">float m_maxScatterRms</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html#l00040">KinkSplittingAlgorithm.h:40</a></div></div>
<div class="ttc" id="classlar__content_1_1KinkSplittingAlgorithm_html_af12781fe36ca9a9ae134789477cd9cab"><div class="ttname"><a href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#af12781fe36ca9a9ae134789477cd9cab">lar_content::KinkSplittingAlgorithm::m_maxSlidingCosTheta</a></div><div class="ttdeci">float m_maxSlidingCosTheta</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html#l00042">KinkSplittingAlgorithm.h:42</a></div></div>
<div class="ttc" id="classlar__content_1_1KinkSplittingAlgorithm_html_a287b7bd7e3bbc180bfb171851b99b111"><div class="ttname"><a href="../../dd/d5f/classlar__content_1_1KinkSplittingAlgorithm.html#a287b7bd7e3bbc180bfb171851b99b111">lar_content::KinkSplittingAlgorithm::m_maxScatterCosTheta</a></div><div class="ttdeci">float m_maxScatterCosTheta</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html#l00041">KinkSplittingAlgorithm.h:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a287b7bd7e3bbc180bfb171851b99b111"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_content::KinkSplittingAlgorithm::m_maxScatterCosTheta</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html#l00041">41</a> of file <a class="el" href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html">KinkSplittingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a68a8d8b7044fa32d4e7b59a38e92707f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_content::KinkSplittingAlgorithm::m_maxScatterRms</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html#l00040">40</a> of file <a class="el" href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html">KinkSplittingAlgorithm.h</a>.</p>

</div>
</div>
<a class="anchor" id="af12781fe36ca9a9ae134789477cd9cab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float lar_content::KinkSplittingAlgorithm::m_maxSlidingCosTheta</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html#l00042">42</a> of file <a class="el" href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html">KinkSplittingAlgorithm.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d2/db3/KinkSplittingAlgorithm_8h_source.html">KinkSplittingAlgorithm.h</a></li>
<li><a class="el" href="../../d8/d9a/KinkSplittingAlgorithm_8cc_source.html">KinkSplittingAlgorithm.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
