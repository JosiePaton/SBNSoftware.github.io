<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>util::ArtHandleTrackerManager&lt; Event &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d6/d72/namespaceutil.html">util</a></li><li class="navelem"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">ArtHandleTrackerManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d9/d63/classutil_1_1ArtHandleTrackerManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">util::ArtHandleTrackerManager&lt; Event &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Manages handle trackers for an easy call of <code>removeCachedProduct()</code>.  
 <a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d89/structutil_1_1ArtHandleTrackerManager_1_1Config__t.html">Config_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration record.  <a href="../../d3/d89/structutil_1_1ArtHandleTrackerManager_1_1Config__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a2af72427bef2f4c6870c9590d335b285"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a2af72427bef2f4c6870c9590d335b285">Event_t</a> = Event</td></tr>
<tr class="memdesc:a2af72427bef2f4c6870c9590d335b285"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of data viewer object to operate with.  <a href="#a2af72427bef2f4c6870c9590d335b285">More...</a><br/></td></tr>
<tr class="separator:a2af72427bef2f4c6870c9590d335b285"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa53c11994d1fd1400bd6cc3acfb4a0ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#aa53c11994d1fd1400bd6cc3acfb4a0ba">ArtHandleTrackerManager</a> (<a class="el" href="../../d3/d89/structutil_1_1ArtHandleTrackerManager_1_1Config__t.html">Config_t</a> config={})</td></tr>
<tr class="memdesc:aa53c11994d1fd1400bd6cc3acfb4a0ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a handle manager.  <a href="#aa53c11994d1fd1400bd6cc3acfb4a0ba">More...</a><br/></td></tr>
<tr class="separator:aa53c11994d1fd1400bd6cc3acfb4a0ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67fa2641cf95a090fea69dabd8bf09be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a67fa2641cf95a090fea69dabd8bf09be">ArtHandleTrackerManager</a> (<a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a2af72427bef2f4c6870c9590d335b285">Event_t</a> const &amp;event, <a class="el" href="../../d3/d89/structutil_1_1ArtHandleTrackerManager_1_1Config__t.html">Config_t</a> config={})</td></tr>
<tr class="memdesc:a67fa2641cf95a090fea69dabd8bf09be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a handle manager covering <code>event</code>.  <a href="#a67fa2641cf95a090fea69dabd8bf09be">More...</a><br/></td></tr>
<tr class="separator:a67fa2641cf95a090fea69dabd8bf09be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48e5b00610e6814c9ddb6865aac70c10"><td class="memTemplParams" colspan="2">template&lt;typename Handle &gt; </td></tr>
<tr class="memitem:a48e5b00610e6814c9ddb6865aac70c10"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a48e5b00610e6814c9ddb6865aac70c10">registerHandle</a> (Handle &amp;&amp;handle) -&gt; decltype(auto)</td></tr>
<tr class="separator:a48e5b00610e6814c9ddb6865aac70c10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Queries</div></td></tr>
<tr class="memitem:aab0a7109049f0e85ef66510821060f2f"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#aab0a7109049f0e85ef66510821060f2f">nTrackedHandles</a> () const </td></tr>
<tr class="memdesc:aab0a7109049f0e85ef66510821060f2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of handles currently tracked.  <a href="#aab0a7109049f0e85ef66510821060f2f">More...</a><br/></td></tr>
<tr class="separator:aab0a7109049f0e85ef66510821060f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11a2f613031a534fa72da3f91d1efb80"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a11a2f613031a534fa72da3f91d1efb80">hasEvent</a> () const </td></tr>
<tr class="memdesc:a11a2f613031a534fa72da3f91d1efb80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the object is associated to an event.  <a href="#a11a2f613031a534fa72da3f91d1efb80">More...</a><br/></td></tr>
<tr class="separator:a11a2f613031a534fa72da3f91d1efb80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Registration of data products</div></td></tr>
<tr class="memitem:a16863ba12aefa974d934d04736c31354"><td class="memTemplParams" colspan="2">template&lt;typename T , typename... Args&gt; </td></tr>
<tr class="memitem:a16863ba12aefa974d934d04736c31354"><td class="memTemplItemLeft" align="right" valign="top">art::Handle&lt; T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a16863ba12aefa974d934d04736c31354">getHandle</a> (Args &amp;&amp;...args)</td></tr>
<tr class="memdesc:a16863ba12aefa974d934d04736c31354"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves an handle from the event, and registers it.  <a href="#a16863ba12aefa974d934d04736c31354">More...</a><br/></td></tr>
<tr class="separator:a16863ba12aefa974d934d04736c31354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34305db6b9223f0a7244093464e3348a"><td class="memTemplParams" colspan="2">template&lt;typename T , typename... Args&gt; </td></tr>
<tr class="memitem:a34305db6b9223f0a7244093464e3348a"><td class="memTemplItemLeft" align="right" valign="top">art::ValidHandle&lt; T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a34305db6b9223f0a7244093464e3348a">getValidHandle</a> (Args &amp;&amp;...args)</td></tr>
<tr class="memdesc:a34305db6b9223f0a7244093464e3348a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a valid handle from the event, and registers it.  <a href="#a34305db6b9223f0a7244093464e3348a">More...</a><br/></td></tr>
<tr class="separator:a34305db6b9223f0a7244093464e3348a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71d7e421b68023687f415065282a9ac7"><td class="memTemplParams" colspan="2">template&lt;typename Handle &gt; </td></tr>
<tr class="memitem:a71d7e421b68023687f415065282a9ac7"><td class="memTemplItemLeft" align="right" valign="top">decltype(auto)&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a71d7e421b68023687f415065282a9ac7">registerHandle</a> (Handle &amp;&amp;handle)</td></tr>
<tr class="memdesc:a71d7e421b68023687f415065282a9ac7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers an existing handle.  <a href="#a71d7e421b68023687f415065282a9ac7">More...</a><br/></td></tr>
<tr class="separator:a71d7e421b68023687f415065282a9ac7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Operations</div></td></tr>
<tr class="memitem:a036e412f2cfe5dcbf2a626ca31809540"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a036e412f2cfe5dcbf2a626ca31809540">useEvent</a> (<a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a2af72427bef2f4c6870c9590d335b285">Event_t</a> const &amp;event)</td></tr>
<tr class="memdesc:a036e412f2cfe5dcbf2a626ca31809540"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the event being served.  <a href="#a036e412f2cfe5dcbf2a626ca31809540">More...</a><br/></td></tr>
<tr class="separator:a036e412f2cfe5dcbf2a626ca31809540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a619acd185c3273d89635c2cdaaa988f2"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a619acd185c3273d89635c2cdaaa988f2">removeCachedProducts</a> ()</td></tr>
<tr class="memdesc:a619acd185c3273d89635c2cdaaa988f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the cached data products for all tracked handles.  <a href="#a619acd185c3273d89635c2cdaaa988f2">More...</a><br/></td></tr>
<tr class="separator:a619acd185c3273d89635c2cdaaa988f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14f458caaffb6f243dbf962d1cda40f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a14f458caaffb6f243dbf962d1cda40f6">forgetAllHandles</a> ()</td></tr>
<tr class="memdesc:a14f458caaffb6f243dbf962d1cda40f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops tracking any handle, without removing their cache first.  <a href="#a14f458caaffb6f243dbf962d1cda40f6">More...</a><br/></td></tr>
<tr class="separator:a14f458caaffb6f243dbf962d1cda40f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c8ada59ea36b2ce68c97bb60ae5d172"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a9c8ada59ea36b2ce68c97bb60ae5d172">doneWithEvent</a> (bool removeCache=<a class="el" href="../../de/d36/crtt0matchingalg__sbnd_8fcl.html#af8bc618309fb2d0f55f7f5ae0760b466">true</a>, art::Event const *event=nullptr)</td></tr>
<tr class="memdesc:a9c8ada59ea36b2ce68c97bb60ae5d172"><td class="mdescLeft">&#160;</td><td class="mdescRight">Completes the work on the associated <code>event</code>.  <a href="#a9c8ada59ea36b2ce68c97bb60ae5d172">More...</a><br/></td></tr>
<tr class="separator:a9c8ada59ea36b2ce68c97bb60ae5d172"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a34c41a44640229693e1f813d6e69c65d"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a34c41a44640229693e1f813d6e69c65d">TrackerPtr</a> = std::unique_ptr&lt; <a class="el" href="../../d9/dda/structutil_1_1ArtHandleTrackerInterface.html">util::ArtHandleTrackerInterface</a>&lt; <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a2af72427bef2f4c6870c9590d335b285">Event_t</a> &gt;&gt;</td></tr>
<tr class="memdesc:a34c41a44640229693e1f813d6e69c65d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of pointer to any handle tracker.  <a href="#a34c41a44640229693e1f813d6e69c65d">More...</a><br/></td></tr>
<tr class="separator:a34c41a44640229693e1f813d6e69c65d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:af4e1ce597086a754f3bb6254313507f3"><td class="memTemplParams" colspan="2">template&lt;typename Handle &gt; </td></tr>
<tr class="memitem:af4e1ce597086a754f3bb6254313507f3"><td class="memTemplItemLeft" align="right" valign="top">Handle const *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#af4e1ce597086a754f3bb6254313507f3">findHandle</a> (Handle const &amp;like) const </td></tr>
<tr class="memdesc:af4e1ce597086a754f3bb6254313507f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the pointer to an handle equivalent to <code>like</code>.  <a href="#af4e1ce597086a754f3bb6254313507f3">More...</a><br/></td></tr>
<tr class="separator:af4e1ce597086a754f3bb6254313507f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31aec088d4e45dc9c5f50398ecbf2bc0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a31aec088d4e45dc9c5f50398ecbf2bc0">canOperate</a> (const char *where) const </td></tr>
<tr class="separator:a31aec088d4e45dc9c5f50398ecbf2bc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a5269580c0fdc51221b81776c5a3eba43"><td class="memTemplParams" colspan="2">template&lt;typename Handle &gt; </td></tr>
<tr class="memitem:a5269580c0fdc51221b81776c5a3eba43"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a5269580c0fdc51221b81776c5a3eba43">handleSameProduct</a> (<a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a34c41a44640229693e1f813d6e69c65d">TrackerPtr</a> tracker, Handle const &amp;handle)</td></tr>
<tr class="memdesc:a5269580c0fdc51221b81776c5a3eba43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether <code>tracker</code> tracks the same product that <code>handle</code> handles.  <a href="#a5269580c0fdc51221b81776c5a3eba43">More...</a><br/></td></tr>
<tr class="separator:a5269580c0fdc51221b81776c5a3eba43"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:afc264b07a9267c83468c95ef51526638"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a2af72427bef2f4c6870c9590d335b285">Event_t</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">fEvent</a> = nullptr</td></tr>
<tr class="memdesc:afc264b07a9267c83468c95ef51526638"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event being manager. Must be present!  <a href="#afc264b07a9267c83468c95ef51526638">More...</a><br/></td></tr>
<tr class="separator:afc264b07a9267c83468c95ef51526638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd987441e10aa05eeed66ed383b22d2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d89/structutil_1_1ArtHandleTrackerManager_1_1Config__t.html">Config_t</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#acd987441e10aa05eeed66ed383b22d2b">fConfig</a></td></tr>
<tr class="memdesc:acd987441e10aa05eeed66ed383b22d2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration.  <a href="#acd987441e10aa05eeed66ed383b22d2b">More...</a><br/></td></tr>
<tr class="separator:acd987441e10aa05eeed66ed383b22d2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a700ac1080e7b3c229715611717c4e2ad"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a34c41a44640229693e1f813d6e69c65d">TrackerPtr</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a700ac1080e7b3c229715611717c4e2ad">fTrackers</a></td></tr>
<tr class="memdesc:a700ac1080e7b3c229715611717c4e2ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of managed handle trackers.  <a href="#a700ac1080e7b3c229715611717c4e2ad">More...</a><br/></td></tr>
<tr class="separator:a700ac1080e7b3c229715611717c4e2ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename Event&gt;<br/>
class util::ArtHandleTrackerManager&lt; Event &gt;</h3>

<p>Manages handle trackers for an easy call of <code>removeCachedProduct()</code>. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Event</td><td>the type of data product source (the "principal") to serve</td></tr>
  </table>
  </dd>
</dl>
<p>This handle manager is designed to simplify the usage of <code>art::Event::removeCachedProduct()</code> on multiple data products.</p>
<p>The envisioned usage model in a single-thread module is the following:</p>
<ol type="1">
<li>The manager is a data member of the module (in alternative, it should be passed down to the places where data products are read, and at a minimum it needs to register all the handles it is supposed to "manage").</li>
<li>The manager can ask the event to read a data product anew, and get an handle for it. It will register the handle, and return it.<ul>
<li>The manager can also register an existing handle.</li>
</ul>
</li>
<li>The manager can deliver a stored handle (but that's a slow process in the current implementation and it requires the input tag to resolve ambiguities).</li>
<li>Upon request, all handles are asked to remove their cached products. This request presumably happens at the end of the event-processing function (<code>produce()</code>, <code><a class="el" href="../../d3/d74/g4__3drift__faketrigger__filter_8fcl.html#ad9fbd36ae83bd91dd0be317f6be97a63">filter()</a></code>, <code><a class="el" href="../../db/d87/run__flashfilter__data_8fcl.html#a7402aaa7731e0e08389d0aded689ed5d">analyze()</a></code>). Note that after an handle has its cached data removed, it's <code>clear()</code>'ed.</li>
</ol>
<p>An handle manager can serve only one <em>art</em> event at a time. All handles come from that event (or are assumed to).</p>
<p>Example: </p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MyModule: <span class="keyword">public</span> art::EDAnalyzer {</div>
<div class="line"></div>
<div class="line">  <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager&lt;art::Event&gt;</a> fDataCacheRemover;</div>
<div class="line"></div>
<div class="line">  art::InputTag <span class="keyword">const</span> fTag;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// ...</span></div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="../../db/d87/run__flashfilter__data_8fcl.html#a7402aaa7731e0e08389d0aded689ed5d">analyze</a>(art::Event <span class="keyword">const</span> &amp; event)<span class="keyword"> override</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">      fDataCacheRemover.useEvent(event);</div>
<div class="line"></div>
<div class="line">      <span class="keyword">auto</span> <span class="keyword">const</span>&amp; handle = fDataCacheRemover.getHandle&lt;MyDataProduct&gt;(fTag);</div>
<div class="line"></div>
<div class="line">      <span class="keyword">auto</span> results = processData(*handle); <span class="comment">// ... or whatever</span></div>
<div class="line"></div>
<div class="line">      fDataCacheRemover.removeCachedProducts(); <span class="comment">// free caches after use</span></div>
<div class="line"></div>
<div class="line">      results.Write(); <span class="comment">// ... or another portion of whatever</span></div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">};</div>
</div><!-- fragment --><p>Or one can create the handle as preferred, and then register it: </p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MyModule: <span class="keyword">public</span> art::EDAnalyzer {</div>
<div class="line"></div>
<div class="line">  <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager&lt;art::Event&gt;</a> fDataCacheRemover;</div>
<div class="line"></div>
<div class="line">  art::InputTag <span class="keyword">const</span> fTag;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// ...</span></div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="../../db/d87/run__flashfilter__data_8fcl.html#a7402aaa7731e0e08389d0aded689ed5d">analyze</a>(art::Event <span class="keyword">const</span> &amp; event)<span class="keyword"> override</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">      fDataCacheRemover.useEvent(event);</div>
<div class="line"></div>
<div class="line">      <span class="keyword">auto</span> <span class="keyword">const</span>&amp; handle = <span class="keyword">event</span>.getValidHandle&lt;MyDataProduct&gt;(fTag);</div>
<div class="line"></div>
<div class="line">      fDataCacheRemover.registerHandle(handle);</div>
<div class="line"></div>
<div class="line">      <span class="keyword">auto</span> results = processData(*handle); <span class="comment">// ... or whatever</span></div>
<div class="line"></div>
<div class="line">      fDataCacheRemover.removeCachedProducts(); <span class="comment">// free caches after use</span></div>
<div class="line"></div>
<div class="line">      results.Write(); <span class="comment">// ... or another portion of whatever</span></div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">};</div>
</div><!-- fragment --><h1>Technical notes </h1>
<h2>Support for different types of handles </h2>
<p>Currently, both <code>art::Handle</code> and <code>art::ValidHandle</code> (and nothing else) can be created by <code><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html" title="Manages handle trackers for an easy call of removeCachedProduct(). ">ArtHandleTrackerManager</a></code>. The code can be extended to support any object that can be passed to <code>art::Event::removeCachedProduct()</code> (e.g. <code>art::ProductID</code>, if it will ever happen).</p>
<p>The current implementation is expected to be able to recognize handles pointing to the same data product even if they are of different type (e.g. <code>art::Handle&lt;T&gt;</code> and <code>art::ValidHandle&lt;T&gt;</code>). The manager stores a copy of the first type of handle registered for a given data product; then, if another handle of any type to the same data product is requested or registered, <code><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a71d7e421b68023687f415065282a9ac7" title="Registers an existing handle. ">registerHandle()</a></code> will return the same handle in argument, and the <code><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a16863ba12aefa974d934d04736c31354" title="Retrieves an handle from the event, and registers it. ">getHandle()</a></code> family of functions will get and return a new handle. In both cases, no new registration will happen.</p>
<h2>Multithreading </h2>
<p>The current implementation is inherently not safe for <em>art</em> multithreading. While the inner data structure don't need global state, and the interface can easily be extended to allow for no global state as well, the operations are still performed on all the registered handles at once (meaning, when one thread asks for <code>removeCachedProduct()</code> or <code><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a14f458caaffb6f243dbf962d1cda40f6" title="Stops tracking any handle, without removing their cache first. ">forgetAllHandles()</a></code>, data from all events is affected). This can be overcome by changing the internal storage (to be reentrant and possibly by event) and a bit of the interface.</p>
<p>The object as it is now can be implemented on top of such object, preserving the current event information and delivering it to the new manager under the hood, with minimal overhead.</p>
<p>If such feature is needed, ask the author (and be prepared to test it). </p>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00032">32</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a2af72427bef2f4c6870c9590d335b285"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::<a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a2af72427bef2f4c6870c9590d335b285">Event_t</a> =  Event</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of data viewer object to operate with. </p>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00163">163</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>

</div>
</div>
<a class="anchor" id="a34c41a44640229693e1f813d6e69c65d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::<a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a34c41a44640229693e1f813d6e69c65d">TrackerPtr</a> =  std::unique_ptr&lt;<a class="el" href="../../d9/dda/structutil_1_1ArtHandleTrackerInterface.html">util::ArtHandleTrackerInterface</a>&lt;<a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a2af72427bef2f4c6870c9590d335b285">Event_t</a>&gt;&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Type of pointer to any handle tracker. </p>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00322">322</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa53c11994d1fd1400bd6cc3acfb4a0ba"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::<a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">ArtHandleTrackerManager</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d89/structutil_1_1ArtHandleTrackerManager_1_1Config__t.html">Config_t</a>&#160;</td>
          <td class="paramname"><em>config</em> = <code>{}</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a handle manager. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>(optional) the configuration to be used </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><code><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a036e412f2cfe5dcbf2a626ca31809540" title="Changes the event being served. ">useEvent()</a></code></dd></dl>
<p>An event must be later assigned to it (<code><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a036e412f2cfe5dcbf2a626ca31809540" title="Changes the event being served. ">useEvent()</a></code>) to make it functional. </p>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00783">783</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  : <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#acd987441e10aa05eeed66ed383b22d2b">fConfig</a>{ std::move(config) }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;{}</div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_acd987441e10aa05eeed66ed383b22d2b"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#acd987441e10aa05eeed66ed383b22d2b">util::ArtHandleTrackerManager::fConfig</a></div><div class="ttdeci">Config_t const fConfig</div><div class="ttdoc">Configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00328">ArtHandleTrackerManager.h:328</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a67fa2641cf95a090fea69dabd8bf09be"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::<a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">ArtHandleTrackerManager</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a2af72427bef2f4c6870c9590d335b285">Event_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d89/structutil_1_1ArtHandleTrackerManager_1_1Config__t.html">Config_t</a>&#160;</td>
          <td class="paramname"><em>config</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a handle manager covering <code>event</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>the first data viewer (event) object to operate on </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00791">791</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  : <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">fEvent</a>{ &amp;<span class="keyword">event</span> }, <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#acd987441e10aa05eeed66ed383b22d2b">fConfig</a>{ std::move(config) }</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;{}</div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_acd987441e10aa05eeed66ed383b22d2b"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#acd987441e10aa05eeed66ed383b22d2b">util::ArtHandleTrackerManager::fConfig</a></div><div class="ttdeci">Config_t const fConfig</div><div class="ttdoc">Configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00328">ArtHandleTrackerManager.h:328</a></div></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_afc264b07a9267c83468c95ef51526638"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">util::ArtHandleTrackerManager::fEvent</a></div><div class="ttdeci">Event_t const * fEvent</div><div class="ttdoc">Event being manager. Must be present! </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00326">ArtHandleTrackerManager.h:326</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a31aec088d4e45dc9c5f50398ecbf2bc0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::canOperate </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>where</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks that the object is in a state where it can perform operations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">where</td><td>identification of the calling function for error messages </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">art::Exception</td><td>(code: <code>art::errors::LogicError</code>) on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00981">981</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                                                                           {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  </div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">fEvent</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="keywordflow">throw</span> art::Exception(art::errors::LogicError)</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;util::ArtHandleTrackerManager attempted an operation without a valid&quot;</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <span class="stringliteral">&quot; event.\nThe operation was: &quot;</span> &lt;&lt; where &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;} <span class="comment">// util::ArtHandleTrackerManager&lt;Event&gt;::canOperate()</span></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_afc264b07a9267c83468c95ef51526638"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">util::ArtHandleTrackerManager::fEvent</a></div><div class="ttdeci">Event_t const * fEvent</div><div class="ttdoc">Event being manager. Must be present! </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00326">ArtHandleTrackerManager.h:326</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9c8ada59ea36b2ce68c97bb60ae5d172"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::doneWithEvent </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>removeCache</em> = <code><a class="el" href="../../de/d36/crtt0matchingalg__sbnd_8fcl.html#af8bc618309fb2d0f55f7f5ae0760b466">true</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">art::Event const *&#160;</td>
          <td class="paramname"><em>event</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Completes the work on the associated <code>event</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">removeCache</td><td>(default: <code>true</code>) removes tracked data product caches </td></tr>
    <tr><td class="paramname">event</td><td>if specified, only acts on cache from this <code>event</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of cleared data product caches</dd></dl>
<p>This is a shortcut for having optional release of cache in a single call, depending on the value of <code>removeCache</code>:</p>
<ul>
<li>if <code>true</code>, <code><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a619acd185c3273d89635c2cdaaa988f2" title="Clears the cached data products for all tracked handles. ">removeCachedProducts()</a></code> is called and its count is returned;</li>
<li>if <code>false</code>, <code><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a14f458caaffb6f243dbf962d1cda40f6" title="Stops tracking any handle, without removing their cache first. ">forgetAllHandles()</a></code> is called and <code>0</code> is returned.</li>
</ul>
<p>In addition, the object is disassociated from the event, and a call to <code><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a036e412f2cfe5dcbf2a626ca31809540" title="Changes the event being served. ">useEvent()</a></code> will be needed before this object can be operative again.</p>
<p>If the <code>event</code> parameter is not null, a check is done that the event being currently used matches <code>event</code>, and if not no operation happens (<code>0</code> is returned, but the object is not disassociated from its current event). </p>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00920">920</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;{</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">if</span> (event &amp;&amp; (<a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">fEvent</a> != event)) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  </div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../db/df5/IntegerRanges__test_8cc.html#abbc7e5f346bfa932ca51b4b07ccef76d">count</a> = 0;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="keywordflow">if</span> (removeCache) count = <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a619acd185c3273d89635c2cdaaa988f2">removeCachedProducts</a>();</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="keywordflow">else</span> count = <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a14f458caaffb6f243dbf962d1cda40f6">forgetAllHandles</a>();</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">fEvent</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../db/df5/IntegerRanges__test_8cc.html#abbc7e5f346bfa932ca51b4b07ccef76d">count</a>;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;} <span class="comment">// util::ArtHandleTrackerManager&lt;Event&gt;::doneWithEvent()</span></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_a14f458caaffb6f243dbf962d1cda40f6"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a14f458caaffb6f243dbf962d1cda40f6">util::ArtHandleTrackerManager::forgetAllHandles</a></div><div class="ttdeci">void forgetAllHandles()</div><div class="ttdoc">Stops tracking any handle, without removing their cache first. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00911">ArtHandleTrackerManager.h:911</a></div></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_afc264b07a9267c83468c95ef51526638"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">util::ArtHandleTrackerManager::fEvent</a></div><div class="ttdeci">Event_t const * fEvent</div><div class="ttdoc">Event being manager. Must be present! </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00326">ArtHandleTrackerManager.h:326</a></div></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_a619acd185c3273d89635c2cdaaa988f2"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a619acd185c3273d89635c2cdaaa988f2">util::ArtHandleTrackerManager::removeCachedProducts</a></div><div class="ttdeci">unsigned int removeCachedProducts()</div><div class="ttdoc">Clears the cached data products for all tracked handles. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00895">ArtHandleTrackerManager.h:895</a></div></div>
<div class="ttc" id="IntegerRanges__test_8cc_html_abbc7e5f346bfa932ca51b4b07ccef76d"><div class="ttname"><a href="../../db/df5/IntegerRanges__test_8cc.html#abbc7e5f346bfa932ca51b4b07ccef76d">count</a></div><div class="ttdeci">std::size_t count(Cont const &amp;cont)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df5/IntegerRanges__test_8cc_source.html#l00029">IntegerRanges_test.cc:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af4e1ce597086a754f3bb6254313507f3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event &gt; </div>
<div class="memtemplate">
template&lt;typename Handle &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Handle const * <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::findHandle </td>
          <td>(</td>
          <td class="paramtype">Handle const &amp;&#160;</td>
          <td class="paramname"><em>like</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the pointer to an handle equivalent to <code>like</code>. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Handle</td><td>the type of the handle being queried </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the handle, or <code>nullptr</code> if not found</dd></dl>
<p>This is an half-assed method since it needs to know already the exact type of the handle being queried (it's not even agnostic to the difference between <code>art::Handle</code> and <code>art::ValidHandle</code>). For this reason, it's not really useful to the users, who would probably want to know if the data product is cached, via any mean.</p>
<h3>Technical note</h3>
<p>Delegating the matching to <code><a class="el" href="../../d9/dda/structutil_1_1ArtHandleTrackerInterface.html" title="Interface to facilitate the use of util::ArtHandleTracker specializations. ">util::ArtHandleTrackerInterface</a></code> is not possible (<code>like</code> is a template parameter and can't be passed via virtual interface) and even working around that and finding the match, the returned value needs to be of type <code>Handle</code>, which is not necessarily the type of handle stored in the tracker.</p>
<p>For the full functionality of knowing if a data product is tracked, a separate registry may be kept, still complicated by the fact that part of the registry entry is a C++ type (we may need to store a sanitized <code>std::type_info</code> for that). </p>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00938">938</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;{</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="comment">// look for it, one by one</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a34c41a44640229693e1f813d6e69c65d">TrackerPtr</a> <span class="keyword">const</span>&amp; tracker: <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a700ac1080e7b3c229715611717c4e2ad">fTrackers</a>) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    </div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    std::any anyHandlePtr = tracker-&gt;handlePtr();</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    Handle <span class="keyword">const</span>** handlePtr = std::any_cast&lt;Handle <span class="keyword">const</span>*&gt;(&amp;anyHandlePtr);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">if</span> (!handlePtr) <span class="keywordflow">continue</span>; <span class="comment">// not the right type</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    </div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">if</span> ((*handlePtr)-&gt;provenance()-&gt;inputTag() != like.provenance()-&gt;inputTag())</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <span class="keywordflow">continue</span>; <span class="comment">// different tag</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="keywordflow">return</span> *handlePtr;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  } <span class="comment">// for</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  </div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; <span class="comment">// failed</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;} <span class="comment">// util::ArtHandleTrackerManager&lt;Event&gt;::findTracker()</span></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_a700ac1080e7b3c229715611717c4e2ad"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a700ac1080e7b3c229715611717c4e2ad">util::ArtHandleTrackerManager::fTrackers</a></div><div class="ttdeci">std::vector&lt; TrackerPtr &gt; fTrackers</div><div class="ttdoc">List of managed handle trackers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00331">ArtHandleTrackerManager.h:331</a></div></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_a34c41a44640229693e1f813d6e69c65d"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a34c41a44640229693e1f813d6e69c65d">util::ArtHandleTrackerManager::TrackerPtr</a></div><div class="ttdeci">std::unique_ptr&lt; util::ArtHandleTrackerInterface&lt; Event_t &gt;&gt; TrackerPtr</div><div class="ttdoc">Type of pointer to any handle tracker. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00322">ArtHandleTrackerManager.h:322</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a14f458caaffb6f243dbf962d1cda40f6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::forgetAllHandles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops tracking any handle, without removing their cache first. </p>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00911">911</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  { <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a700ac1080e7b3c229715611717c4e2ad">fTrackers</a>.clear(); }</div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_a700ac1080e7b3c229715611717c4e2ad"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a700ac1080e7b3c229715611717c4e2ad">util::ArtHandleTrackerManager::fTrackers</a></div><div class="ttdeci">std::vector&lt; TrackerPtr &gt; fTrackers</div><div class="ttdoc">List of managed handle trackers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00331">ArtHandleTrackerManager.h:331</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a16863ba12aefa974d934d04736c31354"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event &gt; </div>
<div class="memtemplate">
template&lt;typename T , typename... Args&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">art::Handle&lt; T &gt; <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::getHandle </td>
          <td>(</td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves an handle from the event, and registers it. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>type of data product to retrieve </td></tr>
    <tr><td class="paramname">Args</td><td>types of the arguments needed by <code>art::getHandle()</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>all the arguments that <code>art::getHandle()</code> requires </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the handle just read and being managed </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><code><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a34305db6b9223f0a7244093464e3348a" title="Retrieves a valid handle from the event, and registers it. ">getValidHandle()</a></code>, <code><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a71d7e421b68023687f415065282a9ac7" title="Registers an existing handle. ">registerHandle()</a></code></dd></dl>
<p>This function wraps <code>art::Event::getHandle()</code>, calling it to obtain the handle and then registering it (like with <code><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a71d7e421b68023687f415065282a9ac7" title="Registers an existing handle. ">registerHandle()</a></code>). </p>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00818">818</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;{</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a31aec088d4e45dc9c5f50398ecbf2bc0">canOperate</a>(<span class="stringliteral">&quot;getHandle()&quot;</span>);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a71d7e421b68023687f415065282a9ac7">registerHandle</a></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    (<a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">fEvent</a>-&gt;template getHandle&lt;T&gt;(std::forward&lt;Args&gt;(<a class="code" href="../../dc/d08/namespaceICARUSservices.html#a79d6f2aec6b1f718280ca90904e29b38">args</a>)...));</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;}</div>
<div class="ttc" id="namespaceICARUSservices_html_a79d6f2aec6b1f718280ca90904e29b38"><div class="ttname"><a href="../../dc/d08/namespaceICARUSservices.html#a79d6f2aec6b1f718280ca90904e29b38">ICARUSservices.args</a></div><div class="ttdeci">tuple args</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/ICARUSservices_8py_source.html#l00129">ICARUSservices.py:129</a></div></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_a71d7e421b68023687f415065282a9ac7"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a71d7e421b68023687f415065282a9ac7">util::ArtHandleTrackerManager::registerHandle</a></div><div class="ttdeci">decltype(auto) registerHandle(Handle &amp;&amp;handle)</div><div class="ttdoc">Registers an existing handle. </div></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_a31aec088d4e45dc9c5f50398ecbf2bc0"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a31aec088d4e45dc9c5f50398ecbf2bc0">util::ArtHandleTrackerManager::canOperate</a></div><div class="ttdeci">void canOperate(const char *where) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00981">ArtHandleTrackerManager.h:981</a></div></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_afc264b07a9267c83468c95ef51526638"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">util::ArtHandleTrackerManager::fEvent</a></div><div class="ttdeci">Event_t const * fEvent</div><div class="ttdoc">Event being manager. Must be present! </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00326">ArtHandleTrackerManager.h:326</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a34305db6b9223f0a7244093464e3348a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event &gt; </div>
<div class="memtemplate">
template&lt;typename T , typename... Args&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">art::ValidHandle&lt; T &gt; <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::getValidHandle </td>
          <td>(</td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a valid handle from the event, and registers it. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>type of data product to retrieve </td></tr>
    <tr><td class="paramname">Args</td><td>types of the arguments needed by <code>art::getValidHandle()</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>all the arguments that <code>art::getValidHandle()</code> requires </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the handle just read and being managed </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><code><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a16863ba12aefa974d934d04736c31354" title="Retrieves an handle from the event, and registers it. ">getHandle()</a></code>, <code><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a71d7e421b68023687f415065282a9ac7" title="Registers an existing handle. ">registerHandle()</a></code></dd></dl>
<p>This is the <code>art::ValidHandle</code> sibling of <code><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a16863ba12aefa974d934d04736c31354" title="Retrieves an handle from the event, and registers it. ">getHandle()</a></code>. See that one for details. </p>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00830">830</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;{</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a31aec088d4e45dc9c5f50398ecbf2bc0">canOperate</a>(<span class="stringliteral">&quot;getValidHandle()&quot;</span>);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a71d7e421b68023687f415065282a9ac7">registerHandle</a></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    (<a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">fEvent</a>-&gt;template getValidHandle&lt;T&gt;(std::forward&lt;Args&gt;(<a class="code" href="../../dc/d08/namespaceICARUSservices.html#a79d6f2aec6b1f718280ca90904e29b38">args</a>)...));</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;}</div>
<div class="ttc" id="namespaceICARUSservices_html_a79d6f2aec6b1f718280ca90904e29b38"><div class="ttname"><a href="../../dc/d08/namespaceICARUSservices.html#a79d6f2aec6b1f718280ca90904e29b38">ICARUSservices.args</a></div><div class="ttdeci">tuple args</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/ICARUSservices_8py_source.html#l00129">ICARUSservices.py:129</a></div></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_a71d7e421b68023687f415065282a9ac7"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a71d7e421b68023687f415065282a9ac7">util::ArtHandleTrackerManager::registerHandle</a></div><div class="ttdeci">decltype(auto) registerHandle(Handle &amp;&amp;handle)</div><div class="ttdoc">Registers an existing handle. </div></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_a31aec088d4e45dc9c5f50398ecbf2bc0"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a31aec088d4e45dc9c5f50398ecbf2bc0">util::ArtHandleTrackerManager::canOperate</a></div><div class="ttdeci">void canOperate(const char *where) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00981">ArtHandleTrackerManager.h:981</a></div></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_afc264b07a9267c83468c95ef51526638"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">util::ArtHandleTrackerManager::fEvent</a></div><div class="ttdeci">Event_t const * fEvent</div><div class="ttdoc">Event being manager. Must be present! </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00326">ArtHandleTrackerManager.h:326</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5269580c0fdc51221b81776c5a3eba43"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event &gt; </div>
<div class="memtemplate">
template&lt;typename Handle &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::handleSameProduct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a34c41a44640229693e1f813d6e69c65d">TrackerPtr</a>&#160;</td>
          <td class="paramname"><em>tracker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Handle const &amp;&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether <code>tracker</code> tracks the same product that <code>handle</code> handles. </p>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00965">965</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;{</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <span class="keyword">using</span> <a class="code" href="../../d6/d13/classutil_1_1details_1_1ProvenanceGetter.html">util::details::ProvenanceGetter</a>;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="keywordflow">if</span> (!tracker) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="keywordflow">if</span> (ProvenanceGetter&lt;Handle&gt;::productType() != tracker-&gt;productType())</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="keywordflow">if</span> (ProvenanceGetter&lt;Handle&gt;::inputTag() != tracker-&gt;inputTag())</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;} <span class="comment">// util::ArtHandleTrackerManager&lt;&gt;::handleSameProduct()</span></div>
<div class="ttc" id="classutil_1_1details_1_1ProvenanceGetter_html"><div class="ttname"><a href="../../d6/d13/classutil_1_1details_1_1ProvenanceGetter.html">util::details::ProvenanceGetter</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00649">ArtHandleTrackerManager.h:649</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a11a2f613031a534fa72da3f91d1efb80"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::hasEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether the object is associated to an event. </p>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00889">889</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  { <span class="keywordflow">return</span> <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">fEvent</a>; }</div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_afc264b07a9267c83468c95ef51526638"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">util::ArtHandleTrackerManager::fEvent</a></div><div class="ttdeci">Event_t const * fEvent</div><div class="ttdoc">Event being manager. Must be present! </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00326">ArtHandleTrackerManager.h:326</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aab0a7109049f0e85ef66510821060f2f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::nTrackedHandles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of handles currently tracked. </p>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00883">883</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  { <span class="keywordflow">return</span> <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a700ac1080e7b3c229715611717c4e2ad">fTrackers</a>.size(); }</div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_a700ac1080e7b3c229715611717c4e2ad"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a700ac1080e7b3c229715611717c4e2ad">util::ArtHandleTrackerManager::fTrackers</a></div><div class="ttdeci">std::vector&lt; TrackerPtr &gt; fTrackers</div><div class="ttdoc">List of managed handle trackers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00331">ArtHandleTrackerManager.h:331</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a71d7e421b68023687f415065282a9ac7"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event&gt; </div>
<div class="memtemplate">
template&lt;typename Handle &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">decltype(auto) <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::registerHandle </td>
          <td>(</td>
          <td class="paramtype">Handle &amp;&amp;&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers an existing handle. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Handle</td><td>the type of handle to register </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>the handle to be registered </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>handle</code> (pass through)</dd></dl>
<p>This method registers a copy of <code>handle</code> into the manager. </p>

</div>
</div>
<a class="anchor" id="a48e5b00610e6814c9ddb6865aac70c10"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event&gt; </div>
<div class="memtemplate">
template&lt;typename Handle &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::registerHandle </td>
          <td>(</td>
          <td class="paramtype">Handle &amp;&amp;&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td> -&gt; decltype(auto)
</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00842">842</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;{</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="keyword">using</span> <a class="code" href="../../d6/d13/classutil_1_1details_1_1ProvenanceGetter.html">util::details::ProvenanceGetter</a>;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keyword">using</span> Handle_t = std::decay_t&lt;Handle&gt;;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a31aec088d4e45dc9c5f50398ecbf2bc0">canOperate</a>(<span class="stringliteral">&quot;registerHandle()&quot;</span>);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="keyword">using</span> Tracker_t = <a class="code" href="../../d3/df3/classutil_1_1details_1_1ArtHandleTracker.html">util::details::ArtHandleTracker&lt;Event_t, Handle_t&gt;</a>;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="comment">// if it&#39;s already registered, we don&#39;t want to have it again</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> ptr = <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#af4e1ce597086a754f3bb6254313507f3">findHandle</a>(handle)) {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span>&amp; registeredHandle = *ptr;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    mf::LogDebug <a class="code" href="../../d1/d3f/namespaceexample__anaunit.html#a018e3a338e1c96b9b777d478d923b1ef">msg</a> { <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#acd987441e10aa05eeed66ed383b22d2b">fConfig</a>.<a class="code" href="../../d3/d89/structutil_1_1ArtHandleTrackerManager_1_1Config__t.html#a3fb939d8e4eae118acd6d96cfbfa532d">logCategory</a> };</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <a class="code" href="../../d1/d3f/namespaceexample__anaunit.html#a018e3a338e1c96b9b777d478d923b1ef">msg</a></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;Handle&lt;&quot;</span> &lt;&lt; <a class="code" href="../../de/df8/namespaceutil_1_1details.html#af37ccdcd8d590199ddc14198d9d5f5cb">details::productClassOf</a>(registeredHandle)</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;&gt;(&quot;</span> &lt;&lt; <a class="code" href="../../de/df8/namespaceutil_1_1details.html#a17adcfd83a582127e5a5e394250800e8">details::inputTagOf</a>(registeredHandle).encode()</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;) was already registered&quot;</span>;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">typeid</span>(registeredHandle) != <span class="keyword">typeid</span>(Handle_t)) {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      <a class="code" href="../../d1/d3f/namespaceexample__anaunit.html#a018e3a338e1c96b9b777d478d923b1ef">msg</a> &lt;&lt; <span class="stringliteral">&quot; as a different handle type (&quot;</span> &lt;&lt; <span class="keyword">typeid</span>(registeredHandle).<a class="code" href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh.html#a19dd16849ed641adb2aff777fdc4bd8b">name</a>()</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;, now &quot;</span> &lt;&lt; <span class="keyword">typeid</span>(Handle_t).<a class="code" href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh.html#a19dd16849ed641adb2aff777fdc4bd8b">name</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    }</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <a class="code" href="../../d1/d3f/namespaceexample__anaunit.html#a018e3a338e1c96b9b777d478d923b1ef">msg</a> &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  }</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    mf::LogDebug{ <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#acd987441e10aa05eeed66ed383b22d2b">fConfig</a>.<a class="code" href="../../d3/d89/structutil_1_1ArtHandleTrackerManager_1_1Config__t.html#a3fb939d8e4eae118acd6d96cfbfa532d">logCategory</a> }</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;Registering handle&lt;&quot;</span> &lt;&lt; <a class="code" href="../../de/df8/namespaceutil_1_1details.html#af37ccdcd8d590199ddc14198d9d5f5cb">details::productClassOf</a>(handle)</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;&gt;(&quot;</span> &lt;&lt; <a class="code" href="../../de/df8/namespaceutil_1_1details.html#a17adcfd83a582127e5a5e394250800e8">details::inputTagOf</a>(handle).encode()</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;) (handle type: &quot;</span> &lt;&lt; <span class="keyword">typeid</span>(Handle_t).<a class="code" href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh.html#a19dd16849ed641adb2aff777fdc4bd8b">name</a>() &lt;&lt; <span class="stringliteral">&quot;).&quot;</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      ;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    </div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a700ac1080e7b3c229715611717c4e2ad">fTrackers</a>.push_back(std::make_unique&lt;Tracker_t&gt;(*<a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">fEvent</a>, handle));</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <span class="keywordflow">return</span> std::forward&lt;Handle&gt;(handle);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;} <span class="comment">// util::ArtHandleTrackerManager&lt;&gt;::registerHandle()</span></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_a700ac1080e7b3c229715611717c4e2ad"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a700ac1080e7b3c229715611717c4e2ad">util::ArtHandleTrackerManager::fTrackers</a></div><div class="ttdeci">std::vector&lt; TrackerPtr &gt; fTrackers</div><div class="ttdoc">List of managed handle trackers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00331">ArtHandleTrackerManager.h:331</a></div></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_acd987441e10aa05eeed66ed383b22d2b"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#acd987441e10aa05eeed66ed383b22d2b">util::ArtHandleTrackerManager::fConfig</a></div><div class="ttdeci">Config_t const fConfig</div><div class="ttdoc">Configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00328">ArtHandleTrackerManager.h:328</a></div></div>
<div class="ttc" id="structutil_1_1ArtHandleTrackerManager_1_1Config__t_html_a3fb939d8e4eae118acd6d96cfbfa532d"><div class="ttname"><a href="../../d3/d89/structutil_1_1ArtHandleTrackerManager_1_1Config__t.html#a3fb939d8e4eae118acd6d96cfbfa532d">util::ArtHandleTrackerManager::Config_t::logCategory</a></div><div class="ttdeci">std::string logCategory</div><div class="ttdoc">Name of the output category for messages. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00169">ArtHandleTrackerManager.h:169</a></div></div>
<div class="ttc" id="classutil_1_1details_1_1ProvenanceGetter_html"><div class="ttname"><a href="../../d6/d13/classutil_1_1details_1_1ProvenanceGetter.html">util::details::ProvenanceGetter</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00649">ArtHandleTrackerManager.h:649</a></div></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_a31aec088d4e45dc9c5f50398ecbf2bc0"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a31aec088d4e45dc9c5f50398ecbf2bc0">util::ArtHandleTrackerManager::canOperate</a></div><div class="ttdeci">void canOperate(const char *where) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00981">ArtHandleTrackerManager.h:981</a></div></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_af4e1ce597086a754f3bb6254313507f3"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#af4e1ce597086a754f3bb6254313507f3">util::ArtHandleTrackerManager::findHandle</a></div><div class="ttdeci">Handle const * findHandle(Handle const &amp;like) const </div><div class="ttdoc">Returns the pointer to an handle equivalent to like. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00938">ArtHandleTrackerManager.h:938</a></div></div>
<div class="ttc" id="namespaceutil_1_1details_html_af37ccdcd8d590199ddc14198d9d5f5cb"><div class="ttname"><a href="../../de/df8/namespaceutil_1_1details.html#af37ccdcd8d590199ddc14198d9d5f5cb">util::details::productClassOf</a></div><div class="ttdeci">std::string productClassOf(Handle const &amp;handle)</div><div class="ttdoc">use candy </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00700">ArtHandleTrackerManager.h:700</a></div></div>
<div class="ttc" id="namespaceutil_1_1details_html_a17adcfd83a582127e5a5e394250800e8"><div class="ttname"><a href="../../de/df8/namespaceutil_1_1details.html#a17adcfd83a582127e5a5e394250800e8">util::details::inputTagOf</a></div><div class="ttdeci">art::InputTag inputTagOf(Handle const &amp;handle)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00708">ArtHandleTrackerManager.h:708</a></div></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_afc264b07a9267c83468c95ef51526638"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">util::ArtHandleTrackerManager::fEvent</a></div><div class="ttdeci">Event_t const * fEvent</div><div class="ttdoc">Event being manager. Must be present! </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00326">ArtHandleTrackerManager.h:326</a></div></div>
<div class="ttc" id="namespaceexample__anaunit_html_a018e3a338e1c96b9b777d478d923b1ef"><div class="ttname"><a href="../../d1/d3f/namespaceexample__anaunit.html#a018e3a338e1c96b9b777d478d923b1ef">example_anaunit.msg</a></div><div class="ttdeci">string msg</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dda/Algorithms_2mac_2example__anaunit_8py_source.html#l00004">Algorithms/mac/example_anaunit.py:4</a></div></div>
<div class="ttc" id="sbndpoms__genfclwithrunnumber__maker_8sh_html_a19dd16849ed641adb2aff777fdc4bd8b"><div class="ttname"><a href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh.html#a19dd16849ed641adb2aff777fdc4bd8b">name</a></div><div class="ttdeci">then echo fcl name</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh_source.html#l00220">sbndpoms_genfclwithrunnumber_maker.sh:220</a></div></div>
<div class="ttc" id="classutil_1_1details_1_1ArtHandleTracker_html"><div class="ttname"><a href="../../d3/df3/classutil_1_1details_1_1ArtHandleTracker.html">util::details::ArtHandleTracker</a></div><div class="ttdoc">Tracks art handle objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00650">ArtHandleTrackerManager.h:650</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a619acd185c3273d89635c2cdaaa988f2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::removeCachedProducts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the cached data products for all tracked handles. </p>
<dl class="section return"><dt>Returns</dt><dd>the number of tracked handles which had their cache removed</dd></dl>
<p>This method calls <code>Event_t::removeCachedProduct()</code> for all tracked handles. This is the core functionality of the manager, which removes the cache of all tracked handles.</p>
<p>The <em>art</em> framework always makes the handles used to remove the cache invalid (<code>Handle::clear()</code>). After the removal, the object stops tracking the handles (like with a call to <code><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a14f458caaffb6f243dbf962d1cda40f6" title="Stops tracking any handle, without removing their cache first. ">forgetAllHandles()</a></code>).</p>
<p>Calling this method when there are no handles registered has no effect. </p>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00895">895</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                                                                      {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <span class="comment">// we remove cache in opposite order to registration: it&#39;s a C++ tradition.</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keyword">const</span> nRemoved = std::count_if(</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a700ac1080e7b3c229715611717c4e2ad">fTrackers</a>.crbegin(), <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a700ac1080e7b3c229715611717c4e2ad">fTrackers</a>.crend(),</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    [](<span class="keyword">auto</span> <span class="keyword">const</span>&amp; tracker){ <span class="keywordflow">return</span> tracker-&gt;removeCachedProduct(); }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    );</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a14f458caaffb6f243dbf962d1cda40f6">forgetAllHandles</a>();</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="keywordflow">return</span> nRemoved;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;} <span class="comment">// util::ArtHandleTrackerManager&lt;Event&gt;::removeCachedProducts()</span></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_a700ac1080e7b3c229715611717c4e2ad"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a700ac1080e7b3c229715611717c4e2ad">util::ArtHandleTrackerManager::fTrackers</a></div><div class="ttdeci">std::vector&lt; TrackerPtr &gt; fTrackers</div><div class="ttdoc">List of managed handle trackers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00331">ArtHandleTrackerManager.h:331</a></div></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_a14f458caaffb6f243dbf962d1cda40f6"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a14f458caaffb6f243dbf962d1cda40f6">util::ArtHandleTrackerManager::forgetAllHandles</a></div><div class="ttdeci">void forgetAllHandles()</div><div class="ttdoc">Stops tracking any handle, without removing their cache first. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00911">ArtHandleTrackerManager.h:911</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a036e412f2cfe5dcbf2a626ca31809540"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::useEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a2af72427bef2f4c6870c9590d335b285">Event_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the event being served. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>the new event being served </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">art::Exception</td><td>(code: <code>art::errors::LogicError</code>) if there are still registered handles</td></tr>
  </table>
  </dd>
</dl>
<p>The object starts tracking handles of a new event.</p>
<p>This method requires that any pending handle has been taken care of (even if the new event happens to be the same as the old one). Common options are <code>removeCachedProductsAndForget()</code> if cache removal is desired, or <code><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a14f458caaffb6f243dbf962d1cda40f6" title="Stops tracking any handle, without removing their cache first. ">forgetAllHandles()</a></code> if it's not. </p>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00798">798</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                                                                      {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#aab0a7109049f0e85ef66510821060f2f">nTrackedHandles</a>() &gt; 0) {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="comment">// since fEvent might be invalid, we don&#39;t attempt to figure out which ID</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="comment">// that event might have had</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="keywordflow">throw</span> art::Exception{ art::errors::LogicError }</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;ArtHandleTrackerManager attempted to change event to &quot;</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      &lt;&lt; <span class="keyword">event</span>.id() &lt;&lt; <span class="stringliteral">&quot; when &quot;</span> &lt;&lt; <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#aab0a7109049f0e85ef66510821060f2f">nTrackedHandles</a>()</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; handles are still tracked.\n&quot;</span>;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  }</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <a class="code" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">fEvent</a> = &amp;event;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;} <span class="comment">// util::ArtHandleTrackerManager&lt;Event&gt;::useEvent()</span></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_aab0a7109049f0e85ef66510821060f2f"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#aab0a7109049f0e85ef66510821060f2f">util::ArtHandleTrackerManager::nTrackedHandles</a></div><div class="ttdeci">unsigned int nTrackedHandles() const </div><div class="ttdoc">Returns the number of handles currently tracked. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00883">ArtHandleTrackerManager.h:883</a></div></div>
<div class="ttc" id="classutil_1_1ArtHandleTrackerManager_html_afc264b07a9267c83468c95ef51526638"><div class="ttname"><a href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#afc264b07a9267c83468c95ef51526638">util::ArtHandleTrackerManager::fEvent</a></div><div class="ttdeci">Event_t const * fEvent</div><div class="ttdoc">Event being manager. Must be present! </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00326">ArtHandleTrackerManager.h:326</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="acd987441e10aa05eeed66ed383b22d2b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d89/structutil_1_1ArtHandleTrackerManager_1_1Config__t.html">Config_t</a> const <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::fConfig</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configuration. </p>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00328">328</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>

</div>
</div>
<a class="anchor" id="afc264b07a9267c83468c95ef51526638"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a2af72427bef2f4c6870c9590d335b285">Event_t</a> const* <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::fEvent = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Event being manager. Must be present! </p>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00326">326</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>

</div>
</div>
<a class="anchor" id="a700ac1080e7b3c229715611717c4e2ad"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Event&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html#a34c41a44640229693e1f813d6e69c65d">TrackerPtr</a>&gt; <a class="el" href="../../de/da2/classutil_1_1ArtHandleTrackerManager.html">util::ArtHandleTrackerManager</a>&lt; Event &gt;::fTrackers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of managed handle trackers. </p>

<p>Definition at line <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html#l00331">331</a> of file <a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../d5/d04/ArtHandleTrackerManager_8h_source.html">ArtHandleTrackerManager.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
