<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>icarus::trigger::WindowTopologyAlg Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../da/d4d/namespaceicarus.html">icarus</a></li><li class="navelem"><a class="el" href="../../dd/df6/namespaceicarus_1_1trigger.html">trigger</a></li><li class="navelem"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html">WindowTopologyAlg</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../dd/db4/classicarus_1_1trigger_1_1WindowTopologyAlg-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">icarus::trigger::WindowTopologyAlg Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Algorithm to create trigger window topology information.  
 <a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d3/dda/WindowTopologyAlg_8h_source.html">WindowTopologyAlg.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for icarus::trigger::WindowTopologyAlg:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.png" usemap="#icarus::trigger::WindowTopologyAlg_map" alt=""/>
  <map id="icarus::trigger::WindowTopologyAlg_map" name="icarus::trigger::WindowTopologyAlg_map">
<area href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html" title="Helper for logging classes. " alt="icarus::ns::util::mfLoggingClass" shape="rect" coords="0,0,211,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a39839125385f53223f28c72f6604368a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a39839125385f53223f28c72f6604368a">InputTriggerGate_t</a> = <a class="el" href="../../dd/df6/namespaceicarus_1_1trigger.html#a7037bc74f4245057c2d1d4c63dd2f8a9">icarus::trigger::TrackedOpticalTriggerGate</a>&lt; <a class="el" href="../../da/d09/structsbn_1_1OpDetWaveformMeta.html">sbn::OpDetWaveformMeta</a> &gt;</td></tr>
<tr class="memdesc:a39839125385f53223f28c72f6604368a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of trigger gate extracted from the input event.  <a href="#a39839125385f53223f28c72f6604368a">More...</a><br/></td></tr>
<tr class="separator:a39839125385f53223f28c72f6604368a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac663f161080c181e0ad5f8ae07dde2af"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ac663f161080c181e0ad5f8ae07dde2af">TriggerGates_t</a> = std::vector&lt; <a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a39839125385f53223f28c72f6604368a">InputTriggerGate_t</a> &gt;</td></tr>
<tr class="memdesc:ac663f161080c181e0ad5f8ae07dde2af"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list of trigger gates from input.  <a href="#ac663f161080c181e0ad5f8ae07dde2af">More...</a><br/></td></tr>
<tr class="separator:ac663f161080c181e0ad5f8ae07dde2af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3d88eac67f302b1dceb3c3b48aaa8d8"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#aa3d88eac67f302b1dceb3c3b48aaa8d8">TriggerGatesPerCryostat_t</a> = std::vector&lt; <a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ac663f161080c181e0ad5f8ae07dde2af">TriggerGates_t</a> &gt;</td></tr>
<tr class="memdesc:aa3d88eac67f302b1dceb3c3b48aaa8d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of lists of gates, one list per cryostat (outer index: cryostat no).  <a href="#aa3d88eac67f302b1dceb3c3b48aaa8d8">More...</a><br/></td></tr>
<tr class="separator:aa3d88eac67f302b1dceb3c3b48aaa8d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab5be7835b4bfd8768c54c2d7e6a3a1bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ab5be7835b4bfd8768c54c2d7e6a3a1bd">WindowTopologyAlg</a> (<a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a> const &amp;geom, std::string const &amp;<a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#aa155bf6084c2272a53879da12ecff0b9">logCategory</a>=&quot;WindowTopologyAlg&quot;)</td></tr>
<tr class="memdesc:ab5be7835b4bfd8768c54c2d7e6a3a1bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#ab5be7835b4bfd8768c54c2d7e6a3a1bd">More...</a><br/></td></tr>
<tr class="separator:ab5be7835b4bfd8768c54c2d7e6a3a1bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aa3a71521ad6c2db17603dd1e75412a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html">WindowChannelMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a2aa3a71521ad6c2db17603dd1e75412a">createFromGates</a> (<a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#aa3d88eac67f302b1dceb3c3b48aaa8d8">TriggerGatesPerCryostat_t</a> const &amp;gates) const </td></tr>
<tr class="memdesc:a2aa3a71521ad6c2db17603dd1e75412a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the topology of the windows described by the gates.  <a href="#a2aa3a71521ad6c2db17603dd1e75412a">More...</a><br/></td></tr>
<tr class="separator:a2aa3a71521ad6c2db17603dd1e75412a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a846e382fbdef9b50d864c26983525a40"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html">WindowChannelMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a846e382fbdef9b50d864c26983525a40">createFromGates</a> (<a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ac663f161080c181e0ad5f8ae07dde2af">TriggerGates_t</a> const &amp;gates) const </td></tr>
<tr class="memdesc:a846e382fbdef9b50d864c26983525a40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the topology of the windows described by the gates.  <a href="#a846e382fbdef9b50d864c26983525a40">More...</a><br/></td></tr>
<tr class="separator:a846e382fbdef9b50d864c26983525a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5956b32bb4f593ebd81a7e8d500d5bdd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html">WindowChannelMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a5956b32bb4f593ebd81a7e8d500d5bdd">createFromCryostatGates</a> (<a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ac663f161080c181e0ad5f8ae07dde2af">TriggerGates_t</a> const &amp;windowChannels, <a class="el" href="../../de/da3/classgeo_1_1CryostatGeo.html">geo::CryostatGeo</a> const &amp;cryo) const </td></tr>
<tr class="memdesc:a5956b32bb4f593ebd81a7e8d500d5bdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the topology of the windows described by the gates.  <a href="#a5956b32bb4f593ebd81a7e8d500d5bdd">More...</a><br/></td></tr>
<tr class="separator:a5956b32bb4f593ebd81a7e8d500d5bdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9cb0c49cc7d931f7312e44b1151bbea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html">WindowChannelMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#aa9cb0c49cc7d931f7312e44b1151bbea">createFromCryostatGates</a> (<a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ac663f161080c181e0ad5f8ae07dde2af">TriggerGates_t</a> const &amp;windowChannels, <a class="el" href="../../d9/d73/structgeo_1_1CryostatID.html">geo::CryostatID</a> cryoID) const </td></tr>
<tr class="memdesc:aa9cb0c49cc7d931f7312e44b1151bbea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the topology of the windows described by the gates.  <a href="#aa9cb0c49cc7d931f7312e44b1151bbea">More...</a><br/></td></tr>
<tr class="separator:aa9cb0c49cc7d931f7312e44b1151bbea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fca696954e0d7e9c70153a1961061d8"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a3fca696954e0d7e9c70153a1961061d8"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a3fca696954e0d7e9c70153a1961061d8">emplaceAndDumpMap</a> (Args &amp;&amp;...args) const -&gt; <a class="el" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html">WindowChannelMap</a></td></tr>
<tr class="separator:a3fca696954e0d7e9c70153a1961061d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:acd5d0f235fd5a94172c01a15b8d0764e"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#acd5d0f235fd5a94172c01a15b8d0764e">WindowChannels_t</a> = std::vector&lt; <a class="el" href="../../d9/d63/namespaceraw.html#ab3db8feaa51f2c564eb00582c3d72590">raw::Channel_t</a> &gt;</td></tr>
<tr class="memdesc:acd5d0f235fd5a94172c01a15b8d0764e"><td class="mdescLeft">&#160;</td><td class="mdescRight">All channels in a gate.  <a href="#acd5d0f235fd5a94172c01a15b8d0764e">More...</a><br/></td></tr>
<tr class="separator:acd5d0f235fd5a94172c01a15b8d0764e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69950399a8cd2b9dbb9c6870cb35da67"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a69950399a8cd2b9dbb9c6870cb35da67">WindowChannelColl_t</a> = std::vector&lt; <a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#acd5d0f235fd5a94172c01a15b8d0764e">WindowChannels_t</a> &gt;</td></tr>
<tr class="memdesc:a69950399a8cd2b9dbb9c6870cb35da67"><td class="mdescLeft">&#160;</td><td class="mdescRight">All channels in many gates (one list per gate).  <a href="#a69950399a8cd2b9dbb9c6870cb35da67">More...</a><br/></td></tr>
<tr class="separator:a69950399a8cd2b9dbb9c6870cb35da67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a18418d1df9a63e728c65670cafa81497"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a18418d1df9a63e728c65670cafa81497"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html">WindowChannelMap</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a18418d1df9a63e728c65670cafa81497">emplaceAndDumpMap</a> (Args &amp;&amp;...args) const </td></tr>
<tr class="separator:a18418d1df9a63e728c65670cafa81497"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:ac2c8dcafe5b0c964d653674b8b11d380"><td class="memItemLeft" align="right" valign="top">static std::vector<br class="typebreak"/>
&lt; <a class="el" href="../../d9/df9/structicarus_1_1trigger_1_1WindowChannelMap_1_1WindowInfo__t.html">WindowChannelMap::WindowInfo_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ac2c8dcafe5b0c964d653674b8b11d380">createWindowsFromCryostat</a> (<a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a69950399a8cd2b9dbb9c6870cb35da67">WindowChannelColl_t</a> const &amp;windowChannels, <a class="el" href="../../de/da3/classgeo_1_1CryostatGeo.html">geo::CryostatGeo</a> const &amp;cryo, <a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a> const &amp;geom, std::size_t firstWindowIndex=0U)</td></tr>
<tr class="memdesc:ac2c8dcafe5b0c964d653674b8b11d380"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts topology information from a set of windows.  <a href="#ac2c8dcafe5b0c964d653674b8b11d380">More...</a><br/></td></tr>
<tr class="separator:ac2c8dcafe5b0c964d653674b8b11d380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad39b9e97259f88e1488462ab6601df5d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a69950399a8cd2b9dbb9c6870cb35da67">WindowChannelColl_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ad39b9e97259f88e1488462ab6601df5d">extractGateChannels</a> (<a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ac663f161080c181e0ad5f8ae07dde2af">TriggerGates_t</a> const &amp;gates)</td></tr>
<tr class="memdesc:ad39b9e97259f88e1488462ab6601df5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts the channel ID from a collection of gates.  <a href="#ad39b9e97259f88e1488462ab6601df5d">More...</a><br/></td></tr>
<tr class="separator:ad39b9e97259f88e1488462ab6601df5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dfe2e73dca32ac4301b0ae7d3c18161"><td class="memItemLeft" align="right" valign="top">static <br class="typebreak"/>
<a class="el" href="../../d9/df9/structicarus_1_1trigger_1_1WindowChannelMap_1_1WindowInfo__t.html">WindowChannelMap::WindowInfo_t</a> <br class="typebreak"/>
const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a9dfe2e73dca32ac4301b0ae7d3c18161">findClosestWindow</a> (std::vector&lt; <a class="el" href="../../d9/df9/structicarus_1_1trigger_1_1WindowChannelMap_1_1WindowInfo__t.html">WindowChannelMap::WindowInfo_t</a> * &gt; const &amp;windowList, <a class="el" href="../../d9/df9/structicarus_1_1trigger_1_1WindowChannelMap_1_1WindowInfo__t.html">WindowChannelMap::WindowInfo_t</a> const *targetWindow)</td></tr>
<tr class="memdesc:a9dfe2e73dca32ac4301b0ae7d3c18161"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the window in <code>windowList</code> closest to the <code>targetWindow</code>.  <a href="#a9dfe2e73dca32ac4301b0ae7d3c18161">More...</a><br/></td></tr>
<tr class="separator:a9dfe2e73dca32ac4301b0ae7d3c18161"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ace7bd5df274c2e0e0d1190b1abbb10c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a> const *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ace7bd5df274c2e0e0d1190b1abbb10c8">fGeom</a></td></tr>
<tr class="memdesc:ace7bd5df274c2e0e0d1190b1abbb10c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Geometry service provider.  <a href="#ace7bd5df274c2e0e0d1190b1abbb10c8">More...</a><br/></td></tr>
<tr class="separator:ace7bd5df274c2e0e0d1190b1abbb10c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html">icarus::ns::util::mfLoggingClass</a></td></tr>
<tr class="memitem:ac8bb7d60c05816ebb67fd14ab57d7f07 inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#ac8bb7d60c05816ebb67fd14ab57d7f07">mfLoggingClass</a> (std::string const &amp;<a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#aa155bf6084c2272a53879da12ecff0b9">logCategory</a>)</td></tr>
<tr class="memdesc:ac8bb7d60c05816ebb67fd14ab57d7f07 inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor: initializes with the specified log category.  <a href="#ac8bb7d60c05816ebb67fd14ab57d7f07">More...</a><br/></td></tr>
<tr class="separator:ac8bb7d60c05816ebb67fd14ab57d7f07 inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa155bf6084c2272a53879da12ecff0b9 inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#aa155bf6084c2272a53879da12ecff0b9">logCategory</a> () const </td></tr>
<tr class="memdesc:aa155bf6084c2272a53879da12ecff0b9 inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the logging category string for this object.  <a href="#aa155bf6084c2272a53879da12ecff0b9">More...</a><br/></td></tr>
<tr class="separator:aa155bf6084c2272a53879da12ecff0b9 inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adad83a3852f974bc144857676c4b26cd inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html">mfLoggingClass</a> const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#adad83a3852f974bc144857676c4b26cd">loggingClass</a> () const </td></tr>
<tr class="memdesc:adad83a3852f974bc144857676c4b26cd inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns this object (as a logging class object).  <a href="#adad83a3852f974bc144857676c4b26cd">More...</a><br/></td></tr>
<tr class="separator:adad83a3852f974bc144857676c4b26cd inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a731719e05852dbb0f901652312883a59 inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">mf::LogError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#a731719e05852dbb0f901652312883a59">mfLogError</a> (std::string const &amp;<a class="el" href="../../da/dd5/updateLAr__v09__43__00_8sh.html#a4fb1a7a55b4ce38d6527639eb9412f22">file</a>={}, int const lineNumber=0) const </td></tr>
<tr class="memdesc:a731719e05852dbb0f901652312883a59 inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a mf::LogError() stream for logging.  <a href="#a731719e05852dbb0f901652312883a59">More...</a><br/></td></tr>
<tr class="separator:a731719e05852dbb0f901652312883a59 inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af01a3517ee35f92052a50d079691d572 inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">mf::LogWarning&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#af01a3517ee35f92052a50d079691d572">mfLogWarning</a> (std::string const &amp;<a class="el" href="../../da/dd5/updateLAr__v09__43__00_8sh.html#a4fb1a7a55b4ce38d6527639eb9412f22">file</a>={}, int const lineNumber=0) const </td></tr>
<tr class="memdesc:af01a3517ee35f92052a50d079691d572 inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a mf::LogWarning() stream for logging.  <a href="#af01a3517ee35f92052a50d079691d572">More...</a><br/></td></tr>
<tr class="separator:af01a3517ee35f92052a50d079691d572 inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89eba3670cf3833008a3836029ae1d4a inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">mf::LogProblem&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#a89eba3670cf3833008a3836029ae1d4a">mfLogProblem</a> (std::string const &amp;<a class="el" href="../../da/dd5/updateLAr__v09__43__00_8sh.html#a4fb1a7a55b4ce38d6527639eb9412f22">file</a>={}, int const lineNumber=0) const </td></tr>
<tr class="memdesc:a89eba3670cf3833008a3836029ae1d4a inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a mf::LogProblem() stream for logging.  <a href="#a89eba3670cf3833008a3836029ae1d4a">More...</a><br/></td></tr>
<tr class="separator:a89eba3670cf3833008a3836029ae1d4a inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75d11dd7858a04da2c52bdffdda855db inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">mf::LogInfo&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#a75d11dd7858a04da2c52bdffdda855db">mfLogInfo</a> (std::string const &amp;<a class="el" href="../../da/dd5/updateLAr__v09__43__00_8sh.html#a4fb1a7a55b4ce38d6527639eb9412f22">file</a>={}, int const lineNumber=0) const </td></tr>
<tr class="memdesc:a75d11dd7858a04da2c52bdffdda855db inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a mf::LogInfo() stream for logging.  <a href="#a75d11dd7858a04da2c52bdffdda855db">More...</a><br/></td></tr>
<tr class="separator:a75d11dd7858a04da2c52bdffdda855db inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe8256766196b17dee74e1fd3041d1aa inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">mf::LogVerbatim&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#abe8256766196b17dee74e1fd3041d1aa">mfLogVerbatim</a> (std::string const &amp;<a class="el" href="../../da/dd5/updateLAr__v09__43__00_8sh.html#a4fb1a7a55b4ce38d6527639eb9412f22">file</a>={}, int const lineNumber=0) const </td></tr>
<tr class="memdesc:abe8256766196b17dee74e1fd3041d1aa inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a mf::LogVerbatim() stream for logging.  <a href="#abe8256766196b17dee74e1fd3041d1aa">More...</a><br/></td></tr>
<tr class="separator:abe8256766196b17dee74e1fd3041d1aa inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a5e7957074a9cc96b33426f640b1e8f inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">mf::LogDebug&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#a8a5e7957074a9cc96b33426f640b1e8f">mfLogDebug</a> (std::string const &amp;<a class="el" href="../../da/dd5/updateLAr__v09__43__00_8sh.html#a4fb1a7a55b4ce38d6527639eb9412f22">file</a>={}, int const lineNumber=0) const </td></tr>
<tr class="memdesc:a8a5e7957074a9cc96b33426f640b1e8f inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a mf::LogDebug() stream for logging.  <a href="#a8a5e7957074a9cc96b33426f640b1e8f">More...</a><br/></td></tr>
<tr class="separator:a8a5e7957074a9cc96b33426f640b1e8f inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5362324c36620e8f9f3006e0ab94000 inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memItemLeft" align="right" valign="top">mf::LogTrace&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#af5362324c36620e8f9f3006e0ab94000">mfLogTrace</a> (std::string const &amp;<a class="el" href="../../da/dd5/updateLAr__v09__43__00_8sh.html#a4fb1a7a55b4ce38d6527639eb9412f22">file</a>={}, int const lineNumber=0) const </td></tr>
<tr class="memdesc:af5362324c36620e8f9f3006e0ab94000 inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a mf::LogTrace() stream for logging.  <a href="#af5362324c36620e8f9f3006e0ab94000">More...</a><br/></td></tr>
<tr class="separator:af5362324c36620e8f9f3006e0ab94000 inherit pro_methods_classicarus_1_1ns_1_1util_1_1mfLoggingClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Algorithm to create trigger window topology information. </p>
<p>The algorithm defines the windows based on trigger gates and their channels, and establishes their topology cryostat by cryostat. </p>

<p>Definition at line <a class="el" href="../../d3/dda/WindowTopologyAlg_8h_source.html#l00050">50</a> of file <a class="el" href="../../d3/dda/WindowTopologyAlg_8h_source.html">WindowTopologyAlg.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a39839125385f53223f28c72f6604368a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a39839125385f53223f28c72f6604368a">icarus::trigger::WindowTopologyAlg::InputTriggerGate_t</a> =  <a class="el" href="../../dd/df6/namespaceicarus_1_1trigger.html#a7037bc74f4245057c2d1d4c63dd2f8a9">icarus::trigger::TrackedOpticalTriggerGate</a>&lt;<a class="el" href="../../da/d09/structsbn_1_1OpDetWaveformMeta.html">sbn::OpDetWaveformMeta</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of trigger gate extracted from the input event. </p>

<p>Definition at line <a class="el" href="../../d3/dda/WindowTopologyAlg_8h_source.html#l00058">58</a> of file <a class="el" href="../../d3/dda/WindowTopologyAlg_8h_source.html">WindowTopologyAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac663f161080c181e0ad5f8ae07dde2af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ac663f161080c181e0ad5f8ae07dde2af">icarus::trigger::WindowTopologyAlg::TriggerGates_t</a> =  std::vector&lt;<a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a39839125385f53223f28c72f6604368a">InputTriggerGate_t</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A list of trigger gates from input. </p>

<p>Definition at line <a class="el" href="../../d3/dda/WindowTopologyAlg_8h_source.html#l00061">61</a> of file <a class="el" href="../../d3/dda/WindowTopologyAlg_8h_source.html">WindowTopologyAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa3d88eac67f302b1dceb3c3b48aaa8d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#aa3d88eac67f302b1dceb3c3b48aaa8d8">icarus::trigger::WindowTopologyAlg::TriggerGatesPerCryostat_t</a> =  std::vector&lt;<a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ac663f161080c181e0ad5f8ae07dde2af">TriggerGates_t</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of lists of gates, one list per cryostat (outer index: cryostat no). </p>

<p>Definition at line <a class="el" href="../../d3/dda/WindowTopologyAlg_8h_source.html#l00064">64</a> of file <a class="el" href="../../d3/dda/WindowTopologyAlg_8h_source.html">WindowTopologyAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a69950399a8cd2b9dbb9c6870cb35da67"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a69950399a8cd2b9dbb9c6870cb35da67">icarus::trigger::WindowTopologyAlg::WindowChannelColl_t</a> =  std::vector&lt;<a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#acd5d0f235fd5a94172c01a15b8d0764e">WindowChannels_t</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>All channels in many gates (one list per gate). </p>

<p>Definition at line <a class="el" href="../../d3/dda/WindowTopologyAlg_8h_source.html#l00148">148</a> of file <a class="el" href="../../d3/dda/WindowTopologyAlg_8h_source.html">WindowTopologyAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="acd5d0f235fd5a94172c01a15b8d0764e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#acd5d0f235fd5a94172c01a15b8d0764e">icarus::trigger::WindowTopologyAlg::WindowChannels_t</a> =  std::vector&lt;<a class="el" href="../../d9/d63/namespaceraw.html#ab3db8feaa51f2c564eb00582c3d72590">raw::Channel_t</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>All channels in a gate. </p>

<p>Definition at line <a class="el" href="../../d3/dda/WindowTopologyAlg_8h_source.html#l00145">145</a> of file <a class="el" href="../../d3/dda/WindowTopologyAlg_8h_source.html">WindowTopologyAlg.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab5be7835b4bfd8768c54c2d7e6a3a1bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">icarus::trigger::WindowTopologyAlg::WindowTopologyAlg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a> const &amp;&#160;</td>
          <td class="paramname"><em>geom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>logCategory</em> = <code>&quot;WindowTopologyAlg&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">geom</td><td>geometry service provider </td></tr>
    <tr><td class="paramname">logCategory</td><td>category tag for messages from this algorithm </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html#l00054">54</a> of file <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html">WindowTopologyAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  : <a class="code" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html">icarus::ns::util::mfLoggingClass</a>(<a class="code" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#aa155bf6084c2272a53879da12ecff0b9">logCategory</a>)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  , <a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ace7bd5df274c2e0e0d1190b1abbb10c8">fGeom</a>(&amp;geom)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{}</div>
<div class="ttc" id="classicarus_1_1ns_1_1util_1_1mfLoggingClass_html"><div class="ttname"><a href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html">icarus::ns::util::mfLoggingClass</a></div><div class="ttdoc">Helper for logging classes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/mfLoggingClass_8h_source.html#l00044">mfLoggingClass.h:44</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_ace7bd5df274c2e0e0d1190b1abbb10c8"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ace7bd5df274c2e0e0d1190b1abbb10c8">icarus::trigger::WindowTopologyAlg::fGeom</a></div><div class="ttdeci">geo::GeometryCore const *const fGeom</div><div class="ttdoc">Geometry service provider. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/WindowTopologyAlg_8h_source.html#l00151">WindowTopologyAlg.h:151</a></div></div>
<div class="ttc" id="classicarus_1_1ns_1_1util_1_1mfLoggingClass_html_aa155bf6084c2272a53879da12ecff0b9"><div class="ttname"><a href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#aa155bf6084c2272a53879da12ecff0b9">icarus::ns::util::mfLoggingClass::logCategory</a></div><div class="ttdeci">std::string logCategory() const </div><div class="ttdoc">Returns the logging category string for this object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/mfLoggingClass_8h_source.html#l00054">mfLoggingClass.h:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5956b32bb4f593ebd81a7e8d500d5bdd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::WindowTopologyAlg::createFromCryostatGates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ac663f161080c181e0ad5f8ae07dde2af">TriggerGates_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>windowChannels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/da3/classgeo_1_1CryostatGeo.html">geo::CryostatGeo</a> const &amp;&#160;</td>
          <td class="paramname"><em>cryo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the topology of the windows described by the gates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gates</td><td>a set of gates within a single cryostat </td></tr>
    <tr><td class="paramname">cryo</td><td>the cryostat the gates (and their channels) belong to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>topology of the windows described by the gates</dd></dl>
<p>The input <code>gates</code> is a collection with all the gates from the specified cryostat <code>cryo</code>.</p>
<p>Each gate covers one or more channels: each window is made out of all the channels in a gate. The opening content of the gates is not considered. </p>

<p>Definition at line <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html#l00121">121</a> of file <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html">WindowTopologyAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a18418d1df9a63e728c65670cafa81497">emplaceAndDumpMap</a>(</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ac2c8dcafe5b0c964d653674b8b11d380">createWindowsFromCryostat</a>(<a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ad39b9e97259f88e1488462ab6601df5d">extractGateChannels</a>(windowChannels), cryo, *<a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ace7bd5df274c2e0e0d1190b1abbb10c8">fGeom</a>)</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    );</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;} <span class="comment">// icarus::trigger::WindowTopologyAlg::createFromCryostatGates()</span></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_ad39b9e97259f88e1488462ab6601df5d"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ad39b9e97259f88e1488462ab6601df5d">icarus::trigger::WindowTopologyAlg::extractGateChannels</a></div><div class="ttdeci">static WindowChannelColl_t extractGateChannels(TriggerGates_t const &amp;gates)</div><div class="ttdoc">Extracts the channel ID from a collection of gates. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d65/WindowTopologyAlg_8cxx_source.html#l00270">WindowTopologyAlg.cxx:270</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_a18418d1df9a63e728c65670cafa81497"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a18418d1df9a63e728c65670cafa81497">icarus::trigger::WindowTopologyAlg::emplaceAndDumpMap</a></div><div class="ttdeci">WindowChannelMap emplaceAndDumpMap(Args &amp;&amp;...args) const </div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_ace7bd5df274c2e0e0d1190b1abbb10c8"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ace7bd5df274c2e0e0d1190b1abbb10c8">icarus::trigger::WindowTopologyAlg::fGeom</a></div><div class="ttdeci">geo::GeometryCore const *const fGeom</div><div class="ttdoc">Geometry service provider. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/WindowTopologyAlg_8h_source.html#l00151">WindowTopologyAlg.h:151</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_ac2c8dcafe5b0c964d653674b8b11d380"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ac2c8dcafe5b0c964d653674b8b11d380">icarus::trigger::WindowTopologyAlg::createWindowsFromCryostat</a></div><div class="ttdeci">static std::vector&lt; WindowChannelMap::WindowInfo_t &gt; createWindowsFromCryostat(WindowChannelColl_t const &amp;windowChannels, geo::CryostatGeo const &amp;cryo, geo::GeometryCore const &amp;geom, std::size_t firstWindowIndex=0U)</div><div class="ttdoc">Extracts topology information from a set of windows. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d65/WindowTopologyAlg_8cxx_source.html#l00151">WindowTopologyAlg.cxx:151</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa9cb0c49cc7d931f7312e44b1151bbea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::WindowTopologyAlg::createFromCryostatGates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ac663f161080c181e0ad5f8ae07dde2af">TriggerGates_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>windowChannels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d73/structgeo_1_1CryostatID.html">geo::CryostatID</a>&#160;</td>
          <td class="paramname"><em>cryoID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the topology of the windows described by the gates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gates</td><td>a set of gates within a single cryostat </td></tr>
    <tr><td class="paramname">cryoID</td><td>ID of the cryostat the gates (and their channels) belong to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>topology of the windows described by the gates </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><code>createFromCryostatGates(TriggerGates_t const&amp;, geo::CryostatGeo const&amp;)</code></dd></dl>
<p>The input <code>gates</code> is a collection with all the gates from the specified cryostat with ID <code>cryoID</code>.</p>
<p>See <code>createFromCryostatGates(WindowChannelsPerCryostat_t const&amp;, geo::CryostatGeo const&amp;)</code> for more information. </p>

<p>Definition at line <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html#l00132">132</a> of file <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html">WindowTopologyAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a5956b32bb4f593ebd81a7e8d500d5bdd">createFromCryostatGates</a>(windowChannels, <a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ace7bd5df274c2e0e0d1190b1abbb10c8">fGeom</a>-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#a4fc7bfd4e3413fb5c25ca3c72906acac">Cryostat</a>(cryoID));</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;} <span class="comment">// icarus::trigger::WindowTopologyAlg::createFromCryostatGates()</span></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_a4fc7bfd4e3413fb5c25ca3c72906acac"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#a4fc7bfd4e3413fb5c25ca3c72906acac">geo::GeometryCore::Cryostat</a></div><div class="ttdeci">CryostatGeo const &amp; Cryostat(geo::CryostatID const &amp;cryoid) const </div><div class="ttdoc">Returns the specified cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6a/GeometryCore_8cxx_source.html#l00321">GeometryCore.cxx:321</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_ace7bd5df274c2e0e0d1190b1abbb10c8"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ace7bd5df274c2e0e0d1190b1abbb10c8">icarus::trigger::WindowTopologyAlg::fGeom</a></div><div class="ttdeci">geo::GeometryCore const *const fGeom</div><div class="ttdoc">Geometry service provider. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/WindowTopologyAlg_8h_source.html#l00151">WindowTopologyAlg.h:151</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_a5956b32bb4f593ebd81a7e8d500d5bdd"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a5956b32bb4f593ebd81a7e8d500d5bdd">icarus::trigger::WindowTopologyAlg::createFromCryostatGates</a></div><div class="ttdeci">WindowChannelMap createFromCryostatGates(TriggerGates_t const &amp;windowChannels, geo::CryostatGeo const &amp;cryo) const </div><div class="ttdoc">Returns the topology of the windows described by the gates. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d65/WindowTopologyAlg_8cxx_source.html#l00121">WindowTopologyAlg.cxx:121</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2aa3a71521ad6c2db17603dd1e75412a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::WindowTopologyAlg::createFromGates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#aa3d88eac67f302b1dceb3c3b48aaa8d8">TriggerGatesPerCryostat_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>gates</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the topology of the windows described by the gates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gates</td><td>a set of gates, grouped by cryostat </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>topology of the windows described by the gates</dd></dl>
<p>The input <code>gates</code> is a collection with as many entries as there are cryostats in the detector, the first entry collecting all gates from the first cryostat (<code>C:0</code>), the next all the gates from the second one (<code>C:2</code>), and so on.</p>
<p>Each gate covers one or more channels: each window is made out of all the channels in a gate. The opening content of the gates is not considered. </p>

<p>Definition at line <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html#l00065">65</a> of file <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html">WindowTopologyAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="comment">// store the window topology information here:</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  std::vector&lt;WindowChannelMap::WindowInfo_t&gt; windows;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [ cryoGates, cryo ]</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    : <a class="code" href="../../d6/d72/namespaceutil.html#a3efdd3910e740873b4247e10e9884cf5">util::zip</a>(gates, <a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ace7bd5df274c2e0e0d1190b1abbb10c8">fGeom</a>-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#a6a80d135e7146eedd7c40fb23864aff3">IterateCryostats</a>()))</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    append(</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      windows,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ac2c8dcafe5b0c964d653674b8b11d380">createWindowsFromCryostat</a></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        (<a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ad39b9e97259f88e1488462ab6601df5d">extractGateChannels</a>(cryoGates), cryo, *<a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ace7bd5df274c2e0e0d1190b1abbb10c8">fGeom</a>, windows.size())</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      );</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  } <span class="comment">// for cryostats</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a18418d1df9a63e728c65670cafa81497">emplaceAndDumpMap</a>(std::move(windows));</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;} <span class="comment">// icarus::trigger::WindowTopologyAlg::createFromGates()</span></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_ad39b9e97259f88e1488462ab6601df5d"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ad39b9e97259f88e1488462ab6601df5d">icarus::trigger::WindowTopologyAlg::extractGateChannels</a></div><div class="ttdeci">static WindowChannelColl_t extractGateChannels(TriggerGates_t const &amp;gates)</div><div class="ttdoc">Extracts the channel ID from a collection of gates. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d65/WindowTopologyAlg_8cxx_source.html#l00270">WindowTopologyAlg.cxx:270</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_a18418d1df9a63e728c65670cafa81497"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a18418d1df9a63e728c65670cafa81497">icarus::trigger::WindowTopologyAlg::emplaceAndDumpMap</a></div><div class="ttdeci">WindowChannelMap emplaceAndDumpMap(Args &amp;&amp;...args) const </div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_ace7bd5df274c2e0e0d1190b1abbb10c8"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ace7bd5df274c2e0e0d1190b1abbb10c8">icarus::trigger::WindowTopologyAlg::fGeom</a></div><div class="ttdeci">geo::GeometryCore const *const fGeom</div><div class="ttdoc">Geometry service provider. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/WindowTopologyAlg_8h_source.html#l00151">WindowTopologyAlg.h:151</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_a6a80d135e7146eedd7c40fb23864aff3"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#a6a80d135e7146eedd7c40fb23864aff3">geo::GeometryCore::IterateCryostats</a></div><div class="ttdeci">IteratorBox&lt; cryostat_iterator,&amp;GeometryCore::begin_cryostat,&amp;GeometryCore::end_cryostat &gt; IterateCryostats() const </div><div class="ttdoc">Enables ranged-for loops on all cryostats of the detector. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de7/GeometryCore_8h_source.html#l02198">GeometryCore.h:2198</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_ac2c8dcafe5b0c964d653674b8b11d380"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ac2c8dcafe5b0c964d653674b8b11d380">icarus::trigger::WindowTopologyAlg::createWindowsFromCryostat</a></div><div class="ttdeci">static std::vector&lt; WindowChannelMap::WindowInfo_t &gt; createWindowsFromCryostat(WindowChannelColl_t const &amp;windowChannels, geo::CryostatGeo const &amp;cryo, geo::GeometryCore const &amp;geom, std::size_t firstWindowIndex=0U)</div><div class="ttdoc">Extracts topology information from a set of windows. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d65/WindowTopologyAlg_8cxx_source.html#l00151">WindowTopologyAlg.cxx:151</a></div></div>
<div class="ttc" id="namespaceutil_html_a3efdd3910e740873b4247e10e9884cf5"><div class="ttname"><a href="../../d6/d72/namespaceutil.html#a3efdd3910e740873b4247e10e9884cf5">util::zip</a></div><div class="ttdeci">auto zip(Iterables &amp;&amp;...iterables)</div><div class="ttdoc">Range-for loop helper iterating across many collections at the same time. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d3a/zip_8h_source.html#l00295">zip.h:295</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a846e382fbdef9b50d864c26983525a40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::WindowTopologyAlg::createFromGates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ac663f161080c181e0ad5f8ae07dde2af">TriggerGates_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>gates</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the topology of the windows described by the gates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gates</td><td>a set of gates </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>topology of the windows described by the gates</dd></dl>
<p>The input <code>gates</code> is a collection with all relevant gates in the detector.</p>
<p>Each gate covers one or more channels: each window is made out of all the channels in a gate. The opening content of the gates is not considered.</p>
<p>Gates are first split by the cryostat they belong to (cross-cryostat gates are forbidden), and then the window topology is extracted. </p>

<p>Definition at line <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html#l00090">90</a> of file <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html">WindowTopologyAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="comment">// split gates by cryostat</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#aa3d88eac67f302b1dceb3c3b48aaa8d8">TriggerGatesPerCryostat_t</a> gatesByCryostat { <a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ace7bd5df274c2e0e0d1190b1abbb10c8">fGeom</a>-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#ab4691c2dc44983f6082defa5a34cb001">Ncryostats</a>() };</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a39839125385f53223f28c72f6604368a">InputTriggerGate_t</a> <span class="keyword">const</span>&amp; gate: gates) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="../../d9/d73/structgeo_1_1CryostatID.html">geo::CryostatID</a> cid; <span class="comment">// invalid</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    assert(!cid.<a class="code" href="../../d9/d73/structgeo_1_1CryostatID.html#a9384db80f2ab08f013fc630316d7bd05">isValid</a>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d9/d63/namespaceraw.html#ab3db8feaa51f2c564eb00582c3d72590">raw::Channel_t</a> <span class="keyword">const</span> channel: gate.channels()) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <a class="code" href="../../d7/d68/classgeo_1_1OpDetGeo.html">geo::OpDetGeo</a> <span class="keyword">const</span>&amp; opDet = <a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ace7bd5df274c2e0e0d1190b1abbb10c8">fGeom</a>-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#a4ed940e72b58f91ab8c48aafc4a3a351">OpDetGeoFromOpChannel</a>(channel);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <a class="code" href="../../d0/d1b/structgeo_1_1OpDetID.html">geo::OpDetID</a> <span class="keyword">const</span> oid = opDet.<a class="code" href="../../d7/d68/classgeo_1_1OpDetGeo.html#ae0ed198828aa0b7c0d2df5d4377f8b12">ID</a>();</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="keywordflow">if</span> (!cid) cid = oid;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cid != oid) { <span class="comment">// just in case</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;WindowTopologyAlg&quot;</span>)</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;Input gate includes gates from different cryostats!!\n&quot;</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    } <span class="comment">// for channels in gate</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">if</span> (!cid) <span class="keywordflow">continue</span>; <span class="comment">// gate with no channels does not contribute</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    gatesByCryostat.at(cid.<a class="code" href="../../d9/d73/structgeo_1_1CryostatID.html#a2bfb744818e075d94be15dd18c950441">Cryostat</a>).push_back(gate); <span class="comment">// (copy)</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  } <span class="comment">// for gates</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a2aa3a71521ad6c2db17603dd1e75412a">createFromGates</a>(gatesByCryostat);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;} <span class="comment">// icarus::trigger::WindowTopologyAlg::createFromGates()</span></div>
<div class="ttc" id="classgeo_1_1OpDetGeo_html"><div class="ttname"><a href="../../d7/d68/classgeo_1_1OpDetGeo.html">geo::OpDetGeo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d38/OpDetGeo_8h_source.html#l00043">OpDetGeo.h:43</a></div></div>
<div class="ttc" id="structgeo_1_1CryostatID_html_a9384db80f2ab08f013fc630316d7bd05"><div class="ttname"><a href="../../d9/d73/structgeo_1_1CryostatID.html#a9384db80f2ab08f013fc630316d7bd05">geo::CryostatID::isValid</a></div><div class="ttdeci">bool isValid</div><div class="ttdoc">Whether this ID points to a valid element. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00211">geo_types.h:211</a></div></div>
<div class="ttc" id="structgeo_1_1CryostatID_html_a2bfb744818e075d94be15dd18c950441"><div class="ttname"><a href="../../d9/d73/structgeo_1_1CryostatID.html#a2bfb744818e075d94be15dd18c950441">geo::CryostatID::Cryostat</a></div><div class="ttdeci">CryostatID_t Cryostat</div><div class="ttdoc">Index of cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00212">geo_types.h:212</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_a39839125385f53223f28c72f6604368a"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a39839125385f53223f28c72f6604368a">icarus::trigger::WindowTopologyAlg::InputTriggerGate_t</a></div><div class="ttdeci">icarus::trigger::TrackedOpticalTriggerGate&lt; sbn::OpDetWaveformMeta &gt; InputTriggerGate_t</div><div class="ttdoc">Type of trigger gate extracted from the input event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/WindowTopologyAlg_8h_source.html#l00058">WindowTopologyAlg.h:58</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_aa3d88eac67f302b1dceb3c3b48aaa8d8"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#aa3d88eac67f302b1dceb3c3b48aaa8d8">icarus::trigger::WindowTopologyAlg::TriggerGatesPerCryostat_t</a></div><div class="ttdeci">std::vector&lt; TriggerGates_t &gt; TriggerGatesPerCryostat_t</div><div class="ttdoc">Type of lists of gates, one list per cryostat (outer index: cryostat no). </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/WindowTopologyAlg_8h_source.html#l00064">WindowTopologyAlg.h:64</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_ab4691c2dc44983f6082defa5a34cb001"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#ab4691c2dc44983f6082defa5a34cb001">geo::GeometryCore::Ncryostats</a></div><div class="ttdeci">unsigned int Ncryostats() const </div><div class="ttdoc">Returns the number of cryostats in the detector. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de7/GeometryCore_8h_source.html#l01994">GeometryCore.h:1994</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_a2aa3a71521ad6c2db17603dd1e75412a"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a2aa3a71521ad6c2db17603dd1e75412a">icarus::trigger::WindowTopologyAlg::createFromGates</a></div><div class="ttdeci">WindowChannelMap createFromGates(TriggerGatesPerCryostat_t const &amp;gates) const </div><div class="ttdoc">Returns the topology of the windows described by the gates. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d65/WindowTopologyAlg_8cxx_source.html#l00065">WindowTopologyAlg.cxx:65</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_ace7bd5df274c2e0e0d1190b1abbb10c8"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ace7bd5df274c2e0e0d1190b1abbb10c8">icarus::trigger::WindowTopologyAlg::fGeom</a></div><div class="ttdeci">geo::GeometryCore const *const fGeom</div><div class="ttdoc">Geometry service provider. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/WindowTopologyAlg_8h_source.html#l00151">WindowTopologyAlg.h:151</a></div></div>
<div class="ttc" id="classgeo_1_1OpDetGeo_html_ae0ed198828aa0b7c0d2df5d4377f8b12"><div class="ttname"><a href="../../d7/d68/classgeo_1_1OpDetGeo.html#ae0ed198828aa0b7c0d2df5d4377f8b12">geo::OpDetGeo::ID</a></div><div class="ttdeci">geo::OpDetID const &amp; ID() const </div><div class="ttdoc">Returns the geometry ID of this optical detector. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d38/OpDetGeo_8h_source.html#l00072">OpDetGeo.h:72</a></div></div>
<div class="ttc" id="structgeo_1_1OpDetID_html"><div class="ttname"><a href="../../d0/d1b/structgeo_1_1OpDetID.html">geo::OpDetID</a></div><div class="ttdoc">The data type to uniquely identify a optical detector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00297">geo_types.h:297</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_a4ed940e72b58f91ab8c48aafc4a3a351"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#a4ed940e72b58f91ab8c48aafc4a3a351">geo::GeometryCore::OpDetGeoFromOpChannel</a></div><div class="ttdeci">OpDetGeo const &amp; OpDetGeoFromOpChannel(unsigned int OpChannel) const </div><div class="ttdoc">Returns the geo::OpDetGeo object for the given channel number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6a/GeometryCore_8cxx_source.html#l01824">GeometryCore.cxx:1824</a></div></div>
<div class="ttc" id="structgeo_1_1CryostatID_html"><div class="ttname"><a href="../../d9/d73/structgeo_1_1CryostatID.html">geo::CryostatID</a></div><div class="ttdoc">The data type to uniquely identify a cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00190">geo_types.h:190</a></div></div>
<div class="ttc" id="namespaceraw_html_ab3db8feaa51f2c564eb00582c3d72590"><div class="ttname"><a href="../../d9/d63/namespaceraw.html#ab3db8feaa51f2c564eb00582c3d72590">raw::Channel_t</a></div><div class="ttdeci">unsigned int Channel_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbc/lardataobj_2lardataobj_2RawData_2OpDetWaveform_8h_source.html#l00022">lardataobj/lardataobj/RawData/OpDetWaveform.h:22</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac2c8dcafe5b0c964d653674b8b11d380"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::WindowTopologyAlg::createWindowsFromCryostat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a69950399a8cd2b9dbb9c6870cb35da67">WindowChannelColl_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>windowChannels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/da3/classgeo_1_1CryostatGeo.html">geo::CryostatGeo</a> const &amp;&#160;</td>
          <td class="paramname"><em>cryo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a> const &amp;&#160;</td>
          <td class="paramname"><em>geom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>firstWindowIndex</em> = <code>0U</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts topology information from a set of windows. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">windowChannels</td><td>the windows, specified by composition in channel ID </td></tr>
    <tr><td class="paramname">cryo</td><td>the cryostat the windows belong to </td></tr>
    <tr><td class="paramname">geom</td><td>geometry service provider </td></tr>
    <tr><td class="paramname">firstWindowIndex</td><td>(default: <code>0</code>) the index assigned to the first window </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>window topology information, one entry per window </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html#l00151">151</a> of file <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html">WindowTopologyAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;{</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">   * 1.     fill the window information with local information</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">   * 2.     sort the windows in drift plane (first cryostat TPC as reference)</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">   * 3.     split the windows per plane</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">   * 4.     for each window plane:</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">   * 4.1.     sort windows on beam direction (TPC width direction)</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">   * 4.2.     fill the neighbour information on each window</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  std::vector&lt;WindowChannelMap::WindowInfo_t&gt; windows;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  windows.reserve(windowChannels.size());</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">// use the first TPC of the cryostat as reference for directions</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  assert(cryo.NTPC() &gt; 0U);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <a class="code" href="../../d9/dff/classgeo_1_1TPCGeo.html">geo::TPCGeo</a> <span class="keyword">const</span>&amp; refTPC = cryo.TPC(0U);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="comment">// 1. fill the window information with local information</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keyword">using</span> WindowInfoPtrs_t = std::vector&lt;WindowChannelMap::WindowInfo_t*&gt;;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  WindowInfoPtrs_t cryoWindowInfo;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  cryoWindowInfo.reserve(windowChannels.size());</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  std::size_t iWindow = firstWindowIndex;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; channels: windowChannels) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    WindowChannelMap::WindowInfo_t wInfo;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    wInfo.index = iWindow++;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    wInfo.channels = channels;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    std::sort(wInfo.channels.begin(), wInfo.channels.end());</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    wInfo.cryoid = channels.empty()</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      ? <a class="code" href="../../d9/d73/structgeo_1_1CryostatID.html">geo::CryostatID</a>{}</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      : geom.OpDetGeoFromOpChannel(channels.front()).ID().<a class="code" href="../../d9/d73/structgeo_1_1CryostatID.html#ab971f637239574011c25f7678a86f91a">asCryostatID</a>()</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      ;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="../../d3/dcb/classgeo_1_1vect_1_1MiddlePointAccumulatorDim.html">geo::vect::MiddlePointAccumulator</a> <a class="code" href="../../d0/d8e/namespacegeo_1_1vect.html#aa23ae6e764dec5fe410fa2b37bb1367a">middlePoint</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d9/d63/namespaceraw.html#ab3db8feaa51f2c564eb00582c3d72590">raw::Channel_t</a> <span class="keyword">const</span> channel: channels) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="comment">// documentation of OpDetGeoFromOpChannel() does not say what on error...</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <a class="code" href="../../d7/d68/classgeo_1_1OpDetGeo.html">geo::OpDetGeo</a> <span class="keyword">const</span>&amp; opDet = geom.OpDetGeoFromOpChannel(channel);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      middlePoint.<a class="code" href="../../d3/dcb/classgeo_1_1vect_1_1MiddlePointAccumulatorDim.html#a6c46bfab403c51fa43d4d7a7d4bf7069">add</a>(opDet.<a class="code" href="../../d7/d68/classgeo_1_1OpDetGeo.html#a0a09bf2d6710fe7ce6fe42416a2d13f9">GetCenter</a>());</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordflow">if</span> (opDet.<a class="code" href="../../d7/d68/classgeo_1_1OpDetGeo.html#ae0ed198828aa0b7c0d2df5d4377f8b12">ID</a>() != wInfo.cryoid) wInfo.cryoid = <a class="code" href="../../d9/d73/structgeo_1_1CryostatID.html">geo::CryostatID</a>{};</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    } <span class="comment">// for channel</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    wInfo.center = middlePoint.<a class="code" href="../../d3/dcb/classgeo_1_1vect_1_1MiddlePointAccumulatorDim.html#a6ff7d454670025ebad308ef91967545a">middlePoint</a>();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    windows.push_back(std::move(wInfo));</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    cryoWindowInfo.push_back(&amp;windows.back());</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  } <span class="comment">// for windows</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">// 2. sort the windows in drift plane (first cryostat TPC as reference)</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> normalProjection = [&amp;refTPC](<span class="keyword">auto</span> <span class="keyword">const</span>* <a class="code" href="../../d3/d46/namespacesortDataLoggerFiles.html#aabcd6b22cdd9f4c3c9c394a72f90183a">info</a>)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    { <span class="keywordflow">return</span> refTPC.DistanceFromReferencePlane(<a class="code" href="../../d3/d46/namespacesortDataLoggerFiles.html#aabcd6b22cdd9f4c3c9c394a72f90183a">info</a>-&gt;center); };</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  WindowInfoPtrs_t <span class="keyword">const</span> windowsByNormal</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    = <a class="code" href="../../d6/d72/namespaceutil.html#af4a2a442802ada37b9974cb605a4b34a">util::sortCollBy</a>(cryoWindowInfo, normalProjection);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="comment">// 3. split the windows per plane</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="comment">// split the list in two; there is a good deal of faith here</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> beamCoordinate</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    = [&amp;refPlane=refTPC.ReferencePlane()](<span class="keyword">auto</span> <span class="keyword">const</span>* <a class="code" href="../../d3/d46/namespacesortDataLoggerFiles.html#aabcd6b22cdd9f4c3c9c394a72f90183a">info</a>)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      { <span class="keywordflow">return</span> refPlane.PointWidthDepthProjection(<a class="code" href="../../d3/d46/namespacesortDataLoggerFiles.html#aabcd6b22cdd9f4c3c9c394a72f90183a">info</a>-&gt;center).X(); }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    ;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">// 4. for each plane:</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">// 4.1. sort windows on beam direction (TPC width direction)</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> iMiddleWindow</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    = std::next(windowsByNormal.cbegin(), windowsByNormal.size() / 2U);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  std::array&lt;WindowInfoPtrs_t, 2U&gt; <span class="keyword">const</span> windowsByPlane = {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="../../d6/d72/namespaceutil.html#a078ad2af7ab2588eaea858cddcf72614">util::sortBy</a>(windowsByNormal.cbegin(), iMiddleWindow, beamCoordinate),</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="../../d6/d72/namespaceutil.html#a078ad2af7ab2588eaea858cddcf72614">util::sortBy</a>(iMiddleWindow, windowsByNormal.cend(), beamCoordinate)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  };</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [ iPlane, planeWindows ]: <a class="code" href="../../d6/d72/namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a>(windowsByPlane)) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">// 4.2.     fill the neighbour information on each window</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span>&amp; otherPlaneWindows</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      = windowsByPlane.at(windowsByPlane.size() - 1U - iPlane);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    std::size_t <span class="keyword">const</span> iLastPlaneWindow = planeWindows.size() - 1U;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> [ iPlaneWindow, windowInfo ]: <a class="code" href="../../d6/d72/namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a>(planeWindows)) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <span class="comment">// assumes all topology information is InvalidWindowIndex by default</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <span class="keywordflow">if</span> (WindowChannelMap::WindowInfo_t <span class="keyword">const</span>* closestOppositeWindow</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        = <a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a9dfe2e73dca32ac4301b0ae7d3c18161">findClosestWindow</a>(otherPlaneWindows, windowInfo)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      ) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        windowInfo-&gt;opposite = closestOppositeWindow-&gt;index;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="keywordflow">if</span> (iPlaneWindow &gt; 0U)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        windowInfo-&gt;upstream = planeWindows[iPlaneWindow - 1U]-&gt;index;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="keywordflow">if</span> (iPlaneWindow &lt; iLastPlaneWindow)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        windowInfo-&gt;downstream = planeWindows[iPlaneWindow + 1U]-&gt;index;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    } <span class="comment">// for window in plane</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  } <span class="comment">// for planes</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keywordflow">return</span> windows;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;} <span class="comment">// icarus::trigger::WindowTopologyAlg::createWindowsFromCryostat()</span></div>
<div class="ttc" id="classgeo_1_1OpDetGeo_html"><div class="ttname"><a href="../../d7/d68/classgeo_1_1OpDetGeo.html">geo::OpDetGeo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d38/OpDetGeo_8h_source.html#l00043">OpDetGeo.h:43</a></div></div>
<div class="ttc" id="namespaceutil_html_a078ad2af7ab2588eaea858cddcf72614"><div class="ttname"><a href="../../d6/d72/namespaceutil.html#a078ad2af7ab2588eaea858cddcf72614">util::sortBy</a></div><div class="ttdeci">auto sortBy(BIter begin, EIter end, Key key, Sorter sorter={})</div><div class="ttdoc">Returns a vectors to pointers to coll elements, sorted by key. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc4/sortBy_8h_source.html#l00104">sortBy.h:104</a></div></div>
<div class="ttc" id="classgeo_1_1vect_1_1MiddlePointAccumulatorDim_html"><div class="ttname"><a href="../../d3/dcb/classgeo_1_1vect_1_1MiddlePointAccumulatorDim.html">geo::vect::MiddlePointAccumulatorDim</a></div><div class="ttdoc">Helper class to compute the middle point in a point set. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6c/geo__vectors__utils_8h_source.html#l01246">geo_vectors_utils.h:1246</a></div></div>
<div class="ttc" id="classgeo_1_1TPCGeo_html"><div class="ttname"><a href="../../d9/dff/classgeo_1_1TPCGeo.html">geo::TPCGeo</a></div><div class="ttdoc">Geometry information for a single TPC. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/TPCGeo_8h_source.html#l00038">TPCGeo.h:38</a></div></div>
<div class="ttc" id="classgeo_1_1OpDetGeo_html_a0a09bf2d6710fe7ce6fe42416a2d13f9"><div class="ttname"><a href="../../d7/d68/classgeo_1_1OpDetGeo.html#a0a09bf2d6710fe7ce6fe42416a2d13f9">geo::OpDetGeo::GetCenter</a></div><div class="ttdeci">void GetCenter(double *xyz, double localz=0.0) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dfb/OpDetGeo_8cxx_source.html#l00040">OpDetGeo.cxx:40</a></div></div>
<div class="ttc" id="classgeo_1_1vect_1_1MiddlePointAccumulatorDim_html_a6c46bfab403c51fa43d4d7a7d4bf7069"><div class="ttname"><a href="../../d3/dcb/classgeo_1_1vect_1_1MiddlePointAccumulatorDim.html#a6c46bfab403c51fa43d4d7a7d4bf7069">geo::vect::MiddlePointAccumulatorDim::add</a></div><div class="ttdeci">void add(Point const &amp;p)</div><div class="ttdoc">Accumulates a point. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6c/geo__vectors__utils_8h_source.html#l01316">geo_vectors_utils.h:1316</a></div></div>
<div class="ttc" id="namespaceutil_html_af0615b7538ff948ea65d5206a23c84f2"><div class="ttname"><a href="../../d6/d72/namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a></div><div class="ttdeci">auto enumerate(Iterables &amp;&amp;...iterables)</div><div class="ttdoc">Range-for loop helper tracking the number of iteration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d85/enumerate_8h_source.html#l00069">enumerate.h:69</a></div></div>
<div class="ttc" id="namespaceutil_html_af4a2a442802ada37b9974cb605a4b34a"><div class="ttname"><a href="../../d6/d72/namespaceutil.html#af4a2a442802ada37b9974cb605a4b34a">util::sortCollBy</a></div><div class="ttdeci">auto sortCollBy(Coll &amp;coll, Key key, Sorter sorter={})</div><div class="ttdoc">Returns a vectors to pointers to coll elements, sorted by key. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc4/sortBy_8h_source.html#l00169">sortBy.h:169</a></div></div>
<div class="ttc" id="structgeo_1_1CryostatID_html_ab971f637239574011c25f7678a86f91a"><div class="ttname"><a href="../../d9/d73/structgeo_1_1CryostatID.html#ab971f637239574011c25f7678a86f91a">geo::CryostatID::asCryostatID</a></div><div class="ttdeci">constexpr CryostatID const &amp; asCryostatID() const </div><div class="ttdoc">Conversion to CryostatID (for convenience of notation). </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00275">geo_types.h:275</a></div></div>
<div class="ttc" id="classgeo_1_1vect_1_1MiddlePointAccumulatorDim_html_a6ff7d454670025ebad308ef91967545a"><div class="ttname"><a href="../../d3/dcb/classgeo_1_1vect_1_1MiddlePointAccumulatorDim.html#a6ff7d454670025ebad308ef91967545a">geo::vect::MiddlePointAccumulatorDim::middlePoint</a></div><div class="ttdeci">geo::Point_t middlePoint() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6c/geo__vectors__utils_8h_source.html#l01297">geo_vectors_utils.h:1297</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_a9dfe2e73dca32ac4301b0ae7d3c18161"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a9dfe2e73dca32ac4301b0ae7d3c18161">icarus::trigger::WindowTopologyAlg::findClosestWindow</a></div><div class="ttdeci">static WindowChannelMap::WindowInfo_t const * findClosestWindow(std::vector&lt; WindowChannelMap::WindowInfo_t * &gt; const &amp;windowList, WindowChannelMap::WindowInfo_t const *targetWindow)</div><div class="ttdoc">Returns the window in windowList closest to the targetWindow. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d65/WindowTopologyAlg_8cxx_source.html#l00287">WindowTopologyAlg.cxx:287</a></div></div>
<div class="ttc" id="classgeo_1_1OpDetGeo_html_ae0ed198828aa0b7c0d2df5d4377f8b12"><div class="ttname"><a href="../../d7/d68/classgeo_1_1OpDetGeo.html#ae0ed198828aa0b7c0d2df5d4377f8b12">geo::OpDetGeo::ID</a></div><div class="ttdeci">geo::OpDetID const &amp; ID() const </div><div class="ttdoc">Returns the geometry ID of this optical detector. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d38/OpDetGeo_8h_source.html#l00072">OpDetGeo.h:72</a></div></div>
<div class="ttc" id="namespacegeo_1_1vect_html_aa23ae6e764dec5fe410fa2b37bb1367a"><div class="ttname"><a href="../../d0/d8e/namespacegeo_1_1vect.html#aa23ae6e764dec5fe410fa2b37bb1367a">geo::vect::middlePoint</a></div><div class="ttdeci">geo::Point_t middlePoint(BeginIter begin, EndIter end)</div><div class="ttdoc">Returns the middle of the specified points. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6c/geo__vectors__utils_8h_source.html#l01444">geo_vectors_utils.h:1444</a></div></div>
<div class="ttc" id="namespacesortDataLoggerFiles_html_aabcd6b22cdd9f4c3c9c394a72f90183a"><div class="ttname"><a href="../../d3/d46/namespacesortDataLoggerFiles.html#aabcd6b22cdd9f4c3c9c394a72f90183a">sortDataLoggerFiles.info</a></div><div class="ttdeci">tuple info</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dc8/sortDataLoggerFiles_8py_source.html#l00386">sortDataLoggerFiles.py:386</a></div></div>
<div class="ttc" id="structgeo_1_1CryostatID_html"><div class="ttname"><a href="../../d9/d73/structgeo_1_1CryostatID.html">geo::CryostatID</a></div><div class="ttdoc">The data type to uniquely identify a cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00190">geo_types.h:190</a></div></div>
<div class="ttc" id="namespaceraw_html_ab3db8feaa51f2c564eb00582c3d72590"><div class="ttname"><a href="../../d9/d63/namespaceraw.html#ab3db8feaa51f2c564eb00582c3d72590">raw::Channel_t</a></div><div class="ttdeci">unsigned int Channel_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbc/lardataobj_2lardataobj_2RawData_2OpDetWaveform_8h_source.html#l00022">lardataobj/lardataobj/RawData/OpDetWaveform.h:22</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3fca696954e0d7e9c70153a1961061d8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::WindowTopologyAlg::emplaceAndDumpMap </td>
          <td>(</td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td> const -&gt; <a class="el" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html">WindowChannelMap</a>
</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html#l00141">141</a> of file <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html">WindowTopologyAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  WindowChannelMap <span class="keyword">const</span> map { std::forward&lt;Args&gt;(<a class="code" href="../../dc/d08/namespaceICARUSservices.html#a79d6f2aec6b1f718280ca90904e29b38">args</a>)... };</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#af5362324c36620e8f9f3006e0ab94000">mfLogTrace</a>() &lt;&lt; <span class="stringliteral">&quot;Window map: &lt;&lt; &quot;</span> &lt;&lt; map;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">return</span> map;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;} <span class="comment">// icarus::trigger::WindowTopologyAlg::emplaceAndDumpMap()</span></div>
<div class="ttc" id="namespaceICARUSservices_html_a79d6f2aec6b1f718280ca90904e29b38"><div class="ttname"><a href="../../dc/d08/namespaceICARUSservices.html#a79d6f2aec6b1f718280ca90904e29b38">ICARUSservices.args</a></div><div class="ttdeci">tuple args</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/ICARUSservices_8py_source.html#l00129">ICARUSservices.py:129</a></div></div>
<div class="ttc" id="classicarus_1_1ns_1_1util_1_1mfLoggingClass_html_af5362324c36620e8f9f3006e0ab94000"><div class="ttname"><a href="../../df/db2/classicarus_1_1ns_1_1util_1_1mfLoggingClass.html#af5362324c36620e8f9f3006e0ab94000">icarus::ns::util::mfLoggingClass::mfLogTrace</a></div><div class="ttdeci">mf::LogTrace mfLogTrace(std::string const &amp;file={}, int const lineNumber=0) const </div><div class="ttdoc">Returns a mf::LogTrace() stream for logging. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0f/mfLoggingClass_8h_source.html#l00124">mfLoggingClass.h:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a18418d1df9a63e728c65670cafa81497"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html">WindowChannelMap</a> icarus::trigger::WindowTopologyAlg::emplaceAndDumpMap </td>
          <td>(</td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convenience function: creates and returns a <code><a class="el" href="../../da/dc9/classicarus_1_1trigger_1_1WindowChannelMap.html" title="Information about composition and topology of trigger sliding windows. ">WindowChannelMap</a></code> from the arguments (<code>args</code>); in the meanwhile, it also dumps it into debug stream. </p>

</div>
</div>
<a class="anchor" id="ad39b9e97259f88e1488462ab6601df5d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::WindowTopologyAlg::extractGateChannels </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#ac663f161080c181e0ad5f8ae07dde2af">TriggerGates_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>gates</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts the channel ID from a collection of gates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gates</td><td>a collection of gates </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a collection of channel lists</dd></dl>
<p>The returned collection has one entry per input gate in <code>gates</code>: each entry is the list of channels that the corresponding gate covers. </p>

<p>Definition at line <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html#l00270">270</a> of file <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html">WindowTopologyAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;{</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a69950399a8cd2b9dbb9c6870cb35da67">WindowChannelColl_t</a> windowChannels;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  windowChannels.reserve(gates.size());</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a39839125385f53223f28c72f6604368a">InputTriggerGate_t</a> <span class="keyword">const</span>&amp; gate: gates) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span>&amp; gateChannels = gate.channels();</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    windowChannels.emplace_back(gateChannels.begin(), gateChannels.end());</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  } <span class="comment">// for gates</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">return</span> windowChannels;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;} <span class="comment">// icarus::trigger::WindowTopologyAlg::extractGateChannels()</span></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_a39839125385f53223f28c72f6604368a"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a39839125385f53223f28c72f6604368a">icarus::trigger::WindowTopologyAlg::InputTriggerGate_t</a></div><div class="ttdeci">icarus::trigger::TrackedOpticalTriggerGate&lt; sbn::OpDetWaveformMeta &gt; InputTriggerGate_t</div><div class="ttdoc">Type of trigger gate extracted from the input event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/WindowTopologyAlg_8h_source.html#l00058">WindowTopologyAlg.h:58</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1WindowTopologyAlg_html_a69950399a8cd2b9dbb9c6870cb35da67"><div class="ttname"><a href="../../db/dbf/classicarus_1_1trigger_1_1WindowTopologyAlg.html#a69950399a8cd2b9dbb9c6870cb35da67">icarus::trigger::WindowTopologyAlg::WindowChannelColl_t</a></div><div class="ttdeci">std::vector&lt; WindowChannels_t &gt; WindowChannelColl_t</div><div class="ttdoc">All channels in many gates (one list per gate). </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/WindowTopologyAlg_8h_source.html#l00148">WindowTopologyAlg.h:148</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9dfe2e73dca32ac4301b0ae7d3c18161"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::WindowTopologyAlg::findClosestWindow </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d9/df9/structicarus_1_1trigger_1_1WindowChannelMap_1_1WindowInfo__t.html">WindowChannelMap::WindowInfo_t</a> * &gt; const &amp;&#160;</td>
          <td class="paramname"><em>windowList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df9/structicarus_1_1trigger_1_1WindowChannelMap_1_1WindowInfo__t.html">WindowChannelMap::WindowInfo_t</a> const *&#160;</td>
          <td class="paramname"><em>targetWindow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the window in <code>windowList</code> closest to the <code>targetWindow</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">windowList</td><td>list of (pointers to) the candidate windows </td></tr>
    <tr><td class="paramname">targetWindow</td><td>the reference window </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the closest among <code>windowList</code>, <code>nullptr</code> if none</dd></dl>
<p>A pointer to the window with the smallest distance from <code>targetWindow</code> is returned. The distance is computed between the centers of the windows as reported by the windows themselves.</p>
<p>The only case where no window (<code>nullptr</code>) is returned is when the window candidate list <code>windowList</code> is empty. </p>

<p>Definition at line <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html#l00287">287</a> of file <a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html">WindowTopologyAlg.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;{</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keywordflow">if</span> (!targetWindow || windowList.empty()) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  WindowChannelMap::WindowInfo_t <span class="keyword">const</span>* closest = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordtype">double</span> minDistance2 = <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::numeric_limits&lt;double&gt;::max</a>();</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>* window: windowList) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">if</span> (!window) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordtype">double</span> <span class="keyword">const</span> d2 = (window-&gt;center - targetWindow-&gt;center).<a class="code" href="../../d0/d8e/namespacegeo_1_1vect.html#a9e35393fa007b2afd54e0ef84ad8bfe6">mag2</a>();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">if</span> (minDistance2 &lt;= d2) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    minDistance2 = d2;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    closest = window;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  } <span class="comment">// for</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">return</span> closest;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;} <span class="comment">// icarus::trigger::WindowTopologyAlg::findClosestWindow()</span></div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="namespacegeo_1_1vect_html_a9e35393fa007b2afd54e0ef84ad8bfe6"><div class="ttname"><a href="../../d0/d8e/namespacegeo_1_1vect.html#a9e35393fa007b2afd54e0ef84ad8bfe6">geo::vect::mag2</a></div><div class="ttdeci">auto mag2(Vector const &amp;v)</div><div class="ttdoc">Return norm of the specified vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6c/geo__vectors__utils_8h_source.html#l01198">geo_vectors_utils.h:1198</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ace7bd5df274c2e0e0d1190b1abbb10c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a> const* const icarus::trigger::WindowTopologyAlg::fGeom</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Geometry service provider. </p>

<p>Definition at line <a class="el" href="../../d3/dda/WindowTopologyAlg_8h_source.html#l00151">151</a> of file <a class="el" href="../../d3/dda/WindowTopologyAlg_8h_source.html">WindowTopologyAlg.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d3/dda/WindowTopologyAlg_8h_source.html">WindowTopologyAlg.h</a></li>
<li><a class="el" href="../../d3/d65/WindowTopologyAlg_8cxx_source.html">WindowTopologyAlg.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
