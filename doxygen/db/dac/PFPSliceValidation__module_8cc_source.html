<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>PFPSliceValidation_module.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b73b02d482d1c4a3db20c3d9ad52d395.html">srcs</a></li><li class="navelem"><a class="el" href="../../dir_e0f1515b72b556ea1a60650362b3fd43.html">sbndcode</a></li><li class="navelem"><a class="el" href="../../dir_c704eecb2dcddc67a44d0dda177b30ed.html">sbndcode</a></li><li class="navelem"><a class="el" href="../../dir_bf30dcad71f33030a7deeadace080410.html">ShowerAna</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">PFPSliceValidation_module.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../db/dac/PFPSliceValidation__module_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span><span class="comment">// Class:       PFPSliceValidation                                            //</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Plugin Type: analyzer (art v3_02_06)                                       //</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// File:        PFPSliceValidation_module.cc                                  //</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//                                                                            //</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// Generated at Wed Oct  2 03:27:09 2019 by Edward Tyley using cetskelgen     //</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// from cetlib version v3_07_02.                                              //</span><span class="comment"></span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;art/Framework/Core/EDAnalyzer.h&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;art/Framework/Core/ModuleMacros.h&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;art/Framework/Principal/Event.h&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;art/Framework/Principal/Handle.h&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;art/Framework/Principal/Run.h&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;art/Framework/Principal/SubRun.h&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;art_root_io/TFileService.h&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;canvas/Persistency/Common/FindManyP.h&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;canvas/Persistency/Common/FindOneP.h&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;canvas/Persistency/Common/Ptr.h&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;canvas/Persistency/Common/PtrVector.h&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;canvas/Utilities/InputTag.h&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;fhiclcpp/ParameterSet.h&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;messagefacility/MessageLogger/MessageLogger.h&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// LArSoft Includes</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/dba/DetectorClocksService_8h.html">lardata/DetectorInfoServices/DetectorClocksService.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d77/Cluster_8h.html">lardataobj/RecoBase/Cluster.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d26/Hit_8h.html">lardataobj/RecoBase/Hit.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d5c/PFParticle_8h.html">lardataobj/RecoBase/PFParticle.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/ddb/PFParticleMetadata_8h.html">lardataobj/RecoBase/PFParticleMetadata.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/dc8/lardataobj_2lardataobj_2RecoBase_2Slice_8h.html">lardataobj/RecoBase/Slice.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d2d/Vertex_8h.html">lardataobj/RecoBase/Vertex.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/dde/SimChannel_8h.html">lardataobj/Simulation/SimChannel.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d01/BackTrackerService_8h.html">larsim/MCCheater/BackTrackerService.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d59/ParticleInventoryService_8h.html">larsim/MCCheater/ParticleInventoryService.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;nusimdata/SimulationBase/MCTruth.h&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">// Root Includes</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;TTree.h&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d9/dad/cosmictagger_8fcl.html#a9816817880cad9de914dd1e3a94b6483">ana</a> {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">class </span>PFPSliceValidation;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html">   47</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html">ana::PFPSliceValidation</a> : <span class="keyword">public</span> art::EDAnalyzer {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keyword">explicit</span> <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a88b55b816883b709ee9b71d7807ec135">PFPSliceValidation</a>(fhicl::ParameterSet <span class="keyword">const</span> &amp;pset);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="comment">// The compiler-generated destructor is fine for non-base</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="comment">// classes without bare pointers or other resource use.</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="comment">// Plugins should not be copied or assigned.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a88b55b816883b709ee9b71d7807ec135">PFPSliceValidation</a>(<a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html">PFPSliceValidation</a> <span class="keyword">const</span> &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a88b55b816883b709ee9b71d7807ec135">PFPSliceValidation</a>(<a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html">PFPSliceValidation</a> &amp;&amp;)      = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html">PFPSliceValidation</a> &amp;<a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a80e81db5f9262f16cb71cc29b3302fe1">operator=</a>(<a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html">PFPSliceValidation</a> <span class="keyword">const</span> &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html">PFPSliceValidation</a> &amp;<a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a80e81db5f9262f16cb71cc29b3302fe1">operator=</a>(<a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html">PFPSliceValidation</a> &amp;&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="comment">// Required functions.</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a63cbd10488dee397af867531d415b55d">analyze</a>(art::Event <span class="keyword">const</span> &amp;<a class="code" href="../../de/d0f/namespacetca.html#a3bc30aeace71ea50324b602afa2155f2">evt</a>) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a74de8ce35ad95f7d4befca9bbb1fa80e">beginJob</a>() <span class="keyword">override</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="comment">// Function to get a map of MCTruth to number of hits from that truth</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  std::map&lt;art::Ptr&lt;simb::MCTruth&gt;, <span class="keywordtype">int</span>&gt;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a38f0bf3b6cc4067ef4d1f5627284fe3b">GetTruthHitMap</a>(<span class="keyword">const</span> <a class="code" href="../../d0/dc3/classdetinfo_1_1DetectorClocksData.html">detinfo::DetectorClocksData</a> &amp;clockData,</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                 <span class="keyword">const</span> sim::ParticleList &amp;trueParticlesMap,</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                 <span class="keyword">const</span> std::map&lt;<span class="keywordtype">int</span>, art::Ptr&lt;simb::MCTruth&gt;&gt; &amp;particleTruthMap,</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                 <span class="keyword">const</span> <a class="code" href="../../db/dfa/namespacelar_1_1dump.html#a71d4403edbac4d265176f8677118194f">std::vector</a>&lt;art::Ptr&lt;recob::Hit&gt;&gt; &amp;allHits);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">// Function to match a slice, really any selection of hits, back to MCTruth</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="comment">// Also calculates purity and completeness of match (by reference)</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  art::Ptr&lt;simb::MCTruth&gt;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a263880d33f8edab4f87daf3887564358">GetSliceTruthMatchHits</a>(<span class="keyword">const</span> <a class="code" href="../../d0/dc3/classdetinfo_1_1DetectorClocksData.html">detinfo::DetectorClocksData</a> &amp;clockData,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                         <span class="keyword">const</span> <a class="code" href="../../db/dfa/namespacelar_1_1dump.html#a71d4403edbac4d265176f8677118194f">std::vector</a>&lt;art::Ptr&lt;recob::Hit&gt;&gt; &amp;sliceHits,</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                         <span class="keyword">const</span> std::map&lt;<span class="keywordtype">int</span>, art::Ptr&lt;simb::MCTruth&gt;&gt; &amp;particleTruthMap,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                         <span class="keyword">const</span> std::map&lt;art::Ptr&lt;simb::MCTruth&gt;, <span class="keywordtype">int</span>&gt; &amp;truthHitMap,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                         <span class="keywordtype">float</span> &amp;completeness, <span class="keywordtype">float</span> &amp;purity);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">// Functions to reset tree variables</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a1c5b695fed74bdaa85016279595a2721">ClearTrueTree</a>();</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a84e46afffaa199f015c59c8fe9b94214">ClearEventTree</a>();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="comment">// Function to create branches on tree for a list of labels</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="comment">// Branches will have the form branchName_PFParticleLabel</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a82d7271716ec4a773b4c9ed0d9e11307">initTree</a>(TTree *Tree, std::string branchName, std::map&lt;std::string, T&gt; &amp;<a class="code" href="../../d6/db4/Solver_8cxx.html#a19d8f202216830672ccbd944969dd958">Metric</a>,</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                std::vector&lt;std::string&gt; <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a152bfa1ca08e37e2a21d84aec030e993">fPFParticleLabels</a>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html">   89</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html">SliceMatch</a> {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// Default constructor initialise all of the things to -999</span></div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#ae3eba245ed486b29792794246a395d7b">   92</a></span>&#160;    <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#ae3eba245ed486b29792794246a395d7b">SliceMatch</a>()</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        : <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a06c82d872bfe8a870f3e874ab5c803f7">mRecoId</a>(-999)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        , <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a024167fbfc94e97162f4561466e23838">mRecoPdg</a>(-999)</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        , <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a202cfadcea996c50d7ce882ef798b170">mComp</a>(-999)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        , <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#aff16f4e497fd4f99626b5402a93c5b89">mPurity</a>(-999)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        , <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#af232591cb8472b42c4fa9cc2421f9f95">mNuScore</a>(-999)</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        , <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a8e469bb04844422e810cf68413f23f34">mVtxX</a>(-999)</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        , <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a6fd31032f7f5c0aa8d6263b9cbc25d9d">mVtxY</a>(-999)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        , <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#aa80563c904d537401938cbf499a9303a">mVtxZ</a>(-999){};</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a05d9f5ff974013325902b252ed516dfa">  102</a></span>&#160;    <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a05d9f5ff974013325902b252ed516dfa">SliceMatch</a>(<span class="keywordtype">int</span> recoId, <span class="keywordtype">int</span> recoPdg, <span class="keywordtype">float</span> comp, <span class="keywordtype">float</span> purity, <span class="keywordtype">float</span> nuScore, <span class="keywordtype">double</span> vtx[3])</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        : <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a06c82d872bfe8a870f3e874ab5c803f7">mRecoId</a>(recoId)</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        , <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a024167fbfc94e97162f4561466e23838">mRecoPdg</a>(recoPdg)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        , <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a202cfadcea996c50d7ce882ef798b170">mComp</a>(comp)</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        , <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#aff16f4e497fd4f99626b5402a93c5b89">mPurity</a>(purity)</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        , <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#af232591cb8472b42c4fa9cc2421f9f95">mNuScore</a>(nuScore)</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        , <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a8e469bb04844422e810cf68413f23f34">mVtxX</a>(vtx[0])</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        , <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a6fd31032f7f5c0aa8d6263b9cbc25d9d">mVtxY</a>(vtx[1])</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a024167fbfc94e97162f4561466e23838">  110</a></span>&#160;        , <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#aa80563c904d537401938cbf499a9303a">mVtxZ</a>(vtx[2]){};</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a06c82d872bfe8a870f3e874ab5c803f7">mRecoId</a>, <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a024167fbfc94e97162f4561466e23838">mRecoPdg</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#aff16f4e497fd4f99626b5402a93c5b89">  113</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a202cfadcea996c50d7ce882ef798b170">mComp</a>, <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#aff16f4e497fd4f99626b5402a93c5b89">mPurity</a>, <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#af232591cb8472b42c4fa9cc2421f9f95">mNuScore</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#aa80563c904d537401938cbf499a9303a">  114</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a8e469bb04844422e810cf68413f23f34">mVtxX</a>, <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a6fd31032f7f5c0aa8d6263b9cbc25d9d">mVtxY</a>, <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#aa80563c904d537401938cbf499a9303a">mVtxZ</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// bool operator&lt;(const SliceMatch&amp; match) const {</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">//   return mComp &lt; match,mComp;</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// }</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  };</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#aafd8f43c8118176e75567fea63d8beeb">  122</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#aafd8f43c8118176e75567fea63d8beeb">fVerbose</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a386491bbc7ac65a66a55d40977293ec3">  124</a></span>&#160;  std::string <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a386491bbc7ac65a66a55d40977293ec3">fHitLabel</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#af3c26b36d1ea6f367702b607eacb50b5">fGenieGenModuleLabel</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a152bfa1ca08e37e2a21d84aec030e993">  125</a></span>&#160;  std::vector&lt;std::string&gt; <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a152bfa1ca08e37e2a21d84aec030e993">fPFParticleLabels</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#ab47bb67b933370473a6a3ad1c6943896">  127</a></span>&#160;  art::ServiceHandle&lt;art::TFileService&gt; <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#ab47bb67b933370473a6a3ad1c6943896">tfs</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a53aa53567feab8862a4db42921b7d9be">  128</a></span>&#160;  art::ServiceHandle&lt;cheat::BackTrackerService&gt; <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a53aa53567feab8862a4db42921b7d9be">bt_serv</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a359f90b052e4a7d9f8e3c3922ebead4a">  129</a></span>&#160;  art::ServiceHandle&lt;cheat::ParticleInventoryService&gt; <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a359f90b052e4a7d9f8e3c3922ebead4a">particleInventory</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#af82781a587cbed3b63b583b619730aaa">  131</a></span>&#160;  TTree *<a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#af82781a587cbed3b63b583b619730aaa">eventTree</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a7b028c8ba4af3d7edb43bcfc4021931e">  132</a></span>&#160;  TTree *<a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a7b028c8ba4af3d7edb43bcfc4021931e">trueTree</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// Event wide metrics</span></div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a56d45d68565f231cefb417c127cb2916">  135</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a56d45d68565f231cefb417c127cb2916">eventTrueNeutrinos</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#afb9c56b4726436ff97d198ef27c66031">  136</a></span>&#160;  std::map&lt;std::string, int&gt; <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#afb9c56b4726436ff97d198ef27c66031">eventPFPSlices</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a2dfe2732034025ab72ee1d4c46b84750">eventPFPNeutrinos</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a60eab150e176ded434c5ad4becfdde00">  137</a></span>&#160;  std::map&lt;std::string, std::vector&lt;float&gt;&gt; <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a0638024158cafc824fbb6fa0580b5963">eventCosmicScores</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a60eab150e176ded434c5ad4becfdde00">eventNeutrinoScores</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">// Truth-by-truth metrics</span></div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#adbab752ed65629513e29d2ef8af66ab7">  140</a></span>&#160;  std::map&lt;std::string, bool&gt; <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#adbab752ed65629513e29d2ef8af66ab7">nuMatchNeutrino</a>;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#ab3f69446ce2d7cc08dc48ad2042a66b7">  141</a></span>&#160;  std::map&lt;std::string, int&gt; <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#ab3f69446ce2d7cc08dc48ad2042a66b7">nuSlices</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#af086492a007a5d69d1cd884dffd1f244">nuNeutrinos</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a4d0882aa909bd32fa36657f460fba8fe">bestNuPdg</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a077f6bbd769297d55adabe877567b23a">  142</a></span>&#160;  std::map&lt;std::string, float&gt; <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a31aa4093883db4a07ee9f12033133355">bestNuPurity</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#ab770aad6b8192db2ad668855ddb1ac35">bestNuComp</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a077f6bbd769297d55adabe877567b23a">bestNuScore</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">// Neutrino Interaction variables</span></div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a186ee9d8ce21915881afe577fb74d826">  145</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a2053f7ecb288b1319a425ee7840935f1">intType</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#afebae97323dd5711d246c88004e9c401">CCNC</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a975eb66234989041c2a11f5d4cf2f238">neutrinoPDG</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a4c6bc63c36f69395d3c49c8b85215491">numProtons</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a639f98fc286fe3ec05dfe5b92aabdd70">numNeutrons</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a9e7ae9028b7d657d0185307ae896db62">numPi</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#affcf08a888a6df246f87508ff1d86f76">numPi0</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a186ee9d8ce21915881afe577fb74d826">numTrueHits</a>;</div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a0c6868772ce51ba533c7e829ea9118ba">  146</a></span>&#160;  <span class="keywordtype">float</span> <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a581ef63a9e582f57999874600e69d8b7">W</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a2a791218bdb8f180a443e1066aade3eb">X</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a0c6868772ce51ba533c7e829ea9118ba">Y</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a3b1f4bd428c96692f2a3d82b6234fc67">QSqr</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a0bdab787d72f5a2b140de46f1daf9942">Pt</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#ab4077db3095892c14f3867d030ec1aea">Theta</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#af0271e0b0c9325d183a9138002056c43">neutrinoE</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#ad4585573130ba45fce471bf66197bd40">leptonP</a>;</div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a0f9655011531cb8f0fa521d1444341cf">  147</a></span>&#160;  <span class="keywordtype">float</span> <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a39885524d5e1db6e4a75215f8df375af">trueVertexX</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#abd8419739e44e51ff5ec729ba103debc">trueVertexY</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a0f9655011531cb8f0fa521d1444341cf">trueVertexZ</a>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">// Vertex reco information</span></div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#aa3d97eeee8bc8ca898873c35cc3014cd">  150</a></span>&#160;  std::map&lt;std::string, float&gt; <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a9fc1c4e3c458d41d94172aa8fa1ac09d">pfpVertexX</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a069ab25906960a8032d19591adf170ce">pfpVertexY</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#aa3d97eeee8bc8ca898873c35cc3014cd">pfpVertexZ</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a306e8fa25ae1e08719493beb675a5010">  151</a></span>&#160;  std::map&lt;std::string, float&gt; <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#ab1a86c688f4d9101d356ca44dee47670">pfpVertexDistX</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#ad6d7e681c48a6862cae9235136253159">pfpVertexDistY</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a306e8fa25ae1e08719493beb675a5010">pfpVertexDistZ</a>, <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#ab339c914d1055caaaa2653cd3de428d5">pfpVertexDistMag</a>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;};</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a88b55b816883b709ee9b71d7807ec135">  154</a></span>&#160;<a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a88b55b816883b709ee9b71d7807ec135">ana::PFPSliceValidation::PFPSliceValidation</a>(fhicl::ParameterSet <span class="keyword">const</span> &amp;pset)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    : EDAnalyzer{pset}</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    , fVerbose(pset.get&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Verbose&quot;</span>, 0))</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    , fHitLabel(pset.get&lt;std::string&gt;(<span class="stringliteral">&quot;HitLabel&quot;</span>))</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    , fGenieGenModuleLabel(pset.get&lt;std::string&gt;(<span class="stringliteral">&quot;GenieGenModuleLabel&quot;</span>))</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    , fPFParticleLabels(pset.get&lt;std::vector&lt;std::string&gt;&gt;(<span class="stringliteral">&quot;PFParticleLabels&quot;</span>)) {}</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a74de8ce35ad95f7d4befca9bbb1fa80e">  161</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a74de8ce35ad95f7d4befca9bbb1fa80e">ana::PFPSliceValidation::beginJob</a>() {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  trueTree  = <a class="code" href="../../dd/d33/NuVertexChargeTree__module_8cc.html#aa8ae0901ab0cec47d6c9bf9c22af764f">tfs</a>-&gt;make&lt;TTree&gt;(<span class="stringliteral">&quot;trueTree&quot;</span>, <span class="stringliteral">&quot;Tree with true neutrino metrics&quot;</span>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  eventTree = <a class="code" href="../../dd/d33/NuVertexChargeTree__module_8cc.html#aa8ae0901ab0cec47d6c9bf9c22af764f">tfs</a>-&gt;make&lt;TTree&gt;(<span class="stringliteral">&quot;eventTree&quot;</span>, <span class="stringliteral">&quot;Tree with event wide metrics&quot;</span>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  eventTree-&gt;Branch(<span class="stringliteral">&quot;trueNeutrinos&quot;</span>, &amp;eventTrueNeutrinos);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  initTree(eventTree, <span class="stringliteral">&quot;pfpNeutrinos&quot;</span>, eventPFPNeutrinos, fPFParticleLabels);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  initTree(eventTree, <span class="stringliteral">&quot;pfpSlices&quot;</span>, eventPFPSlices, fPFParticleLabels);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">// Vector of scores of all slices that match to a cosmic</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  initTree(eventTree, <span class="stringliteral">&quot;cosmicScores&quot;</span>, eventCosmicScores, fPFParticleLabels);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// Vector of socres of all slices that match to a neutrino</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  initTree(eventTree, <span class="stringliteral">&quot;nuScores&quot;</span>, eventNeutrinoScores, fPFParticleLabels);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="comment">// Truth variables from GENIE</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;intType&quot;</span>, &amp;intType);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;CCNC&quot;</span>, &amp;CCNC);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;neutrinoPDG&quot;</span>, &amp;neutrinoPDG);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;numProtons&quot;</span>, &amp;numProtons); <span class="comment">// Note, 21Mev KE cut</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;numPi&quot;</span>, &amp;numPi);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;numPi0&quot;</span>, &amp;numPi0);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;numTrueHits&quot;</span>, &amp;numTrueHits);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;W&quot;</span>, &amp;W);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;X&quot;</span>, &amp;<a class="code" href="../../d5/df9/find__global__symbol_8sh.html#ae2fcd9af85e9525dadab1ac2cb45a22d">X</a>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;Y&quot;</span>, &amp;Y);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;QSqr&quot;</span>, &amp;QSqr);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;Pt&quot;</span>, &amp;Pt);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;Theta&quot;</span>, &amp;Theta);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;neutrinoE&quot;</span>, &amp;neutrinoE);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;leptonP&quot;</span>, &amp;leptonP);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="comment">// Total number of all slices, and only neutrino slices matched to true interaction</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  initTree(trueTree, <span class="stringliteral">&quot;numSlices&quot;</span>, nuSlices, fPFParticleLabels);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  initTree(trueTree, <span class="stringliteral">&quot;numNeutrinos&quot;</span>, nuNeutrinos, fPFParticleLabels);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="comment">// Metrics of only best matched slice (Highest completeness)</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  initTree(trueTree, <span class="stringliteral">&quot;bestMatchNeutrino&quot;</span>, nuMatchNeutrino, fPFParticleLabels);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  initTree(trueTree, <span class="stringliteral">&quot;purity&quot;</span>, bestNuPurity, fPFParticleLabels);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  initTree(trueTree, <span class="stringliteral">&quot;comp&quot;</span>, bestNuComp, fPFParticleLabels);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  initTree(trueTree, <span class="stringliteral">&quot;score&quot;</span>, bestNuScore, fPFParticleLabels);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  initTree(trueTree, <span class="stringliteral">&quot;recoPdg&quot;</span>, bestNuPdg, fPFParticleLabels);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="comment">// True vertex, needed for FV cuts</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;trueVertexX&quot;</span>, &amp;trueVertexX);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;trueVertexY&quot;</span>, &amp;trueVertexY);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  trueTree-&gt;Branch(<span class="stringliteral">&quot;trueVertexZ&quot;</span>, &amp;trueVertexZ);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">// reco vertex of best matched slice, only available for neutrino slices</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  initTree(trueTree, <span class="stringliteral">&quot;pfpVertexX&quot;</span>, pfpVertexX, fPFParticleLabels);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  initTree(trueTree, <span class="stringliteral">&quot;pfpVertexY&quot;</span>, pfpVertexY, fPFParticleLabels);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  initTree(trueTree, <span class="stringliteral">&quot;pfpVertexZ&quot;</span>, pfpVertexZ, fPFParticleLabels);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  initTree(trueTree, <span class="stringliteral">&quot;pfpVertexDistX&quot;</span>, pfpVertexDistX, fPFParticleLabels);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  initTree(trueTree, <span class="stringliteral">&quot;pfpVertexDistY&quot;</span>, pfpVertexDistY, fPFParticleLabels);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  initTree(trueTree, <span class="stringliteral">&quot;pfpVertexDistZ&quot;</span>, pfpVertexDistZ, fPFParticleLabels);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  initTree(trueTree, <span class="stringliteral">&quot;pfpVertexDistMag&quot;</span>, pfpVertexDistMag, fPFParticleLabels);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a63cbd10488dee397af867531d415b55d">  214</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a63cbd10488dee397af867531d415b55d">ana::PFPSliceValidation::analyze</a>(art::Event <span class="keyword">const</span> &amp;<a class="code" href="../../de/d0f/namespacetca.html#a3bc30aeace71ea50324b602afa2155f2">evt</a>) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  ClearEventTree();</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="comment">// Get the truths in the event:</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keyword">const</span> std::vector&lt;art::Ptr&lt;simb::MCTruth&gt;&gt; truthVec = particleInventory-&gt;MCTruthVector_Ps();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; std::setprecision(1) &lt;&lt; std::fixed;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> (fVerbose) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;truth : truthVec) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Truth: &quot;</span> &lt;&lt; truth &lt;&lt; std::endl;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="keywordflow">if</span> (truth-&gt;NeutrinoSet()) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keyword">const</span> simb::MCNeutrino neutrino = truth-&gt;GetNeutrino();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Neutrino: &quot;</span> &lt;&lt; neutrino &lt;&lt; std::endl;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keyword">const</span> simb::MCParticle <a class="code" href="../../d0/ddd/clustermodules_8fcl.html#a56870c2f2bb7bcf949940e27803969ad">nu</a> = neutrino.Nu();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;X: &quot;</span> &lt;&lt; nu.Vx() &lt;&lt; <span class="stringliteral">&quot; Y: &quot;</span> &lt;&lt; nu.Vy() &lt;&lt; <span class="stringliteral">&quot; Z &quot;</span> &lt;&lt; nu.Vz() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      } <span class="comment">// truth-&gt;NeutrinoSet</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    } <span class="comment">// fVerbose</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  } <span class="comment">// truth: truthVec</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; std::setprecision(2) &lt;&lt; std::fixed;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="comment">// Get a map of each true particle to the MC Truth</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  std::map&lt;int, art::Ptr&lt;simb::MCTruth&gt;&gt; particleTruthMap;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keyword">const</span> sim::ParticleList &amp;trueParticlesMap = particleInventory-&gt;ParticleList();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;[trackId, particle] : trueParticlesMap) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    particleTruthMap[trackId] = particleInventory-&gt;ParticleToMCTruth_P(particle);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  } <span class="comment">// [trackId, particle]: trueParticlesMap</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  eventTrueNeutrinos = truthVec.size();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="comment">// Get reco stuff initialised</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="comment">//std::vector&lt;art::Handle&lt;std::vector&lt;recob::Hit&gt;&gt;&gt; hitHandles;</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">//evt.getManyByType(hitHandles);</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keyword">auto</span> hitHandles = evt.getMany&lt;std::vector&lt;recob::Hit&gt;&gt;();</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="comment">//std::vector&lt;art::Handle&lt;std::vector&lt;recob::Vertex&gt;&gt;&gt; vertexHandles;</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="comment">//evt.getManyByType(vertexHandles);</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keyword">auto</span> vertexHandles = evt.getMany&lt;std::vector&lt;recob::Vertex&gt;&gt;();</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="comment">// Set the handles</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  art::Handle&lt;std::vector&lt;recob::Hit&gt;&gt; hitHandle;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  art::Handle&lt;std::vector&lt;recob::PFParticle&gt;&gt; pfpHandle;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  art::Handle&lt;std::vector&lt;recob::Slice&gt;&gt; sliceHandle;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  art::Handle&lt;std::vector&lt;recob::Vertex&gt;&gt; vertexHandle;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="comment">// Get all the hits</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  std::vector&lt;art::Ptr&lt;recob::Hit&gt;&gt; allHits;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">if</span> (evt.getByLabel(fHitLabel, hitHandle))</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    art::fill_ptr_vector(allHits, hitHandle);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="comment">// Get map of true primary particle to number of reco hits / energy in reco hits</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> clockData = art::ServiceHandle&lt;detinfo::DetectorClocksService const&gt;()-&gt;DataFor(evt);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  std::map&lt;art::Ptr&lt;simb::MCTruth&gt;, <span class="keywordtype">int</span>&gt; truthHitMap =</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      GetTruthHitMap(clockData, trueParticlesMap, particleTruthMap, allHits);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">// Create maps to store the best matched slice to each truth</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  std::map&lt;std::string, std::map&lt;art::Ptr&lt;simb::MCTruth&gt;, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;&gt; pfpTruthNuCounterMap;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  std::map&lt;std::string, std::map&lt;art::Ptr&lt;simb::MCTruth&gt;, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;&gt; pfpTruthSliceCounterMap;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  std::map&lt;std::string, std::map&lt;art::Ptr&lt;simb::MCTruth&gt;, <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html">SliceMatch</a>&gt;&gt; pfpTruthSliceMatchMap;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="comment">// Initialise the counters in the maps</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> fPFParticleLabel : fPFParticleLabels) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;truth : truthVec) {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      pfpTruthNuCounterMap[fPFParticleLabel][truth]    = 0;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      pfpTruthSliceCounterMap[fPFParticleLabel][truth] = 0;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    } <span class="comment">// truth: truthVec</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  } <span class="comment">// fPFParticleLabel: fPFParticleLabels</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> fPFParticleLabel : fPFParticleLabels) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span> (fVerbose) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;On PFParticleLabel: &quot;</span> &lt;&lt; fPFParticleLabel &lt;&lt; std::endl;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    } <span class="comment">// fVerbose</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">// Get all the PFPs</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    std::vector&lt;art::Ptr&lt;recob::Slice&gt;&gt; pfpSliceVec;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">if</span> (evt.getByLabel(fPFParticleLabel, sliceHandle))</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      art::fill_ptr_vector(pfpSliceVec, sliceHandle);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    std::vector&lt;art::Ptr&lt;recob::PFParticle&gt;&gt; pfps;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">if</span> (evt.getByLabel(fPFParticleLabel, pfpHandle))</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      art::fill_ptr_vector(pfps, pfpHandle);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    art::FindOneP&lt;recob::Vertex&gt; fopfv(pfpHandle, evt, fPFParticleLabel);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">if</span> (fopfv.isValid() &amp;&amp; fopfv.size() &gt; 0) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      evt.get(fopfv.at(0).id(), vertexHandle);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="keywordflow">if</span> (!vertexHandle.isValid()) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Vertex handle not valid&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    art::FindManyP&lt;recob::Hit&gt; fmSliceHits(pfpSliceVec, evt, fPFParticleLabel);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">if</span> (!fmSliceHits.isValid() || fmSliceHits.size() == 0) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;FindMany Slice Hits not valid&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    art::FindManyP&lt;recob::PFParticle&gt; fmSlicePFPs(pfpSliceVec, evt, fPFParticleLabel);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">if</span> (!fmSlicePFPs.isValid()) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;FindMany Slice PFPs not valid&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="comment">// Create a map between PFParticles and their IDs</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    art::FindManyP&lt;larpandoraobj::PFParticleMetadata&gt; fmpfpmd(pfps, evt, fPFParticleLabel);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">if</span> (!fmpfpmd.isValid()) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;PFP MetaData handle not valid&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">// Get maps of the pfp&#39;s Id to the pfp objects</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// And for pfp neutrinos, get the slice id mva score</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    std::map&lt;long unsigned int, art::Ptr&lt;recob::PFParticle&gt;&gt; pfpMap;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    std::map&lt;long unsigned int, float&gt; pfpNuScoreMap;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    std::vector&lt;art::Ptr&lt;recob::PFParticle&gt;&gt; pfpNeutrinoVec;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;pfp : pfps) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <span class="keywordtype">long</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pfpID = pfp-&gt;Self();</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      pfpMap[pfpID]           = pfp;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="comment">// Select PFP neutrinos</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="keywordflow">if</span> (pfp-&gt;PdgCode() == 12 || pfp-&gt;PdgCode() == 14) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        pfpNeutrinoVec.push_back(pfp);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">if</span> (fmpfpmd.size() == 0) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;          <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;PFP neutrino has no metadata&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        } <span class="comment">// fmpfpmd.size()</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="comment">// Get the pfparticle metadata to get the MVA score for each slice</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keyword">const</span> std::vector&lt;art::Ptr&lt;larpandoraobj::PFParticleMetadata&gt;&gt; pfpMetaVec =</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            fmpfpmd.at(pfpID);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> pfpMeta : pfpMetaVec) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;          <a class="code" href="../../d6/de5/classlarpandoraobj_1_1PFParticleMetadata.html#a99fc8e184c43a202f5a3516d0006ae6b">larpandoraobj::PFParticleMetadata::PropertiesMap</a> propertiesMap =</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;              pfpMeta-&gt;GetPropertiesMap();</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;          pfpNuScoreMap[pfpID] = propertiesMap.at(<span class="stringliteral">&quot;NuScore&quot;</span>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        } <span class="comment">// pfpMeta: pfpMetaVec</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      } <span class="comment">// pfp-&gt;PdgCode()==12 || pfp-&gt;PdgCode()==14</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    } <span class="comment">// pfp: pfps</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    eventPFPSlices[fPFParticleLabel]    = pfpSliceVec.size();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    eventPFPNeutrinos[fPFParticleLabel] = pfpNeutrinoVec.size();</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;pfpSlice : pfpSliceVec) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      std::vector&lt;art::Ptr&lt;recob::Hit&gt;&gt; sliceHits        = fmSliceHits.at(pfpSlice.key());</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      std::vector&lt;art::Ptr&lt;recob::PFParticle&gt;&gt; slicePFPs = fmSlicePFPs.at(pfpSlice.key());</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="keywordtype">bool</span> isNeutrinoSlice(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <span class="keywordtype">float</span> nuScore(-999);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <span class="keywordtype">long</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pfpNu(-999);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <span class="comment">// Check if it is a neutrino slice, if so get some info from the pfp neutrino</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;pfp : slicePFPs) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="keywordflow">if</span> (pfp-&gt;PdgCode() == 12 || pfp-&gt;PdgCode() == 14) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;          pfpNu           = pfp-&gt;Self();</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;          nuScore         = pfpNuScoreMap[pfpNu];</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;          isNeutrinoSlice = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;          <span class="keywordflow">break</span>; <span class="comment">// Should only be 1 neutrino per slice</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        } <span class="comment">// pfp-&gt;PdgCode()==12 || pfp-&gt;PdgCode()==14</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      } <span class="comment">// pfp:slicePFPs</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <span class="comment">// Find the MCTruth that contains most of the hits from the slice</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="keywordtype">float</span> purity(-999), completeness(-999);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      art::Ptr&lt;simb::MCTruth&gt; trueMatch = GetSliceTruthMatchHits(</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;          clockData, sliceHits, particleTruthMap, truthHitMap, completeness, purity);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="comment">// Check if it matched to anything</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keywordflow">if</span> (trueMatch.isNull())</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="keywordflow">if</span> (fVerbose &amp;&amp; isNeutrinoSlice)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;True Match: &quot;</span> &lt;&lt; trueMatch &lt;&lt; <span class="stringliteral">&quot; with completeness: &quot;</span> &lt;&lt; completeness</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; and purity: &quot;</span> &lt;&lt; purity &lt;&lt; <span class="stringliteral">&quot; and score: &quot;</span> &lt;&lt; nuScore &lt;&lt; std::endl;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <span class="comment">// Increment the counters for the true match</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      ++pfpTruthSliceCounterMap[fPFParticleLabel][trueMatch];</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="keywordflow">if</span> (isNeutrinoSlice) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        ++pfpTruthNuCounterMap[fPFParticleLabel][trueMatch];</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">if</span> (trueMatch-&gt;NeutrinoSet()) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;          eventNeutrinoScores[fPFParticleLabel].push_back(nuScore);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        } <span class="keywordflow">else</span> { <span class="comment">// cosmicTruth</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;          eventCosmicScores[fPFParticleLabel].push_back(nuScore);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        } <span class="comment">// trueMatch-&gt;NeutrinoSet()</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      } <span class="comment">// isNeutrinoSlice</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="comment">// Choose the best match slice, defined as the slice with the best completeness</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="keywordflow">if</span> (completeness &gt; pfpTruthSliceMatchMap[fPFParticleLabel][trueMatch].mComp) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">if</span> (isNeutrinoSlice) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;          art::Ptr&lt;recob::PFParticle&gt; pfpNeutrino = pfpMap.at(pfpNu);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;          art::Ptr&lt;recob::Vertex&gt; pfpVertex       = fopfv.at(pfpNeutrino.key());</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;          <span class="keywordtype">double</span> pfpVtx[3]                        = {-999, -999, -999};</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;          pfpVertex-&gt;XYZ(pfpVtx);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;          <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html">SliceMatch</a> match(pfpNu, pfpNeutrino-&gt;PdgCode(), completeness, purity, nuScore, pfpVtx);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;          pfpTruthSliceMatchMap[fPFParticleLabel][trueMatch] = match;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        } <span class="keywordflow">else</span> { <span class="comment">// isNeutrinoSlice</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;          <span class="keywordtype">double</span> pfpVtx[3] = {-999, -999, -999};</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;          <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html">SliceMatch</a> match(-999, -999, completeness, purity, -999, pfpVtx);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;          pfpTruthSliceMatchMap[fPFParticleLabel][trueMatch] = match;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        } <span class="comment">// else isNeutrinoSlice</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      } <span class="comment">// bestMatch</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    } <span class="comment">// pfpSlice:pfpSliceVec</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  } <span class="comment">// auto const fPFParticleLabel: fPFParticleLabels</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  eventTree-&gt;Fill();</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="comment">// Get the true neutrinos</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;truth : truthVec) {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    ClearTrueTree();</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// Only fill the tree for truth neutrinos</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">if</span> (!truth-&gt;NeutrinoSet())</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">// Get the truth interaction variables</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keyword">const</span> simb::MCNeutrino neutrino = truth-&gt;GetNeutrino();</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keyword">const</span> simb::MCParticle <a class="code" href="../../d0/ddd/clustermodules_8fcl.html#a56870c2f2bb7bcf949940e27803969ad">nu</a>       = neutrino.Nu();</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keyword">const</span> simb::MCParticle lepton   = neutrino.Lepton();</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    intType     = neutrino.Mode();</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    CCNC        = neutrino.CCNC();</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    neutrinoPDG = nu.PdgCode();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    W           = neutrino.W();</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="../../d5/df9/find__global__symbol_8sh.html#ae2fcd9af85e9525dadab1ac2cb45a22d">X</a>           = neutrino.X();</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    Y           = neutrino.Y();</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    QSqr        = neutrino.QSqr();</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    Pt          = neutrino.Pt();</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    Theta       = neutrino.Theta();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    neutrinoE   = nu.E();</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    leptonP     = lepton.P();</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    trueVertexX = nu.Vx();</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    trueVertexY = nu.Vy();</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    trueVertexZ = nu.Vz();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="comment">// Number of true hits from the slice</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    numTrueHits = truthHitMap.at(truth);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="comment">// Calculate the number of direct daughters</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;[particleId, truthIter] : particleTruthMap) {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="keywordflow">if</span> (truthIter != truth)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="keyword">const</span> simb::MCParticle *particle = trueParticlesMap.at(particleId);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="comment">// We only want the primary daughters</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="keywordflow">if</span> (particle-&gt;Process() != <span class="stringliteral">&quot;primary&quot;</span>)</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <span class="comment">// Apply 21MeV KE cut on protons</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordflow">if</span> (particle-&gt;PdgCode() == 2212 &amp;&amp; (particle-&gt;E() - particle-&gt;Mass()) &gt; 0.021) {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        ++numProtons;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(particle-&gt;PdgCode()) == 211) {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        ++numPi;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(particle-&gt;PdgCode()) == 111) {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        ++numPi0;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">if</span> (fVerbose) {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;\nTruth: &quot;</span> &lt;&lt; truth &lt;&lt; std::endl;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    } <span class="comment">// fVerbose</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> fPFParticleLabel : fPFParticleLabels) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <span class="comment">// Check we actually match a slice to the truth</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="keywordflow">if</span> (pfpTruthSliceCounterMap[fPFParticleLabel].at(truth)) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html">SliceMatch</a> match = pfpTruthSliceMatchMap[fPFParticleLabel][truth];</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        nuSlices[fPFParticleLabel]        = pfpTruthSliceCounterMap[fPFParticleLabel][truth];</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        nuNeutrinos[fPFParticleLabel]     = pfpTruthNuCounterMap[fPFParticleLabel][truth];</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        bestNuComp[fPFParticleLabel]      = match.<a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a202cfadcea996c50d7ce882ef798b170">mComp</a>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        bestNuPurity[fPFParticleLabel]    = match.<a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#aff16f4e497fd4f99626b5402a93c5b89">mPurity</a>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        bestNuScore[fPFParticleLabel]     = match.<a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#af232591cb8472b42c4fa9cc2421f9f95">mNuScore</a>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        bestNuPdg[fPFParticleLabel]       = match.<a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a024167fbfc94e97162f4561466e23838">mRecoPdg</a>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        nuMatchNeutrino[fPFParticleLabel] = (match.<a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a06c82d872bfe8a870f3e874ab5c803f7">mRecoId</a> != -999);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="comment">// If we matched a neutrino slice, get the vertex info</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="keywordflow">if</span> (nuMatchNeutrino[fPFParticleLabel]) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;          pfpVertexX[fPFParticleLabel] = match.<a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a8e469bb04844422e810cf68413f23f34">mVtxX</a>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;          pfpVertexY[fPFParticleLabel] = match.<a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a6fd31032f7f5c0aa8d6263b9cbc25d9d">mVtxY</a>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;          pfpVertexZ[fPFParticleLabel] = match.<a class="code" href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#aa80563c904d537401938cbf499a9303a">mVtxZ</a>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;          pfpVertexDistX[fPFParticleLabel] = pfpVertexX[fPFParticleLabel] - nu.Vx();</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;          pfpVertexDistY[fPFParticleLabel] = pfpVertexY[fPFParticleLabel] - nu.Vy();</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;          pfpVertexDistZ[fPFParticleLabel] = pfpVertexZ[fPFParticleLabel] - nu.Vz();</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;          pfpVertexDistMag[fPFParticleLabel] =</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;              std::hypot(pfpVertexDistX[fPFParticleLabel], pfpVertexDistY[fPFParticleLabel],</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                         pfpVertexDistZ[fPFParticleLabel]);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        } <span class="comment">// nuMatchNeutrino</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      } <span class="comment">// pfpTruthSliceCounter</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="keywordflow">if</span> (fVerbose) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;PFParticleLabel: &quot;</span> &lt;&lt; fPFParticleLabel &lt;&lt; std::endl;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Nu Slices: &quot;</span> &lt;&lt; nuSlices[fPFParticleLabel]</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; and Nu Neutrinos: &quot;</span> &lt;&lt; nuNeutrinos[fPFParticleLabel]</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; with best Nu Pdg: &quot;</span> &lt;&lt; bestNuPdg[fPFParticleLabel]</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;\nCompleteness: &quot;</span> &lt;&lt; bestNuComp[fPFParticleLabel]</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; and purity: &quot;</span> &lt;&lt; bestNuPurity[fPFParticleLabel]</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; and score: &quot;</span> &lt;&lt; bestNuScore[fPFParticleLabel] &lt;&lt; std::endl;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      } <span class="comment">// fVerbose</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    } <span class="comment">// fPFParticleLabel: fPFParticleLabels</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    trueTree-&gt;Fill();</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  } <span class="comment">// truth: truthVec</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;} <span class="comment">// analyze</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div>
<div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a38f0bf3b6cc4067ef4d1f5627284fe3b">  523</a></span>&#160;std::map&lt;art::Ptr&lt;simb::MCTruth&gt;, <span class="keywordtype">int</span>&gt; <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a38f0bf3b6cc4067ef4d1f5627284fe3b">ana::PFPSliceValidation::GetTruthHitMap</a>(</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d0/dc3/classdetinfo_1_1DetectorClocksData.html">detinfo::DetectorClocksData</a> &amp;clockData, <span class="keyword">const</span> sim::ParticleList &amp;trueParticlesMap,</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keyword">const</span> std::map&lt;<span class="keywordtype">int</span>, art::Ptr&lt;simb::MCTruth&gt;&gt; &amp;particleTruthMap,</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/dfa/namespacelar_1_1dump.html#a71d4403edbac4d265176f8677118194f">std::vector</a>&lt;art::Ptr&lt;recob::Hit&gt;&gt; &amp;allHits) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="comment">// Create a map of true particles to number of hits</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  std::map&lt;int, int&gt; trueParticleHits;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a> : allHits) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordtype">int</span> trackID     = 0;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordtype">float</span> hitEnergy = 0;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="comment">// For each hit, chose the particle that contributed the most energy</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    std::vector&lt;sim::TrackIDE&gt; trackIDEs = bt_serv-&gt;HitToTrackIDEs(clockData, <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;ide : trackIDEs) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <span class="keywordflow">if</span> (ide.energy &gt; hitEnergy) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        hitEnergy = ide.energy;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        trackID   = <a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(ide.trackID);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      } <span class="comment">// ide.energy &gt; hitEnergy</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    } <span class="comment">// ide: trackIDEs</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    ++trueParticleHits[trackID];</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  } <span class="comment">// hit: allHits</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="comment">// Roll up the particles in their slices</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  std::map&lt;art::Ptr&lt;simb::MCTruth&gt;, <span class="keywordtype">int</span>&gt; truthHitMap;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;[trueParticle, truth] : particleTruthMap) {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    truthHitMap[truth] += trueParticleHits[trueParticle];</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  } <span class="comment">// [trueParticle, truth]: particleTruthMap</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="keywordflow">return</span> truthHitMap;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;} <span class="comment">// GetTruthHitMap</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div>
<div class="line"><a name="l00554"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a263880d33f8edab4f87daf3887564358">  554</a></span>&#160;art::Ptr&lt;simb::MCTruth&gt; <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a263880d33f8edab4f87daf3887564358">ana::PFPSliceValidation::GetSliceTruthMatchHits</a>(</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d0/dc3/classdetinfo_1_1DetectorClocksData.html">detinfo::DetectorClocksData</a> &amp;clockData,</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/dfa/namespacelar_1_1dump.html#a71d4403edbac4d265176f8677118194f">std::vector</a>&lt;art::Ptr&lt;recob::Hit&gt;&gt; &amp;sliceHits,</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keyword">const</span> std::map&lt;<span class="keywordtype">int</span>, art::Ptr&lt;simb::MCTruth&gt;&gt; &amp;particleTruthMap,</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keyword">const</span> std::map&lt;art::Ptr&lt;simb::MCTruth&gt;, <span class="keywordtype">int</span>&gt; &amp;truthHitMap, <span class="keywordtype">float</span> &amp;completeness, <span class="keywordtype">float</span> &amp;purity) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="comment">// Create a map of true particles to number of hits</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  std::map&lt;int, int&gt; trueParticleHits;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a> : sliceHits) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordtype">int</span> trackID     = 0;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordtype">float</span> hitEnergy = 0;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// For each hit, chose the particle that contributed the most energy</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    std::vector&lt;sim::TrackIDE&gt; trackIDEs = bt_serv-&gt;HitToTrackIDEs(clockData, <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;ide : trackIDEs) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <span class="keywordflow">if</span> (ide.energy &gt; hitEnergy) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        hitEnergy = ide.energy;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        trackID   = <a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(ide.trackID);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      } <span class="comment">// ide.energy &gt; hitEnergy</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    } <span class="comment">// ide: trackIDEs</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    ++trueParticleHits[trackID];</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  } <span class="comment">// hit: sliceHits</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="comment">// Roll up the particles in their slices</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  std::map&lt;art::Ptr&lt;simb::MCTruth&gt;, <span class="keywordtype">int</span>&gt; sliceTruthHitMap;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;[trueParticle, truth] : particleTruthMap) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    sliceTruthHitMap[truth] += trueParticleHits[trueParticle];</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  } <span class="comment">// [trueParticle, truth]: particleTruthMap</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="comment">// Choose the truth that contributed the most hits</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="keywordtype">int</span> maxHits = 0;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  art::Ptr&lt;simb::MCTruth&gt; bestTruthMatch;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;[truth, truthHits] : sliceTruthHitMap) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">if</span> (truthHits &gt; maxHits) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      maxHits        = truthHits;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      bestTruthMatch = truth;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    } <span class="comment">// truthHits &gt; maxHuts</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  } <span class="comment">// [truth, truthHits]: sliceTruthHitMap</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="comment">// If we have truth matched the slice, calculate purtity and completeness</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="comment">// Note these are passed by referecne</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keywordflow">if</span> (!bestTruthMatch.isNull()) {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    purity       = (float)maxHits / sliceHits.size();</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    completeness = (float)maxHits / truthHitMap.at(bestTruthMatch);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  } <span class="comment">// !bestTruthMatch.isNull()</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">return</span> bestTruthMatch;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;} <span class="comment">// GetSliceTruthMatchHits</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div>
<div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a1c5b695fed74bdaa85016279595a2721">  603</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a1c5b695fed74bdaa85016279595a2721">ana::PFPSliceValidation::ClearTrueTree</a>() {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  intType     = -999;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  CCNC        = -999;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  neutrinoPDG = -999;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  numProtons  = 0;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  numNeutrons = 0;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  numPi       = 0;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  numPi0      = 0;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  numTrueHits = 0;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  W           = -999;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <a class="code" href="../../d5/df9/find__global__symbol_8sh.html#ae2fcd9af85e9525dadab1ac2cb45a22d">X</a>           = -999;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  Y           = -999;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  QSqr        = -999;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  Pt          = -999;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  Theta       = -999;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  neutrinoE   = -999;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  leptonP     = -999;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  trueVertexX = -999;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  trueVertexY = -999;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  trueVertexZ = -999;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> fPFParticleLabel : fPFParticleLabels) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    nuMatchNeutrino[fPFParticleLabel] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    nuSlices[fPFParticleLabel]        = -99999;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    nuNeutrinos[fPFParticleLabel]     = -99999;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    bestNuPurity[fPFParticleLabel]    = -99999;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    bestNuComp[fPFParticleLabel]      = -99999;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    bestNuScore[fPFParticleLabel]     = -99999;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    bestNuPdg[fPFParticleLabel]       = -99999;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    pfpVertexX[fPFParticleLabel] = -99999;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    pfpVertexY[fPFParticleLabel] = -99999;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    pfpVertexZ[fPFParticleLabel] = -99999;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    pfpVertexDistX[fPFParticleLabel]   = -99999;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    pfpVertexDistY[fPFParticleLabel]   = -99999;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    pfpVertexDistZ[fPFParticleLabel]   = -99999;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    pfpVertexDistMag[fPFParticleLabel] = -99999;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  } <span class="comment">// fPFParticleLabel: fPFParticleLabels</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;} <span class="comment">// ClearTrueTree</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div>
<div class="line"><a name="l00647"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a84e46afffaa199f015c59c8fe9b94214">  647</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a84e46afffaa199f015c59c8fe9b94214">ana::PFPSliceValidation::ClearEventTree</a>() {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  eventTrueNeutrinos = -999;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> fPFParticleLabel : fPFParticleLabels) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    eventPFPNeutrinos[fPFParticleLabel] = -999;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    eventPFPSlices[fPFParticleLabel]    = -999;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    eventCosmicScores[fPFParticleLabel].clear();</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    eventNeutrinoScores[fPFParticleLabel].clear();</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  } <span class="comment">// fPFParticleLabel: fPFParticleLabels</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;} <span class="comment">// ClearEventTree</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><a name="l00658"></a><span class="lineno"><a class="line" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a82d7271716ec4a773b4c9ed0d9e11307">  658</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html#a82d7271716ec4a773b4c9ed0d9e11307">ana::PFPSliceValidation::initTree</a>(TTree *Tree, std::string branchName,</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                                       std::map&lt;std::string, T&gt; &amp;<a class="code" href="../../d6/db4/Solver_8cxx.html#a19d8f202216830672ccbd944969dd958">Metric</a>,</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                                       std::vector&lt;std::string&gt; fPFParticleLabels) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;fPFParticleLabel : fPFParticleLabels) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    std::string branchString = branchName + <span class="stringliteral">&quot;_&quot;</span> + fPFParticleLabel;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *branchChar   = branchString.c_str();</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    Tree-&gt;Branch(branchChar, &amp;Metric[fPFParticleLabel], 32000, 0);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  } <span class="comment">// fPFParticleLabel: fPFParticleLabels</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;} <span class="comment">// initTree</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;DEFINE_ART_MODULE(<a class="code" href="../../d3/d70/classana_1_1PFPSliceValidation.html">ana::PFPSliceValidation</a>)</div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a0c6868772ce51ba533c7e829ea9118ba"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a0c6868772ce51ba533c7e829ea9118ba">ana::PFPSliceValidation::Y</a></div><div class="ttdeci">float Y</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00146">PFPSliceValidation_module.cc:146</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_aafd8f43c8118176e75567fea63d8beeb"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#aafd8f43c8118176e75567fea63d8beeb">ana::PFPSliceValidation::fVerbose</a></div><div class="ttdeci">int fVerbose</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00122">PFPSliceValidation_module.cc:122</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a74de8ce35ad95f7d4befca9bbb1fa80e"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a74de8ce35ad95f7d4befca9bbb1fa80e">ana::PFPSliceValidation::beginJob</a></div><div class="ttdeci">void beginJob() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00161">PFPSliceValidation_module.cc:161</a></div></div>
<div class="ttc" id="cosmictagger_8fcl_html_a9816817880cad9de914dd1e3a94b6483"><div class="ttname"><a href="../../d9/dad/cosmictagger_8fcl.html#a9816817880cad9de914dd1e3a94b6483">ana</a></div><div class="ttdeci">process_name flashTrackMatchBezier ana</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dad/cosmictagger_8fcl_source.html#l00062">cosmictagger.fcl:62</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a306e8fa25ae1e08719493beb675a5010"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a306e8fa25ae1e08719493beb675a5010">ana::PFPSliceValidation::pfpVertexDistZ</a></div><div class="ttdeci">std::map&lt; std::string, float &gt; pfpVertexDistZ</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00151">PFPSliceValidation_module.cc:151</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a152bfa1ca08e37e2a21d84aec030e993"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a152bfa1ca08e37e2a21d84aec030e993">ana::PFPSliceValidation::fPFParticleLabels</a></div><div class="ttdeci">std::vector&lt; std::string &gt; fPFParticleLabels</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00125">PFPSliceValidation_module.cc:125</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a359f90b052e4a7d9f8e3c3922ebead4a"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a359f90b052e4a7d9f8e3c3922ebead4a">ana::PFPSliceValidation::particleInventory</a></div><div class="ttdeci">art::ServiceHandle&lt; cheat::ParticleInventoryService &gt; particleInventory</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00129">PFPSliceValidation_module.cc:129</a></div></div>
<div class="ttc" id="PFParticle_8h_html"><div class="ttname"><a href="../../d8/d5c/PFParticle_8h.html">PFParticle.h</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_abd8419739e44e51ff5ec729ba103debc"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#abd8419739e44e51ff5ec729ba103debc">ana::PFPSliceValidation::trueVertexY</a></div><div class="ttdeci">float trueVertexY</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00147">PFPSliceValidation_module.cc:147</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a975eb66234989041c2a11f5d4cf2f238"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a975eb66234989041c2a11f5d4cf2f238">ana::PFPSliceValidation::neutrinoPDG</a></div><div class="ttdeci">int neutrinoPDG</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00145">PFPSliceValidation_module.cc:145</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a82d7271716ec4a773b4c9ed0d9e11307"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a82d7271716ec4a773b4c9ed0d9e11307">ana::PFPSliceValidation::initTree</a></div><div class="ttdeci">void initTree(TTree *Tree, std::string branchName, std::map&lt; std::string, T &gt; &amp;Metric, std::vector&lt; std::string &gt; fPFParticleLabels)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00658">PFPSliceValidation_module.cc:658</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a639f98fc286fe3ec05dfe5b92aabdd70"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a639f98fc286fe3ec05dfe5b92aabdd70">ana::PFPSliceValidation::numNeutrons</a></div><div class="ttdeci">int numNeutrons</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00145">PFPSliceValidation_module.cc:145</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a2a791218bdb8f180a443e1066aade3eb"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a2a791218bdb8f180a443e1066aade3eb">ana::PFPSliceValidation::X</a></div><div class="ttdeci">float X</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00146">PFPSliceValidation_module.cc:146</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_afb9c56b4726436ff97d198ef27c66031"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#afb9c56b4726436ff97d198ef27c66031">ana::PFPSliceValidation::eventPFPSlices</a></div><div class="ttdeci">std::map&lt; std::string, int &gt; eventPFPSlices</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00136">PFPSliceValidation_module.cc:136</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a56d45d68565f231cefb417c127cb2916"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a56d45d68565f231cefb417c127cb2916">ana::PFPSliceValidation::eventTrueNeutrinos</a></div><div class="ttdeci">int eventTrueNeutrinos</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00135">PFPSliceValidation_module.cc:135</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_af3c26b36d1ea6f367702b607eacb50b5"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#af3c26b36d1ea6f367702b607eacb50b5">ana::PFPSliceValidation::fGenieGenModuleLabel</a></div><div class="ttdeci">std::string fGenieGenModuleLabel</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00124">PFPSliceValidation_module.cc:124</a></div></div>
<div class="ttc" id="Hit_8h_html"><div class="ttname"><a href="../../de/d26/Hit_8h.html">Hit.h</a></div><div class="ttdoc">Declaration of signal hit object. </div></div>
<div class="ttc" id="structana_1_1PFPSliceValidation_1_1SliceMatch_html_aff16f4e497fd4f99626b5402a93c5b89"><div class="ttname"><a href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#aff16f4e497fd4f99626b5402a93c5b89">ana::PFPSliceValidation::SliceMatch::mPurity</a></div><div class="ttdeci">float mPurity</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00113">PFPSliceValidation_module.cc:113</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_afebae97323dd5711d246c88004e9c401"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#afebae97323dd5711d246c88004e9c401">ana::PFPSliceValidation::CCNC</a></div><div class="ttdeci">int CCNC</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00145">PFPSliceValidation_module.cc:145</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a38f0bf3b6cc4067ef4d1f5627284fe3b"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a38f0bf3b6cc4067ef4d1f5627284fe3b">ana::PFPSliceValidation::GetTruthHitMap</a></div><div class="ttdeci">std::map&lt; art::Ptr&lt; simb::MCTruth &gt;, int &gt; GetTruthHitMap(const detinfo::DetectorClocksData &amp;clockData, const sim::ParticleList &amp;trueParticlesMap, const std::map&lt; int, art::Ptr&lt; simb::MCTruth &gt;&gt; &amp;particleTruthMap, const std::vector&lt; art::Ptr&lt; recob::Hit &gt;&gt; &amp;allHits)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00523">PFPSliceValidation_module.cc:523</a></div></div>
<div class="ttc" id="classlarpandoraobj_1_1PFParticleMetadata_html_a99fc8e184c43a202f5a3516d0006ae6b"><div class="ttname"><a href="../../d6/de5/classlarpandoraobj_1_1PFParticleMetadata.html#a99fc8e184c43a202f5a3516d0006ae6b">larpandoraobj::PFParticleMetadata::PropertiesMap</a></div><div class="ttdeci">std::map&lt; std::string, float &gt; PropertiesMap</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/PFParticleMetadata_8h_source.html#l00033">PFParticleMetadata.h:33</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a53aa53567feab8862a4db42921b7d9be"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a53aa53567feab8862a4db42921b7d9be">ana::PFPSliceValidation::bt_serv</a></div><div class="ttdeci">art::ServiceHandle&lt; cheat::BackTrackerService &gt; bt_serv</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00128">PFPSliceValidation_module.cc:128</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_ab1a86c688f4d9101d356ca44dee47670"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#ab1a86c688f4d9101d356ca44dee47670">ana::PFPSliceValidation::pfpVertexDistX</a></div><div class="ttdeci">std::map&lt; std::string, float &gt; pfpVertexDistX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00151">PFPSliceValidation_module.cc:151</a></div></div>
<div class="ttc" id="BackTrackerService_8h_html"><div class="ttname"><a href="../../d8/d01/BackTrackerService_8h.html">BackTrackerService.h</a></div></div>
<div class="ttc" id="cheaterreco_8fcl_html_abf2e819dbf4c327e098bebd4b2dc0597"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a></div><div class="ttdeci">process_name hit</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a3b1f4bd428c96692f2a3d82b6234fc67"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a3b1f4bd428c96692f2a3d82b6234fc67">ana::PFPSliceValidation::QSqr</a></div><div class="ttdeci">float QSqr</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00146">PFPSliceValidation_module.cc:146</a></div></div>
<div class="ttc" id="find__global__symbol_8sh_html_ae2fcd9af85e9525dadab1ac2cb45a22d"><div class="ttname"><a href="../../d5/df9/find__global__symbol_8sh.html#ae2fcd9af85e9525dadab1ac2cb45a22d">X</a></div><div class="ttdeci">then echo echo For and will not be changed by echo further linking echo echo B echo The symbol is in the uninitialized data multiple common symbols may appear with the echo same name If the symbol is defined the common echo symbols are treated as undefined references For more echo details on common see the discussion of warn common echo in *Note Linker see the discussion of warn common echo in *Note Linker such as a global int variable echo as opposed to a large global array echo echo I echo The symbol is an indirect reference to another symbol This echo is a GNU extension to the a out object file format which is echo rarely used echo echo N echo The symbol is a debugging symbol echo echo R echo The symbol is in a read only data section echo echo S echo The symbol is in an uninitialized data section for small echo objects echo echo T echo The symbol is in the the normal defined echo symbol is used with no error When a weak undefined symbol echo is linked and the symbol is not the value of the echo weak symbol becomes zero with no error echo echo W echo The symbol is a weak symbol that has not been specifically echo tagged as a weak object symbol When a weak defined symbol echo is linked with a normal defined the normal defined echo symbol is used with no error When a weak undefined symbol echo is linked and the symbol is not the value of the echo weak symbol becomes zero with no error echo echo echo The symbol is a stabs symbol in an a out object file In echo this the next values printed are the stabs other echo the stabs desc and the stab type Stabs symbols are echo used to hold debugging information For more echo see *Note or object file format specific echo echo For Mac OS X</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df9/find__global__symbol_8sh_source.html#l00107">find_global_symbol.sh:107</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a60eab150e176ded434c5ad4becfdde00"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a60eab150e176ded434c5ad4becfdde00">ana::PFPSliceValidation::eventNeutrinoScores</a></div><div class="ttdeci">std::map&lt; std::string, std::vector&lt; float &gt; &gt; eventNeutrinoScores</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00137">PFPSliceValidation_module.cc:137</a></div></div>
<div class="ttc" id="structana_1_1PFPSliceValidation_1_1SliceMatch_html_a05d9f5ff974013325902b252ed516dfa"><div class="ttname"><a href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a05d9f5ff974013325902b252ed516dfa">ana::PFPSliceValidation::SliceMatch::SliceMatch</a></div><div class="ttdeci">SliceMatch(int recoId, int recoPdg, float comp, float purity, float nuScore, double vtx[3])</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00102">PFPSliceValidation_module.cc:102</a></div></div>
<div class="ttc" id="PFParticleMetadata_8h_html"><div class="ttname"><a href="../../dd/ddb/PFParticleMetadata_8h.html">PFParticleMetadata.h</a></div></div>
<div class="ttc" id="ParticleInventoryService_8h_html"><div class="ttname"><a href="../../dd/d59/ParticleInventoryService_8h.html">ParticleInventoryService.h</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a39885524d5e1db6e4a75215f8df375af"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a39885524d5e1db6e4a75215f8df375af">ana::PFPSliceValidation::trueVertexX</a></div><div class="ttdeci">float trueVertexX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00147">PFPSliceValidation_module.cc:147</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a263880d33f8edab4f87daf3887564358"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a263880d33f8edab4f87daf3887564358">ana::PFPSliceValidation::GetSliceTruthMatchHits</a></div><div class="ttdeci">art::Ptr&lt; simb::MCTruth &gt; GetSliceTruthMatchHits(const detinfo::DetectorClocksData &amp;clockData, const std::vector&lt; art::Ptr&lt; recob::Hit &gt;&gt; &amp;sliceHits, const std::map&lt; int, art::Ptr&lt; simb::MCTruth &gt;&gt; &amp;particleTruthMap, const std::map&lt; art::Ptr&lt; simb::MCTruth &gt;, int &gt; &amp;truthHitMap, float &amp;completeness, float &amp;purity)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00554">PFPSliceValidation_module.cc:554</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a63cbd10488dee397af867531d415b55d"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a63cbd10488dee397af867531d415b55d">ana::PFPSliceValidation::analyze</a></div><div class="ttdeci">void analyze(art::Event const &amp;evt) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00214">PFPSliceValidation_module.cc:214</a></div></div>
<div class="ttc" id="namespacelar_1_1dump_html_a71d4403edbac4d265176f8677118194f"><div class="ttname"><a href="../../db/dfa/namespacelar_1_1dump.html#a71d4403edbac4d265176f8677118194f">lar::dump::vector</a></div><div class="ttdeci">auto vector(Vector const &amp;v)</div><div class="ttdoc">Returns a manipulator which will print the specified array. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da9/DumpUtils_8h_source.html#l00265">DumpUtils.h:265</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a31aa4093883db4a07ee9f12033133355"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a31aa4093883db4a07ee9f12033133355">ana::PFPSliceValidation::bestNuPurity</a></div><div class="ttdeci">std::map&lt; std::string, float &gt; bestNuPurity</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00142">PFPSliceValidation_module.cc:142</a></div></div>
<div class="ttc" id="sparse__vector__test_8cc_html_a39f16bf854ba527dee7eba5bbbd93f3f"><div class="ttname"><a href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a></div><div class="ttdeci">T abs(T value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d59/sparse__vector__test_8cc_source.html#l00030">sparse_vector_test.cc:30</a></div></div>
<div class="ttc" id="structana_1_1PFPSliceValidation_1_1SliceMatch_html_ae3eba245ed486b29792794246a395d7b"><div class="ttname"><a href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#ae3eba245ed486b29792794246a395d7b">ana::PFPSliceValidation::SliceMatch::SliceMatch</a></div><div class="ttdeci">SliceMatch()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00092">PFPSliceValidation_module.cc:92</a></div></div>
<div class="ttc" id="structana_1_1PFPSliceValidation_1_1SliceMatch_html_a8e469bb04844422e810cf68413f23f34"><div class="ttname"><a href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a8e469bb04844422e810cf68413f23f34">ana::PFPSliceValidation::SliceMatch::mVtxX</a></div><div class="ttdeci">float mVtxX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00114">PFPSliceValidation_module.cc:114</a></div></div>
<div class="ttc" id="structana_1_1PFPSliceValidation_1_1SliceMatch_html_aa80563c904d537401938cbf499a9303a"><div class="ttname"><a href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#aa80563c904d537401938cbf499a9303a">ana::PFPSliceValidation::SliceMatch::mVtxZ</a></div><div class="ttdeci">float mVtxZ</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00114">PFPSliceValidation_module.cc:114</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html">ana::PFPSliceValidation</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00047">PFPSliceValidation_module.cc:47</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a0bdab787d72f5a2b140de46f1daf9942"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a0bdab787d72f5a2b140de46f1daf9942">ana::PFPSliceValidation::Pt</a></div><div class="ttdeci">float Pt</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00146">PFPSliceValidation_module.cc:146</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_af82781a587cbed3b63b583b619730aaa"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#af82781a587cbed3b63b583b619730aaa">ana::PFPSliceValidation::eventTree</a></div><div class="ttdeci">TTree * eventTree</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00131">PFPSliceValidation_module.cc:131</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a0638024158cafc824fbb6fa0580b5963"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a0638024158cafc824fbb6fa0580b5963">ana::PFPSliceValidation::eventCosmicScores</a></div><div class="ttdeci">std::map&lt; std::string, std::vector&lt; float &gt; &gt; eventCosmicScores</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00137">PFPSliceValidation_module.cc:137</a></div></div>
<div class="ttc" id="structana_1_1PFPSliceValidation_1_1SliceMatch_html_a024167fbfc94e97162f4561466e23838"><div class="ttname"><a href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a024167fbfc94e97162f4561466e23838">ana::PFPSliceValidation::SliceMatch::mRecoPdg</a></div><div class="ttdeci">int mRecoPdg</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00110">PFPSliceValidation_module.cc:110</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a9e7ae9028b7d657d0185307ae896db62"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a9e7ae9028b7d657d0185307ae896db62">ana::PFPSliceValidation::numPi</a></div><div class="ttdeci">int numPi</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00145">PFPSliceValidation_module.cc:145</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a84e46afffaa199f015c59c8fe9b94214"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a84e46afffaa199f015c59c8fe9b94214">ana::PFPSliceValidation::ClearEventTree</a></div><div class="ttdeci">void ClearEventTree()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00647">PFPSliceValidation_module.cc:647</a></div></div>
<div class="ttc" id="Solver_8cxx_html_a19d8f202216830672ccbd944969dd958"><div class="ttname"><a href="../../d6/db4/Solver_8cxx.html#a19d8f202216830672ccbd944969dd958">Metric</a></div><div class="ttdeci">double Metric(double q, double p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/Solver_8cxx_source.html#l00071">Solver.cxx:71</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a7b028c8ba4af3d7edb43bcfc4021931e"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a7b028c8ba4af3d7edb43bcfc4021931e">ana::PFPSliceValidation::trueTree</a></div><div class="ttdeci">TTree * trueTree</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00132">PFPSliceValidation_module.cc:132</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_ab339c914d1055caaaa2653cd3de428d5"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#ab339c914d1055caaaa2653cd3de428d5">ana::PFPSliceValidation::pfpVertexDistMag</a></div><div class="ttdeci">std::map&lt; std::string, float &gt; pfpVertexDistMag</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00151">PFPSliceValidation_module.cc:151</a></div></div>
<div class="ttc" id="structana_1_1PFPSliceValidation_1_1SliceMatch_html_a6fd31032f7f5c0aa8d6263b9cbc25d9d"><div class="ttname"><a href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a6fd31032f7f5c0aa8d6263b9cbc25d9d">ana::PFPSliceValidation::SliceMatch::mVtxY</a></div><div class="ttdeci">float mVtxY</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00114">PFPSliceValidation_module.cc:114</a></div></div>
<div class="ttc" id="Cluster_8h_html"><div class="ttname"><a href="../../d8/d77/Cluster_8h.html">Cluster.h</a></div><div class="ttdoc">Declaration of cluster object. </div></div>
<div class="ttc" id="Vertex_8h_html"><div class="ttname"><a href="../../d9/d2d/Vertex_8h.html">Vertex.h</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_ab47bb67b933370473a6a3ad1c6943896"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#ab47bb67b933370473a6a3ad1c6943896">ana::PFPSliceValidation::tfs</a></div><div class="ttdeci">art::ServiceHandle&lt; art::TFileService &gt; tfs</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00127">PFPSliceValidation_module.cc:127</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_af086492a007a5d69d1cd884dffd1f244"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#af086492a007a5d69d1cd884dffd1f244">ana::PFPSliceValidation::nuNeutrinos</a></div><div class="ttdeci">std::map&lt; std::string, int &gt; nuNeutrinos</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00141">PFPSliceValidation_module.cc:141</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_ad6d7e681c48a6862cae9235136253159"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#ad6d7e681c48a6862cae9235136253159">ana::PFPSliceValidation::pfpVertexDistY</a></div><div class="ttdeci">std::map&lt; std::string, float &gt; pfpVertexDistY</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00151">PFPSliceValidation_module.cc:151</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a581ef63a9e582f57999874600e69d8b7"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a581ef63a9e582f57999874600e69d8b7">ana::PFPSliceValidation::W</a></div><div class="ttdeci">float W</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00146">PFPSliceValidation_module.cc:146</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_ab770aad6b8192db2ad668855ddb1ac35"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#ab770aad6b8192db2ad668855ddb1ac35">ana::PFPSliceValidation::bestNuComp</a></div><div class="ttdeci">std::map&lt; std::string, float &gt; bestNuComp</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00142">PFPSliceValidation_module.cc:142</a></div></div>
<div class="ttc" id="structana_1_1PFPSliceValidation_1_1SliceMatch_html"><div class="ttname"><a href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html">ana::PFPSliceValidation::SliceMatch</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00089">PFPSliceValidation_module.cc:89</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_af0271e0b0c9325d183a9138002056c43"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#af0271e0b0c9325d183a9138002056c43">ana::PFPSliceValidation::neutrinoE</a></div><div class="ttdeci">float neutrinoE</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00146">PFPSliceValidation_module.cc:146</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_aa3d97eeee8bc8ca898873c35cc3014cd"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#aa3d97eeee8bc8ca898873c35cc3014cd">ana::PFPSliceValidation::pfpVertexZ</a></div><div class="ttdeci">std::map&lt; std::string, float &gt; pfpVertexZ</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00150">PFPSliceValidation_module.cc:150</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_adbab752ed65629513e29d2ef8af66ab7"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#adbab752ed65629513e29d2ef8af66ab7">ana::PFPSliceValidation::nuMatchNeutrino</a></div><div class="ttdeci">std::map&lt; std::string, bool &gt; nuMatchNeutrino</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00140">PFPSliceValidation_module.cc:140</a></div></div>
<div class="ttc" id="structana_1_1PFPSliceValidation_1_1SliceMatch_html_a202cfadcea996c50d7ce882ef798b170"><div class="ttname"><a href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a202cfadcea996c50d7ce882ef798b170">ana::PFPSliceValidation::SliceMatch::mComp</a></div><div class="ttdeci">float mComp</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00113">PFPSliceValidation_module.cc:113</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a077f6bbd769297d55adabe877567b23a"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a077f6bbd769297d55adabe877567b23a">ana::PFPSliceValidation::bestNuScore</a></div><div class="ttdeci">std::map&lt; std::string, float &gt; bestNuScore</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00142">PFPSliceValidation_module.cc:142</a></div></div>
<div class="ttc" id="classdetinfo_1_1DetectorClocksData_html"><div class="ttname"><a href="../../d0/dc3/classdetinfo_1_1DetectorClocksData.html">detinfo::DetectorClocksData</a></div><div class="ttdoc">Contains all timing reference information for the detector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5b/DetectorClocksData_8h_source.html#l00283">DetectorClocksData.h:283</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_ab3f69446ce2d7cc08dc48ad2042a66b7"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#ab3f69446ce2d7cc08dc48ad2042a66b7">ana::PFPSliceValidation::nuSlices</a></div><div class="ttdeci">std::map&lt; std::string, int &gt; nuSlices</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00141">PFPSliceValidation_module.cc:141</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a88b55b816883b709ee9b71d7807ec135"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a88b55b816883b709ee9b71d7807ec135">ana::PFPSliceValidation::PFPSliceValidation</a></div><div class="ttdeci">PFPSliceValidation(fhicl::ParameterSet const &amp;pset)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00154">PFPSliceValidation_module.cc:154</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a9fc1c4e3c458d41d94172aa8fa1ac09d"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a9fc1c4e3c458d41d94172aa8fa1ac09d">ana::PFPSliceValidation::pfpVertexX</a></div><div class="ttdeci">std::map&lt; std::string, float &gt; pfpVertexX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00150">PFPSliceValidation_module.cc:150</a></div></div>
<div class="ttc" id="SimChannel_8h_html"><div class="ttname"><a href="../../d6/dde/SimChannel_8h.html">SimChannel.h</a></div><div class="ttdoc">object containing MC truth information necessary for making RawDigits and doing back tracking ...</div></div>
<div class="ttc" id="DetectorClocksService_8h_html"><div class="ttname"><a href="../../d3/dba/DetectorClocksService_8h.html">DetectorClocksService.h</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_ad4585573130ba45fce471bf66197bd40"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#ad4585573130ba45fce471bf66197bd40">ana::PFPSliceValidation::leptonP</a></div><div class="ttdeci">float leptonP</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00146">PFPSliceValidation_module.cc:146</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a0f9655011531cb8f0fa521d1444341cf"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a0f9655011531cb8f0fa521d1444341cf">ana::PFPSliceValidation::trueVertexZ</a></div><div class="ttdeci">float trueVertexZ</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00147">PFPSliceValidation_module.cc:147</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a186ee9d8ce21915881afe577fb74d826"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a186ee9d8ce21915881afe577fb74d826">ana::PFPSliceValidation::numTrueHits</a></div><div class="ttdeci">int numTrueHits</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00145">PFPSliceValidation_module.cc:145</a></div></div>
<div class="ttc" id="NuVertexChargeTree__module_8cc_html_aa8ae0901ab0cec47d6c9bf9c22af764f"><div class="ttname"><a href="../../dd/d33/NuVertexChargeTree__module_8cc.html#aa8ae0901ab0cec47d6c9bf9c22af764f">tfs</a></div><div class="ttdeci">art::ServiceHandle&lt; art::TFileService &gt; tfs</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d33/NuVertexChargeTree__module_8cc_source.html#l00254">NuVertexChargeTree_module.cc:254</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a80e81db5f9262f16cb71cc29b3302fe1"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a80e81db5f9262f16cb71cc29b3302fe1">ana::PFPSliceValidation::operator=</a></div><div class="ttdeci">PFPSliceValidation &amp; operator=(PFPSliceValidation const &amp;)=delete</div></div>
<div class="ttc" id="namespacetca_html_a3bc30aeace71ea50324b602afa2155f2"><div class="ttname"><a href="../../de/d0f/namespacetca.html#a3bc30aeace71ea50324b602afa2155f2">tca::evt</a></div><div class="ttdeci">TCEvent evt</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/DataStructs_8cxx_source.html#l00008">DataStructs.cxx:8</a></div></div>
<div class="ttc" id="structana_1_1PFPSliceValidation_1_1SliceMatch_html_af232591cb8472b42c4fa9cc2421f9f95"><div class="ttname"><a href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#af232591cb8472b42c4fa9cc2421f9f95">ana::PFPSliceValidation::SliceMatch::mNuScore</a></div><div class="ttdeci">float mNuScore</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00113">PFPSliceValidation_module.cc:113</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a069ab25906960a8032d19591adf170ce"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a069ab25906960a8032d19591adf170ce">ana::PFPSliceValidation::pfpVertexY</a></div><div class="ttdeci">std::map&lt; std::string, float &gt; pfpVertexY</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00150">PFPSliceValidation_module.cc:150</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a4c6bc63c36f69395d3c49c8b85215491"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a4c6bc63c36f69395d3c49c8b85215491">ana::PFPSliceValidation::numProtons</a></div><div class="ttdeci">int numProtons</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00145">PFPSliceValidation_module.cc:145</a></div></div>
<div class="ttc" id="lardataobj_2lardataobj_2RecoBase_2Slice_8h_html"><div class="ttname"><a href="../../d3/dc8/lardataobj_2lardataobj_2RecoBase_2Slice_8h.html">Slice.h</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a2053f7ecb288b1319a425ee7840935f1"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a2053f7ecb288b1319a425ee7840935f1">ana::PFPSliceValidation::intType</a></div><div class="ttdeci">int intType</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00145">PFPSliceValidation_module.cc:145</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a1c5b695fed74bdaa85016279595a2721"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a1c5b695fed74bdaa85016279595a2721">ana::PFPSliceValidation::ClearTrueTree</a></div><div class="ttdeci">void ClearTrueTree()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00603">PFPSliceValidation_module.cc:603</a></div></div>
<div class="ttc" id="clustermodules_8fcl_html_a56870c2f2bb7bcf949940e27803969ad"><div class="ttname"><a href="../../d0/ddd/clustermodules_8fcl.html#a56870c2f2bb7bcf949940e27803969ad">nu</a></div><div class="ttdeci">BEGIN_PROLOG SN nu</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/clustermodules_8fcl_source.html#l00121">clustermodules.fcl:121</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_ab4077db3095892c14f3867d030ec1aea"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#ab4077db3095892c14f3867d030ec1aea">ana::PFPSliceValidation::Theta</a></div><div class="ttdeci">float Theta</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00146">PFPSliceValidation_module.cc:146</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a2dfe2732034025ab72ee1d4c46b84750"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a2dfe2732034025ab72ee1d4c46b84750">ana::PFPSliceValidation::eventPFPNeutrinos</a></div><div class="ttdeci">std::map&lt; std::string, int &gt; eventPFPNeutrinos</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00136">PFPSliceValidation_module.cc:136</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a386491bbc7ac65a66a55d40977293ec3"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a386491bbc7ac65a66a55d40977293ec3">ana::PFPSliceValidation::fHitLabel</a></div><div class="ttdeci">std::string fHitLabel</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00124">PFPSliceValidation_module.cc:124</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_affcf08a888a6df246f87508ff1d86f76"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#affcf08a888a6df246f87508ff1d86f76">ana::PFPSliceValidation::numPi0</a></div><div class="ttdeci">int numPi0</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00145">PFPSliceValidation_module.cc:145</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="classana_1_1PFPSliceValidation_html_a4d0882aa909bd32fa36657f460fba8fe"><div class="ttname"><a href="../../d3/d70/classana_1_1PFPSliceValidation.html#a4d0882aa909bd32fa36657f460fba8fe">ana::PFPSliceValidation::bestNuPdg</a></div><div class="ttdeci">std::map&lt; std::string, int &gt; bestNuPdg</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00141">PFPSliceValidation_module.cc:141</a></div></div>
<div class="ttc" id="structana_1_1PFPSliceValidation_1_1SliceMatch_html_a06c82d872bfe8a870f3e874ab5c803f7"><div class="ttname"><a href="../../d3/d1c/structana_1_1PFPSliceValidation_1_1SliceMatch.html#a06c82d872bfe8a870f3e874ab5c803f7">ana::PFPSliceValidation::SliceMatch::mRecoId</a></div><div class="ttdeci">int mRecoId</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/PFPSliceValidation__module_8cc_source.html#l00110">PFPSliceValidation_module.cc:110</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
