<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ReweightableSpectrum.cxx Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b73b02d482d1c4a3db20c3d9ad52d395.html">srcs</a></li><li class="navelem"><a class="el" href="../../dir_607631e62e9a0bd3594c73aa619e3f2e.html">sbnana</a></li><li class="navelem"><a class="el" href="../../dir_a5c37560a791aae8879036327be57c99.html">sbnana</a></li><li class="navelem"><a class="el" href="../../dir_305f101192e33e865c4c8e0d3c5c3dd2.html">CAFAna</a></li><li class="navelem"><a class="el" href="../../dir_e65d9b379afc30ebd7d245d03b22895f.html">Core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ReweightableSpectrum.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../db/dc3/ReweightableSpectrum_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d7d/ReweightableSpectrum_8h.html">sbnana/CAFAna/Core/ReweightableSpectrum.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/de8/Binning_8h.html">sbnana/CAFAna/Core/Binning.h</a>&quot;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/dbc/HistCache_8h.html">sbnana/CAFAna/Core/HistCache.h</a>&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d68/Ratio_8h.html">sbnana/CAFAna/Core/Ratio.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/daf/Var_8h.html">sbnana/CAFAna/Core/Var.h</a>&quot;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/dc5/SpectrumLoaderBase_8h.html">sbnana/CAFAna/Core/SpectrumLoaderBase.h</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d84/sbnana_2sbnana_2CAFAna_2Core_2Utilities_8h.html">sbnana/CAFAna/Core/Utilities.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;TDirectory.h&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;TH2.h&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;TObjString.h&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../df/d54/stage0__icarus__light__only_8fcl.html#ac04187abfdbfa2cc78bb41f06b1da586">ana</a></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;{</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a3f1cae3e5f6c1d992c319c4924c0afbc">   21</a></span>&#160;  <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a3f1cae3e5f6c1d992c319c4924c0afbc">ReweightableSpectrum::ReweightableSpectrum</a>(<a class="code" href="../../d0/dcf/classana_1_1SpectrumLoaderBase.html">SpectrumLoaderBase</a>&amp; <a class="code" href="../../d2/d0d/namespacedemo.html#a4462a16db75dad4793e553ede0807948">loader</a>,</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="../../d9/d33/classana_1_1__HistAxis.html">HistAxis</a>&amp; recoAxis,</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="../../d9/d33/classana_1_1__HistAxis.html">HistAxis</a>&amp; trueAxis,</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="../../dd/dce/classana_1_1__Cut.html">Cut</a>&amp; cut,</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="../../de/d09/classana_1_1SystShifts.html">SystShifts</a>&amp; <a class="code" href="../../db/ddd/fcl__checks_8sh.html#ab3c44a76dd678c93affe68a1f8a980ab">shift</a>,</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="../../d9/dc8/classana_1_1__Var.html">Var</a>&amp; wei)</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    : <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html">ReweightableSpectrum</a>(loader, recoAxis, trueAxis, <a class="code" href="../../d7/d63/namespaceana.html#abcc5e4e7bc5179b9dc655aa0641082e6">kNoSpillCut</a>, cut, shift, wei)</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  }</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#af3663eb7b2b6d7f3f558f18185199c87">   32</a></span>&#160;  <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a3f1cae3e5f6c1d992c319c4924c0afbc">ReweightableSpectrum::ReweightableSpectrum</a>(<a class="code" href="../../d0/dcf/classana_1_1SpectrumLoaderBase.html">SpectrumLoaderBase</a>&amp; <a class="code" href="../../d2/d0d/namespacedemo.html#a4462a16db75dad4793e553ede0807948">loader</a>,</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="../../d9/d33/classana_1_1__HistAxis.html">HistAxis</a>&amp; recoAxis,</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="../../d9/d33/classana_1_1__HistAxis.html">HistAxis</a>&amp; trueAxis,</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="../../dd/dce/classana_1_1__Cut.html">SpillCut</a>&amp; spillcut,</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="../../dd/dce/classana_1_1__Cut.html">SliceCut</a>&amp; slicecut,</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="../../de/d09/classana_1_1SystShifts.html">SystShifts</a>&amp; <a class="code" href="../../db/ddd/fcl__checks_8sh.html#ab3c44a76dd678c93affe68a1f8a980ab">shift</a>,</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="../../d9/dc8/classana_1_1__Var.html">Var</a>&amp; wei)</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    : <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html">ReweightableSpectrum</a>(recoAxis.GetLabels(), recoAxis.GetBinnings(),</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                           trueAxis.GetVars()[0])</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    assert(trueAxis.<a class="code" href="../../d9/d33/classana_1_1__HistAxis.html#aa095f75b14d97e30a242f42b861fed61">NDimensions</a>() == 1);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa7fc65d3873e3fb0d050a1d7d0c82b55">fTrueLabel</a> = trueAxis.<a class="code" href="../../d9/d33/classana_1_1__HistAxis.html#a118e4ba7e7eafe6a1fdb742c7cffdc1a">GetLabels</a>()[0];</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="../../df/dc0/classana_1_1DontAddDirectory.html">DontAddDirectory</a> guard;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="comment">// Can&#39;t use HistCache here because y-axis is not necessarily</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="comment">// TrueEnergyBinning. TODO - that should maybe be generalized.</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keyword">const</span> std::string <a class="code" href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh.html#a19dd16849ed641adb2aff777fdc4bd8b">name</a> = <a class="code" href="../../d7/d63/namespaceana.html#a9a10d1a70c4431c5ae2a504612a15e7b">UniqueName</a>();</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="../../db/d55/classana_1_1Binning.html">Binning</a> xbins = <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa1e03138bd3e4f31366964837d567c92">fBins</a>[0];</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa1e03138bd3e4f31366964837d567c92">fBins</a>.size() &gt; 1){</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="../../d4/d43/namespacechannelDBConverter.html#ab6cfbbcbb53c275375289d47dec67f46">n</a> = 1;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <span class="keywordflow">for</span>(<span class="keyword">const</span> <a class="code" href="../../db/d55/classana_1_1Binning.html">Binning</a>&amp; b: <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa1e03138bd3e4f31366964837d567c92">fBins</a>) n *= b.NBins();</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      xbins = <a class="code" href="../../db/d55/classana_1_1Binning.html#a49232ae4c5fbeb4d9fda4c632c1a4136">Binning::Simple</a>(n, 0, n);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/d55/classana_1_1Binning.html">Binning</a> ybins = trueAxis.<a class="code" href="../../d9/d33/classana_1_1__HistAxis.html#abd3a7f569afd112b456059575e66780c">GetBinnings</a>()[0];</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">// Ugh combinatorics</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">if</span>(xbins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a76f0bf9defe4e2fc4d860ad542a7882d">IsSimple</a>() &amp;&amp; ybins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a76f0bf9defe4e2fc4d860ad542a7882d">IsSimple</a>())</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a> =  <span class="keyword">new</span> TH2D(name.c_str(), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                        xbins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a46a2605ebc39ef76eb54e773a719b3d7">NBins</a>(), xbins.<a class="code" href="../../db/d55/classana_1_1Binning.html#acd996d27688bddcb9a9e4875b91aee56">Min</a>(), xbins.<a class="code" href="../../db/d55/classana_1_1Binning.html#aceda8d431768143a574a16860f82918b">Max</a>(),</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                        ybins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a46a2605ebc39ef76eb54e773a719b3d7">NBins</a>(), ybins.<a class="code" href="../../db/d55/classana_1_1Binning.html#acd996d27688bddcb9a9e4875b91aee56">Min</a>(), ybins.<a class="code" href="../../db/d55/classana_1_1Binning.html#aceda8d431768143a574a16860f82918b">Max</a>());</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">if</span>(xbins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a76f0bf9defe4e2fc4d860ad542a7882d">IsSimple</a>() &amp;&amp; !ybins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a76f0bf9defe4e2fc4d860ad542a7882d">IsSimple</a>())</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a> =  <span class="keyword">new</span> TH2D(name.c_str(), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                        xbins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a46a2605ebc39ef76eb54e773a719b3d7">NBins</a>(), xbins.<a class="code" href="../../db/d55/classana_1_1Binning.html#acd996d27688bddcb9a9e4875b91aee56">Min</a>(), xbins.<a class="code" href="../../db/d55/classana_1_1Binning.html#aceda8d431768143a574a16860f82918b">Max</a>(),</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                        ybins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a46a2605ebc39ef76eb54e773a719b3d7">NBins</a>(), &amp;ybins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a51698e99916bdf33e6284dd9a5f7e4b4">Edges</a>()[0]);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">if</span>(!xbins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a76f0bf9defe4e2fc4d860ad542a7882d">IsSimple</a>() &amp;&amp; ybins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a76f0bf9defe4e2fc4d860ad542a7882d">IsSimple</a>())</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a> =  <span class="keyword">new</span> TH2D(name.c_str(), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                        xbins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a46a2605ebc39ef76eb54e773a719b3d7">NBins</a>(), &amp;xbins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a51698e99916bdf33e6284dd9a5f7e4b4">Edges</a>()[0],</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                        ybins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a46a2605ebc39ef76eb54e773a719b3d7">NBins</a>(), ybins.<a class="code" href="../../db/d55/classana_1_1Binning.html#acd996d27688bddcb9a9e4875b91aee56">Min</a>(), ybins.<a class="code" href="../../db/d55/classana_1_1Binning.html#aceda8d431768143a574a16860f82918b">Max</a>());</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">if</span>(!xbins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a76f0bf9defe4e2fc4d860ad542a7882d">IsSimple</a>() &amp;&amp; !ybins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a76f0bf9defe4e2fc4d860ad542a7882d">IsSimple</a>())</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a> =  <span class="keyword">new</span> TH2D(name.c_str(), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                        xbins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a46a2605ebc39ef76eb54e773a719b3d7">NBins</a>(), &amp;xbins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a51698e99916bdf33e6284dd9a5f7e4b4">Edges</a>()[0],</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                        ybins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a46a2605ebc39ef76eb54e773a719b3d7">NBins</a>(), &amp;ybins.<a class="code" href="../../db/d55/classana_1_1Binning.html#a51698e99916bdf33e6284dd9a5f7e4b4">Edges</a>()[0]);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    loader.<a class="code" href="../../d0/dcf/classana_1_1SpectrumLoaderBase.html#a218d1fce550afa6e7f1db592af266f88">AddReweightableSpectrum</a>(*<span class="keyword">this</span>, recoAxis.<a class="code" href="../../d9/d33/classana_1_1__HistAxis.html#a3a8b1bf5892015314d610df0ebc9be8c">GetMultiDVar</a>(), spillcut, slicecut, <a class="code" href="../../db/ddd/fcl__checks_8sh.html#ab3c44a76dd678c93affe68a1f8a980ab">shift</a>, wei);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a6ce573f1bf88f499154ac3e1d1b12e44">   88</a></span>&#160;  <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a3f1cae3e5f6c1d992c319c4924c0afbc">ReweightableSpectrum::ReweightableSpectrum</a>(<span class="keyword">const</span> <a class="code" href="../../d9/dc8/classana_1_1__Var.html">Var</a>&amp; rwVar,</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                             <span class="keyword">const</span> std::string&amp; xlabel, <span class="keyword">const</span> std::string&amp; ylabel,</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                                             <span class="keywordtype">double</span> pot,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                                             <span class="keywordtype">int</span> nbinsx, <span class="keywordtype">double</span> <a class="code" href="../../d4/d48/run__vertexcharge__icarus_8fcl.html#a0bb005bed46cb3379a0703e7b92b23c5">xmin</a>, <span class="keywordtype">double</span> xmax,</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                             <span class="keywordtype">int</span> nbinsy, <span class="keywordtype">double</span> ymin, <span class="keywordtype">double</span> ymax)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    : <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html">ReweightableSpectrum</a>(xlabel,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                           <a class="code" href="../../db/d55/classana_1_1Binning.html">Binning</a>::Simple(nbinsx, xmin, xmax),</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                           rwVar)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="../../df/dc0/classana_1_1DontAddDirectory.html">DontAddDirectory</a> guard;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a> = <span class="keyword">new</span> TH2D(<a class="code" href="../../d7/d63/namespaceana.html#a9a10d1a70c4431c5ae2a504612a15e7b">UniqueName</a>().c_str(), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                     nbinsx, xmin, xmax, nbinsy, ymin, ymax);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa7fc65d3873e3fb0d050a1d7d0c82b55">fTrueLabel</a> = ylabel;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">// Ensure errors get accumulated properly</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;Sumw2();</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a9ccdc69736d29c3fcb9331db6e5a1184">  109</a></span>&#160;  <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a3f1cae3e5f6c1d992c319c4924c0afbc">ReweightableSpectrum::ReweightableSpectrum</a>(<span class="keyword">const</span> <a class="code" href="../../d9/dc8/classana_1_1__Var.html">Var</a>&amp; rwVar, TH2* <a class="code" href="../../dd/de2/getStatistics_8sh.html#a04d4c2131ccb24cc78386597e8a21c5b">h</a>,</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                             <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; <a class="code" href="../../d9/d76/build-larbase-py2_8sh.html#af6b3895e39ae33d4633d338ed2ddf9e3">labels</a>,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                             <span class="keyword">const</span> std::vector&lt;Binning&gt;&amp; bins,</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                                             <span class="keywordtype">double</span> pot, <span class="keywordtype">double</span> livetime)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    : <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html">ReweightableSpectrum</a>(labels, bins, rwVar)</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a396ef8dc4c6f630d2f6a71c30668058b">fPOT</a> = pot;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#afb12ee90c6ae5dc985ae23b4fadc1166">fLivetime</a> = livetime;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">if</span>(!h){</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a> = 0;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="../../df/dc0/classana_1_1DontAddDirectory.html">DontAddDirectory</a> guard;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keyword">const</span> TString className = h-&gt;ClassName();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">if</span>(className == <span class="stringliteral">&quot;TH2D&quot;</span>){</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <span class="comment">// Shortcut if types match</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a> = <span class="keyword">new</span> TH2D(*((TH2D*)h));</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="keyword">const</span> TAxis* ax = h-&gt;GetXaxis();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="keyword">const</span> TAxis* ay = h-&gt;GetYaxis();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <span class="comment">// Must have both or neither</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      assert(<span class="keywordtype">bool</span>(ax-&gt;GetXbins()-&gt;GetArray()) == <span class="keywordtype">bool</span>(ay-&gt;GetXbins()-&gt;GetArray()));</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <span class="keywordflow">if</span>(ax-&gt;GetXbins()-&gt;GetArray()){</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a> = <span class="keyword">new</span> TH2D(<a class="code" href="../../d7/d63/namespaceana.html#a9a10d1a70c4431c5ae2a504612a15e7b">UniqueName</a>().c_str(), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                         ax-&gt;GetNbins(), ax-&gt;GetXbins()-&gt;GetArray(),</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                         ay-&gt;GetNbins(), ay-&gt;GetXbins()-&gt;GetArray());</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a> = <span class="keyword">new</span> TH2D(<a class="code" href="../../d7/d63/namespaceana.html#a9a10d1a70c4431c5ae2a504612a15e7b">UniqueName</a>().c_str(), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                         ax-&gt;GetNbins(), ax-&gt;GetXmin(), ax-&gt;GetXmax(),</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                         ay-&gt;GetNbins(), ay-&gt;GetXmin(), ay-&gt;GetXmax());</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;Add(h);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa7fc65d3873e3fb0d050a1d7d0c82b55">fTrueLabel</a> = h-&gt;GetYaxis()-&gt;GetTitle();</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a53c002d3a443191cf442537afa58587e">  155</a></span>&#160;  <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a3f1cae3e5f6c1d992c319c4924c0afbc">ReweightableSpectrum::ReweightableSpectrum</a>(<span class="keyword">const</span> <a class="code" href="../../d9/dc8/classana_1_1__Var.html">Var</a>&amp; rwVar,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                                             std::unique_ptr&lt;TH2D&gt; <a class="code" href="../../dd/de2/getStatistics_8sh.html#a04d4c2131ccb24cc78386597e8a21c5b">h</a>,</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                                             <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; <a class="code" href="../../d9/d76/build-larbase-py2_8sh.html#af6b3895e39ae33d4633d338ed2ddf9e3">labels</a>,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                                             <span class="keyword">const</span> std::vector&lt;Binning&gt;&amp; bins,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                                             <span class="keywordtype">double</span> pot, <span class="keywordtype">double</span> livetime)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    : <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html">ReweightableSpectrum</a>(labels, bins, rwVar)</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a> = h.release();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a396ef8dc4c6f630d2f6a71c30668058b">fPOT</a> = pot;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#afb12ee90c6ae5dc985ae23b4fadc1166">fLivetime</a> = livetime;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa7fc65d3873e3fb0d050a1d7d0c82b55">fTrueLabel</a> = <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetYaxis()-&gt;GetTitle();</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#ac9ca550b9bf81175810de354e817e531">  170</a></span>&#160;  <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#ac9ca550b9bf81175810de354e817e531">ReweightableSpectrum::~ReweightableSpectrum</a>()</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a> &amp;&amp; <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetDirectory()){</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="keyword">static</span> <span class="keywordtype">bool</span> once = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">if</span>(once){</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        once = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <a class="code" href="../../d8/df5/messageservice_8fcl.html#a8d1a8a85a0b2a30cac1090ea528dd015">std::cerr</a> &lt;&lt; <span class="stringliteral">&quot;ReweightableSpectrum&#39;s fHist is associated with a directory. How did that happen?&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// Can&#39;t use HistCache here because that expects all 2D spectra have the</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// usual true energy binning on their y-axis. In the case that we&#39;re</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">// actually an OscillatableSpectrum that destructor will indeed take care</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// of invoking HistCache.</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a4d6f4a3cd51e5959f86c90c0a982f5da">  188</a></span>&#160;  <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a3f1cae3e5f6c1d992c319c4924c0afbc">ReweightableSpectrum::ReweightableSpectrum</a>(<span class="keyword">const</span> <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html">ReweightableSpectrum</a>&amp; rhs)</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    : fRWVar(rhs.fRWVar), fLabels(rhs.fLabels), <a class="code" href="../../d7/d63/namespaceana.html#ac1e14363d6aa27b4ca20a279c8389dec">fBins</a>(rhs.<a class="code" href="../../d7/d63/namespaceana.html#ac1e14363d6aa27b4ca20a279c8389dec">fBins</a>)</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="../../df/dc0/classana_1_1DontAddDirectory.html">DontAddDirectory</a> guard;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a> = <span class="keyword">new</span> TH2D(*rhs.<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a396ef8dc4c6f630d2f6a71c30668058b">fPOT</a> = rhs.<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a396ef8dc4c6f630d2f6a71c30668058b">fPOT</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#afb12ee90c6ae5dc985ae23b4fadc1166">fLivetime</a> = rhs.<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#afb12ee90c6ae5dc985ae23b4fadc1166">fLivetime</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    assert( rhs.<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#abb5a18aa0883fd06a0640156455f99a1">fLoaderCount</a>.empty() ); <span class="comment">// Copying with pending loads is unexpected</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a526a4ec18f424e7d12277a22bb3da784">  202</a></span>&#160;  <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html">ReweightableSpectrum</a>&amp; <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a526a4ec18f424e7d12277a22bb3da784">ReweightableSpectrum::operator=</a>(<span class="keyword">const</span> <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html">ReweightableSpectrum</a>&amp; rhs)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">if</span>(<span class="keyword">this</span> == &amp;rhs) <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="../../df/dc0/classana_1_1DontAddDirectory.html">DontAddDirectory</a> guard;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a2fa4daa712c58d290af2ebfd82f56e52">fRWVar</a> = rhs.<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a2fa4daa712c58d290af2ebfd82f56e52">fRWVar</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a3c56db7db1f0d3ab3eff3afa53894602">fLabels</a> = rhs.<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a3c56db7db1f0d3ab3eff3afa53894602">fLabels</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa1e03138bd3e4f31366964837d567c92">fBins</a> = rhs.<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa1e03138bd3e4f31366964837d567c92">fBins</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a> = <span class="keyword">new</span> TH2D(*rhs.<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a396ef8dc4c6f630d2f6a71c30668058b">fPOT</a> = rhs.<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a396ef8dc4c6f630d2f6a71c30668058b">fPOT</a>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#afb12ee90c6ae5dc985ae23b4fadc1166">fLivetime</a> = rhs.<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#afb12ee90c6ae5dc985ae23b4fadc1166">fLivetime</a>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    assert( <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#abb5a18aa0883fd06a0640156455f99a1">fLoaderCount</a>.empty() ); <span class="comment">// Copying with pending loads is unexpected</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a417ed30cad01958dd2914e7740f59285">  223</a></span>&#160;  TH2D* <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a417ed30cad01958dd2914e7740f59285">ReweightableSpectrum::ToTH2</a>(<span class="keywordtype">double</span> pot)<span class="keyword"> const</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="keyword">  </span>{</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">// Could have a file temporarily open</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="../../df/dc0/classana_1_1DontAddDirectory.html">DontAddDirectory</a> guard;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    TH2D* ret = <span class="keyword">new</span> TH2D(*<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    ret-&gt;SetName(<a class="code" href="../../d7/d63/namespaceana.html#a9a10d1a70c4431c5ae2a504612a15e7b">UniqueName</a>().c_str());</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a396ef8dc4c6f630d2f6a71c30668058b">fPOT</a>){</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      ret-&gt;Scale(pot/<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a396ef8dc4c6f630d2f6a71c30668058b">fPOT</a>);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="comment">// How did it get events with no POT?</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      assert(ret-&gt;Integral() == 0);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    std::string label;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">const</span> std::string&amp; l: <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a3c56db7db1f0d3ab3eff3afa53894602">fLabels</a>) label += l + <span class="stringliteral">&quot; and &quot;</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    label.resize(label.size()-5); <span class="comment">// drop the last &quot;and&quot;</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    ret-&gt;GetXaxis()-&gt;SetTitle(label.c_str());</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    ret-&gt;GetYaxis()-&gt;SetTitle(<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa7fc65d3873e3fb0d050a1d7d0c82b55">fTrueLabel</a>.c_str());</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#ab59010244fd43891b414d8888eec414f">  249</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#ab59010244fd43891b414d8888eec414f">ReweightableSpectrum::Fill</a>(<span class="keywordtype">double</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>, <span class="keywordtype">double</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a>, <span class="keywordtype">double</span> <a class="code" href="../../d8/ddf/namespacegen__crt__frags.html#a8cdc67339147aad209b4122a38d7e246">w</a>)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;Fill(x, y, w);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">  /// Helper for \ref Unweighted</span></div>
<div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="../../d7/d63/namespaceana.html#aa6fc8a27571aae47f489f99262aacef8">  255</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="../../d7/d63/namespaceana.html#aa6fc8a27571aae47f489f99262aacef8">ProjectionX</a>(TH2D* <a class="code" href="../../d4/d8f/icaruscode_2test_2fcl_2testFHiCLfiles_8sh.html#a6401d1c0a168bb3757821ca209161fe2">from</a>, TH1D* to)</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> Nx = from-&gt;GetNbinsX();</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> Ny = from-&gt;GetNbinsY();</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">// Direct access to the bins is faster</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordtype">double</span>* fromArr = from-&gt;GetArray();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordtype">double</span>* toArr = to-&gt;GetArray();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordtype">int</span> fromBin = 0;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a> = 0; <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a> &lt; Ny+2; ++<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a>){</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a> = 0; <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a> &lt; Nx+2; ++<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>){</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="comment">// Our loops go over the bins in the order they are internally in</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="comment">// &#39;from&#39;, and we do overflows, so we keep up exactly. If you get</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="comment">// paranoid, reenable this briefly.</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="comment">//        assert(fromBin == from-&gt;GetBin(x, y));</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a> = fromArr[fromBin];</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        ++fromBin;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        toArr[<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>] += <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a4399d91eee5623f17c69f04b0158a7e0">  281</a></span>&#160;  <a class="code" href="../../d9/dfa/classana_1_1Spectrum.html">Spectrum</a> <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a4399d91eee5623f17c69f04b0158a7e0">ReweightableSpectrum::UnWeighted</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="keyword">  </span>{</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="../../df/dc0/classana_1_1DontAddDirectory.html">DontAddDirectory</a> guard;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">// Create a suitably-sized space for the result</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    std::unique_ptr&lt;TH1D&gt; <a class="code" href="../../dd/de2/getStatistics_8sh.html#a04d4c2131ccb24cc78386597e8a21c5b">h</a>(<a class="code" href="../../d3/d63/classana_1_1HistCache.html#a1e6388b8f6d86fa7ae068f219444693b">HistCache::New</a>(<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetXaxis()));</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="../../d7/d63/namespaceana.html#aa6fc8a27571aae47f489f99262aacef8">ProjectionX</a>(<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>, h.get());</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/dfa/classana_1_1Spectrum.html">Spectrum</a>(std::move(h), <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a3c56db7db1f0d3ab3eff3afa53894602">fLabels</a>, <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa1e03138bd3e4f31366964837d567c92">fBins</a>, <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a396ef8dc4c6f630d2f6a71c30668058b">fPOT</a>, <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#afb12ee90c6ae5dc985ae23b4fadc1166">fLivetime</a>);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">  /// Helper for \ref WeightingVariable</span></div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="../../d7/d63/namespaceana.html#a356ed480daf1bf89036de362966dde4f">  294</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="../../d7/d63/namespaceana.html#a356ed480daf1bf89036de362966dde4f">ProjectionY</a>(TH2D* <a class="code" href="../../d4/d8f/icaruscode_2test_2fcl_2testFHiCLfiles_8sh.html#a6401d1c0a168bb3757821ca209161fe2">from</a>, TH1D* to)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> Nx = from-&gt;GetNbinsX();</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> Ny = from-&gt;GetNbinsY();</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">// Direct access to the bins is faster</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordtype">double</span>* fromArr = from-&gt;GetArray();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordtype">double</span>* toArr = to-&gt;GetArray();</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordtype">int</span> fromBin = 0;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a> = 0; <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a> &lt; Ny+2; ++<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a>){</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a> = 0; <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a> &lt; Nx+2; ++<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>){</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="comment">// Our loops go over the bins in the order they are internally in</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="comment">// &#39;from&#39;, and we do overflows, so we keep up exactly. If you get</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="comment">// paranoid, reenable this briefly.</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="comment">//        assert(fromBin == from-&gt;GetBin(x, y));</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a> = fromArr[fromBin];</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        ++fromBin;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        toArr[<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a>] += <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5ba0355af9f2267e9b4f0b0228a8a504">  320</a></span>&#160;  <a class="code" href="../../d9/dfa/classana_1_1Spectrum.html">Spectrum</a> <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5ba0355af9f2267e9b4f0b0228a8a504">ReweightableSpectrum::WeightingVariable</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="keyword">  </span>{</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="../../df/dc0/classana_1_1DontAddDirectory.html">DontAddDirectory</a> guard;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">// Create a suitably-sized space for the result</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    std::unique_ptr&lt;TH1D&gt; <a class="code" href="../../dd/de2/getStatistics_8sh.html#a04d4c2131ccb24cc78386597e8a21c5b">h</a>(<a class="code" href="../../d3/d63/classana_1_1HistCache.html#a1e6388b8f6d86fa7ae068f219444693b">HistCache::New</a>(<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetYaxis()));</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="../../d7/d63/namespaceana.html#a356ed480daf1bf89036de362966dde4f">ProjectionY</a>(<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>, h.get());</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/dfa/classana_1_1Spectrum.html">Spectrum</a>(std::move(h), <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a3c56db7db1f0d3ab3eff3afa53894602">fLabels</a>, <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa1e03138bd3e4f31366964837d567c92">fBins</a>, <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a396ef8dc4c6f630d2f6a71c30668058b">fPOT</a>, <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#afb12ee90c6ae5dc985ae23b4fadc1166">fLivetime</a>);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#ac49393266f604ccd6fcab95448652d8d">  333</a></span>&#160;  <a class="code" href="../../d9/dfa/classana_1_1Spectrum.html">Spectrum</a> <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#ac49393266f604ccd6fcab95448652d8d">ReweightableSpectrum::WeightedBy</a>(<span class="keyword">const</span> TH1* <a class="code" href="../../d8/ddf/namespacegen__crt__frags.html#a35b3e1562e8ab89659210f4a67fd3341">ws</a>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="keyword">  </span>{</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">// This function is in the inner loop of oscillation fits, so some</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">// optimization has been done.</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="code" href="../../df/dc0/classana_1_1DontAddDirectory.html">DontAddDirectory</a> guard;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    assert(ws-&gt;GetNbinsX() == <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetNbinsY());</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    TAxis* ax = <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetXaxis();</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    TH1D* hRet = <a class="code" href="../../d3/d63/classana_1_1HistCache.html#a1e6388b8f6d86fa7ae068f219444693b">HistCache::New</a>(<span class="stringliteral">&quot;&quot;</span>, ax);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d5/df9/find__global__symbol_8sh.html#ae2fcd9af85e9525dadab1ac2cb45a22d">X</a> = <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetNbinsX();</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> Y = <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetNbinsY();</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="comment">// Direct access to the bins is faster</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordtype">double</span>* retArr = hRet-&gt;GetArray();</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordtype">double</span>* histArr = <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetArray();</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a512aa20fb28b8c00f3d290ba176b40e1">bin</a> = 0;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a> = 0; <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a> &lt; Y+2; ++<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a>){</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="../../d8/ddf/namespacegen__crt__frags.html#a8cdc67339147aad209b4122a38d7e246">w</a> = ws-&gt;GetBinContent(<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a> = 0; <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a> &lt; X+2; ++<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>){</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="comment">// Our loops go over the bins in the order they are internally in</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="comment">// fHist, and we do overflows, so we keep up exactly. If you get</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="comment">// paranoid, reenable this briefly.</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="comment">// assert(bin == fHist-&gt;GetBin(x, y));</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        retArr[<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>] += histArr[<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a512aa20fb28b8c00f3d290ba176b40e1">bin</a>]*<a class="code" href="../../d8/ddf/namespacegen__crt__frags.html#a8cdc67339147aad209b4122a38d7e246">w</a>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        ++<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a512aa20fb28b8c00f3d290ba176b40e1">bin</a>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment">// TODO: can this all be more efficient?</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/dfa/classana_1_1Spectrum.html">Spectrum</a>(std::unique_ptr&lt;TH1D&gt;(hRet), <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a3c56db7db1f0d3ab3eff3afa53894602">fLabels</a>, <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa1e03138bd3e4f31366964837d567c92">fBins</a>, <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a396ef8dc4c6f630d2f6a71c30668058b">fPOT</a>, <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#afb12ee90c6ae5dc985ae23b4fadc1166">fLivetime</a>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#ad949fb04bad7a11dbe6dcb812a82da15">  373</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#ad949fb04bad7a11dbe6dcb812a82da15">ReweightableSpectrum::ReweightToTrueSpectrum</a>(<span class="keyword">const</span> <a class="code" href="../../d9/dfa/classana_1_1Spectrum.html">Spectrum</a>&amp; target)</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">// This is a big component of what extrapolations do, so it has been</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="comment">// optimized for speed</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="../../d2/d53/classana_1_1Ratio.html">Ratio</a> corr(target, <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5ba0355af9f2267e9b4f0b0228a8a504">WeightingVariable</a>());</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    std::unique_ptr&lt;TH1D&gt; hcorr(corr.<a class="code" href="../../d2/d53/classana_1_1Ratio.html#a77ea1d948078d40cbe9e274abb2c92c7">ToTH1</a>());</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    assert(hcorr-&gt;GetNbinsX() == <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetNbinsY());</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d5/df9/find__global__symbol_8sh.html#ae2fcd9af85e9525dadab1ac2cb45a22d">X</a> = <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetNbinsX();</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> Y = <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetNbinsY();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment">// Direct access to the bins is faster</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordtype">double</span>* histArr = <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetArray();</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordtype">double</span>* corrArr = hcorr-&gt;GetArray();</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a512aa20fb28b8c00f3d290ba176b40e1">bin</a> = 0;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a> = 0; <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a> &lt; Y+2; ++<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a>){</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="../../d8/ddf/namespacegen__crt__frags.html#a8cdc67339147aad209b4122a38d7e246">w</a> = corrArr[<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a>];</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a> = 0; <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a> &lt; X+2; ++<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>){</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="comment">// Our loops go over the bins in the order they are internally in</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="comment">// fHist, and we do overflows, so we keep up exactly. If you get</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="comment">// paranoid, reenable this briefly.</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="comment">// assert(bin == fHist-&gt;GetBin(x, y));</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        histArr[<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a512aa20fb28b8c00f3d290ba176b40e1">bin</a>] *= <a class="code" href="../../d8/ddf/namespacegen__crt__frags.html#a8cdc67339147aad209b4122a38d7e246">w</a>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        ++<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a512aa20fb28b8c00f3d290ba176b40e1">bin</a>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    TH1D* todel = hcorr.release();</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="../../d3/d63/classana_1_1HistCache.html#a99806e4891e4ce358d4d02f12421b20c">HistCache::Delete</a>(todel);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#ae7c37ea73f752d5803d5a7ae1b5df657">  410</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#ae7c37ea73f752d5803d5a7ae1b5df657">ReweightableSpectrum::ReweightToRecoSpectrum</a>(<span class="keyword">const</span> <a class="code" href="../../d9/dfa/classana_1_1Spectrum.html">Spectrum</a>&amp; target)</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="comment">// This is a big component of what extrapolations do, so it has been</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="comment">// optimized for speed</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="../../d2/d53/classana_1_1Ratio.html">Ratio</a> corr(target, <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a4399d91eee5623f17c69f04b0158a7e0">UnWeighted</a>());</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    std::unique_ptr&lt;TH1D&gt; hcorr(corr.<a class="code" href="../../d2/d53/classana_1_1Ratio.html#a77ea1d948078d40cbe9e274abb2c92c7">ToTH1</a>());</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    assert(hcorr-&gt;GetNbinsX() == <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetNbinsX());</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d5/df9/find__global__symbol_8sh.html#ae2fcd9af85e9525dadab1ac2cb45a22d">X</a> = <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetNbinsX();</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> Y = <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetNbinsY();</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">// Direct access to the bins is faster</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordtype">double</span>* histArr = <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetArray();</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordtype">double</span>* corrArr = hcorr-&gt;GetArray();</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a512aa20fb28b8c00f3d290ba176b40e1">bin</a> = 0;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a> = 0; <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a> &lt; Y+2; ++<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a>){</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a> = 0; <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a> &lt; X+2; ++<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>){</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="comment">// Our loops go over the bins in the order they are internally in</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="comment">// fHist, and we do overflows, so we keep up exactly. If you get</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="comment">// paranoid, reenable this briefly.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="comment">// assert(bin == fHist-&gt;GetBin(x, y));</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        histArr[<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a512aa20fb28b8c00f3d290ba176b40e1">bin</a>] *= corrArr[<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>];</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        ++<a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a512aa20fb28b8c00f3d290ba176b40e1">bin</a>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    TH1D* todel = hcorr.release();</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="../../d3/d63/classana_1_1HistCache.html#a99806e4891e4ce358d4d02f12421b20c">HistCache::Delete</a>(todel);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#af4f01f9697c1ad19bb36975e3426c817">  446</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#af4f01f9697c1ad19bb36975e3426c817">ReweightableSpectrum::Clear</a>()</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;Reset();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a89ab897853a8a63c7c31856ddceccda1">  452</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a89ab897853a8a63c7c31856ddceccda1">ReweightableSpectrum::RemoveLoader</a>(<a class="code" href="../../d0/dcf/classana_1_1SpectrumLoaderBase.html">SpectrumLoaderBase</a>* <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  { <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#abb5a18aa0883fd06a0640156455f99a1">fLoaderCount</a>.erase(p); }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a639709ba37ebec21c4a8d38a10901401">  456</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a639709ba37ebec21c4a8d38a10901401">ReweightableSpectrum::AddLoader</a>(<a class="code" href="../../d0/dcf/classana_1_1SpectrumLoaderBase.html">SpectrumLoaderBase</a>* <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  { <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#abb5a18aa0883fd06a0640156455f99a1">fLoaderCount</a>.insert(p); }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a71a574b84eda54543e7f668d9b3dc430">  460</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a71a574b84eda54543e7f668d9b3dc430">ReweightableSpectrum::SaveTo</a>(TDirectory* <a class="code" href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dir</a>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="keyword">  </span>{</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    TDirectory* tmp = gDirectory;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    dir-&gt;cd();</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    TObjString(<span class="stringliteral">&quot;ReweightableSpectrum&quot;</span>).Write(<span class="stringliteral">&quot;type&quot;</span>);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;GetYaxis()-&gt;SetTitle(<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa7fc65d3873e3fb0d050a1d7d0c82b55">fTrueLabel</a>.c_str());</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">fHist</a>-&gt;Write(<span class="stringliteral">&quot;hist&quot;</span>);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    TH1D hPot(<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 1, 0, 1);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    hPot.Fill(.5, <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a396ef8dc4c6f630d2f6a71c30668058b">fPOT</a>);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    hPot.Write(<span class="stringliteral">&quot;pot&quot;</span>);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    TH1D hLivetime(<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 1, 0, 1);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    hLivetime.Fill(.5, <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#afb12ee90c6ae5dc985ae23b4fadc1166">fLivetime</a>);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    hLivetime.Write(<span class="stringliteral">&quot;livetime&quot;</span>);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa1e03138bd3e4f31366964837d567c92">fBins</a>.size(); ++i){</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      TObjString(<a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a3c56db7db1f0d3ab3eff3afa53894602">fLabels</a>[i].c_str()).Write(TString::Format(<span class="stringliteral">&quot;label%d&quot;</span>, i).<a class="code" href="../../d4/ddc/structData.html">Data</a>());</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa1e03138bd3e4f31366964837d567c92">fBins</a>[i].SaveTo(dir-&gt;mkdir(TString::Format(<span class="stringliteral">&quot;bins%d&quot;</span>, i)));</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    tmp-&gt;cd();</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#adac834f34b9b9564ef0e5ee201c2b2b2">  485</a></span>&#160;  std::unique_ptr&lt;ReweightableSpectrum&gt; <a class="code" href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#adac834f34b9b9564ef0e5ee201c2b2b2">ReweightableSpectrum::LoadFrom</a>(TDirectory* <a class="code" href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dir</a>)</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    TObjString* tag = (TObjString*)dir-&gt;Get(<span class="stringliteral">&quot;type&quot;</span>);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    assert(tag);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    assert(tag-&gt;GetString() == <span class="stringliteral">&quot;ReweightableSpectrum&quot;</span>);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    TH2D* spect = (TH2D*)dir-&gt;Get(<span class="stringliteral">&quot;hist&quot;</span>);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    assert(spect);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    TH1* hPot = (TH1*)dir-&gt;Get(<span class="stringliteral">&quot;pot&quot;</span>);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    assert(hPot);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    TH1* hLivetime = (TH1*)dir-&gt;Get(<span class="stringliteral">&quot;livetime&quot;</span>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    assert(hLivetime);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    std::vector&lt;std::string&gt; <a class="code" href="../../d9/d76/build-larbase-py2_8sh.html#af6b3895e39ae33d4633d338ed2ddf9e3">labels</a>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    std::vector&lt;Binning&gt; bins;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; ; ++i){</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      TDirectory* subdir = dir-&gt;GetDirectory(TString::Format(<span class="stringliteral">&quot;bins%d&quot;</span>, i));</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="keywordflow">if</span>(!subdir) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      bins.push_back(*<a class="code" href="../../db/d55/classana_1_1Binning.html#adbd09c913ca801134c9e949d3d0c21d9">Binning::LoadFrom</a>(subdir));</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      TObjString* label = (TObjString*)dir-&gt;Get(TString::Format(<span class="stringliteral">&quot;label%d&quot;</span>, i));</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      labels.push_back(label ? label-&gt;GetString().Data() : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">if</span>(bins.empty() &amp;&amp; labels.empty()){</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="comment">// Must be an old file. Make an attempt at backwards compatibility.</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      bins.push_back(<a class="code" href="../../db/d55/classana_1_1Binning.html#a4960c515929f37a0362dea0780569f62">Binning::FromTAxis</a>(spect-&gt;GetXaxis()));</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      labels.push_back(spect-&gt;GetXaxis()-&gt;GetTitle());</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">return</span> std::make_unique&lt;ReweightableSpectrum&gt;(<a class="code" href="../../d7/d63/namespaceana.html#a7deaf6704bdb0b50504a4d6ed9947dd2">kUnweighted</a>,</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                                                  spect,</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                                                  <a class="code" href="../../d9/d76/build-larbase-py2_8sh.html#af6b3895e39ae33d4633d338ed2ddf9e3">labels</a>, bins,</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                                                  hPot-&gt;GetBinContent(1),</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                                                  hLivetime-&gt;GetBinContent(1));</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;}</div>
<div class="ttc" id="run__opflash__electron_8fcl_html_ae40184b0245025a43c56daa3261d5e3c"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a></div><div class="ttdeci">process_name opflash particleana ie ie ie z</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00092">run_opflash_electron.fcl:92</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_a4399d91eee5623f17c69f04b0158a7e0"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a4399d91eee5623f17c69f04b0158a7e0">ana::ReweightableSpectrum::UnWeighted</a></div><div class="ttdeci">Spectrum UnWeighted() const </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/ReweightableSpectrum_8cxx_source.html#l00281">ReweightableSpectrum.cxx:281</a></div></div>
<div class="ttc" id="build-larbase-py2_8sh_html_af6b3895e39ae33d4633d338ed2ddf9e3"><div class="ttname"><a href="../../d9/d76/build-larbase-py2_8sh.html#af6b3895e39ae33d4633d338ed2ddf9e3">labels</a></div><div class="ttdeci">* labels</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/build-larbase-py2_8sh_source.html#l00059">build-larbase-py2.sh:59</a></div></div>
<div class="ttc" id="classana_1_1Binning_html"><div class="ttname"><a href="../../db/d55/classana_1_1Binning.html">ana::Binning</a></div><div class="ttdoc">Represent the binning of a Spectrum&amp;#39;s x-axis. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/Binning_8h_source.html#l00018">Binning.h:18</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_af4f01f9697c1ad19bb36975e3426c817"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#af4f01f9697c1ad19bb36975e3426c817">ana::ReweightableSpectrum::Clear</a></div><div class="ttdeci">void Clear()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/ReweightableSpectrum_8cxx_source.html#l00446">ReweightableSpectrum.cxx:446</a></div></div>
<div class="ttc" id="classana_1_1Ratio_html_a77ea1d948078d40cbe9e274abb2c92c7"><div class="ttname"><a href="../../d2/d53/classana_1_1Ratio.html#a77ea1d948078d40cbe9e274abb2c92c7">ana::Ratio::ToTH1</a></div><div class="ttdeci">TH1D * ToTH1(Color_t col=kBlack, Style_t style=kSolid) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d04/Ratio_8cxx_source.html#l00116">Ratio.cxx:116</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a6673f03521899f7844189bcfd8ee5941"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a></div><div class="ttdeci">process_name opflash particleana ie x</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00090">run_opflash_electron.fcl:90</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a8d1a8a85a0b2a30cac1090ea528dd015"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a8d1a8a85a0b2a30cac1090ea528dd015">cerr</a></div><div class="ttdeci">BEGIN_PROLOG could also be cerr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_ab59010244fd43891b414d8888eec414f"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#ab59010244fd43891b414d8888eec414f">ana::ReweightableSpectrum::Fill</a></div><div class="ttdeci">void Fill(double x, double y, double w=1)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/ReweightableSpectrum_8cxx_source.html#l00249">ReweightableSpectrum.cxx:249</a></div></div>
<div class="ttc" id="structData_html"><div class="ttname"><a href="../../d4/ddc/structData.html">Data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd6/RangeForWrapper__test_8cc_source.html#l00073">RangeForWrapper_test.cc:73</a></div></div>
<div class="ttc" id="namespacedemo_html_a4462a16db75dad4793e553ede0807948"><div class="ttname"><a href="../../d2/d0d/namespacedemo.html#a4462a16db75dad4793e553ede0807948">demo.loader</a></div><div class="ttdeci">tuple loader</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/demo_8py_source.html#l00007">demo.py:7</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_ac9ca550b9bf81175810de354e817e531"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#ac9ca550b9bf81175810de354e817e531">ana::ReweightableSpectrum::~ReweightableSpectrum</a></div><div class="ttdeci">virtual ~ReweightableSpectrum()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/ReweightableSpectrum_8cxx_source.html#l00170">ReweightableSpectrum.cxx:170</a></div></div>
<div class="ttc" id="classana_1_1SystShifts_html"><div class="ttname"><a href="../../de/d09/classana_1_1SystShifts.html">ana::SystShifts</a></div><div class="ttdoc">Simple record of shifts applied to systematic parameters. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d71/SystShifts_8h_source.html#l00016">SystShifts.h:16</a></div></div>
<div class="ttc" id="classana_1_1Binning_html_a4960c515929f37a0362dea0780569f62"><div class="ttname"><a href="../../db/d55/classana_1_1Binning.html#a4960c515929f37a0362dea0780569f62">ana::Binning::FromTAxis</a></div><div class="ttdeci">static Binning FromTAxis(const TAxis *ax)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d08/Binning_8cxx_source.html#l00122">Binning.cxx:122</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_a2fa4daa712c58d290af2ebfd82f56e52"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a2fa4daa712c58d290af2ebfd82f56e52">ana::ReweightableSpectrum::fRWVar</a></div><div class="ttdeci">Var fRWVar</div><div class="ttdoc">What goes on the y axis? </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7d/ReweightableSpectrum_8h_source.html#l00129">ReweightableSpectrum.h:129</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a24c8335057af14a9b508d5ac18999ce5"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a></div><div class="ttdeci">pdgs p</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00022">selectors.fcl:22</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_a5da5707073ba7d5a874546fd30d080f2"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5da5707073ba7d5a874546fd30d080f2">ana::ReweightableSpectrum::fHist</a></div><div class="ttdeci">TH2D * fHist</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7d/ReweightableSpectrum_8h_source.html#l00131">ReweightableSpectrum.h:131</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html">ana::ReweightableSpectrum</a></div><div class="ttdoc">Spectrum with the value of a second variable, allowing for reweighting </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7d/ReweightableSpectrum_8h_source.html#l00014">ReweightableSpectrum.h:14</a></div></div>
<div class="ttc" id="Ratio_8h_html"><div class="ttname"><a href="../../d6/d68/Ratio_8h.html">Ratio.h</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_ae7c37ea73f752d5803d5a7ae1b5df657"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#ae7c37ea73f752d5803d5a7ae1b5df657">ana::ReweightableSpectrum::ReweightToRecoSpectrum</a></div><div class="ttdeci">void ReweightToRecoSpectrum(const Spectrum &amp;target)</div><div class="ttdoc">Recale bins so that Unweighted will return target. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/ReweightableSpectrum_8cxx_source.html#l00410">ReweightableSpectrum.cxx:410</a></div></div>
<div class="ttc" id="stage0__icarus__light__only_8fcl_html_ac04187abfdbfa2cc78bb41f06b1da586"><div class="ttname"><a href="../../df/d54/stage0__icarus__light__only_8fcl.html#ac04187abfdbfa2cc78bb41f06b1da586">ana</a></div><div class="ttdeci">process_name opflashCryoW ana</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/stage0__icarus__light__only_8fcl_source.html#l00060">stage0_icarus_light_only.fcl:60</a></div></div>
<div class="ttc" id="find__global__symbol_8sh_html_ae2fcd9af85e9525dadab1ac2cb45a22d"><div class="ttname"><a href="../../d5/df9/find__global__symbol_8sh.html#ae2fcd9af85e9525dadab1ac2cb45a22d">X</a></div><div class="ttdeci">then echo echo For and will not be changed by echo further linking echo echo B echo The symbol is in the uninitialized data multiple common symbols may appear with the echo same name If the symbol is defined the common echo symbols are treated as undefined references For more echo details on common see the discussion of warn common echo in *Note Linker see the discussion of warn common echo in *Note Linker such as a global int variable echo as opposed to a large global array echo echo I echo The symbol is an indirect reference to another symbol This echo is a GNU extension to the a out object file format which is echo rarely used echo echo N echo The symbol is a debugging symbol echo echo R echo The symbol is in a read only data section echo echo S echo The symbol is in an uninitialized data section for small echo objects echo echo T echo The symbol is in the the normal defined echo symbol is used with no error When a weak undefined symbol echo is linked and the symbol is not the value of the echo weak symbol becomes zero with no error echo echo W echo The symbol is a weak symbol that has not been specifically echo tagged as a weak object symbol When a weak defined symbol echo is linked with a normal defined the normal defined echo symbol is used with no error When a weak undefined symbol echo is linked and the symbol is not the value of the echo weak symbol becomes zero with no error echo echo echo The symbol is a stabs symbol in an a out object file In echo this the next values printed are the stabs other echo the stabs desc and the stab type Stabs symbols are echo used to hold debugging information For more echo see *Note or object file format specific echo echo For Mac OS X</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df9/find__global__symbol_8sh_source.html#l00107">find_global_symbol.sh:107</a></div></div>
<div class="ttc" id="Binning_8h_html"><div class="ttname"><a href="../../d2/de8/Binning_8h.html">Binning.h</a></div></div>
<div class="ttc" id="fcl__checks_8sh_html_ab3c44a76dd678c93affe68a1f8a980ab"><div class="ttname"><a href="../../db/ddd/fcl__checks_8sh.html#ab3c44a76dd678c93affe68a1f8a980ab">shift</a></div><div class="ttdeci">shift</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/fcl__checks_8sh_source.html#l00026">fcl_checks.sh:26</a></div></div>
<div class="ttc" id="namespaceana_html_a356ed480daf1bf89036de362966dde4f"><div class="ttname"><a href="../../d7/d63/namespaceana.html#a356ed480daf1bf89036de362966dde4f">ana::ProjectionY</a></div><div class="ttdeci">void ProjectionY(TH2D *from, TH1D *to)</div><div class="ttdoc">Helper for WeightingVariable. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/ReweightableSpectrum_8cxx_source.html#l00294">ReweightableSpectrum.cxx:294</a></div></div>
<div class="ttc" id="classana_1_1Spectrum_html"><div class="ttname"><a href="../../d9/dfa/classana_1_1Spectrum.html">ana::Spectrum</a></div><div class="ttdoc">Representation of a spectrum in any variable, with associated POT. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/Spectrum_8h_source.html#l00030">Spectrum.h:30</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_a89ab897853a8a63c7c31856ddceccda1"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a89ab897853a8a63c7c31856ddceccda1">ana::ReweightableSpectrum::RemoveLoader</a></div><div class="ttdeci">void RemoveLoader(SpectrumLoaderBase *)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/ReweightableSpectrum_8cxx_source.html#l00452">ReweightableSpectrum.cxx:452</a></div></div>
<div class="ttc" id="namespaceicarus_1_1ns_1_1util_html_a512aa20fb28b8c00f3d290ba176b40e1"><div class="ttname"><a href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#a512aa20fb28b8c00f3d290ba176b40e1">icarus::ns::util::bin</a></div><div class="ttdeci">constexpr details::BinObj&lt; T &gt; bin(T value)</div><div class="ttdoc">Returns a wrapper to print the specified data in binary format. </div></div>
<div class="ttc" id="classana_1_1Binning_html_a76f0bf9defe4e2fc4d860ad542a7882d"><div class="ttname"><a href="../../db/d55/classana_1_1Binning.html#a76f0bf9defe4e2fc4d860ad542a7882d">ana::Binning::IsSimple</a></div><div class="ttdeci">bool IsSimple() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/Binning_8h_source.html#l00031">Binning.h:31</a></div></div>
<div class="ttc" id="run__vertexcharge__icarus_8fcl_html_a0bb005bed46cb3379a0703e7b92b23c5"><div class="ttname"><a href="../../d4/d48/run__vertexcharge__icarus_8fcl.html#a0bb005bed46cb3379a0703e7b92b23c5">xmin</a></div><div class="ttdeci">process_name pandoraGausCryo1 vertexChargeCryo1 vertexStubCryo1 xmin</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d48/run__vertexcharge__icarus_8fcl_source.html#l00109">run_vertexcharge_icarus.fcl:109</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_aa7fc65d3873e3fb0d050a1d7d0c82b55"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa7fc65d3873e3fb0d050a1d7d0c82b55">ana::ReweightableSpectrum::fTrueLabel</a></div><div class="ttdeci">std::string fTrueLabel</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7d/ReweightableSpectrum_8h_source.html#l00138">ReweightableSpectrum.h:138</a></div></div>
<div class="ttc" id="getStatistics_8sh_html_a04d4c2131ccb24cc78386597e8a21c5b"><div class="ttname"><a href="../../dd/de2/getStatistics_8sh.html#a04d4c2131ccb24cc78386597e8a21c5b">h</a></div><div class="ttdeci">while getopts h</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/getStatistics_8sh_source.html#l00013">getStatistics.sh:13</a></div></div>
<div class="ttc" id="classana_1_1__HistAxis_html_abd3a7f569afd112b456059575e66780c"><div class="ttname"><a href="../../d9/d33/classana_1_1__HistAxis.html#abd3a7f569afd112b456059575e66780c">ana::_HistAxis::GetBinnings</a></div><div class="ttdeci">std::vector&lt; Binning &gt; GetBinnings() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db1/HistAxis_8h_source.html#l00049">HistAxis.h:49</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a1e5aaaf25e8609a835e8c7c6fda71456"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a></div><div class="ttdeci">process_name opflash particleana ie ie y</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00091">run_opflash_electron.fcl:91</a></div></div>
<div class="ttc" id="classana_1_1Binning_html_acd996d27688bddcb9a9e4875b91aee56"><div class="ttname"><a href="../../db/d55/classana_1_1Binning.html#acd996d27688bddcb9a9e4875b91aee56">ana::Binning::Min</a></div><div class="ttdeci">double Min() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/Binning_8h_source.html#l00028">Binning.h:28</a></div></div>
<div class="ttc" id="classana_1_1__HistAxis_html_aa095f75b14d97e30a242f42b861fed61"><div class="ttname"><a href="../../d9/d33/classana_1_1__HistAxis.html#aa095f75b14d97e30a242f42b861fed61">ana::_HistAxis::NDimensions</a></div><div class="ttdeci">unsigned int NDimensions() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db1/HistAxis_8h_source.html#l00046">HistAxis.h:46</a></div></div>
<div class="ttc" id="classana_1_1SpectrumLoaderBase_html_a218d1fce550afa6e7f1db592af266f88"><div class="ttname"><a href="../../d0/dcf/classana_1_1SpectrumLoaderBase.html#a218d1fce550afa6e7f1db592af266f88">ana::SpectrumLoaderBase::AddReweightableSpectrum</a></div><div class="ttdeci">virtual void AddReweightableSpectrum(ReweightableSpectrum &amp;spect, const Var &amp;var, const Cut &amp;cut, const SystShifts &amp;shift, const Var &amp;wei)</div><div class="ttdoc">For use by the constructors of ReweightableSpectrum subclasses. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/SpectrumLoaderBase_8cxx_source.html#l00274">SpectrumLoaderBase.cxx:274</a></div></div>
<div class="ttc" id="classana_1_1HistCache_html_a99806e4891e4ce358d4d02f12421b20c"><div class="ttname"><a href="../../d3/d63/classana_1_1HistCache.html#a99806e4891e4ce358d4d02f12421b20c">ana::HistCache::Delete</a></div><div class="ttdeci">static void Delete(TH1D *&amp;h)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/daa/HistCache_8cxx_source.html#l00092">HistCache.cxx:92</a></div></div>
<div class="ttc" id="classana_1_1__HistAxis_html_a118e4ba7e7eafe6a1fdb742c7cffdc1a"><div class="ttname"><a href="../../d9/d33/classana_1_1__HistAxis.html#a118e4ba7e7eafe6a1fdb742c7cffdc1a">ana::_HistAxis::GetLabels</a></div><div class="ttdeci">std::vector&lt; std::string &gt; GetLabels() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db1/HistAxis_8h_source.html#l00048">HistAxis.h:48</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_a71a574b84eda54543e7f668d9b3dc430"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a71a574b84eda54543e7f668d9b3dc430">ana::ReweightableSpectrum::SaveTo</a></div><div class="ttdeci">void SaveTo(TDirectory *dir) const </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/ReweightableSpectrum_8cxx_source.html#l00460">ReweightableSpectrum.cxx:460</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_a396ef8dc4c6f630d2f6a71c30668058b"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a396ef8dc4c6f630d2f6a71c30668058b">ana::ReweightableSpectrum::fPOT</a></div><div class="ttdeci">double fPOT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7d/ReweightableSpectrum_8h_source.html#l00132">ReweightableSpectrum.h:132</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_abb5a18aa0883fd06a0640156455f99a1"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#abb5a18aa0883fd06a0640156455f99a1">ana::ReweightableSpectrum::fLoaderCount</a></div><div class="ttdeci">std::set&lt; SpectrumLoaderBase * &gt; fLoaderCount</div><div class="ttdoc">This count is maintained by SpectrumLoader, as a sanity check. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7d/ReweightableSpectrum_8h_source.html#l00141">ReweightableSpectrum.h:141</a></div></div>
<div class="ttc" id="namespaceana_html_abcc5e4e7bc5179b9dc655aa0641082e6"><div class="ttname"><a href="../../d7/d63/namespaceana.html#abcc5e4e7bc5179b9dc655aa0641082e6">ana::kNoSpillCut</a></div><div class="ttdeci">const SpillCut kNoSpillCut([](const caf::SRSpillProxy *){return true;})</div><div class="ttdoc">The simplest possible cut: pass everything, used as a default. </div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_a3c56db7db1f0d3ab3eff3afa53894602"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a3c56db7db1f0d3ab3eff3afa53894602">ana::ReweightableSpectrum::fLabels</a></div><div class="ttdeci">std::vector&lt; std::string &gt; fLabels</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7d/ReweightableSpectrum_8h_source.html#l00135">ReweightableSpectrum.h:135</a></div></div>
<div class="ttc" id="namespaceana_html_aa6fc8a27571aae47f489f99262aacef8"><div class="ttname"><a href="../../d7/d63/namespaceana.html#aa6fc8a27571aae47f489f99262aacef8">ana::ProjectionX</a></div><div class="ttdeci">void ProjectionX(TH2D *from, TH1D *to)</div><div class="ttdoc">Helper for Unweighted. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/ReweightableSpectrum_8cxx_source.html#l00255">ReweightableSpectrum.cxx:255</a></div></div>
<div class="ttc" id="namespaceana_html_ac1e14363d6aa27b4ca20a279c8389dec"><div class="ttname"><a href="../../d7/d63/namespaceana.html#ac1e14363d6aa27b4ca20a279c8389dec">ana::fBins</a></div><div class="ttdeci">fBins({binsX, binsY})</div></div>
<div class="ttc" id="Var_8h_html"><div class="ttname"><a href="../../d6/daf/Var_8h.html">Var.h</a></div></div>
<div class="ttc" id="ReweightableSpectrum_8h_html"><div class="ttname"><a href="../../d0/d7d/ReweightableSpectrum_8h.html">ReweightableSpectrum.h</a></div></div>
<div class="ttc" id="classana_1_1Ratio_html"><div class="ttname"><a href="../../d2/d53/classana_1_1Ratio.html">ana::Ratio</a></div><div class="ttdoc">Represent the ratio between two spectra. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/Ratio_8h_source.html#l00008">Ratio.h:8</a></div></div>
<div class="ttc" id="namespacegen__crt__frags_html_a8cdc67339147aad209b4122a38d7e246"><div class="ttname"><a href="../../d8/ddf/namespacegen__crt__frags.html#a8cdc67339147aad209b4122a38d7e246">gen_crt_frags.w</a></div><div class="ttdeci">tuple w</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8c/gen__crt__frags_8py_source.html#l01416">gen_crt_frags.py:1416</a></div></div>
<div class="ttc" id="classana_1_1Binning_html_a51698e99916bdf33e6284dd9a5f7e4b4"><div class="ttname"><a href="../../db/d55/classana_1_1Binning.html#a51698e99916bdf33e6284dd9a5f7e4b4">ana::Binning::Edges</a></div><div class="ttdeci">const std::vector&lt; double &gt; &amp; Edges() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/Binning_8h_source.html#l00032">Binning.h:32</a></div></div>
<div class="ttc" id="namespacedropbox_html_a407b5b895ba9265893768748aaa73825"><div class="ttname"><a href="../../de/d9a/namespacedropbox.html#a407b5b895ba9265893768748aaa73825">dropbox.dir</a></div><div class="ttdeci">tuple dir</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d81/dropbox_8py_source.html#l00028">dropbox.py:28</a></div></div>
<div class="ttc" id="classana_1_1SpectrumLoaderBase_html"><div class="ttname"><a href="../../d0/dcf/classana_1_1SpectrumLoaderBase.html">ana::SpectrumLoaderBase</a></div><div class="ttdoc">Base class for the various types of spectrum loader. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dc5/SpectrumLoaderBase_8h_source.html#l00036">SpectrumLoaderBase.h:36</a></div></div>
<div class="ttc" id="classana_1_1__HistAxis_html_a3a8b1bf5892015314d610df0ebc9be8c"><div class="ttname"><a href="../../d9/d33/classana_1_1__HistAxis.html#a3a8b1bf5892015314d610df0ebc9be8c">ana::_HistAxis::GetMultiDVar</a></div><div class="ttdeci">T GetMultiDVar() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d26/HistAxis_8cxx_source.html#l00066">HistAxis.cxx:66</a></div></div>
<div class="ttc" id="classana_1_1Binning_html_aceda8d431768143a574a16860f82918b"><div class="ttname"><a href="../../db/d55/classana_1_1Binning.html#aceda8d431768143a574a16860f82918b">ana::Binning::Max</a></div><div class="ttdeci">double Max() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/Binning_8h_source.html#l00029">Binning.h:29</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_a526a4ec18f424e7d12277a22bb3da784"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a526a4ec18f424e7d12277a22bb3da784">ana::ReweightableSpectrum::operator=</a></div><div class="ttdeci">ReweightableSpectrum &amp; operator=(const ReweightableSpectrum &amp;rhs)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/ReweightableSpectrum_8cxx_source.html#l00202">ReweightableSpectrum.cxx:202</a></div></div>
<div class="ttc" id="classana_1_1__HistAxis_html"><div class="ttname"><a href="../../d9/d33/classana_1_1__HistAxis.html">ana::_HistAxis&lt; Var &gt;</a></div></div>
<div class="ttc" id="namespaceana_html_a7deaf6704bdb0b50504a4d6ed9947dd2"><div class="ttname"><a href="../../d7/d63/namespaceana.html#a7deaf6704bdb0b50504a4d6ed9947dd2">ana::kUnweighted</a></div><div class="ttdeci">const Var kUnweighted([](const caf::SRSliceProxy *){return 1;})</div><div class="ttdoc">The simplest possible Var, always 1. Used as a default weight. </div></div>
<div class="ttc" id="classana_1_1Binning_html_a46a2605ebc39ef76eb54e773a719b3d7"><div class="ttname"><a href="../../db/d55/classana_1_1Binning.html#a46a2605ebc39ef76eb54e773a719b3d7">ana::Binning::NBins</a></div><div class="ttdeci">int NBins() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/Binning_8h_source.html#l00027">Binning.h:27</a></div></div>
<div class="ttc" id="sbnana_2sbnana_2CAFAna_2Core_2Utilities_8h_html"><div class="ttname"><a href="../../df/d84/sbnana_2sbnana_2CAFAna_2Core_2Utilities_8h.html">Utilities.h</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_ac49393266f604ccd6fcab95448652d8d"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#ac49393266f604ccd6fcab95448652d8d">ana::ReweightableSpectrum::WeightedBy</a></div><div class="ttdeci">Spectrum WeightedBy(const TH1 *weights) const </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/ReweightableSpectrum_8cxx_source.html#l00333">ReweightableSpectrum.cxx:333</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_adac834f34b9b9564ef0e5ee201c2b2b2"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#adac834f34b9b9564ef0e5ee201c2b2b2">ana::ReweightableSpectrum::LoadFrom</a></div><div class="ttdeci">static std::unique_ptr&lt; ReweightableSpectrum &gt; LoadFrom(TDirectory *dir)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/ReweightableSpectrum_8cxx_source.html#l00485">ReweightableSpectrum.cxx:485</a></div></div>
<div class="ttc" id="classana_1_1HistCache_html_a1e6388b8f6d86fa7ae068f219444693b"><div class="ttname"><a href="../../d3/d63/classana_1_1HistCache.html#a1e6388b8f6d86fa7ae068f219444693b">ana::HistCache::New</a></div><div class="ttdeci">static TH1D * New(const std::string &amp;title, const Binning &amp;bins)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/daa/HistCache_8cxx_source.html#l00021">HistCache.cxx:21</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_aa1e03138bd3e4f31366964837d567c92"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#aa1e03138bd3e4f31366964837d567c92">ana::ReweightableSpectrum::fBins</a></div><div class="ttdeci">std::vector&lt; Binning &gt; fBins</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7d/ReweightableSpectrum_8h_source.html#l00136">ReweightableSpectrum.h:136</a></div></div>
<div class="ttc" id="sbndpoms__genfclwithrunnumber__maker_8sh_html_a19dd16849ed641adb2aff777fdc4bd8b"><div class="ttname"><a href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh.html#a19dd16849ed641adb2aff777fdc4bd8b">name</a></div><div class="ttdeci">then echo fcl name</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh_source.html#l00220">sbndpoms_genfclwithrunnumber_maker.sh:220</a></div></div>
<div class="ttc" id="namespacegen__crt__frags_html_a35b3e1562e8ab89659210f4a67fd3341"><div class="ttname"><a href="../../d8/ddf/namespacegen__crt__frags.html#a35b3e1562e8ab89659210f4a67fd3341">gen_crt_frags.ws</a></div><div class="ttdeci">tuple ws</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8c/gen__crt__frags_8py_source.html#l01415">gen_crt_frags.py:1415</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_ad949fb04bad7a11dbe6dcb812a82da15"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#ad949fb04bad7a11dbe6dcb812a82da15">ana::ReweightableSpectrum::ReweightToTrueSpectrum</a></div><div class="ttdeci">void ReweightToTrueSpectrum(const Spectrum &amp;target)</div><div class="ttdoc">Rescale bins so that WeightingVariable will return target. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/ReweightableSpectrum_8cxx_source.html#l00373">ReweightableSpectrum.cxx:373</a></div></div>
<div class="ttc" id="classana_1_1__Cut_html"><div class="ttname"><a href="../../dd/dce/classana_1_1__Cut.html">ana::_Cut&lt; caf::SRSliceProxy &gt;</a></div></div>
<div class="ttc" id="classana_1_1__Var_html"><div class="ttname"><a href="../../d9/dc8/classana_1_1__Var.html">ana::_Var&lt; caf::SRSliceProxy &gt;</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_a3f1cae3e5f6c1d992c319c4924c0afbc"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a3f1cae3e5f6c1d992c319c4924c0afbc">ana::ReweightableSpectrum::ReweightableSpectrum</a></div><div class="ttdeci">ReweightableSpectrum(SpectrumLoaderBase &amp;loader, const HistAxis &amp;recoAxis, const HistAxis &amp;trueAxis, const Cut &amp;cut, const SystShifts &amp;shift=kNoShift, const Var &amp;wei=kUnweighted)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/ReweightableSpectrum_8cxx_source.html#l00021">ReweightableSpectrum.cxx:21</a></div></div>
<div class="ttc" id="classana_1_1DontAddDirectory_html"><div class="ttname"><a href="../../df/dc0/classana_1_1DontAddDirectory.html">ana::DontAddDirectory</a></div><div class="ttdoc">Prevent histograms being added to the current directory. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/sbnana_2sbnana_2CAFAna_2Core_2Utilities_8h_source.html#l00056">sbnana/sbnana/CAFAna/Core/Utilities.h:56</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_a639709ba37ebec21c4a8d38a10901401"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a639709ba37ebec21c4a8d38a10901401">ana::ReweightableSpectrum::AddLoader</a></div><div class="ttdeci">void AddLoader(SpectrumLoaderBase *)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/ReweightableSpectrum_8cxx_source.html#l00456">ReweightableSpectrum.cxx:456</a></div></div>
<div class="ttc" id="classana_1_1Binning_html_a49232ae4c5fbeb4d9fda4c632c1a4136"><div class="ttname"><a href="../../db/d55/classana_1_1Binning.html#a49232ae4c5fbeb4d9fda4c632c1a4136">ana::Binning::Simple</a></div><div class="ttdeci">static Binning Simple(int n, double lo, double hi, const std::vector&lt; std::string &gt; &amp;labels={})</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d08/Binning_8cxx_source.html#l00038">Binning.cxx:38</a></div></div>
<div class="ttc" id="classana_1_1Binning_html_adbd09c913ca801134c9e949d3d0c21d9"><div class="ttname"><a href="../../db/d55/classana_1_1Binning.html#adbd09c913ca801134c9e949d3d0c21d9">ana::Binning::LoadFrom</a></div><div class="ttdeci">static std::unique_ptr&lt; Binning &gt; LoadFrom(TDirectory *dir)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d08/Binning_8cxx_source.html#l00229">Binning.cxx:229</a></div></div>
<div class="ttc" id="namespaceana_html_a9a10d1a70c4431c5ae2a504612a15e7b"><div class="ttname"><a href="../../d7/d63/namespaceana.html#a9a10d1a70c4431c5ae2a504612a15e7b">ana::UniqueName</a></div><div class="ttdeci">std::string UniqueName()</div><div class="ttdoc">Return a different string each time, for creating histograms. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcc/sbnana_2sbnana_2CAFAna_2Core_2Utilities_8cxx_source.html#l00032">sbnana/sbnana/CAFAna/Core/Utilities.cxx:32</a></div></div>
<div class="ttc" id="namespacechannelDBConverter_html_ab6cfbbcbb53c275375289d47dec67f46"><div class="ttname"><a href="../../d4/d43/namespacechannelDBConverter.html#ab6cfbbcbb53c275375289d47dec67f46">channelDBConverter.n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d11/channelDBConverter_8py_source.html#l00249">channelDBConverter.py:249</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_afb12ee90c6ae5dc985ae23b4fadc1166"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#afb12ee90c6ae5dc985ae23b4fadc1166">ana::ReweightableSpectrum::fLivetime</a></div><div class="ttdeci">double fLivetime</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7d/ReweightableSpectrum_8h_source.html#l00133">ReweightableSpectrum.h:133</a></div></div>
<div class="ttc" id="SpectrumLoaderBase_8h_html"><div class="ttname"><a href="../../d8/dc5/SpectrumLoaderBase_8h.html">SpectrumLoaderBase.h</a></div></div>
<div class="ttc" id="HistCache_8h_html"><div class="ttname"><a href="../../d8/dbc/HistCache_8h.html">HistCache.h</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_a5ba0355af9f2267e9b4f0b0228a8a504"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a5ba0355af9f2267e9b4f0b0228a8a504">ana::ReweightableSpectrum::WeightingVariable</a></div><div class="ttdeci">Spectrum WeightingVariable() const </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/ReweightableSpectrum_8cxx_source.html#l00320">ReweightableSpectrum.cxx:320</a></div></div>
<div class="ttc" id="icaruscode_2test_2fcl_2testFHiCLfiles_8sh_html_a6401d1c0a168bb3757821ca209161fe2"><div class="ttname"><a href="../../d4/d8f/icaruscode_2test_2fcl_2testFHiCLfiles_8sh.html#a6401d1c0a168bb3757821ca209161fe2">from</a></div><div class="ttdeci">exclude from</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d8f/icaruscode_2test_2fcl_2testFHiCLfiles_8sh_source.html#l00347">icaruscode/test/fcl/testFHiCLfiles.sh:347</a></div></div>
<div class="ttc" id="classana_1_1ReweightableSpectrum_html_a417ed30cad01958dd2914e7740f59285"><div class="ttname"><a href="../../dd/d5e/classana_1_1ReweightableSpectrum.html#a417ed30cad01958dd2914e7740f59285">ana::ReweightableSpectrum::ToTH2</a></div><div class="ttdeci">TH2D * ToTH2(double pot) const </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/ReweightableSpectrum_8cxx_source.html#l00223">ReweightableSpectrum.cxx:223</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
