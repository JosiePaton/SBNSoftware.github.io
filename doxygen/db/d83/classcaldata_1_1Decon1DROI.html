<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>caldata::Decon1DROI Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../db/d6d/namespacecaldata.html">caldata</a></li><li class="navelem"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html">Decon1DROI</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d8/df9/classcaldata_1_1Decon1DROI-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">caldata::Decon1DROI Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for caldata::Decon1DROI:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../db/d83/classcaldata_1_1Decon1DROI.png" usemap="#caldata::Decon1DROI_map" alt=""/>
  <map id="caldata::Decon1DROI_map" name="caldata::Decon1DROI_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc9/classcaldata_1_1Decon1DROI_1_1multiThreadDeconvolutionProcessing.html">multiThreadDeconvolutionProcessing</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af11d81a0eb25cbc80b2c61b52f2120d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#af11d81a0eb25cbc80b2c61b52f2120d1">Decon1DROI</a> (fhicl::ParameterSet const &amp;, art::ProcessingFrame const &amp;)</td></tr>
<tr class="separator:af11d81a0eb25cbc80b2c61b52f2120d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f978db7389149c94246f321c1409a5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a3f978db7389149c94246f321c1409a5a">produce</a> (art::Event &amp;evt, art::ProcessingFrame const &amp;) override</td></tr>
<tr class="separator:a3f978db7389149c94246f321c1409a5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae536f09043bcfa452309aa8f8903acb4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#ae536f09043bcfa452309aa8f8903acb4">reconfigure</a> (fhicl::ParameterSet const &amp;<a class="el" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>)</td></tr>
<tr class="separator:ae536f09043bcfa452309aa8f8903acb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a4ce6e290ec0a41ff5cfe21e7e9653423"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a4ce6e290ec0a41ff5cfe21e7e9653423">fixTheFreakingWaveform</a> (const std::vector&lt; float &gt; &amp;, <a class="el" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a>, std::vector&lt; float &gt; &amp;) const </td></tr>
<tr class="separator:a4ce6e290ec0a41ff5cfe21e7e9653423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2282b7c50f81020f3627d8e60c07a69e"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a2282b7c50f81020f3627d8e60c07a69e">getTruncatedRMS</a> (const std::vector&lt; float &gt; &amp;) const </td></tr>
<tr class="separator:a2282b7c50f81020f3627d8e60c07a69e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a882ee3646cfa966dba4b5201003a0574"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a882ee3646cfa966dba4b5201003a0574">processChannel</a> (size_t, art::Event &amp;, art::Handle&lt; std::vector&lt; <a class="el" href="../../d7/d64/classraw_1_1RawDigit.html">raw::RawDigit</a> &gt;&gt;, std::vector&lt; <a class="el" href="../../d2/db7/classrecob_1_1Wire.html">recob::Wire</a> &gt; &amp;, art::Assns&lt; <a class="el" href="../../d7/d64/classraw_1_1RawDigit.html">raw::RawDigit</a>, <a class="el" href="../../d2/db7/classrecob_1_1Wire.html">recob::Wire</a> &gt; &amp;, const std::string &amp;) const </td></tr>
<tr class="separator:a882ee3646cfa966dba4b5201003a0574"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a8eb069368fc454ec64b9569ae30029a6"><td class="memItemLeft" align="right" valign="top">std::vector&lt; art::InputTag &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a8eb069368fc454ec64b9569ae30029a6">fRawDigitLabelVec</a></td></tr>
<tr class="separator:a8eb069368fc454ec64b9569ae30029a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bffa8e7154675b5c1174527e4a2d6e2"><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a8bffa8e7154675b5c1174527e4a2d6e2">fNoiseSource</a></td></tr>
<tr class="memdesc:a8bffa8e7154675b5c1174527e4a2d6e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to determine ROI threshold.  <a href="#a8bffa8e7154675b5c1174527e4a2d6e2">More...</a><br/></td></tr>
<tr class="separator:a8bffa8e7154675b5c1174527e4a2d6e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18a6e0d131a12b1468db1848fa6b6c47"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a18a6e0d131a12b1468db1848fa6b6c47">fSaveWireWF</a></td></tr>
<tr class="memdesc:a18a6e0d131a12b1468db1848fa6b6c47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save recob::wire object waveforms.  <a href="#a18a6e0d131a12b1468db1848fa6b6c47">More...</a><br/></td></tr>
<tr class="separator:a18a6e0d131a12b1468db1848fa6b6c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a5e7cb408be957c55cbaad92140f8a4"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a9a5e7cb408be957c55cbaad92140f8a4">fEventCount</a></td></tr>
<tr class="memdesc:a9a5e7cb408be957c55cbaad92140f8a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">count of event processed  <a href="#a9a5e7cb408be957c55cbaad92140f8a4">More...</a><br/></td></tr>
<tr class="separator:a9a5e7cb408be957c55cbaad92140f8a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63f66c8207cc44daca2e5817881ba611"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a63f66c8207cc44daca2e5817881ba611">fMinAllowedChanStatus</a></td></tr>
<tr class="memdesc:a63f66c8207cc44daca2e5817881ba611"><td class="mdescLeft">&#160;</td><td class="mdescRight">Don't consider channels with lower status.  <a href="#a63f66c8207cc44daca2e5817881ba611">More...</a><br/></td></tr>
<tr class="separator:a63f66c8207cc44daca2e5817881ba611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8367234f035f85c274832a7137a9db79"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a8367234f035f85c274832a7137a9db79">fTruncRMSThreshold</a></td></tr>
<tr class="memdesc:a8367234f035f85c274832a7137a9db79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate RMS up to this threshold...  <a href="#a8367234f035f85c274832a7137a9db79">More...</a><br/></td></tr>
<tr class="separator:a8367234f035f85c274832a7137a9db79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa153b7eb154d6f3ea1c29afde45823cf"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#aa153b7eb154d6f3ea1c29afde45823cf">fTruncRMSMinFraction</a></td></tr>
<tr class="memdesc:aa153b7eb154d6f3ea1c29afde45823cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">or at least this fraction of time bins  <a href="#aa153b7eb154d6f3ea1c29afde45823cf">More...</a><br/></td></tr>
<tr class="separator:aa153b7eb154d6f3ea1c29afde45823cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4a648a5cb30bd10351cf1b3af9a7fe8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#ac4a648a5cb30bd10351cf1b3af9a7fe8">fOutputHistograms</a></td></tr>
<tr class="memdesc:ac4a648a5cb30bd10351cf1b3af9a7fe8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output histograms?  <a href="#ac4a648a5cb30bd10351cf1b3af9a7fe8">More...</a><br/></td></tr>
<tr class="separator:ac4a648a5cb30bd10351cf1b3af9a7fe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56495a324de7c9393572a45dd7f86ded"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::unique_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../d2/d32/classicarus__tool_1_1IROIFinder.html">icarus_tool::IROIFinder</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a56495a324de7c9393572a45dd7f86ded">fROIFinderVec</a></td></tr>
<tr class="memdesc:a56495a324de7c9393572a45dd7f86ded"><td class="mdescLeft">&#160;</td><td class="mdescRight">ROI finders per plane.  <a href="#a56495a324de7c9393572a45dd7f86ded">More...</a><br/></td></tr>
<tr class="separator:a56495a324de7c9393572a45dd7f86ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a244ea28ba4ffa5b5dc63a5cc05af4f4d"><td class="memItemLeft" align="right" valign="top">std::unique_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../d4/d5d/classicarus__tool_1_1IDeconvolution.html">icarus_tool::IDeconvolution</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a244ea28ba4ffa5b5dc63a5cc05af4f4d">fDeconvolution</a></td></tr>
<tr class="separator:a244ea28ba4ffa5b5dc63a5cc05af4f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eb01ab5477e8d4123d4c97891f4d862"><td class="memItemLeft" align="right" valign="top">std::unique_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../d4/d0d/classicarus__tool_1_1IBaseline.html">icarus_tool::IBaseline</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a3eb01ab5477e8d4123d4c97891f4d862">fBaseline</a></td></tr>
<tr class="separator:a3eb01ab5477e8d4123d4c97891f4d862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae37826b29ace02e269b145b7bfd62e18"><td class="memItemLeft" align="right" valign="top">icarus_signal_processing::WaveformTools<br class="typebreak"/>
&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#ae37826b29ace02e269b145b7bfd62e18">fWaveformTool</a></td></tr>
<tr class="separator:ae37826b29ace02e269b145b7bfd62e18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94e0224a3e968a22157e04f4fe46732f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a94e0224a3e968a22157e04f4fe46732f">fGeometry</a> = <a class="el" href="../../d7/d0b/namespacelar.html#a4f0075a9ded49ca69dbd4d16db9c1edd">lar::providerFrom</a>&lt;<a class="el" href="../../d8/df3/classgeo_1_1Geometry.html">geo::Geometry</a>&gt;()</td></tr>
<tr class="separator:a94e0224a3e968a22157e04f4fe46732f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a357411cdc295ea4906b1d3b0552c9b34"><td class="memItemLeft" align="right" valign="top">const <br class="typebreak"/>
<a class="el" href="../../d8/d7e/classlariov_1_1ChannelStatusProvider.html">lariov::ChannelStatusProvider</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a357411cdc295ea4906b1d3b0552c9b34">fChannelFilter</a> = <a class="el" href="../../d7/d0b/namespacelar.html#a4f0075a9ded49ca69dbd4d16db9c1edd">lar::providerFrom</a>&lt;<a class="el" href="../../d9/d1c/classlariov_1_1ChannelStatusService.html">lariov::ChannelStatusService</a>&gt;()</td></tr>
<tr class="separator:a357411cdc295ea4906b1d3b0552c9b34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a24445c558b6ed470dac63d4aafbc7"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d4/da6/classlariov_1_1DetPedestalProvider.html">lariov::DetPedestalProvider</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a09a24445c558b6ed470dac63d4aafbc7">fPedRetrievalAlg</a> = <a class="el" href="../../d7/d0b/namespacelar.html#a4f0075a9ded49ca69dbd4d16db9c1edd">lar::providerFrom</a>&lt;<a class="el" href="../../d6/d4e/classlariov_1_1DetPedestalService.html">lariov::DetPedestalService</a>&gt;()</td></tr>
<tr class="separator:a09a24445c558b6ed470dac63d4aafbc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72d6238cb151d769597293892378d542"><td class="memItemLeft" align="right" valign="top">std::vector&lt; TH1F * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a72d6238cb151d769597293892378d542">fPedestalOffsetVec</a></td></tr>
<tr class="separator:a72d6238cb151d769597293892378d542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d745e4aff48c4ede30d92f9d8af6966"><td class="memItemLeft" align="right" valign="top">std::vector&lt; TH1F * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a6d745e4aff48c4ede30d92f9d8af6966">fFullRMSVec</a></td></tr>
<tr class="separator:a6d745e4aff48c4ede30d92f9d8af6966"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31f44c5b0e0c0d6dca2b074a4524500e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; TH1F * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a31f44c5b0e0c0d6dca2b074a4524500e">fTruncRMSVec</a></td></tr>
<tr class="separator:a31f44c5b0e0c0d6dca2b074a4524500e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35fcc72c29b5bdb33d3110e83409dfab"><td class="memItemLeft" align="right" valign="top">std::vector&lt; TH1F * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a35fcc72c29b5bdb33d3110e83409dfab">fNumTruncBinsVec</a></td></tr>
<tr class="separator:a35fcc72c29b5bdb33d3110e83409dfab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada518e0ac02066d677b2fc1d4b9195dc"><td class="memItemLeft" align="right" valign="top">std::vector&lt; TProfile * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#ada518e0ac02066d677b2fc1d4b9195dc">fPedByChanVec</a></td></tr>
<tr class="separator:ada518e0ac02066d677b2fc1d4b9195dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a303536255cd2f24f8239a4295fac45b4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; TProfile * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a303536255cd2f24f8239a4295fac45b4">fTruncRMSByChanVec</a></td></tr>
<tr class="separator:a303536255cd2f24f8239a4295fac45b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24d8fde8575a84fd92d7d11a44b6908f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; TH1F * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a24d8fde8575a84fd92d7d11a44b6908f">fNumROIsHistVec</a></td></tr>
<tr class="separator:a24d8fde8575a84fd92d7d11a44b6908f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd30c1181dc5698c78500a1d87aaea14"><td class="memItemLeft" align="right" valign="top">std::vector&lt; TH1F * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d83/classcaldata_1_1Decon1DROI.html#afd30c1181dc5698c78500a1d87aaea14">fROILenHistVec</a></td></tr>
<tr class="separator:afd30c1181dc5698c78500a1d87aaea14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00065">65</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af11d81a0eb25cbc80b2c61b52f2120d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">caldata::Decon1DROI::Decon1DROI </td>
          <td>(</td>
          <td class="paramtype">fhicl::ParameterSet const &amp;&#160;</td>
          <td class="paramname"><em>pset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">art::ProcessingFrame const &amp;&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00161">161</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                                                                                      : art::ReplicatedProducer(pset,frame)</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;{</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    this-&gt;<a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#ae536f09043bcfa452309aa8f8903acb4">reconfigure</a>(pset);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// We create a separate output instance for each input instance</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; rawDigit : <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a8eb069368fc454ec64b9569ae30029a6">fRawDigitLabelVec</a>)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        produces&lt; std::vector&lt;recob::Wire&gt; &gt;(rawDigit.instance());</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        produces&lt;art::Assns&lt;raw::RawDigit, recob::Wire&gt;&gt;(rawDigit.instance());</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a9a5e7cb408be957c55cbaad92140f8a4">fEventCount</a> = 0;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a9a5e7cb408be957c55cbaad92140f8a4"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a9a5e7cb408be957c55cbaad92140f8a4">caldata::Decon1DROI::fEventCount</a></div><div class="ttdeci">size_t fEventCount</div><div class="ttdoc">count of event processed </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00129">Decon1DROI_module.cc:129</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_ae536f09043bcfa452309aa8f8903acb4"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#ae536f09043bcfa452309aa8f8903acb4">caldata::Decon1DROI::reconfigure</a></div><div class="ttdeci">void reconfigure(fhicl::ParameterSet const &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00175">Decon1DROI_module.cc:175</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a8eb069368fc454ec64b9569ae30029a6"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a8eb069368fc454ec64b9569ae30029a6">caldata::Decon1DROI::fRawDigitLabelVec</a></div><div class="ttdeci">std::vector&lt; art::InputTag &gt; fRawDigitLabelVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00124">Decon1DROI_module.cc:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4ce6e290ec0a41ff5cfe21e7e9653423"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float caldata::Decon1DROI::fixTheFreakingWaveform </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>waveform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>fixedWaveform</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00346">346</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;{</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="comment">// do rms calculation - the old fashioned way and over all adc values</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    std::vector&lt;float&gt; locWaveform = waveform;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">// sort in ascending order so we can truncate the sume</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    std::sort(locWaveform.begin(), locWaveform.end(),[](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>, <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>){<span class="keywordflow">return</span> std::fabs(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>) &lt; std::fabs(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>);});</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// Get the mean of the waveform we&#39;re checking...</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordtype">float</span> sumWaveform  = std::accumulate(locWaveform.begin(),locWaveform.begin() + locWaveform.size()/2, 0.);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordtype">float</span> meanWaveform = sumWaveform / float(locWaveform.size()/2);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    std::vector&lt;float&gt; locWaveformDiff(locWaveform.size()/2);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">std::transform</a>(locWaveform.begin(),locWaveform.begin() + locWaveform.size()/2,locWaveformDiff.begin(), std::bind(std::minus&lt;float&gt;(),std::placeholders::_1,meanWaveform));</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordtype">float</span> localRMS = std::inner_product(locWaveformDiff.begin(), locWaveformDiff.end(), locWaveformDiff.begin(), 0.);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    localRMS = std::sqrt(<a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(<span class="keywordtype">float</span>(0.),localRMS / <span class="keywordtype">float</span>(locWaveformDiff.size())));</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordtype">float</span> threshold = 6. * localRMS;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    std::vector&lt;float&gt;::iterator threshItr = std::find_if(locWaveform.begin(),locWaveform.end(),[threshold](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; val){<span class="keywordflow">return</span> std::fabs(val) &gt; threshold;});</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordtype">int</span> minNumBins = <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(<span class="keywordtype">int</span>(<a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#aa153b7eb154d6f3ea1c29afde45823cf">fTruncRMSMinFraction</a> * locWaveform.size()),<span class="keywordtype">int</span>(std::distance(locWaveform.begin(),threshItr)));</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">// recalculate the mean</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordtype">float</span> aveSum      = std::accumulate(locWaveform.begin(), locWaveform.begin() + minNumBins, 0.);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordtype">float</span> newPedestal = aveSum / minNumBins;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="comment">// recalculate the rms</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    locWaveformDiff.resize(minNumBins);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">std::transform</a>(locWaveform.begin(),locWaveform.begin() + minNumBins,locWaveformDiff.begin(), std::bind(std::minus&lt;float&gt;(),std::placeholders::_1,newPedestal));</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    localRMS = std::inner_product(locWaveform.begin(), locWaveform.begin() + minNumBins, locWaveform.begin(), 0.);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    localRMS = std::sqrt(<a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(<span class="keywordtype">float</span>(0.),localRMS / <span class="keywordtype">float</span>(minNumBins)));</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// Set the waveform to the new baseline</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">std::transform</a>(waveform.begin(), waveform.end(), fixedWaveform.begin(), [newPedestal](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; val){<span class="keywordflow">return</span> val - newPedestal;});</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment">// Fill histograms</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#ac4a648a5cb30bd10351cf1b3af9a7fe8">fOutputHistograms</a>)</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        std::vector&lt;geo::WireID&gt; wids;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;           wids = <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a94e0224a3e968a22157e04f4fe46732f">fGeometry</a>-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#a0c5d3db5d5490bc3fc8fb3bbdb282f36">ChannelToWire</a>(channel);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">catch</span>(...)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Caught exception looking up channel&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <span class="keywordflow">return</span> localRMS;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="comment">// Recover plane and wire in the plane</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordtype">size_t</span> plane = wids[0].Plane;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordtype">size_t</span> wire  = wids[0].Wire;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">//        float fullRMS = std::inner_product(locWaveform.begin(), locWaveform.end(), locWaveform.begin(), 0.);</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">//        fullRMS = std::sqrt(std::max(float(0.),fullRMS / float(locWaveform.size())));</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a72d6238cb151d769597293892378d542">fPedestalOffsetVec</a>[plane]-&gt;Fill(newPedestal,1.);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">//        fFullRMSVec[plane]-&gt;Fill(fullRMS, 1.);</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a31f44c5b0e0c0d6dca2b074a4524500e">fTruncRMSVec</a>[plane]-&gt;Fill(localRMS, 1.);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a35fcc72c29b5bdb33d3110e83409dfab">fNumTruncBinsVec</a>[plane]-&gt;Fill(minNumBins, 1.);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#ada518e0ac02066d677b2fc1d4b9195dc">fPedByChanVec</a>[plane]-&gt;Fill(wire, newPedestal, 1.);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a303536255cd2f24f8239a4295fac45b4">fTruncRMSByChanVec</a>[plane]-&gt;Fill(wire, localRMS, 1.);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">return</span> localRMS;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a72d6238cb151d769597293892378d542"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a72d6238cb151d769597293892378d542">caldata::Decon1DROI::fPedestalOffsetVec</a></div><div class="ttdeci">std::vector&lt; TH1F * &gt; fPedestalOffsetVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00147">Decon1DROI_module.cc:147</a></div></div>
<div class="ttc" id="namespaceicarus_1_1waveform__operations_1_1details_html_ae295d3f6cb2f9181dccdf0e3492d44e0"><div class="ttname"><a href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">icarus::waveform_operations::details::transform</a></div><div class="ttdeci">static constexpr Sample_t transform(Sample_t sample)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8e/WaveformOperations_8h_source.html#l00145">WaveformOperations.h:145</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a9453748558088ae22499027391c13aaf"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a></div><div class="ttdeci">walls no right</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_aa153b7eb154d6f3ea1c29afde45823cf"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#aa153b7eb154d6f3ea1c29afde45823cf">caldata::Decon1DROI::fTruncRMSMinFraction</a></div><div class="ttdeci">float fTruncRMSMinFraction</div><div class="ttdoc">or at least this fraction of time bins </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00133">Decon1DROI_module.cc:133</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_ac4a648a5cb30bd10351cf1b3af9a7fe8"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#ac4a648a5cb30bd10351cf1b3af9a7fe8">caldata::Decon1DROI::fOutputHistograms</a></div><div class="ttdeci">bool fOutputHistograms</div><div class="ttdoc">Output histograms? </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00134">Decon1DROI_module.cc:134</a></div></div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_a0c5d3db5d5490bc3fc8fb3bbdb282f36"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#a0c5d3db5d5490bc3fc8fb3bbdb282f36">geo::GeometryCore::ChannelToWire</a></div><div class="ttdeci">std::vector&lt; geo::WireID &gt; ChannelToWire(raw::ChannelID_t const channel) const </div><div class="ttdoc">Returns a list of wires connected to the specified TPC channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6a/GeometryCore_8cxx_source.html#l01107">GeometryCore.cxx:1107</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_ada518e0ac02066d677b2fc1d4b9195dc"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#ada518e0ac02066d677b2fc1d4b9195dc">caldata::Decon1DROI::fPedByChanVec</a></div><div class="ttdeci">std::vector&lt; TProfile * &gt; fPedByChanVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00151">Decon1DROI_module.cc:151</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a303536255cd2f24f8239a4295fac45b4"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a303536255cd2f24f8239a4295fac45b4">caldata::Decon1DROI::fTruncRMSByChanVec</a></div><div class="ttdeci">std::vector&lt; TProfile * &gt; fTruncRMSByChanVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00152">Decon1DROI_module.cc:152</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a35fcc72c29b5bdb33d3110e83409dfab"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a35fcc72c29b5bdb33d3110e83409dfab">caldata::Decon1DROI::fNumTruncBinsVec</a></div><div class="ttdeci">std::vector&lt; TH1F * &gt; fNumTruncBinsVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00150">Decon1DROI_module.cc:150</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a1abc6b9e279feba048394f49a85218c9"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a></div><div class="ttdeci">walls no left</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a94e0224a3e968a22157e04f4fe46732f"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a94e0224a3e968a22157e04f4fe46732f">caldata::Decon1DROI::fGeometry</a></div><div class="ttdeci">const geo::GeometryCore * fGeometry</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00142">Decon1DROI_module.cc:142</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a31f44c5b0e0c0d6dca2b074a4524500e"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a31f44c5b0e0c0d6dca2b074a4524500e">caldata::Decon1DROI::fTruncRMSVec</a></div><div class="ttdeci">std::vector&lt; TH1F * &gt; fTruncRMSVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00149">Decon1DROI_module.cc:149</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2282b7c50f81020f3627d8e60c07a69e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float caldata::Decon1DROI::getTruncatedRMS </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>waveform</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00324">324</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;{</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// do rms calculation - the old fashioned way and over all adc values</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    std::vector&lt;float&gt; locWaveform = waveform;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">// sort in ascending order so we can truncate the sume</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    std::sort(locWaveform.begin(), locWaveform.end(),[](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>, <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>){<span class="keywordflow">return</span> std::fabs(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>) &lt; std::fabs(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>);});</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordtype">float</span> threshold = <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a8367234f035f85c274832a7137a9db79">fTruncRMSThreshold</a>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    std::vector&lt;float&gt;::iterator threshItr = std::find_if(locWaveform.begin(),locWaveform.end(),[threshold](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; val){<span class="keywordflow">return</span> std::fabs(val) &gt; threshold;});</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordtype">int</span> minNumBins = <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(<span class="keywordtype">int</span>(<a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#aa153b7eb154d6f3ea1c29afde45823cf">fTruncRMSMinFraction</a> * locWaveform.size()),<span class="keywordtype">int</span>(std::distance(locWaveform.begin(),threshItr)));</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="comment">// Get the truncated sum</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordtype">float</span> truncRms = std::inner_product(locWaveform.begin(), locWaveform.begin() + minNumBins, locWaveform.begin(), 0.);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    truncRms = std::sqrt(<a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(0.,truncRms / <span class="keywordtype">double</span>(minNumBins)));</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">return</span> truncRms;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;}</div>
<div class="ttc" id="selectors_8fcl_html_a9453748558088ae22499027391c13aaf"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a></div><div class="ttdeci">walls no right</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_aa153b7eb154d6f3ea1c29afde45823cf"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#aa153b7eb154d6f3ea1c29afde45823cf">caldata::Decon1DROI::fTruncRMSMinFraction</a></div><div class="ttdeci">float fTruncRMSMinFraction</div><div class="ttdoc">or at least this fraction of time bins </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00133">Decon1DROI_module.cc:133</a></div></div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a1abc6b9e279feba048394f49a85218c9"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a></div><div class="ttdeci">walls no left</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a8367234f035f85c274832a7137a9db79"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a8367234f035f85c274832a7137a9db79">caldata::Decon1DROI::fTruncRMSThreshold</a></div><div class="ttdeci">float fTruncRMSThreshold</div><div class="ttdoc">Calculate RMS up to this threshold... </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00132">Decon1DROI_module.cc:132</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a882ee3646cfa966dba4b5201003a0574"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void caldata::Decon1DROI::processChannel </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">art::Event &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">art::Handle&lt; std::vector&lt; <a class="el" href="../../d7/d64/classraw_1_1RawDigit.html">raw::RawDigit</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>digitVecHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d2/db7/classrecob_1_1Wire.html">recob::Wire</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>wireColVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">art::Assns&lt; <a class="el" href="../../d7/d64/classraw_1_1RawDigit.html">raw::RawDigit</a>, <a class="el" href="../../d2/db7/classrecob_1_1Wire.html">recob::Wire</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>wireAssns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00420">420</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;{</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">// vector that will be moved into the Wire object</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="../../d4/da5/classlar_1_1sparse__vector.html">recob::Wire::RegionsOfInterest_t</a> deconVec;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <a class="code" href="../../d4/da5/classlar_1_1sparse__vector.html">recob::Wire::RegionsOfInterest_t</a> ROIVec;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">// get the reference to the current raw::RawDigit</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    art::Ptr&lt;raw::RawDigit&gt; digitVec(digitVecHandle, idx);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <a class="code" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a> channel = digitVec-&gt;Channel();</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">// The following test is meant to be temporary until the &quot;correct&quot; solution is implemented</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a357411cdc295ea4906b1d3b0552c9b34">fChannelFilter</a>-&gt;<a class="code" href="../../d8/d7e/classlariov_1_1ChannelStatusProvider.html#a97a889ba0411426ccd1bfa02b72c14f2">IsPresent</a>(channel)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">// The waveforms should have been set to a 0. pedestal...</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordtype">float</span> pedestal = 0.;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="comment">// Recover the plane info</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    std::vector&lt;geo::WireID&gt; wids = <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a94e0224a3e968a22157e04f4fe46732f">fGeometry</a>-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#a0c5d3db5d5490bc3fc8fb3bbdb282f36">ChannelToWire</a>(channel);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">// skip bad channels</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a357411cdc295ea4906b1d3b0552c9b34">fChannelFilter</a>-&gt;<a class="code" href="../../d8/d7e/classlariov_1_1ChannelStatusProvider.html#a8082e7279d20126bade64718b2db34de">Status</a>(channel) &lt; <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a63f66c8207cc44daca2e5817881ba611">fMinAllowedChanStatus</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordtype">size_t</span> dataSize = digitVec-&gt;Samples();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d4/d41/structgeo_1_1PlaneID.html">geo::PlaneID</a>&amp; planeID = wids[0].planeID();</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="comment">// vector holding uncompressed adc values</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    std::vector&lt;short&gt; rawadc(dataSize);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="comment">// uncompress the data</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="../../d9/d63/namespaceraw.html#adb44765eee4a6e600cb97fff8d7a6095">raw::Uncompress</a>(digitVec-&gt;ADCs(), rawadc, digitVec-&gt;Compression());</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">// loop over all adc values and subtract the pedestal</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="comment">// When we have a pedestal database, can provide the digit timestamp as the third argument of GetPedestalMean</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        pedestal = <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a09a24445c558b6ed470dac63d4aafbc7">fPedRetrievalAlg</a>-&gt;<a class="code" href="../../d4/da6/classlariov_1_1DetPedestalProvider.html#a66cb9c383ace6cd42dc7a637656d593f">PedMean</a>(channel);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">catch</span>(...)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        mf::LogDebug(<span class="stringliteral">&quot;Decon1DROI_module&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;Pedestal lookup fails with channel: &quot;</span> &lt;&lt; channel &lt;&lt; std::endl;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="comment">// Get the pedestal subtracted data, centered in the deconvolution vector</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    std::vector&lt;float&gt; rawAdcLessPedVec(dataSize);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">std::transform</a>(rawadc.begin(),rawadc.end(),rawAdcLessPedVec.begin(),std::bind(std::minus&lt;short&gt;(),std::placeholders::_1,pedestal));</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="comment">// It seems there are deviations from the pedestal when using wirecell for noise filtering</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="comment">//float raw_noise = fixTheFreakingWaveform(rawAdcLessPedVec, channel, rawAdcLessPedVec);</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordtype">float</span> raw_noise = digitVec-&gt;GetSigma();</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="comment">// Recover a measure of the noise on the channel for use in the ROI finder</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="comment">//float raw_noise = getTruncatedRMS(rawAdcLessPedVec);</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="comment">// Try smoothing the input waveform</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">//    std::vector&lt;float&gt; rawAdcSmoothVec;</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">//        fWaveformTool-&gt;medianSmooth(rawAdcLessPedVec,rawAdcSmoothVec);</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="comment">// Make a dummy candidate roi vec</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="../../d2/d32/classicarus__tool_1_1IROIFinder.html#a12a32f6e1338c584273217dbc4fb6378">icarus_tool::IROIFinder::CandidateROIVec</a> deconROIVec;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    deconROIVec.push_back(<a class="code" href="../../d2/d32/classicarus__tool_1_1IROIFinder.html#ad229ce67942c5ed0f0cc0e5cfe85423a">icarus_tool::IROIFinder::CandidateROI</a>(0,rawAdcLessPedVec.size() - 1));</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="comment">// Do the deconvolution on the full waveform</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> clockData = art::ServiceHandle&lt;detinfo::DetectorClocksService const&gt;()-&gt;DataFor(event);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a244ea28ba4ffa5b5dc63a5cc05af4f4d">fDeconvolution</a>-&gt;Deconvolve(rawAdcLessPedVec, <a class="code" href="../../d7/d8a/namespacedetinfo.html#a0c4d3d5b85e37497364174c3513ffcae">sampling_rate</a>(clockData), channel, deconROIVec, deconVec);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="comment">// Recover the deconvolved waveform</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keyword">const</span> std::vector&lt;float&gt;&amp; deconvolvedWaveform = deconVec.<a class="code" href="../../d4/da5/classlar_1_1sparse__vector.html#a8d9b2860eee2156fe59ba0ce4f0f1393">get_ranges</a>().front().data();</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="comment">// vector of candidate ROI begin and end bins</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="../../d2/d32/classicarus__tool_1_1IROIFinder.html#a12a32f6e1338c584273217dbc4fb6378">icarus_tool::IROIFinder::CandidateROIVec</a> candRoiVec;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="comment">// Now find the candidate ROI&#39;s</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a56495a324de7c9393572a45dd7f86ded">fROIFinderVec</a>.at(planeID.<a class="code" href="../../d4/d41/structgeo_1_1PlaneID.html#a02c2afa6841ef86ea8ab49478cdf5b29">Plane</a>)-&gt;FindROIs(deconvolvedWaveform, channel, <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a9a5e7cb408be957c55cbaad92140f8a4">fEventCount</a>, raw_noise, candRoiVec);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    std::vector&lt;float&gt; holder;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="comment">// We need to copy the deconvolved (and corrected) waveform ROI&#39;s</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; candROI : candRoiVec)</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="comment">// First up: copy out the relevent ADC bins into the ROI holder</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordtype">size_t</span> roiLen = candROI.second - candROI.first + 1;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        holder.resize(roiLen);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <a class="code" href="../../d6/dd6/RangeForWrapper__test_8cc.html#a2a47a7f29f0ddd7ff5d68f8aff63125c">std::copy</a>(deconvolvedWaveform.begin()+candROI.first, deconvolvedWaveform.begin()+candROI.second, holder.begin());</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="comment">// Now we do the baseline determination and correct the ROI</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="comment">//float base = fBaseline-&gt;GetBaseline(holder, channel, roiStart, roiLen);</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordtype">float</span> base = <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a3eb01ab5477e8d4123d4c97891f4d862">fBaseline</a>-&gt;GetBaseline(holder, channel, 0, roiLen);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">std::transform</a>(holder.begin(),holder.end(),holder.begin(),[base](<span class="keyword">auto</span>&amp; adcVal){<span class="keywordflow">return</span> adcVal - base;});</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="comment">// add the range into ROIVec</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        ROIVec.<a class="code" href="../../d4/da5/classlar_1_1sparse__vector.html#a234e1a7d10a4225b66209e2d14365f27">add_range</a>(candROI.first, std::move(holder));</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="comment">// Make some histograms?</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#ac4a648a5cb30bd10351cf1b3af9a7fe8">fOutputHistograms</a>)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a24d8fde8575a84fd92d7d11a44b6908f">fNumROIsHistVec</a>.at(planeID.<a class="code" href="../../d4/d41/structgeo_1_1PlaneID.html#a02c2afa6841ef86ea8ab49478cdf5b29">Plane</a>)-&gt;Fill(candRoiVec.size(), 1.);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; pair : candRoiVec)</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#afd30c1181dc5698c78500a1d87aaea14">fROILenHistVec</a>.at(planeID.<a class="code" href="../../d4/d41/structgeo_1_1PlaneID.html#a02c2afa6841ef86ea8ab49478cdf5b29">Plane</a>)-&gt;Fill(pair.second-pair.first, 1.);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordtype">float</span> fullRMS = std::inner_product(deconvolvedWaveform.begin(), deconvolvedWaveform.end(), deconvolvedWaveform.begin(), 0.);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        fullRMS = std::sqrt(<a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(<span class="keywordtype">float</span>(0.),fullRMS / <span class="keywordtype">float</span>(deconvolvedWaveform.size())));</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a6d745e4aff48c4ede30d92f9d8af6966">fFullRMSVec</a>[planeID.<a class="code" href="../../d4/d41/structgeo_1_1PlaneID.html#a02c2afa6841ef86ea8ab49478cdf5b29">Plane</a>]-&gt;Fill(fullRMS, 1.);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">// Don&#39;t save empty wires</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">if</span> (ROIVec.<a class="code" href="../../d4/da5/classlar_1_1sparse__vector.html#a6837d5208aa96a1ac80cc60268f2bf3f">empty</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="comment">// First get a lock to make sure we are clear to run</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    tbb::spin_mutex::scoped_lock lock(<a class="code" href="../../db/d6d/namespacecaldata.html#a74feeda44932638842e77f3d76c06f09">deconvolutionSpinMutex</a>);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="comment">// create the new wire directly in wirecol</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    wireColVec.push_back(<a class="code" href="../../d6/d1c/classrecob_1_1WireCreator.html">recob::WireCreator</a>(std::move(ROIVec),*digitVec).move());</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="comment">// add an association between the last object in wirecol</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">// (that we just inserted) and digitVec</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d72/namespaceutil.html#ac016dc123242a7f1d5c81594de910717">util::CreateAssn</a>(event, wireColVec, digitVec, wireAssns, <a class="code" href="../../d4/d97/BlipMaker__module_8cc.html#a8b8f5c7804b8eb6cd2f4a20f9ef30d41">instance</a>))</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">throw</span> art::Exception(art::errors::ProductRegistrationFailure)</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;Can&#39;t associate wire #&quot;</span> &lt;&lt; (wireColVec.size() - 1)</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; with raw digit #&quot;</span> &lt;&lt; digitVec.key();</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    } <span class="comment">// if failed to add association</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;}</div>
<div class="ttc" id="namespaceicarus_1_1waveform__operations_1_1details_html_ae295d3f6cb2f9181dccdf0e3492d44e0"><div class="ttname"><a href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">icarus::waveform_operations::details::transform</a></div><div class="ttdeci">static constexpr Sample_t transform(Sample_t sample)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8e/WaveformOperations_8h_source.html#l00145">WaveformOperations.h:145</a></div></div>
<div class="ttc" id="structgeo_1_1PlaneID_html"><div class="ttname"><a href="../../d4/d41/structgeo_1_1PlaneID.html">geo::PlaneID</a></div><div class="ttdoc">The data type to uniquely identify a Plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00472">geo_types.h:472</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_ac4a648a5cb30bd10351cf1b3af9a7fe8"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#ac4a648a5cb30bd10351cf1b3af9a7fe8">caldata::Decon1DROI::fOutputHistograms</a></div><div class="ttdeci">bool fOutputHistograms</div><div class="ttdoc">Output histograms? </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00134">Decon1DROI_module.cc:134</a></div></div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="BlipMaker__module_8cc_html_a8b8f5c7804b8eb6cd2f4a20f9ef30d41"><div class="ttname"><a href="../../d4/d97/BlipMaker__module_8cc.html#a8b8f5c7804b8eb6cd2f4a20f9ef30d41">instance</a></div><div class="ttdeci">const std::string instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d97/BlipMaker__module_8cc_source.html#l00035">BlipMaker_module.cc:35</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_a0c5d3db5d5490bc3fc8fb3bbdb282f36"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#a0c5d3db5d5490bc3fc8fb3bbdb282f36">geo::GeometryCore::ChannelToWire</a></div><div class="ttdeci">std::vector&lt; geo::WireID &gt; ChannelToWire(raw::ChannelID_t const channel) const </div><div class="ttdoc">Returns a list of wires connected to the specified TPC channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6a/GeometryCore_8cxx_source.html#l01107">GeometryCore.cxx:1107</a></div></div>
<div class="ttc" id="classlar_1_1sparse__vector_html_a234e1a7d10a4225b66209e2d14365f27"><div class="ttname"><a href="../../d4/da5/classlar_1_1sparse__vector.html#a234e1a7d10a4225b66209e2d14365f27">lar::sparse_vector::add_range</a></div><div class="ttdeci">const datarange_t &amp; add_range(size_type offset, ITER first, ITER last)</div><div class="ttdoc">Adds a sequence of elements as a range with specified offset. </div></div>
<div class="ttc" id="classlar_1_1sparse__vector_html_a8d9b2860eee2156fe59ba0ce4f0f1393"><div class="ttname"><a href="../../d4/da5/classlar_1_1sparse__vector.html#a8d9b2860eee2156fe59ba0ce4f0f1393">lar::sparse_vector::get_ranges</a></div><div class="ttdeci">const range_list_t &amp; get_ranges() const </div><div class="ttdoc">Returns the internal list of non-void ranges. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5b/sparse__vector_8h_source.html#l00717">sparse_vector.h:717</a></div></div>
<div class="ttc" id="classicarus__tool_1_1IROIFinder_html_a12a32f6e1338c584273217dbc4fb6378"><div class="ttname"><a href="../../d2/d32/classicarus__tool_1_1IROIFinder.html#a12a32f6e1338c584273217dbc4fb6378">icarus_tool::IROIFinder::CandidateROIVec</a></div><div class="ttdeci">std::vector&lt; CandidateROI &gt; CandidateROIVec</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8e/icaruscode_2icaruscode_2TPC_2SignalProcessing_2RecoWire_2DeconTools_2IROIFinder_8h_source.html#l00056">icaruscode/icaruscode/TPC/SignalProcessing/RecoWire/DeconTools/IROIFinder.h:56</a></div></div>
<div class="ttc" id="classrecob_1_1WireCreator_html"><div class="ttname"><a href="../../d6/d1c/classrecob_1_1WireCreator.html">recob::WireCreator</a></div><div class="ttdoc">Class managing the creation of a new recob::Wire object. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d3e/WireCreator_8h_source.html#l00053">WireCreator.h:53</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a9a5e7cb408be957c55cbaad92140f8a4"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a9a5e7cb408be957c55cbaad92140f8a4">caldata::Decon1DROI::fEventCount</a></div><div class="ttdeci">size_t fEventCount</div><div class="ttdoc">count of event processed </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00129">Decon1DROI_module.cc:129</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a3eb01ab5477e8d4123d4c97891f4d862"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a3eb01ab5477e8d4123d4c97891f4d862">caldata::Decon1DROI::fBaseline</a></div><div class="ttdeci">std::unique_ptr&lt; icarus_tool::IBaseline &gt; fBaseline</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00138">Decon1DROI_module.cc:138</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_afd30c1181dc5698c78500a1d87aaea14"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#afd30c1181dc5698c78500a1d87aaea14">caldata::Decon1DROI::fROILenHistVec</a></div><div class="ttdeci">std::vector&lt; TH1F * &gt; fROILenHistVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00154">Decon1DROI_module.cc:154</a></div></div>
<div class="ttc" id="classlariov_1_1ChannelStatusProvider_html_a97a889ba0411426ccd1bfa02b72c14f2"><div class="ttname"><a href="../../d8/d7e/classlariov_1_1ChannelStatusProvider.html#a97a889ba0411426ccd1bfa02b72c14f2">lariov::ChannelStatusProvider::IsPresent</a></div><div class="ttdeci">virtual bool IsPresent(raw::ChannelID_t channel) const =0</div><div class="ttdoc">Returns whether the specified channel is physical and connected to wire. </div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a6d745e4aff48c4ede30d92f9d8af6966"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a6d745e4aff48c4ede30d92f9d8af6966">caldata::Decon1DROI::fFullRMSVec</a></div><div class="ttdeci">std::vector&lt; TH1F * &gt; fFullRMSVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00148">Decon1DROI_module.cc:148</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a244ea28ba4ffa5b5dc63a5cc05af4f4d"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a244ea28ba4ffa5b5dc63a5cc05af4f4d">caldata::Decon1DROI::fDeconvolution</a></div><div class="ttdeci">std::unique_ptr&lt; icarus_tool::IDeconvolution &gt; fDeconvolution</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00137">Decon1DROI_module.cc:137</a></div></div>
<div class="ttc" id="classlariov_1_1ChannelStatusProvider_html_a8082e7279d20126bade64718b2db34de"><div class="ttname"><a href="../../d8/d7e/classlariov_1_1ChannelStatusProvider.html#a8082e7279d20126bade64718b2db34de">lariov::ChannelStatusProvider::Status</a></div><div class="ttdeci">virtual Status_t Status(raw::ChannelID_t channel) const </div><div class="ttdoc">Returns a status integer with arbitrary meaning. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/ded/ChannelStatusProvider_8h_source.html#l00089">ChannelStatusProvider.h:89</a></div></div>
<div class="ttc" id="structgeo_1_1PlaneID_html_a02c2afa6841ef86ea8ab49478cdf5b29"><div class="ttname"><a href="../../d4/d41/structgeo_1_1PlaneID.html#a02c2afa6841ef86ea8ab49478cdf5b29">geo::PlaneID::Plane</a></div><div class="ttdeci">PlaneID_t Plane</div><div class="ttdoc">Index of the plane within its TPC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00493">geo_types.h:493</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a24d8fde8575a84fd92d7d11a44b6908f"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a24d8fde8575a84fd92d7d11a44b6908f">caldata::Decon1DROI::fNumROIsHistVec</a></div><div class="ttdeci">std::vector&lt; TH1F * &gt; fNumROIsHistVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00153">Decon1DROI_module.cc:153</a></div></div>
<div class="ttc" id="classlariov_1_1DetPedestalProvider_html_a66cb9c383ace6cd42dc7a637656d593f"><div class="ttname"><a href="../../d4/da6/classlariov_1_1DetPedestalProvider.html#a66cb9c383ace6cd42dc7a637656d593f">lariov::DetPedestalProvider::PedMean</a></div><div class="ttdeci">virtual float PedMean(raw::ChannelID_t ch) const =0</div><div class="ttdoc">Retrieve pedestal information. </div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a94e0224a3e968a22157e04f4fe46732f"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a94e0224a3e968a22157e04f4fe46732f">caldata::Decon1DROI::fGeometry</a></div><div class="ttdeci">const geo::GeometryCore * fGeometry</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00142">Decon1DROI_module.cc:142</a></div></div>
<div class="ttc" id="namespaceutil_html_ac016dc123242a7f1d5c81594de910717"><div class="ttname"><a href="../../d6/d72/namespaceutil.html#ac016dc123242a7f1d5c81594de910717">util::CreateAssn</a></div><div class="ttdeci">bool CreateAssn(art::Event &amp;evt, std::vector&lt; T &gt; const &amp;a, art::Ptr&lt; U &gt; const &amp;b, art::Assns&lt; U, T &gt; &amp;assn, std::string a_instance, size_t index=UINT_MAX)</div><div class="ttdoc">Creates a single one-to-one association. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d9c/lardata_2lardata_2Utilities_2AssociationUtil_8h_source.html#l00581">lardata/lardata/Utilities/AssociationUtil.h:581</a></div></div>
<div class="ttc" id="classlar_1_1sparse__vector_html"><div class="ttname"><a href="../../d4/da5/classlar_1_1sparse__vector.html">lar::sparse_vector&lt; float &gt;</a></div></div>
<div class="ttc" id="classlar_1_1sparse__vector_html_a6837d5208aa96a1ac80cc60268f2bf3f"><div class="ttname"><a href="../../d4/da5/classlar_1_1sparse__vector.html#a6837d5208aa96a1ac80cc60268f2bf3f">lar::sparse_vector::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdoc">Returns whether the vector is empty. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5b/sparse__vector_8h_source.html#l00565">sparse_vector.h:565</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a09a24445c558b6ed470dac63d4aafbc7"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a09a24445c558b6ed470dac63d4aafbc7">caldata::Decon1DROI::fPedRetrievalAlg</a></div><div class="ttdeci">const lariov::DetPedestalProvider * fPedRetrievalAlg</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00144">Decon1DROI_module.cc:144</a></div></div>
<div class="ttc" id="RangeForWrapper__test_8cc_html_a2a47a7f29f0ddd7ff5d68f8aff63125c"><div class="ttname"><a href="../../d6/dd6/RangeForWrapper__test_8cc.html#a2a47a7f29f0ddd7ff5d68f8aff63125c">copy</a></div><div class="ttdeci">T copy(T const &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd6/RangeForWrapper__test_8cc_source.html#l00098">RangeForWrapper_test.cc:98</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a357411cdc295ea4906b1d3b0552c9b34"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a357411cdc295ea4906b1d3b0552c9b34">caldata::Decon1DROI::fChannelFilter</a></div><div class="ttdeci">const lariov::ChannelStatusProvider * fChannelFilter</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00143">Decon1DROI_module.cc:143</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a63f66c8207cc44daca2e5817881ba611"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a63f66c8207cc44daca2e5817881ba611">caldata::Decon1DROI::fMinAllowedChanStatus</a></div><div class="ttdeci">int fMinAllowedChanStatus</div><div class="ttdoc">Don&amp;#39;t consider channels with lower status. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00130">Decon1DROI_module.cc:130</a></div></div>
<div class="ttc" id="namespaceraw_html_abfe7badfcad7fe0e9474829fbd1408b2"><div class="ttname"><a href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a></div><div class="ttdeci">unsigned int ChannelID_t</div><div class="ttdoc">Type representing the ID of a readout channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d38/RawTypes_8h_source.html#l00028">RawTypes.h:28</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a56495a324de7c9393572a45dd7f86ded"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a56495a324de7c9393572a45dd7f86ded">caldata::Decon1DROI::fROIFinderVec</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; icarus_tool::IROIFinder &gt; &gt; fROIFinderVec</div><div class="ttdoc">ROI finders per plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00136">Decon1DROI_module.cc:136</a></div></div>
<div class="ttc" id="namespaceraw_html_adb44765eee4a6e600cb97fff8d7a6095"><div class="ttname"><a href="../../d9/d63/namespaceraw.html#adb44765eee4a6e600cb97fff8d7a6095">raw::Uncompress</a></div><div class="ttdeci">void Uncompress(const std::vector&lt; short &gt; &amp;adc, std::vector&lt; short &gt; &amp;uncompressed, raw::Compress_t compress)</div><div class="ttdoc">Uncompresses a raw data buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df4/raw_8cxx_source.html#l00776">raw.cxx:776</a></div></div>
<div class="ttc" id="namespacedetinfo_html_a0c4d3d5b85e37497364174c3513ffcae"><div class="ttname"><a href="../../d7/d8a/namespacedetinfo.html#a0c4d3d5b85e37497364174c3513ffcae">detinfo::sampling_rate</a></div><div class="ttdeci">double sampling_rate(DetectorClocksData const &amp;data)</div><div class="ttdoc">Returns the period of the TPC readout electronics clock. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5b/DetectorClocksData_8h_source.html#l00643">DetectorClocksData.h:643</a></div></div>
<div class="ttc" id="namespacecaldata_html_a74feeda44932638842e77f3d76c06f09"><div class="ttname"><a href="../../db/d6d/namespacecaldata.html#a74feeda44932638842e77f3d76c06f09">caldata::deconvolutionSpinMutex</a></div><div class="ttdeci">tbb::spin_mutex deconvolutionSpinMutex</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00063">Decon1DROI_module.cc:63</a></div></div>
<div class="ttc" id="classicarus__tool_1_1IROIFinder_html_ad229ce67942c5ed0f0cc0e5cfe85423a"><div class="ttname"><a href="../../d2/d32/classicarus__tool_1_1IROIFinder.html#ad229ce67942c5ed0f0cc0e5cfe85423a">icarus_tool::IROIFinder::CandidateROI</a></div><div class="ttdeci">std::pair&lt; size_t, size_t &gt; CandidateROI</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8e/icaruscode_2icaruscode_2TPC_2SignalProcessing_2RecoWire_2DeconTools_2IROIFinder_8h_source.html#l00055">icaruscode/icaruscode/TPC/SignalProcessing/RecoWire/DeconTools/IROIFinder.h:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3f978db7389149c94246f321c1409a5a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void caldata::Decon1DROI::produce </td>
          <td>(</td>
          <td class="paramtype">art::Event &amp;&#160;</td>
          <td class="paramname"><em>evt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">art::ProcessingFrame const &amp;&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00258">258</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">// We loop over the collection of RawDigits in our input list</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">// This is not done multi threaded as a way to cut down on overall job memory usage...</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; rawDigitLabel : <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a8eb069368fc454ec64b9569ae30029a6">fRawDigitLabelVec</a>)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="comment">// make a collection of Wires</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        std::unique_ptr&lt;std::vector&lt;recob::Wire&gt;&gt; wireCol(<span class="keyword">new</span> std::vector&lt;recob::Wire&gt;);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="comment">// ... and an association set</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        std::unique_ptr&lt;art::Assns&lt;raw::RawDigit,recob::Wire&gt;&gt; wireDigitAssn(<span class="keyword">new</span> art::Assns&lt;raw::RawDigit,recob::Wire&gt;);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="comment">// Read in the digit List object(s). </span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        art::Handle&lt; std::vector&lt;raw::RawDigit&gt;&gt; digitVecHandle;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <a class="code" href="../../de/d0f/namespacetca.html#a3bc30aeace71ea50324b602afa2155f2">evt</a>.getByLabel(rawDigitLabel, digitVecHandle);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">if</span> (!digitVecHandle-&gt;size())</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Decon1DROI found zero length RawDigits so exiting&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <a class="code" href="../../de/d0f/namespacetca.html#a3bc30aeace71ea50324b602afa2155f2">evt</a>.put(std::move(wireCol), rawDigitLabel.instance());</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <a class="code" href="../../de/d0f/namespacetca.html#a3bc30aeace71ea50324b602afa2155f2">evt</a>.put(std::move(wireDigitAssn), rawDigitLabel.instance());</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a9a5e7cb408be957c55cbaad92140f8a4">fEventCount</a>++;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="comment">// Reserve the room for the output</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        wireCol-&gt;reserve(digitVecHandle-&gt;size());</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="comment">// ... Launch multiple threads with TBB to do the deconvolution and find ROIs in parallel</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        multiThreadDeconvolutionProcessing deconvolutionProcessing(*<span class="keyword">this</span>, <a class="code" href="../../de/d0f/namespacetca.html#a3bc30aeace71ea50324b602afa2155f2">evt</a>, digitVecHandle, *wireCol, *wireDigitAssn, rawDigitLabel.instance());</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        tbb::parallel_for(tbb::blocked_range&lt;size_t&gt;(0, digitVecHandle-&gt;size()), deconvolutionProcessing);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="comment">// Time to stroe everything</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">if</span>(wireCol-&gt;size() == 0)</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;          mf::LogWarning(<span class="stringliteral">&quot;Decon1DROI&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;No wires made for this event.&quot;</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="comment">//Make Histogram of recob::wire objects from Signal() vector</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="comment">// get access to the TFile service</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a18a6e0d131a12b1468db1848fa6b6c47">fSaveWireWF</a> ){</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            art::ServiceHandle&lt;art::TFileService&gt; <a class="code" href="../../dd/d33/NuVertexChargeTree__module_8cc.html#aa8ae0901ab0cec47d6c9bf9c22af764f">tfs</a>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> wireN = 0; wireN &lt; wireCol-&gt;size(); wireN++){</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                std::vector&lt;float&gt; sigTMP = wireCol-&gt;at(wireN).Signal();</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                TH1D* fWire = tfs-&gt;make&lt;TH1D&gt;(Form(<span class="stringliteral">&quot;Noise_Evt%04zu_N%04zu&quot;</span>,<a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a9a5e7cb408be957c55cbaad92140f8a4">fEventCount</a>,wireN), <span class="stringliteral">&quot;;Noise (ADC);&quot;</span>,</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                                      sigTMP.size(),-0.5,sigTMP.size()-0.5);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">tick</a> = 0; <a class="code" href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">tick</a> &lt; sigTMP.size(); <a class="code" href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">tick</a>++){</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    fWire-&gt;SetBinContent(<a class="code" href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">tick</a>+1, sigTMP.at(<a class="code" href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">tick</a>) );</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="comment">// Make sure the collection is sorted</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        std::sort(wireCol-&gt;begin(), wireCol-&gt;end(), [](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>, <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>){<span class="keywordflow">return</span> <a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>.Channel() &lt; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>.Channel();});</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;       </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <a class="code" href="../../de/d0f/namespacetca.html#a3bc30aeace71ea50324b602afa2155f2">evt</a>.put(std::move(wireCol), rawDigitLabel.instance());</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <a class="code" href="../../de/d0f/namespacetca.html#a3bc30aeace71ea50324b602afa2155f2">evt</a>.put(std::move(wireDigitAssn), rawDigitLabel.instance());</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a9a5e7cb408be957c55cbaad92140f8a4">fEventCount</a>++;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;} <span class="comment">// produce</span></div>
<div class="ttc" id="selectors_8fcl_html_a9453748558088ae22499027391c13aaf"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a></div><div class="ttdeci">walls no right</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a18a6e0d131a12b1468db1848fa6b6c47"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a18a6e0d131a12b1468db1848fa6b6c47">caldata::Decon1DROI::fSaveWireWF</a></div><div class="ttdeci">int fSaveWireWF</div><div class="ttdoc">Save recob::wire object waveforms. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00128">Decon1DROI_module.cc:128</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a9a5e7cb408be957c55cbaad92140f8a4"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a9a5e7cb408be957c55cbaad92140f8a4">caldata::Decon1DROI::fEventCount</a></div><div class="ttdeci">size_t fEventCount</div><div class="ttdoc">count of event processed </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00129">Decon1DROI_module.cc:129</a></div></div>
<div class="ttc" id="namespaceutil_1_1quantities_html_a1a08bc762b79d6e1d7816c34d3e36f78"><div class="ttname"><a href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">util::quantities::tick</a></div><div class="ttdeci">tick_as&lt;&gt; tick</div><div class="ttdoc">Tick number, represented by std::ptrdiff_t. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d57/electronics_8h_source.html#l00075">electronics.h:75</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a1abc6b9e279feba048394f49a85218c9"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a></div><div class="ttdeci">walls no left</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a8eb069368fc454ec64b9569ae30029a6"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a8eb069368fc454ec64b9569ae30029a6">caldata::Decon1DROI::fRawDigitLabelVec</a></div><div class="ttdeci">std::vector&lt; art::InputTag &gt; fRawDigitLabelVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00124">Decon1DROI_module.cc:124</a></div></div>
<div class="ttc" id="NuVertexChargeTree__module_8cc_html_aa8ae0901ab0cec47d6c9bf9c22af764f"><div class="ttname"><a href="../../dd/d33/NuVertexChargeTree__module_8cc.html#aa8ae0901ab0cec47d6c9bf9c22af764f">tfs</a></div><div class="ttdeci">art::ServiceHandle&lt; art::TFileService &gt; tfs</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d33/NuVertexChargeTree__module_8cc_source.html#l00253">NuVertexChargeTree_module.cc:253</a></div></div>
<div class="ttc" id="namespacetca_html_a3bc30aeace71ea50324b602afa2155f2"><div class="ttname"><a href="../../de/d0f/namespacetca.html#a3bc30aeace71ea50324b602afa2155f2">tca::evt</a></div><div class="ttdeci">TCEvent evt</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/DataStructs_8cxx_source.html#l00007">DataStructs.cxx:7</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae536f09043bcfa452309aa8f8903acb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void caldata::Decon1DROI::reconfigure </td>
          <td>(</td>
          <td class="paramtype">fhicl::ParameterSet const &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00175">175</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="comment">// Recover the parameters</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a8eb069368fc454ec64b9569ae30029a6">fRawDigitLabelVec</a>     = pset.get&lt; std::vector&lt;art::InputTag&gt;&gt; (<span class="stringliteral">&quot;RawDigitLabelVec&quot;</span>,       {<span class="stringliteral">&quot;daqTPC&quot;</span>});</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a8bffa8e7154675b5c1174527e4a2d6e2">fNoiseSource</a>          = pset.get&lt; <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>            &gt; (<span class="stringliteral">&quot;NoiseSource&quot;</span>,                     3);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a18a6e0d131a12b1468db1848fa6b6c47">fSaveWireWF</a>           = pset.get&lt; <span class="keywordtype">int</span>                       &gt; (<span class="stringliteral">&quot;SaveWireWF&quot;</span>                        );</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a63f66c8207cc44daca2e5817881ba611">fMinAllowedChanStatus</a> = pset.get&lt; <span class="keywordtype">int</span>                       &gt; (<span class="stringliteral">&quot;MinAllowedChannelStatus&quot;</span>           );</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a8367234f035f85c274832a7137a9db79">fTruncRMSThreshold</a>    = pset.get&lt; <span class="keywordtype">float</span>                     &gt; (<span class="stringliteral">&quot;TruncRMSThreshold&quot;</span>,              6.);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#aa153b7eb154d6f3ea1c29afde45823cf">fTruncRMSMinFraction</a>  = pset.get&lt; <span class="keywordtype">float</span>                     &gt; (<span class="stringliteral">&quot;TruncRMSMinFraction&quot;</span>,           0.6);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#ac4a648a5cb30bd10351cf1b3af9a7fe8">fOutputHistograms</a>     = pset.get&lt; <span class="keywordtype">bool</span>                      &gt; (<span class="stringliteral">&quot;OutputHistograms&quot;</span>,             <span class="keyword">true</span>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// Recover the vector of fhicl parameters for the ROI tools</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keyword">const</span> fhicl::ParameterSet&amp; roiFinderTools = pset.get&lt;fhicl::ParameterSet&gt;(<span class="stringliteral">&quot;ROIFinderToolVec&quot;</span>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a56495a324de7c9393572a45dd7f86ded">fROIFinderVec</a>.resize(roiFinderTools.get_pset_names().size());</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> roiPadding(<a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::numeric_limits&lt;unsigned short&gt;::max</a>());</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">const</span> std::string&amp; roiFinderTool : roiFinderTools.get_pset_names())</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keyword">const</span> fhicl::ParameterSet&amp; roiFinderToolParamSet = roiFinderTools.get&lt;fhicl::ParameterSet&gt;(roiFinderTool);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordtype">size_t</span>                     planeIdx              = roiFinderToolParamSet.get&lt;<span class="keywordtype">size_t</span>&gt;(<span class="stringliteral">&quot;Plane&quot;</span>);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        roiPadding = std::min(roiPadding,roiFinderToolParamSet.get&lt; std::vector&lt;unsigned short&gt;&gt;(<span class="stringliteral">&quot;roiLeadTrailPad&quot;</span>)[0]);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a56495a324de7c9393572a45dd7f86ded">fROIFinderVec</a>.at(planeIdx) = art::make_tool&lt;icarus_tool::IROIFinder&gt;(roiFinderToolParamSet);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    std::sort(<a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a56495a324de7c9393572a45dd7f86ded">fROIFinderVec</a>.begin(),<a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a56495a324de7c9393572a45dd7f86ded">fROIFinderVec</a>.end(),[](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>,<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>){<span class="keywordflow">return</span> <a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>-&gt;plane() &lt; <a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>-&gt;plane();});</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a244ea28ba4ffa5b5dc63a5cc05af4f4d">fDeconvolution</a> = art::make_tool&lt;icarus_tool::IDeconvolution&gt;(pset.get&lt;fhicl::ParameterSet&gt;(<span class="stringliteral">&quot;Deconvolution&quot;</span>));</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">// Recover the baseline tool </span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    fhicl::ParameterSet baselineParams = pset.get&lt;fhicl::ParameterSet&gt;(<span class="stringliteral">&quot;Baseline&quot;</span>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">// Check if we need to set the length for setting the baseline</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">if</span> (baselineParams.has_key(<span class="stringliteral">&quot;MaxROILength&quot;</span>)) baselineParams.put_or_replace(<span class="stringliteral">&quot;MaxROILength&quot;</span>,<span class="keywordtype">size_t</span>(roiPadding));</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a3eb01ab5477e8d4123d4c97891f4d862">fBaseline</a>  = art::make_tool&lt;icarus_tool::IBaseline&gt; (baselineParams);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#ac4a648a5cb30bd10351cf1b3af9a7fe8">fOutputHistograms</a>)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="comment">// Access ART&#39;s TFileService, which will handle creating and writing</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="comment">// histograms and n-tuples for us.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        art::ServiceHandle&lt;art::TFileService&gt; <a class="code" href="../../dd/d33/NuVertexChargeTree__module_8cc.html#aa8ae0901ab0cec47d6c9bf9c22af764f">tfs</a>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a72d6238cb151d769597293892378d542">fPedestalOffsetVec</a>.resize(3);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a6d745e4aff48c4ede30d92f9d8af6966">fFullRMSVec</a>.resize(3);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a31f44c5b0e0c0d6dca2b074a4524500e">fTruncRMSVec</a>.resize(3);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a35fcc72c29b5bdb33d3110e83409dfab">fNumTruncBinsVec</a>.resize(3);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#ada518e0ac02066d677b2fc1d4b9195dc">fPedByChanVec</a>.resize(3);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a303536255cd2f24f8239a4295fac45b4">fTruncRMSByChanVec</a>.resize(3);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a24d8fde8575a84fd92d7d11a44b6908f">fNumROIsHistVec</a>.resize(3);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#afd30c1181dc5698c78500a1d87aaea14">fROILenHistVec</a>.resize(3);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> planeIdx = 0; planeIdx &lt; 3; planeIdx++)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a72d6238cb151d769597293892378d542">fPedestalOffsetVec</a>[planeIdx] = tfs-&gt;make&lt;TH1F&gt;(    Form(<span class="stringliteral">&quot;PedPlane_%02zu&quot;</span>,planeIdx),            <span class="stringliteral">&quot;;Pedestal Offset (ADC);&quot;</span>, 100, -5., 5.);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a6d745e4aff48c4ede30d92f9d8af6966">fFullRMSVec</a>[planeIdx]        = tfs-&gt;make&lt;TH1F&gt;(    Form(<span class="stringliteral">&quot;RMSFPlane_%02zu&quot;</span>,planeIdx),           <span class="stringliteral">&quot;Full RMS;RMS (ADC);&quot;</span>, 400, 0., 40.);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a31f44c5b0e0c0d6dca2b074a4524500e">fTruncRMSVec</a>[planeIdx]       = tfs-&gt;make&lt;TH1F&gt;(    Form(<span class="stringliteral">&quot;RMSTPlane_%02zu&quot;</span>,planeIdx),           <span class="stringliteral">&quot;Truncated RMS;RMS (ADC);&quot;</span>, 100, 0., 10.);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a35fcc72c29b5bdb33d3110e83409dfab">fNumTruncBinsVec</a>[planeIdx]   = tfs-&gt;make&lt;TH1F&gt;(    Form(<span class="stringliteral">&quot;NTruncBins_%02zu&quot;</span>,planeIdx),          <span class="stringliteral">&quot;;# bins&quot;</span>,     640, 0., 6400.);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#ada518e0ac02066d677b2fc1d4b9195dc">fPedByChanVec</a>[planeIdx]      = tfs-&gt;make&lt;TProfile&gt;(Form(<span class="stringliteral">&quot;PedByWirePlane_%02zu&quot;</span>,planeIdx),      <span class="stringliteral">&quot;;Wire#&quot;</span>, <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a94e0224a3e968a22157e04f4fe46732f">fGeometry</a>-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#ac8913ad568840abe16adb3fdcde03e85">Nwires</a>(planeIdx), 0., <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a94e0224a3e968a22157e04f4fe46732f">fGeometry</a>-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#ac8913ad568840abe16adb3fdcde03e85">Nwires</a>(planeIdx), -5., 5.);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a303536255cd2f24f8239a4295fac45b4">fTruncRMSByChanVec</a>[planeIdx] = tfs-&gt;make&lt;TProfile&gt;(Form(<span class="stringliteral">&quot;TruncRMSByWirePlane_%02zu&quot;</span>,planeIdx), <span class="stringliteral">&quot;;Wire#&quot;</span>, <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a94e0224a3e968a22157e04f4fe46732f">fGeometry</a>-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#ac8913ad568840abe16adb3fdcde03e85">Nwires</a>(planeIdx), 0., <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a94e0224a3e968a22157e04f4fe46732f">fGeometry</a>-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#ac8913ad568840abe16adb3fdcde03e85">Nwires</a>(planeIdx),  0., 10.);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#a24d8fde8575a84fd92d7d11a44b6908f">fNumROIsHistVec</a>[planeIdx]    = tfs-&gt;make&lt;TH1F&gt;(    Form(<span class="stringliteral">&quot;NROISplane_%02zu&quot;</span>,planeIdx),          <span class="stringliteral">&quot;;# ROIs;&quot;</span>,   100, 0, 100);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <a class="code" href="../../db/d83/classcaldata_1_1Decon1DROI.html#afd30c1181dc5698c78500a1d87aaea14">fROILenHistVec</a>[planeIdx]     = tfs-&gt;make&lt;TH1F&gt;(    Form(<span class="stringliteral">&quot;ROISIZEplane_%02zu&quot;</span>,planeIdx),        <span class="stringliteral">&quot;;ROI size;&quot;</span>, 500, 0, 500);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a72d6238cb151d769597293892378d542"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a72d6238cb151d769597293892378d542">caldata::Decon1DROI::fPedestalOffsetVec</a></div><div class="ttdeci">std::vector&lt; TH1F * &gt; fPedestalOffsetVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00147">Decon1DROI_module.cc:147</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a8bffa8e7154675b5c1174527e4a2d6e2"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a8bffa8e7154675b5c1174527e4a2d6e2">caldata::Decon1DROI::fNoiseSource</a></div><div class="ttdeci">unsigned short fNoiseSource</div><div class="ttdoc">Used to determine ROI threshold. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00127">Decon1DROI_module.cc:127</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a9453748558088ae22499027391c13aaf"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a></div><div class="ttdeci">walls no right</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_aa153b7eb154d6f3ea1c29afde45823cf"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#aa153b7eb154d6f3ea1c29afde45823cf">caldata::Decon1DROI::fTruncRMSMinFraction</a></div><div class="ttdeci">float fTruncRMSMinFraction</div><div class="ttdoc">or at least this fraction of time bins </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00133">Decon1DROI_module.cc:133</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_ac4a648a5cb30bd10351cf1b3af9a7fe8"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#ac4a648a5cb30bd10351cf1b3af9a7fe8">caldata::Decon1DROI::fOutputHistograms</a></div><div class="ttdeci">bool fOutputHistograms</div><div class="ttdoc">Output histograms? </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00134">Decon1DROI_module.cc:134</a></div></div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a18a6e0d131a12b1468db1848fa6b6c47"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a18a6e0d131a12b1468db1848fa6b6c47">caldata::Decon1DROI::fSaveWireWF</a></div><div class="ttdeci">int fSaveWireWF</div><div class="ttdoc">Save recob::wire object waveforms. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00128">Decon1DROI_module.cc:128</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_ac8913ad568840abe16adb3fdcde03e85"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#ac8913ad568840abe16adb3fdcde03e85">geo::GeometryCore::Nwires</a></div><div class="ttdeci">unsigned int Nwires(unsigned int p, unsigned int tpc=0, unsigned int cstat=0) const </div><div class="ttdoc">Returns the total number of wires in the specified plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de7/GeometryCore_8h_source.html#l03342">GeometryCore.h:3342</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a3eb01ab5477e8d4123d4c97891f4d862"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a3eb01ab5477e8d4123d4c97891f4d862">caldata::Decon1DROI::fBaseline</a></div><div class="ttdeci">std::unique_ptr&lt; icarus_tool::IBaseline &gt; fBaseline</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00138">Decon1DROI_module.cc:138</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_afd30c1181dc5698c78500a1d87aaea14"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#afd30c1181dc5698c78500a1d87aaea14">caldata::Decon1DROI::fROILenHistVec</a></div><div class="ttdeci">std::vector&lt; TH1F * &gt; fROILenHistVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00154">Decon1DROI_module.cc:154</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a6d745e4aff48c4ede30d92f9d8af6966"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a6d745e4aff48c4ede30d92f9d8af6966">caldata::Decon1DROI::fFullRMSVec</a></div><div class="ttdeci">std::vector&lt; TH1F * &gt; fFullRMSVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00148">Decon1DROI_module.cc:148</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_ada518e0ac02066d677b2fc1d4b9195dc"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#ada518e0ac02066d677b2fc1d4b9195dc">caldata::Decon1DROI::fPedByChanVec</a></div><div class="ttdeci">std::vector&lt; TProfile * &gt; fPedByChanVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00151">Decon1DROI_module.cc:151</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a303536255cd2f24f8239a4295fac45b4"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a303536255cd2f24f8239a4295fac45b4">caldata::Decon1DROI::fTruncRMSByChanVec</a></div><div class="ttdeci">std::vector&lt; TProfile * &gt; fTruncRMSByChanVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00152">Decon1DROI_module.cc:152</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a244ea28ba4ffa5b5dc63a5cc05af4f4d"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a244ea28ba4ffa5b5dc63a5cc05af4f4d">caldata::Decon1DROI::fDeconvolution</a></div><div class="ttdeci">std::unique_ptr&lt; icarus_tool::IDeconvolution &gt; fDeconvolution</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00137">Decon1DROI_module.cc:137</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a35fcc72c29b5bdb33d3110e83409dfab"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a35fcc72c29b5bdb33d3110e83409dfab">caldata::Decon1DROI::fNumTruncBinsVec</a></div><div class="ttdeci">std::vector&lt; TH1F * &gt; fNumTruncBinsVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00150">Decon1DROI_module.cc:150</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a1abc6b9e279feba048394f49a85218c9"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a></div><div class="ttdeci">walls no left</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a24d8fde8575a84fd92d7d11a44b6908f"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a24d8fde8575a84fd92d7d11a44b6908f">caldata::Decon1DROI::fNumROIsHistVec</a></div><div class="ttdeci">std::vector&lt; TH1F * &gt; fNumROIsHistVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00153">Decon1DROI_module.cc:153</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a94e0224a3e968a22157e04f4fe46732f"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a94e0224a3e968a22157e04f4fe46732f">caldata::Decon1DROI::fGeometry</a></div><div class="ttdeci">const geo::GeometryCore * fGeometry</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00142">Decon1DROI_module.cc:142</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a8367234f035f85c274832a7137a9db79"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a8367234f035f85c274832a7137a9db79">caldata::Decon1DROI::fTruncRMSThreshold</a></div><div class="ttdeci">float fTruncRMSThreshold</div><div class="ttdoc">Calculate RMS up to this threshold... </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00132">Decon1DROI_module.cc:132</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a8eb069368fc454ec64b9569ae30029a6"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a8eb069368fc454ec64b9569ae30029a6">caldata::Decon1DROI::fRawDigitLabelVec</a></div><div class="ttdeci">std::vector&lt; art::InputTag &gt; fRawDigitLabelVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00124">Decon1DROI_module.cc:124</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a63f66c8207cc44daca2e5817881ba611"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a63f66c8207cc44daca2e5817881ba611">caldata::Decon1DROI::fMinAllowedChanStatus</a></div><div class="ttdeci">int fMinAllowedChanStatus</div><div class="ttdoc">Don&amp;#39;t consider channels with lower status. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00130">Decon1DROI_module.cc:130</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a31f44c5b0e0c0d6dca2b074a4524500e"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a31f44c5b0e0c0d6dca2b074a4524500e">caldata::Decon1DROI::fTruncRMSVec</a></div><div class="ttdeci">std::vector&lt; TH1F * &gt; fTruncRMSVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00149">Decon1DROI_module.cc:149</a></div></div>
<div class="ttc" id="NuVertexChargeTree__module_8cc_html_aa8ae0901ab0cec47d6c9bf9c22af764f"><div class="ttname"><a href="../../dd/d33/NuVertexChargeTree__module_8cc.html#aa8ae0901ab0cec47d6c9bf9c22af764f">tfs</a></div><div class="ttdeci">art::ServiceHandle&lt; art::TFileService &gt; tfs</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d33/NuVertexChargeTree__module_8cc_source.html#l00253">NuVertexChargeTree_module.cc:253</a></div></div>
<div class="ttc" id="classcaldata_1_1Decon1DROI_html_a56495a324de7c9393572a45dd7f86ded"><div class="ttname"><a href="../../db/d83/classcaldata_1_1Decon1DROI.html#a56495a324de7c9393572a45dd7f86ded">caldata::Decon1DROI::fROIFinderVec</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; icarus_tool::IROIFinder &gt; &gt; fROIFinderVec</div><div class="ttdoc">ROI finders per plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d33/Decon1DROI__module_8cc_source.html#l00136">Decon1DROI_module.cc:136</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a3eb01ab5477e8d4123d4c97891f4d862"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d4/d0d/classicarus__tool_1_1IBaseline.html">icarus_tool::IBaseline</a>&gt; caldata::Decon1DROI::fBaseline</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00138">138</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a357411cdc295ea4906b1d3b0552c9b34"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d8/d7e/classlariov_1_1ChannelStatusProvider.html">lariov::ChannelStatusProvider</a>* caldata::Decon1DROI::fChannelFilter = <a class="el" href="../../d7/d0b/namespacelar.html#a4f0075a9ded49ca69dbd4d16db9c1edd">lar::providerFrom</a>&lt;<a class="el" href="../../d9/d1c/classlariov_1_1ChannelStatusService.html">lariov::ChannelStatusService</a>&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00143">143</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a244ea28ba4ffa5b5dc63a5cc05af4f4d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d4/d5d/classicarus__tool_1_1IDeconvolution.html">icarus_tool::IDeconvolution</a>&gt; caldata::Decon1DROI::fDeconvolution</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00137">137</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a9a5e7cb408be957c55cbaad92140f8a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t caldata::Decon1DROI::fEventCount</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>count of event processed </p>

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00129">129</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a6d745e4aff48c4ede30d92f9d8af6966"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;TH1F*&gt; caldata::Decon1DROI::fFullRMSVec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00148">148</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a94e0224a3e968a22157e04f4fe46732f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a>* caldata::Decon1DROI::fGeometry = <a class="el" href="../../d7/d0b/namespacelar.html#a4f0075a9ded49ca69dbd4d16db9c1edd">lar::providerFrom</a>&lt;<a class="el" href="../../d8/df3/classgeo_1_1Geometry.html">geo::Geometry</a>&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00142">142</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a63f66c8207cc44daca2e5817881ba611"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int caldata::Decon1DROI::fMinAllowedChanStatus</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Don't consider channels with lower status. </p>

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00130">130</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a8bffa8e7154675b5c1174527e4a2d6e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short caldata::Decon1DROI::fNoiseSource</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to determine ROI threshold. </p>

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00127">127</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a24d8fde8575a84fd92d7d11a44b6908f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;TH1F*&gt; caldata::Decon1DROI::fNumROIsHistVec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00153">153</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a35fcc72c29b5bdb33d3110e83409dfab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;TH1F*&gt; caldata::Decon1DROI::fNumTruncBinsVec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00150">150</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ac4a648a5cb30bd10351cf1b3af9a7fe8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool caldata::Decon1DROI::fOutputHistograms</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output histograms? </p>

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00134">134</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ada518e0ac02066d677b2fc1d4b9195dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;TProfile*&gt; caldata::Decon1DROI::fPedByChanVec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00151">151</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a72d6238cb151d769597293892378d542"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;TH1F*&gt; caldata::Decon1DROI::fPedestalOffsetVec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00147">147</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a09a24445c558b6ed470dac63d4aafbc7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d4/da6/classlariov_1_1DetPedestalProvider.html">lariov::DetPedestalProvider</a>* caldata::Decon1DROI::fPedRetrievalAlg = <a class="el" href="../../d7/d0b/namespacelar.html#a4f0075a9ded49ca69dbd4d16db9c1edd">lar::providerFrom</a>&lt;<a class="el" href="../../d6/d4e/classlariov_1_1DetPedestalService.html">lariov::DetPedestalService</a>&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00144">144</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a8eb069368fc454ec64b9569ae30029a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;art::InputTag&gt; caldata::Decon1DROI::fRawDigitLabelVec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Contains the input tags for finding RawDigits it is set by the DigitModuleLabel ex.: "daq:preSpill" for prespill data </p>

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00124">124</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a56495a324de7c9393572a45dd7f86ded"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::unique_ptr&lt;<a class="el" href="../../d2/d32/classicarus__tool_1_1IROIFinder.html">icarus_tool::IROIFinder</a>&gt; &gt; caldata::Decon1DROI::fROIFinderVec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ROI finders per plane. </p>

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00136">136</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="afd30c1181dc5698c78500a1d87aaea14"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;TH1F*&gt; caldata::Decon1DROI::fROILenHistVec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00154">154</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a18a6e0d131a12b1468db1848fa6b6c47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int caldata::Decon1DROI::fSaveWireWF</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Save recob::wire object waveforms. </p>

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00128">128</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a303536255cd2f24f8239a4295fac45b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;TProfile*&gt; caldata::Decon1DROI::fTruncRMSByChanVec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00152">152</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aa153b7eb154d6f3ea1c29afde45823cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float caldata::Decon1DROI::fTruncRMSMinFraction</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>or at least this fraction of time bins </p>

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00133">133</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a8367234f035f85c274832a7137a9db79"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float caldata::Decon1DROI::fTruncRMSThreshold</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate RMS up to this threshold... </p>

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00132">132</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a31f44c5b0e0c0d6dca2b074a4524500e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;TH1F*&gt; caldata::Decon1DROI::fTruncRMSVec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00149">149</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ae37826b29ace02e269b145b7bfd62e18"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">icarus_signal_processing::WaveformTools&lt;float&gt; caldata::Decon1DROI::fWaveformTool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html#l00140">140</a> of file <a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../da/d33/Decon1DROI__module_8cc_source.html">Decon1DROI_module.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
