<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>icarus::trigger::SlidingWindowTrigger Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceicarus.html">icarus</a></li><li class="navelem"><a class="el" href="namespaceicarus_1_1trigger.html">trigger</a></li><li class="navelem"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classicarus_1_1trigger_1_1SlidingWindowTrigger-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">icarus::trigger::SlidingWindowTrigger Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Combines trigger channels (V1730 LVDS gates) into sliding windows.  
 <a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for icarus::trigger::SlidingWindowTrigger:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classicarus_1_1trigger_1_1SlidingWindowTrigger.png" usemap="#icarus::trigger::SlidingWindowTrigger_map" alt=""/>
  <map id="icarus::trigger::SlidingWindowTrigger_map" name="icarus::trigger::SlidingWindowTrigger_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structicarus_1_1trigger_1_1SlidingWindowTrigger_1_1Config.html">Config</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ad84663fe3a5c410aa77bced888818343"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ad84663fe3a5c410aa77bced888818343">TriggerGateData_t</a> = <a class="el" href="classicarus_1_1trigger_1_1OpticalTriggerGate.html#a2b9986e0e920b11a5dfdc5a963f2a1c2">icarus::trigger::OpticalTriggerGate::GateData_t</a></td></tr>
<tr class="separator:ad84663fe3a5c410aa77bced888818343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e23e2e121879739293c66707bb03b83"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a4e23e2e121879739293c66707bb03b83">Parameters</a> = art::EDProducer::Table&lt; <a class="el" href="structicarus_1_1trigger_1_1SlidingWindowTrigger_1_1Config.html">Config</a> &gt;</td></tr>
<tr class="separator:a4e23e2e121879739293c66707bb03b83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af5b981593eaaa97607dd9c91c8219109"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#af5b981593eaaa97607dd9c91c8219109">SlidingWindowTrigger</a> (<a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a4e23e2e121879739293c66707bb03b83">Parameters</a> const &amp;config)</td></tr>
<tr class="separator:af5b981593eaaa97607dd9c91c8219109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25696ce1bec3e7c2cab47b990fc60b56"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a25696ce1bec3e7c2cab47b990fc60b56">SlidingWindowTrigger</a> (<a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a> const &amp;)=delete</td></tr>
<tr class="separator:a25696ce1bec3e7c2cab47b990fc60b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cc8ad9b16568b20af9303751d5d3574"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a0cc8ad9b16568b20af9303751d5d3574">SlidingWindowTrigger</a> (<a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a0cc8ad9b16568b20af9303751d5d3574"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23ea4a203343f39e48987174be8722f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a23ea4a203343f39e48987174be8722f6">operator=</a> (<a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a> const &amp;)=delete</td></tr>
<tr class="separator:a23ea4a203343f39e48987174be8722f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5081171a2a10a79dcea7c26588766d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ab5081171a2a10a79dcea7c26588766d7">operator=</a> (<a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:ab5081171a2a10a79dcea7c26588766d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb9b5754dd399bcc1673c16239d52c4c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#adb9b5754dd399bcc1673c16239d52c4c">produce</a> (art::Event &amp;event) override</td></tr>
<tr class="memdesc:adb9b5754dd399bcc1673c16239d52c4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills the plots. Also extracts the information to fill them with.  <a href="#adb9b5754dd399bcc1673c16239d52c4c">More...</a><br/></td></tr>
<tr class="separator:adb9b5754dd399bcc1673c16239d52c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a325b22ca0c4226b809b10b7caaef952f"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a325b22ca0c4226b809b10b7caaef952f">WindowDefs_t</a> = <a class="el" href="namespaceicarus_1_1trigger.html#a34605d1471c5a4c76bbdc4f975521c50">icarus::trigger::TriggerWindowDefs_t</a></td></tr>
<tr class="memdesc:a325b22ca0c4226b809b10b7caaef952f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of all windows.  <a href="#a325b22ca0c4226b809b10b7caaef952f">More...</a><br/></td></tr>
<tr class="separator:a325b22ca0c4226b809b10b7caaef952f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:adad5e2b1d3049cbdacf7926c35c1b519"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#adad5e2b1d3049cbdacf7926c35c1b519">nDisabledWindows</a> () const noexcept</td></tr>
<tr class="memdesc:adad5e2b1d3049cbdacf7926c35c1b519"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of disabled windows.  <a href="#adad5e2b1d3049cbdacf7926c35c1b519">More...</a><br/></td></tr>
<tr class="separator:adad5e2b1d3049cbdacf7926c35c1b519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07a057dfb0511614a69b8c231db8a133"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a07a057dfb0511614a69b8c231db8a133">produceThreshold</a> (art::Event &amp;event, <a class="el" href="namespaceicarus_1_1trigger.html#a8ff10aaae563bd9dbc0791eddd38dd18">icarus::trigger::OpDetWaveformDataProductMap_t</a> &amp;waveformMap, std::string const &amp;threshold, art::InputTag const &amp;dataTag) const </td></tr>
<tr class="memdesc:a07a057dfb0511614a69b8c231db8a133"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the combination for data with a specified threshold.  <a href="#a07a057dfb0511614a69b8c231db8a133">More...</a><br/></td></tr>
<tr class="separator:a07a057dfb0511614a69b8c231db8a133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a257d01e03f98fb1898c4f9ca27fb5f9a"><td class="memItemLeft" align="right" valign="top">std::vector<br class="typebreak"/>
&lt; <a class="el" href="classicarus_1_1trigger_1_1MultiChannelOpticalTriggerGate.html">icarus::trigger::MultiChannelOpticalTriggerGate</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a257d01e03f98fb1898c4f9ca27fb5f9a">ReadTriggerGates</a> (art::Event const &amp;event, art::InputTag const &amp;dataTag, <a class="el" href="namespaceicarus_1_1trigger.html#a8ff10aaae563bd9dbc0791eddd38dd18">icarus::trigger::OpDetWaveformDataProductMap_t</a> &amp;waveformMap) const </td></tr>
<tr class="memdesc:a257d01e03f98fb1898c4f9ca27fb5f9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a set of input gates from the <code>event</code> and updates <code>waveformMap</code>.  <a href="#a257d01e03f98fb1898c4f9ca27fb5f9a">More...</a><br/></td></tr>
<tr class="separator:a257d01e03f98fb1898c4f9ca27fb5f9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b8e697f5ed690258732f743359d6139"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a325b22ca0c4226b809b10b7caaef952f">WindowDefs_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a1b8e697f5ed690258732f743359d6139">defineWindows</a> () const </td></tr>
<tr class="memdesc:a1b8e697f5ed690258732f743359d6139"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the channels falling in each window.  <a href="#a1b8e697f5ed690258732f743359d6139">More...</a><br/></td></tr>
<tr class="separator:a1b8e697f5ed690258732f743359d6139"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a975f6927da1c2322a56646ac1cb8a8be"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a975f6927da1c2322a56646ac1cb8a8be">makeEnabledWindowIndices</a> (std::size_t nWindows, fhicl::OptionalSequence&lt; std::size_t &gt; const &amp;enabled, fhicl::OptionalSequence&lt; std::size_t &gt; const &amp;disabled)</td></tr>
<tr class="memdesc:a975f6927da1c2322a56646ac1cb8a8be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of enabled window indices.  <a href="#a975f6927da1c2322a56646ac1cb8a8be">More...</a><br/></td></tr>
<tr class="separator:a975f6927da1c2322a56646ac1cb8a8be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2d0f9c1a77698781ccfb64d4a29a8c7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ac2d0f9c1a77698781ccfb64d4a29a8c7">UpdateWaveformMap</a> (<a class="el" href="namespaceicarus_1_1trigger.html#a8ff10aaae563bd9dbc0791eddd38dd18">icarus::trigger::OpDetWaveformDataProductMap_t</a> &amp;map, art::Assns&lt; <a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ad84663fe3a5c410aa77bced888818343">TriggerGateData_t</a>, <a class="el" href="classraw_1_1OpDetWaveform.html">raw::OpDetWaveform</a> &gt; const &amp;assns)</td></tr>
<tr class="memdesc:ac2d0f9c1a77698781ccfb64d4a29a8c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the waveforms in the specified association to the waveform <code>map</code>.  <a href="#ac2d0f9c1a77698781ccfb64d4a29a8c7">More...</a><br/></td></tr>
<tr class="separator:ac2d0f9c1a77698781ccfb64d4a29a8c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a166fe1d747af8efff5c9c5004a6173af"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <br class="typebreak"/>
art::InputTag &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a166fe1d747af8efff5c9c5004a6173af">fADCthresholds</a></td></tr>
<tr class="memdesc:a166fe1d747af8efff5c9c5004a6173af"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC thresholds to read, and the input tag connected to their data.  <a href="#a166fe1d747af8efff5c9c5004a6173af">More...</a><br/></td></tr>
<tr class="separator:a166fe1d747af8efff5c9c5004a6173af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf28f1719fade00a82f95f0701a64005"><td class="memItemLeft" align="right" valign="top">unsigned int const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#abf28f1719fade00a82f95f0701a64005">fWindowSize</a></td></tr>
<tr class="memdesc:abf28f1719fade00a82f95f0701a64005"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sliding window size in number of channels.  <a href="#abf28f1719fade00a82f95f0701a64005">More...</a><br/></td></tr>
<tr class="separator:abf28f1719fade00a82f95f0701a64005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab496ace5ad3d19e6fca738d5d5b2602d"><td class="memItemLeft" align="right" valign="top">unsigned int const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ab496ace5ad3d19e6fca738d5d5b2602d">fWindowStride</a></td></tr>
<tr class="memdesc:ab496ace5ad3d19e6fca738d5d5b2602d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sliding window base offset.  <a href="#ab496ace5ad3d19e6fca738d5d5b2602d">More...</a><br/></td></tr>
<tr class="separator:ab496ace5ad3d19e6fca738d5d5b2602d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a731b9f8deb4255ba7c51ffb9ebe36019"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a325b22ca0c4226b809b10b7caaef952f">WindowDefs_t</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a731b9f8deb4255ba7c51ffb9ebe36019">fWindowChannels</a></td></tr>
<tr class="memdesc:a731b9f8deb4255ba7c51ffb9ebe36019"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel content of each window.  <a href="#a731b9f8deb4255ba7c51ffb9ebe36019">More...</a><br/></td></tr>
<tr class="separator:a731b9f8deb4255ba7c51ffb9ebe36019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec33ae0e28cce09fcaafdbbad5c0d73"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::size_t &gt; const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#afec33ae0e28cce09fcaafdbbad5c0d73">fEnabledWindows</a></td></tr>
<tr class="memdesc:afec33ae0e28cce09fcaafdbbad5c0d73"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of windows to be included.  <a href="#afec33ae0e28cce09fcaafdbbad5c0d73">More...</a><br/></td></tr>
<tr class="separator:afec33ae0e28cce09fcaafdbbad5c0d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab75b945b5557089fc18c7d2851a5ba37"><td class="memItemLeft" align="right" valign="top">std::string const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ab75b945b5557089fc18c7d2851a5ba37">fLogCategory</a></td></tr>
<tr class="memdesc:ab75b945b5557089fc18c7d2851a5ba37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message facility stream category for output.  <a href="#ab75b945b5557089fc18c7d2851a5ba37">More...</a><br/></td></tr>
<tr class="separator:ab75b945b5557089fc18c7d2851a5ba37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6866b3c9feb0e838a195300352e8146e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowCombinerAlg.html">icarus::trigger::SlidingWindowCombinerAlg</a> <br class="typebreak"/>
const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a6866b3c9feb0e838a195300352e8146e">fCombiner</a></td></tr>
<tr class="memdesc:a6866b3c9feb0e838a195300352e8146e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Combining algorithm.  <a href="#a6866b3c9feb0e838a195300352e8146e">More...</a><br/></td></tr>
<tr class="separator:a6866b3c9feb0e838a195300352e8146e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Combines trigger channels (V1730 LVDS gates) into sliding windows. </p>
<p>This module combines the input discriminated waveforms into a set of new multi-level discriminated gates according to the geometric criterion of a sliding window.</p>
<p>The combination is a sum of all the discriminated waveforms within the window. Different optical detector planes are treated independently and separately. It is expected that the input is from V1730 LVDS gates (see <code><a class="el" href="classicarus_1_1trigger_1_1LVDSgates.html" title="Combines discriminated PMT outputs into V1730 LVDS gates. ">icarus::trigger::LVDSgates</a></code> module) which combine (usually) two optical detector channels each.</p>
<h2>Sliding window configuration </h2>
<p>The size of the window is specified in terms on number of optical detector channels per window and of stride. The windows are allowed to overlap, but they have all the same number of channels. If the parameters yield an invalid configuration, the module will throw an exception.</p>
<p>The definition of a valid window configuration is quite restrictive. Optical detector channels are grouped by the TPC width coordinate (<em>z</em>) into "towers". In ICARUS, a tower is made of either two or three channels, depending on the position in <em>z</em>. A window can't split a tower, but rather has to include whole towers. In addition, the input discriminated waveforms may include information from multiple channels (that is the common case if the input is LVDS gates). A window can't cover only part of the channels of any input, but rather must extend wide enough so that all the channels in the included gates are covered. Channels may be exempted by marking them as "missing". Finally, all the channels which are not "missing" must be covered by at least one window.</p>
<p>For the sliding window configuration to be valid, all the windows starting with an offset multiple of the stride must be valid.</p>
<p>For the standard pairing of LVDS gates in ICARUS, this translates into the only allowed window sizes are by 10 and 15 channels or their multiples, with a stride also in multiples of 10 or 15 respectively. For example, the following configurations are all valid:</p>
<ul>
<li>10 channels per window, with stride of 10 channels (9 windows per plane);</li>
<li>20 channels per window, with stride of 10 channels (8 windows per plane);</li>
<li>30 channels per window, with stride of 10 channels (7 windows per plane);</li>
<li>15 channels per window, with stride of 15 channels (6 windows per plane);</li>
<li>30 channels per window, with stride of 30 channels (3 windows per plane);</li>
<li>30 channels per window, with stride of 15 channels (5 windows per plane);</li>
<li>45 channels per window, with stride of 45 channels (2 windows per plane).</li>
</ul>
<h1>Input data products </h1>
<ul>
<li><code>std::vector&lt;<a class="el" href="namespaceicarus_1_1trigger.html#a910f46c9a8fc50918c7ec07af219aa92" title="Type of trigger gate data serialized into art data products. ">icarus::trigger::OpticalTriggerGateData_t</a>&gt;</code> (labels out of <code>TriggerGatesTag</code> and <code>Thresholds</code>): full sets of discriminated waveforms, each waveform possibly covering multiple optical channels, and their associations to optical waveforms. One set per threshold.</li>
</ul>
<h2>Requirements </h2>
<p>The algorithms require that in each set all optical channels are covered.</p>
<h1>Output data products </h1>
<ul>
<li><code>std::vector&lt;<a class="el" href="namespaceicarus_1_1trigger.html#a910f46c9a8fc50918c7ec07af219aa92" title="Type of trigger gate data serialized into art data products. ">icarus::trigger::OpticalTriggerGateData_t</a>&gt;</code> (instance name: same as the input gates): sets of gates combined according to the window configuration; one set per input threshold.</li>
<li><code>art::Assns&lt;<a class="el" href="namespaceicarus_1_1trigger.html#a910f46c9a8fc50918c7ec07af219aa92" title="Type of trigger gate data serialized into art data products. ">icarus::trigger::OpticalTriggerGateData_t</a>, <a class="el" href="classraw_1_1OpDetWaveform.html">raw::OpDetWaveform</a>&gt;</code> (instance name: same as the input gates): associations between each produced gate and the optical waveforms providing the original data.</li>
</ul>
<p>If window selection is requested (with <code>EnableOnlyWindows</code> or <code>DisableWindows</code> configuration parameters), only the selected windows will have an output entry. While each trigger data object comes with all the channels it covers, there is no explicit information of the <em>index</em> of the surviving windows.</p>
<dl class="section note"><dt>Note</dt><dd>At the moment, associations between input and output gates is not produced. <code>art::Assns</code> would not support it, requiring distinct types for the associated objects.</dd></dl>
<h1>Configuration parameters </h1>
<p>A terse description of the parameters is printed by running <code>lar --print-description <a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html" title="Combines trigger channels (V1730 LVDS gates) into sliding windows. ">SlidingWindowTrigger</a></code>.</p>
<ul>
<li><code>TriggerGatesTag</code> (string, mandatory): name of the module instance which produced the discriminated waveforms; it must not include any instance name, as the instance names will be automatically added from <code>Thresholds</code> parameter.</li>
<li><code>Thresholds</code> (list of strings, mandatory): list of the discrimination thresholds to consider. A data product containing a digital signal is read for each one of the thresholds, and the tag of the data product is expected to be the module label <code>TriggerGatesTag</code> with as instance name the value of the entry in this list. While it is common for this entry to be the actual threshold value in ADC (e.g. <code>"400"</code>), this is not required.</li>
<li><code>WindowSize</code> (integral, mandatory): the number of <em>optical detector channels</em> that every window must include. Note that this is not equivalent to the number of input objects from the <code>TriggerGatesTag</code> data products: for example, in the standard ICARUS configuration, a window spanning 15 channels is generated out of only 8 LVDS input gates.</li>
<li><code>Stride</code> (integral, default: as <code>WindowSize</code>): the base offset, in number of optical detector channels, where to start a new window. Windows are started at all multiples of <code>Stride</code>. For example, windows of 30 channels with <code>Stride</code> 15 will start after 0, 15, 30, 45 and 60 channels on each optical detector plane.</li>
<li><code>EnableOnlyWindows</code> (list of integers, default: omitted): if specified, only the windows with index in this list will be processed and output; mutually exclusive with <code>DisableWindows</code>.</li>
<li><code>DisableWindows</code> (list of integers, default: omitted): if specified, the windows with index in this list will be excluded from processing and from output; mutually exclusive with <code>EnableOnlyWindows</code>.</li>
<li><code>MissingChannels</code> (list of integers, default: empty): the channels whose ID is included in this list are expected and required not to be present in the input (i.e. no input gate should include them).</li>
<li><code>LogCategory</code> (string): name of the output stream category for console messages (managed by MessageFacility library).</li>
</ul>
<p><em>Note</em>: when using <code>EnableOnlyWindows</code> or <code>DisableWindows</code> it may be useful to check the output of the module (at construction) to verify that the selected indices match the intended windows. </p>

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00197">197</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a4e23e2e121879739293c66707bb03b83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a4e23e2e121879739293c66707bb03b83">icarus::trigger::SlidingWindowTrigger::Parameters</a> =  art::EDProducer::Table&lt;<a class="el" href="structicarus_1_1trigger_1_1SlidingWindowTrigger_1_1Config.html">Config</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00258">258</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ad84663fe3a5c410aa77bced888818343"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ad84663fe3a5c410aa77bced888818343">icarus::trigger::SlidingWindowTrigger::TriggerGateData_t</a> =  <a class="el" href="classicarus_1_1trigger_1_1OpticalTriggerGate.html#a2b9986e0e920b11a5dfdc5a963f2a1c2">icarus::trigger::OpticalTriggerGate::GateData_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00201">201</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a325b22ca0c4226b809b10b7caaef952f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a325b22ca0c4226b809b10b7caaef952f">icarus::trigger::SlidingWindowTrigger::WindowDefs_t</a> =  <a class="el" href="namespaceicarus_1_1trigger.html#a34605d1471c5a4c76bbdc4f975521c50">icarus::trigger::TriggerWindowDefs_t</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition of all windows. </p>

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00285">285</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af5b981593eaaa97607dd9c91c8219109"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">icarus::trigger::SlidingWindowTrigger::SlidingWindowTrigger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a4e23e2e121879739293c66707bb03b83">Parameters</a> const &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00372">372</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  : art::EDProducer(config)</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="comment">// configuration</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  , <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#abf28f1719fade00a82f95f0701a64005">fWindowSize</a>(config().WindowSize())</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  , <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ab496ace5ad3d19e6fca738d5d5b2602d">fWindowStride</a></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    (<a class="code" href="namespaceutil_1_1fhicl.html#a7a710f4f9eb8ce2c8206162757289de0">util::fhicl::getOptionalValue</a>(config().<a class="code" href="namespaceana.html#aaec9dac9c08319e29e474140cf8f0de2">Stride</a>).value_or(<a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#abf28f1719fade00a82f95f0701a64005">fWindowSize</a>))</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  , <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a731b9f8deb4255ba7c51ffb9ebe36019">fWindowChannels</a>(<a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a1b8e697f5ed690258732f743359d6139">defineWindows</a>())</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  , <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#afec33ae0e28cce09fcaafdbbad5c0d73">fEnabledWindows</a>(<a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a975f6927da1c2322a56646ac1cb8a8be">makeEnabledWindowIndices</a>(</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;     <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a731b9f8deb4255ba7c51ffb9ebe36019">fWindowChannels</a>.size(),</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;     config().EnableOnlyWindows, config().DisableWindows</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;     ))</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  , <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ab75b945b5557089fc18c7d2851a5ba37">fLogCategory</a>(config().LogCategory())</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// demand full PMT coverage only if no window was disabled:</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  , <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a6866b3c9feb0e838a195300352e8146e">fCombiner</a>(</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <a class="code" href="g4__3drift__faketrigger__filter_8fcl.html#ad9fbd36ae83bd91dd0be317f6be97a63">filter</a>(<a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a731b9f8deb4255ba7c51ffb9ebe36019">fWindowChannels</a>, <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#afec33ae0e28cce09fcaafdbbad5c0d73">fEnabledWindows</a>),</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      config().MissingChannels(),</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#adad5e2b1d3049cbdacf7926c35c1b519">nDisabledWindows</a>() == 0U</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    )</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;{</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="comment">// more complex parameter parsing</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  std::string <span class="keyword">const</span> discrModuleLabel = config().TriggerGatesTag();</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keywordflow">for</span> (std::string <span class="keyword">const</span>&amp; threshold: config().<a class="code" href="triggersim__eastmodule__icarus__data_8fcl.html#a761fa70180817806779086b27954f099">Thresholds</a>())</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a166fe1d747af8efff5c9c5004a6173af">fADCthresholds</a>[threshold] = art::InputTag{ discrModuleLabel, threshold };</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="comment">// configuration report (short)</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    mf::LogInfo log(<a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ab75b945b5557089fc18c7d2851a5ba37">fLogCategory</a>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    log &lt;&lt;   <span class="stringliteral">&quot;Trigger configuration: &quot;</span> &lt;&lt; <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a731b9f8deb4255ba7c51ffb9ebe36019">fWindowChannels</a>.size() &lt;&lt; <span class="stringliteral">&quot; windows&quot;</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#afec33ae0e28cce09fcaafdbbad5c0d73">fEnabledWindows</a>.size() &lt; <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a731b9f8deb4255ba7c51ffb9ebe36019">fWindowChannels</a>.size())</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      log &lt;&lt; <span class="stringliteral">&quot; (only &quot;</span> &lt;&lt; <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#afec33ae0e28cce09fcaafdbbad5c0d73">fEnabledWindows</a>.size() &lt;&lt; <span class="stringliteral">&quot; enabled)&quot;</span>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    log &lt;&lt; <span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [ iWindow, window ]: <a class="code" href="namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a>(<a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a731b9f8deb4255ba7c51ffb9ebe36019">fWindowChannels</a>)) {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      log &lt;&lt; <span class="stringliteral">&quot;\n #&quot;</span> &lt;&lt; iWindow &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        &lt;&lt; <a class="code" href="namespaceicarus_1_1trigger.html#ae68b8345627418888c5e7ba544f5df8b">icarus::trigger::dumpTriggerWindowChannels</a>(window);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <span class="keywordflow">if</span> (std::find(<a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#afec33ae0e28cce09fcaafdbbad5c0d73">fEnabledWindows</a>.begin(), <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#afec33ae0e28cce09fcaafdbbad5c0d73">fEnabledWindows</a>.end(), iWindow)</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        == <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#afec33ae0e28cce09fcaafdbbad5c0d73">fEnabledWindows</a>.end())</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        log &lt;&lt; <span class="stringliteral">&quot; (disabled)&quot;</span>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    } <span class="comment">// for</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    log &lt;&lt; <span class="stringliteral">&quot;\nConfigured &quot;</span> &lt;&lt; <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a166fe1d747af8efff5c9c5004a6173af">fADCthresholds</a>.size() &lt;&lt; <span class="stringliteral">&quot; thresholds (ADC):&quot;</span>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [ threshold, dataTag ]: <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a166fe1d747af8efff5c9c5004a6173af">fADCthresholds</a>)</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      log &lt;&lt; <span class="stringliteral">&quot;\n * &quot;</span> &lt;&lt; threshold &lt;&lt; <span class="stringliteral">&quot; (from &#39;&quot;</span> &lt;&lt; dataTag.encode() &lt;&lt; <span class="stringliteral">&quot;&#39;)&quot;</span>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  } <span class="comment">// local block</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keyword">using</span> <a class="code" href="namespaceicarus_1_1trigger.html#a910f46c9a8fc50918c7ec07af219aa92">icarus::trigger::OpticalTriggerGateData_t</a>; <span class="comment">// for convenience</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="comment">// input data declaration</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keywordflow">for</span> (art::InputTag <span class="keyword">const</span>&amp; inputDataTag: <a class="code" href="namespaceutil.html#aac4707f84c6dc5c269f147302722611f">util::const_values</a>(fADCthresholds)) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    consumes&lt;std::vector&lt;OpticalTriggerGateData_t&gt;&gt;(inputDataTag);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    consumes&lt;art::Assns&lt;OpticalTriggerGateData_t, raw::OpDetWaveform&gt;&gt;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      (inputDataTag);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  } <span class="comment">// for</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="comment">// output data declaration</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordflow">for</span> (art::InputTag <span class="keyword">const</span>&amp; inputDataTag: <a class="code" href="namespaceutil.html#aac4707f84c6dc5c269f147302722611f">util::const_values</a>(fADCthresholds)) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    produces&lt;std::vector&lt;OpticalTriggerGateData_t&gt;&gt;(inputDataTag.instance());</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    produces&lt;art::Assns&lt;OpticalTriggerGateData_t, raw::OpDetWaveform&gt;&gt;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      (inputDataTag.instance());</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  } <span class="comment">// for</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;} <span class="comment">// icarus::trigger::SlidingWindowTrigger::SlidingWindowTrigger()</span></div>
<div class="ttc" id="triggersim__eastmodule__icarus__data_8fcl_html_a761fa70180817806779086b27954f099"><div class="ttname"><a href="triggersim__eastmodule__icarus__data_8fcl.html#a761fa70180817806779086b27954f099">Thresholds</a></div><div class="ttdeci">BEGIN_PROLOG BeamGateDuration pmtthr physics producers trigtilewindowORS Thresholds</div><div class="ttdef"><b>Definition:</b> <a href="triggersim__eastmodule__icarus__data_8fcl_source.html#l00124">triggersim_eastmodule_icarus_data.fcl:124</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_afec33ae0e28cce09fcaafdbbad5c0d73"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#afec33ae0e28cce09fcaafdbbad5c0d73">icarus::trigger::SlidingWindowTrigger::fEnabledWindows</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; const fEnabledWindows</div><div class="ttdoc">List of windows to be included. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00299">SlidingWindowTrigger_module.cc:299</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_a731b9f8deb4255ba7c51ffb9ebe36019"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a731b9f8deb4255ba7c51ffb9ebe36019">icarus::trigger::SlidingWindowTrigger::fWindowChannels</a></div><div class="ttdeci">WindowDefs_t const fWindowChannels</div><div class="ttdoc">Channel content of each window. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00296">SlidingWindowTrigger_module.cc:296</a></div></div>
<div class="ttc" id="namespaceutil_1_1fhicl_html_a7a710f4f9eb8ce2c8206162757289de0"><div class="ttname"><a href="namespaceutil_1_1fhicl.html#a7a710f4f9eb8ce2c8206162757289de0">util::fhicl::getOptionalValue</a></div><div class="ttdeci">std::optional&lt; typename Optional::value_type &gt; getOptionalValue(Optional const &amp;parameter)</div><div class="ttdoc">Returns the value of an optional parameter as std::optional. </div><div class="ttdef"><b>Definition:</b> <a href="FHiCLutils_8h_source.html#l00188">FHiCLutils.h:188</a></div></div>
<div class="ttc" id="namespaceutil_html_aac4707f84c6dc5c269f147302722611f"><div class="ttname"><a href="namespaceutil.html#aac4707f84c6dc5c269f147302722611f">util::const_values</a></div><div class="ttdeci">decltype(auto) const_values(Coll &amp;&amp;coll)</div><div class="ttdoc">Range-for loop helper iterating across the constant values of the specified collection. </div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_a166fe1d747af8efff5c9c5004a6173af"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a166fe1d747af8efff5c9c5004a6173af">icarus::trigger::SlidingWindowTrigger::fADCthresholds</a></div><div class="ttdeci">std::map&lt; std::string, art::InputTag &gt; fADCthresholds</div><div class="ttdoc">ADC thresholds to read, and the input tag connected to their data. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00290">SlidingWindowTrigger_module.cc:290</a></div></div>
<div class="ttc" id="namespaceutil_html_af0615b7538ff948ea65d5206a23c84f2"><div class="ttname"><a href="namespaceutil.html#af0615b7538ff948ea65d5206a23c84f2">util::enumerate</a></div><div class="ttdeci">auto enumerate(Iterables &amp;&amp;...iterables)</div><div class="ttdoc">Range-for loop helper tracking the number of iteration. </div><div class="ttdef"><b>Definition:</b> <a href="enumerate_8h_source.html#l00069">enumerate.h:69</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_adad5e2b1d3049cbdacf7926c35c1b519"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#adad5e2b1d3049cbdacf7926c35c1b519">icarus::trigger::SlidingWindowTrigger::nDisabledWindows</a></div><div class="ttdeci">unsigned int nDisabledWindows() const noexcept</div><div class="ttdoc">Returns the number of disabled windows. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00311">SlidingWindowTrigger_module.cc:311</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_ab496ace5ad3d19e6fca738d5d5b2602d"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ab496ace5ad3d19e6fca738d5d5b2602d">icarus::trigger::SlidingWindowTrigger::fWindowStride</a></div><div class="ttdeci">unsigned int const fWindowStride</div><div class="ttdoc">Sliding window base offset. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00293">SlidingWindowTrigger_module.cc:293</a></div></div>
<div class="ttc" id="namespaceicarus_1_1trigger_html_ae68b8345627418888c5e7ba544f5df8b"><div class="ttname"><a href="namespaceicarus_1_1trigger.html#ae68b8345627418888c5e7ba544f5df8b">icarus::trigger::dumpTriggerWindowChannels</a></div><div class="ttdeci">auto dumpTriggerWindowChannels(TriggerWindowChannels_t const &amp;window) -&gt; details::DumpTriggerWindowChannelWrapper</div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowDefs_8h_source.html#l00117">SlidingWindowDefs.h:117</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_abf28f1719fade00a82f95f0701a64005"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#abf28f1719fade00a82f95f0701a64005">icarus::trigger::SlidingWindowTrigger::fWindowSize</a></div><div class="ttdeci">unsigned int const fWindowSize</div><div class="ttdoc">Sliding window size in number of channels. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00292">SlidingWindowTrigger_module.cc:292</a></div></div>
<div class="ttc" id="namespaceicarus_1_1trigger_html_a910f46c9a8fc50918c7ec07af219aa92"><div class="ttname"><a href="namespaceicarus_1_1trigger.html#a910f46c9a8fc50918c7ec07af219aa92">icarus::trigger::OpticalTriggerGateData_t</a></div><div class="ttdeci">icarus::trigger::ReadoutTriggerGate&lt; TriggerGateTick_t, TriggerGateTicks_t, raw::Channel_t &gt; OpticalTriggerGateData_t</div><div class="ttdoc">Type of trigger gate data serialized into art data products. </div><div class="ttdef"><b>Definition:</b> <a href="OpticalTriggerGate_8h_source.html#l00044">OpticalTriggerGate.h:44</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_ab75b945b5557089fc18c7d2851a5ba37"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ab75b945b5557089fc18c7d2851a5ba37">icarus::trigger::SlidingWindowTrigger::fLogCategory</a></div><div class="ttdeci">std::string const fLogCategory</div><div class="ttdoc">Message facility stream category for output. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00302">SlidingWindowTrigger_module.cc:302</a></div></div>
<div class="ttc" id="g4__3drift__faketrigger__filter_8fcl_html_ad9fbd36ae83bd91dd0be317f6be97a63"><div class="ttname"><a href="g4__3drift__faketrigger__filter_8fcl.html#ad9fbd36ae83bd91dd0be317f6be97a63">filter</a></div><div class="ttdeci">physics filters filter</div><div class="ttdef"><b>Definition:</b> <a href="g4__3drift__faketrigger__filter_8fcl_source.html#l00008">g4_3drift_faketrigger_filter.fcl:8</a></div></div>
<div class="ttc" id="namespaceana_html_aaec9dac9c08319e29e474140cf8f0de2"><div class="ttname"><a href="namespaceana.html#aaec9dac9c08319e29e474140cf8f0de2">ana::Stride</a></div><div class="ttdeci">size_t Stride(bool allow_default)</div><div class="ttdef"><b>Definition:</b> <a href="sbnana_2sbnana_2CAFAna_2Core_2Utilities_8cxx_source.html#l00710">Utilities.cxx:710</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_a6866b3c9feb0e838a195300352e8146e"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a6866b3c9feb0e838a195300352e8146e">icarus::trigger::SlidingWindowTrigger::fCombiner</a></div><div class="ttdeci">icarus::trigger::SlidingWindowCombinerAlg const fCombiner</div><div class="ttdoc">Combining algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00307">SlidingWindowTrigger_module.cc:307</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_a975f6927da1c2322a56646ac1cb8a8be"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a975f6927da1c2322a56646ac1cb8a8be">icarus::trigger::SlidingWindowTrigger::makeEnabledWindowIndices</a></div><div class="ttdeci">static std::vector&lt; std::size_t &gt; makeEnabledWindowIndices(std::size_t nWindows, fhicl::OptionalSequence&lt; std::size_t &gt; const &amp;enabled, fhicl::OptionalSequence&lt; std::size_t &gt; const &amp;disabled)</div><div class="ttdoc">Returns a list of enabled window indices. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00529">SlidingWindowTrigger_module.cc:529</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_a1b8e697f5ed690258732f743359d6139"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a1b8e697f5ed690258732f743359d6139">icarus::trigger::SlidingWindowTrigger::defineWindows</a></div><div class="ttdeci">WindowDefs_t defineWindows() const </div><div class="ttdoc">Defines the channels falling in each window. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00463">SlidingWindowTrigger_module.cc:463</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a25696ce1bec3e7c2cab47b990fc60b56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">icarus::trigger::SlidingWindowTrigger::SlidingWindowTrigger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0cc8ad9b16568b20af9303751d5d3574"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">icarus::trigger::SlidingWindowTrigger::SlidingWindowTrigger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1b8e697f5ed690258732f743359d6139"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::SlidingWindowTrigger::defineWindows </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Defines the channels falling in each window. </p>

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00463">463</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;{</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="comment">// delegated to `SlidingWindowDefinitionAlg`</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowDefinitionAlg.html">icarus::trigger::SlidingWindowDefinitionAlg</a> <span class="keyword">const</span> algo {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    *(lar::providerFrom&lt;geo::Geometry&gt;()),</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="stringliteral">&quot;SlidingWindowTrigger/SlidingWindowDefinitionAlg&quot;</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    };</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keywordflow">return</span> algo.<a class="code" href="classicarus_1_1trigger_1_1SlidingWindowDefinitionAlg.html#aebf7fae652250b38af2d6a8796b2c323">makeWindows</a>(<a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#abf28f1719fade00a82f95f0701a64005">fWindowSize</a>, <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ab496ace5ad3d19e6fca738d5d5b2602d">fWindowStride</a>);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;} <span class="comment">// icarus::trigger::SlidingWindowTrigger::defineWindows()</span></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_ab496ace5ad3d19e6fca738d5d5b2602d"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ab496ace5ad3d19e6fca738d5d5b2602d">icarus::trigger::SlidingWindowTrigger::fWindowStride</a></div><div class="ttdeci">unsigned int const fWindowStride</div><div class="ttdoc">Sliding window base offset. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00293">SlidingWindowTrigger_module.cc:293</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_abf28f1719fade00a82f95f0701a64005"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#abf28f1719fade00a82f95f0701a64005">icarus::trigger::SlidingWindowTrigger::fWindowSize</a></div><div class="ttdeci">unsigned int const fWindowSize</div><div class="ttdoc">Sliding window size in number of channels. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00292">SlidingWindowTrigger_module.cc:292</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowDefinitionAlg_html"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowDefinitionAlg.html">icarus::trigger::SlidingWindowDefinitionAlg</a></div><div class="ttdoc">Groups optical detector channels into windows based on position. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowDefinitionAlg_8h_source.html#l00083">SlidingWindowDefinitionAlg.h:83</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowDefinitionAlg_html_aebf7fae652250b38af2d6a8796b2c323"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowDefinitionAlg.html#aebf7fae652250b38af2d6a8796b2c323">icarus::trigger::SlidingWindowDefinitionAlg::makeWindows</a></div><div class="ttdeci">WindowDefs_t makeWindows(unsigned int windowSize, unsigned int windowStride) const </div><div class="ttdoc">Performs the calculation and returns the sliding window composition. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowDefinitionAlg_8cxx_source.html#l00037">SlidingWindowDefinitionAlg.cxx:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a975f6927da1c2322a56646ac1cb8a8be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::SlidingWindowTrigger::makeEnabledWindowIndices </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>nWindows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fhicl::OptionalSequence&lt; std::size_t &gt; const &amp;&#160;</td>
          <td class="paramname"><em>enabled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fhicl::OptionalSequence&lt; std::size_t &gt; const &amp;&#160;</td>
          <td class="paramname"><em>disabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list of enabled window indices. </p>

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00529">529</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                          {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  std::vector&lt;std::size_t&gt; selection; <span class="comment">// indices of the enabled windows</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="comment">// add all enabled windows (or all if no enabled list is specified)</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="keywordflow">if</span> (!enabled(selection)) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    selection.resize(nWindows);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    std::iota(selection.begin(), selection.end(), 0U);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="comment">// remove all disabled windows (if any)</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  std::vector&lt;std::size_t&gt; removeWindows;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  disabled(removeWindows);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> find = [&amp;selection](std::size_t index)</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    { <span class="keywordflow">return</span> std::find(selection.begin(), selection.end(), index); };</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">for</span> (std::size_t <span class="keyword">const</span> index: removeWindows) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> <span class="keyword">const</span> it = find(index); it != selection.end()) selection.erase(it);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  } <span class="comment">// for</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordflow">return</span> selection;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;} <span class="comment">// icarus::trigger::SlidingWindowTrigger::makeEnabledWindowIndices()</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adad5e2b1d3049cbdacf7926c35c1b519"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int icarus::trigger::SlidingWindowTrigger::nDisabledWindows </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of disabled windows. </p>

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00311">311</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    { <span class="keywordflow">return</span> <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a731b9f8deb4255ba7c51ffb9ebe36019">fWindowChannels</a>.size() - <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#afec33ae0e28cce09fcaafdbbad5c0d73">fEnabledWindows</a>.size(); }</div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_afec33ae0e28cce09fcaafdbbad5c0d73"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#afec33ae0e28cce09fcaafdbbad5c0d73">icarus::trigger::SlidingWindowTrigger::fEnabledWindows</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; const fEnabledWindows</div><div class="ttdoc">List of windows to be included. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00299">SlidingWindowTrigger_module.cc:299</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_a731b9f8deb4255ba7c51ffb9ebe36019"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a731b9f8deb4255ba7c51ffb9ebe36019">icarus::trigger::SlidingWindowTrigger::fWindowChannels</a></div><div class="ttdeci">WindowDefs_t const fWindowChannels</div><div class="ttdoc">Channel content of each window. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00296">SlidingWindowTrigger_module.cc:296</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a23ea4a203343f39e48987174be8722f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a>&amp; icarus::trigger::SlidingWindowTrigger::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab5081171a2a10a79dcea7c26588766d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a>&amp; icarus::trigger::SlidingWindowTrigger::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="adb9b5754dd399bcc1673c16239d52c4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::SlidingWindowTrigger::produce </td>
          <td>(</td>
          <td class="paramtype">art::Event &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fills the plots. Also extracts the information to fill them with. </p>

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00449">449</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                                                               {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <a class="code" href="namespaceicarus_1_1trigger.html#a8ff10aaae563bd9dbc0791eddd38dd18">icarus::trigger::OpDetWaveformDataProductMap_t</a> waveformMap;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [ thresholdStr, dataTag ]: <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a166fe1d747af8efff5c9c5004a6173af">fADCthresholds</a>) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a07a057dfb0511614a69b8c231db8a133">produceThreshold</a>(event, waveformMap, thresholdStr, dataTag);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  } <span class="comment">// for all thresholds</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;} <span class="comment">// icarus::trigger::SlidingWindowTrigger::produce()</span></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_a166fe1d747af8efff5c9c5004a6173af"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a166fe1d747af8efff5c9c5004a6173af">icarus::trigger::SlidingWindowTrigger::fADCthresholds</a></div><div class="ttdeci">std::map&lt; std::string, art::InputTag &gt; fADCthresholds</div><div class="ttdoc">ADC thresholds to read, and the input tag connected to their data. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00290">SlidingWindowTrigger_module.cc:290</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_a07a057dfb0511614a69b8c231db8a133"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a07a057dfb0511614a69b8c231db8a133">icarus::trigger::SlidingWindowTrigger::produceThreshold</a></div><div class="ttdeci">void produceThreshold(art::Event &amp;event, icarus::trigger::OpDetWaveformDataProductMap_t &amp;waveformMap, std::string const &amp;threshold, art::InputTag const &amp;dataTag) const </div><div class="ttdoc">Performs the combination for data with a specified threshold. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00479">SlidingWindowTrigger_module.cc:479</a></div></div>
<div class="ttc" id="namespaceicarus_1_1trigger_html_a8ff10aaae563bd9dbc0791eddd38dd18"><div class="ttname"><a href="namespaceicarus_1_1trigger.html#a8ff10aaae563bd9dbc0791eddd38dd18">icarus::trigger::OpDetWaveformDataProductMap_t</a></div><div class="ttdeci">util::DataProductPointerMap_t&lt; raw::OpDetWaveform &gt; OpDetWaveformDataProductMap_t</div><div class="ttdoc">Map util::DataProductPointerMap_t for raw::OpDetWaveform objects. </div><div class="ttdef"><b>Definition:</b> <a href="TriggerDataUtils_8h_source.html#l00039">TriggerDataUtils.h:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a07a057dfb0511614a69b8c231db8a133"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::SlidingWindowTrigger::produceThreshold </td>
          <td>(</td>
          <td class="paramtype">art::Event &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceicarus_1_1trigger.html#a8ff10aaae563bd9dbc0791eddd38dd18">icarus::trigger::OpDetWaveformDataProductMap_t</a> &amp;&#160;</td>
          <td class="paramname"><em>waveformMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">art::InputTag const &amp;&#160;</td>
          <td class="paramname"><em>dataTag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs the combination for data with a specified threshold. </p>

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00479">479</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  mf::LogDebug(<a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ab75b945b5557089fc18c7d2851a5ba37">fLogCategory</a>)</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;Processing threshold &quot;</span> &lt;&lt; threshold</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    &lt;&lt; <span class="stringliteral">&quot; from &#39;&quot;</span> &lt;&lt; dataTag.encode() &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    ;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keyword">using</span> <a class="code" href="namespaceicarus_1_1trigger.html#a910f46c9a8fc50918c7ec07af219aa92">icarus::trigger::OpticalTriggerGateData_t</a>; <span class="comment">// for convenience</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  std::vector&lt;icarus::trigger::MultiChannelOpticalTriggerGate&gt; <span class="keyword">const</span>&amp; gates</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    = <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a257d01e03f98fb1898c4f9ca27fb5f9a">ReadTriggerGates</a>(event, dataTag, waveformMap);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  std::vector&lt;icarus::trigger::MultiChannelOpticalTriggerGate&gt; combinedGates</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    = <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a6866b3c9feb0e838a195300352e8146e">fCombiner</a>.<a class="code" href="classicarus_1_1trigger_1_1SlidingWindowCombinerAlg.html#a3a51d4dd81a803946888da80d116d0c2">combine</a>(gates);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="comment">// transform the data; after this line, `gates` is not usable any more</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  art::PtrMaker&lt;OpticalTriggerGateData_t&gt; <span class="keyword">const</span> makeGatePtr</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    (event, dataTag.instance());</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keyword">auto</span>&amp;&amp; [ outputGates, outputAssns ]</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    = <a class="code" href="namespaceicarus_1_1trigger.html#a5e3e2f0504cab0c10790916793f11381">icarus::trigger::transformIntoOpticalTriggerGate</a></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    (combinedGates, makeGatePtr, waveformMap);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  mf::LogTrace(<a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ab75b945b5557089fc18c7d2851a5ba37">fLogCategory</a>)</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;Threshold &quot;</span> &lt;&lt; threshold &lt;&lt; <span class="stringliteral">&quot; (&#39;&quot;</span> &lt;&lt; dataTag.encode() &lt;&lt; <span class="stringliteral">&quot;&#39;): &quot;</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    &lt;&lt; gates.size() &lt;&lt; <span class="stringliteral">&quot; input channels, &quot;</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    &lt;&lt; outputGates.size() &lt;&lt; <span class="stringliteral">&quot; output channels (+&quot;</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    &lt;&lt; outputAssns.size() &lt;&lt; <span class="stringliteral">&quot; associations to waveforms) into &#39;&quot;</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    &lt;&lt; moduleDescription().moduleLabel() &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; dataTag.instance() &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    ;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keyword">event</span>.put(</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    std::make_unique&lt;std::vector&lt;OpticalTriggerGateData_t&gt;&gt;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      (std::move(outputGates)),</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    dataTag.instance()</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    );</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keyword">event</span>.put(</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    std::make_unique&lt;art::Assns&lt;OpticalTriggerGateData_t, raw::OpDetWaveform&gt;&gt;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      (std::move(outputAssns)),</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    dataTag.instance()</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    );</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;} <span class="comment">// icarus::trigger::SlidingWindowTrigger::produceThreshold()</span></div>
<div class="ttc" id="namespaceicarus_1_1trigger_html_a5e3e2f0504cab0c10790916793f11381"><div class="ttname"><a href="namespaceicarus_1_1trigger.html#a5e3e2f0504cab0c10790916793f11381">icarus::trigger::transformIntoOpticalTriggerGate</a></div><div class="ttdeci">std::vector&lt; icarus::trigger::OpticalTriggerGateData_t &gt; transformIntoOpticalTriggerGate(Gates &amp;&amp;gates)</div><div class="ttdoc">Returns the trigger gates in serializable format. </div><div class="ttdef"><b>Definition:</b> <a href="TriggerDataUtils_8h_source.html#l00373">TriggerDataUtils.h:373</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_a257d01e03f98fb1898c4f9ca27fb5f9a"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a257d01e03f98fb1898c4f9ca27fb5f9a">icarus::trigger::SlidingWindowTrigger::ReadTriggerGates</a></div><div class="ttdeci">std::vector&lt; icarus::trigger::MultiChannelOpticalTriggerGate &gt; ReadTriggerGates(art::Event const &amp;event, art::InputTag const &amp;dataTag, icarus::trigger::OpDetWaveformDataProductMap_t &amp;waveformMap) const </div><div class="ttdoc">Reads a set of input gates from the event and updates waveformMap. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00570">SlidingWindowTrigger_module.cc:570</a></div></div>
<div class="ttc" id="namespaceicarus_1_1trigger_html_a910f46c9a8fc50918c7ec07af219aa92"><div class="ttname"><a href="namespaceicarus_1_1trigger.html#a910f46c9a8fc50918c7ec07af219aa92">icarus::trigger::OpticalTriggerGateData_t</a></div><div class="ttdeci">icarus::trigger::ReadoutTriggerGate&lt; TriggerGateTick_t, TriggerGateTicks_t, raw::Channel_t &gt; OpticalTriggerGateData_t</div><div class="ttdoc">Type of trigger gate data serialized into art data products. </div><div class="ttdef"><b>Definition:</b> <a href="OpticalTriggerGate_8h_source.html#l00044">OpticalTriggerGate.h:44</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_ab75b945b5557089fc18c7d2851a5ba37"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ab75b945b5557089fc18c7d2851a5ba37">icarus::trigger::SlidingWindowTrigger::fLogCategory</a></div><div class="ttdeci">std::string const fLogCategory</div><div class="ttdoc">Message facility stream category for output. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00302">SlidingWindowTrigger_module.cc:302</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowCombinerAlg_html_a3a51d4dd81a803946888da80d116d0c2"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowCombinerAlg.html#a3a51d4dd81a803946888da80d116d0c2">icarus::trigger::SlidingWindowCombinerAlg::combine</a></div><div class="ttdeci">std::vector&lt; icarus::trigger::MultiChannelOpticalTriggerGate &gt; combine(std::vector&lt; GateObject &gt; const &amp;gates) const </div><div class="ttdoc">Combines the gates according to the configured grouping. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowCombinerAlg_8h_source.html#l00128">SlidingWindowCombinerAlg.h:128</a></div></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_a6866b3c9feb0e838a195300352e8146e"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a6866b3c9feb0e838a195300352e8146e">icarus::trigger::SlidingWindowTrigger::fCombiner</a></div><div class="ttdeci">icarus::trigger::SlidingWindowCombinerAlg const fCombiner</div><div class="ttdoc">Combining algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00307">SlidingWindowTrigger_module.cc:307</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a257d01e03f98fb1898c4f9ca27fb5f9a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classicarus_1_1trigger_1_1MultiChannelOpticalTriggerGate.html">icarus::trigger::MultiChannelOpticalTriggerGate</a> &gt; icarus::trigger::SlidingWindowTrigger::ReadTriggerGates </td>
          <td>(</td>
          <td class="paramtype">art::Event const &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">art::InputTag const &amp;&#160;</td>
          <td class="paramname"><em>dataTag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceicarus_1_1trigger.html#a8ff10aaae563bd9dbc0791eddd38dd18">icarus::trigger::OpDetWaveformDataProductMap_t</a> &amp;&#160;</td>
          <td class="paramname"><em>waveformMap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads a set of input gates from the <code>event</code> and updates <code>waveformMap</code>. </p>

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00570">570</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keyword">using</span> <a class="code" href="namespaceicarus_1_1trigger.html#a910f46c9a8fc50918c7ec07af219aa92">icarus::trigger::OpticalTriggerGateData_t</a>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span>&amp; assns =</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    *(<span class="keyword">event</span>.getValidHandle&lt;art::Assns&lt;OpticalTriggerGateData_t, raw::OpDetWaveform&gt;&gt;(dataTag));</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <a class="code" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ac2d0f9c1a77698781ccfb64d4a29a8c7">UpdateWaveformMap</a>(waveformMap, assns);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordflow">return</span> icarus::trigger::FillTriggerGates&lt;icarus::trigger::MultiChannelOpticalTriggerGate&gt;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    (*(<span class="keyword">event</span>.getValidHandle&lt;std::vector&lt;OpticalTriggerGateData_t&gt;&gt;(dataTag)), assns);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;} <span class="comment">// icarus::trigger::SlidingWindowTrigger::ReadTriggerGates()</span></div>
<div class="ttc" id="classicarus_1_1trigger_1_1SlidingWindowTrigger_html_ac2d0f9c1a77698781ccfb64d4a29a8c7"><div class="ttname"><a href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ac2d0f9c1a77698781ccfb64d4a29a8c7">icarus::trigger::SlidingWindowTrigger::UpdateWaveformMap</a></div><div class="ttdeci">static void UpdateWaveformMap(icarus::trigger::OpDetWaveformDataProductMap_t &amp;map, art::Assns&lt; TriggerGateData_t, raw::OpDetWaveform &gt; const &amp;assns)</div><div class="ttdoc">Adds the waveforms in the specified association to the waveform map. </div><div class="ttdef"><b>Definition:</b> <a href="SlidingWindowTrigger__module_8cc_source.html#l00557">SlidingWindowTrigger_module.cc:557</a></div></div>
<div class="ttc" id="namespaceicarus_1_1trigger_html_a910f46c9a8fc50918c7ec07af219aa92"><div class="ttname"><a href="namespaceicarus_1_1trigger.html#a910f46c9a8fc50918c7ec07af219aa92">icarus::trigger::OpticalTriggerGateData_t</a></div><div class="ttdeci">icarus::trigger::ReadoutTriggerGate&lt; TriggerGateTick_t, TriggerGateTicks_t, raw::Channel_t &gt; OpticalTriggerGateData_t</div><div class="ttdoc">Type of trigger gate data serialized into art data products. </div><div class="ttdef"><b>Definition:</b> <a href="OpticalTriggerGate_8h_source.html#l00044">OpticalTriggerGate.h:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac2d0f9c1a77698781ccfb64d4a29a8c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::SlidingWindowTrigger::UpdateWaveformMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceicarus_1_1trigger.html#a8ff10aaae563bd9dbc0791eddd38dd18">icarus::trigger::OpDetWaveformDataProductMap_t</a> &amp;&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">art::Assns&lt; <a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#ad84663fe3a5c410aa77bced888818343">TriggerGateData_t</a>, <a class="el" href="classraw_1_1OpDetWaveform.html">raw::OpDetWaveform</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>assns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the waveforms in the specified association to the waveform <code>map</code>. </p>

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00557">557</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">for</span> (art::Ptr&lt;raw::OpDetWaveform&gt; <span class="keyword">const</span>&amp; wave: util::get_elements&lt;1U&gt;(assns))</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    map.emplace(wave.get(), wave);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;} <span class="comment">// icarus::trigger::SlidingWindowTrigger::UpdateWaveformMap()</span></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a166fe1d747af8efff5c9c5004a6173af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, art::InputTag&gt; icarus::trigger::SlidingWindowTrigger::fADCthresholds</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ADC thresholds to read, and the input tag connected to their data. </p>

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00290">290</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a6866b3c9feb0e838a195300352e8146e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowCombinerAlg.html">icarus::trigger::SlidingWindowCombinerAlg</a> const icarus::trigger::SlidingWindowTrigger::fCombiner</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Combining algorithm. </p>

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00307">307</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="afec33ae0e28cce09fcaafdbbad5c0d73"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::size_t&gt; const icarus::trigger::SlidingWindowTrigger::fEnabledWindows</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of windows to be included. </p>

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00299">299</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ab75b945b5557089fc18c7d2851a5ba37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const icarus::trigger::SlidingWindowTrigger::fLogCategory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Message facility stream category for output. </p>

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00302">302</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a731b9f8deb4255ba7c51ffb9ebe36019"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html#a325b22ca0c4226b809b10b7caaef952f">WindowDefs_t</a> const icarus::trigger::SlidingWindowTrigger::fWindowChannels</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Channel content of each window. </p>

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00296">296</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="abf28f1719fade00a82f95f0701a64005"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int const icarus::trigger::SlidingWindowTrigger::fWindowSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sliding window size in number of channels. </p>

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00292">292</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ab496ace5ad3d19e6fca738d5d5b2602d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int const icarus::trigger::SlidingWindowTrigger::fWindowStride</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sliding window base offset. </p>

<p>Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00293">293</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>icaruscode/icaruscode/PMT/Trigger/<a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
