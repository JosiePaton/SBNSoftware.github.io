<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>sim::SimChannel Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d8/d7d/namespacesim.html">sim</a></li><li class="navelem"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html">SimChannel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d0/db0/classsim_1_1SimChannel-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">sim::SimChannel Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Energy deposited on a readout channel by simulated tracks.  
 <a href="../../d0/daf/classsim_1_1SimChannel.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d6/dde/SimChannel_8h_source.html">SimChannel.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc5/structsim_1_1SimChannel_1_1CompareByTDC.html">CompareByTDC</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a4278084f56059246c602343d35f93439"><td class="memItemLeft" align="right" valign="top">typedef TDCIDE::first_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a4278084f56059246c602343d35f93439">StoredTDC_t</a></td></tr>
<tr class="memdesc:a4278084f56059246c602343d35f93439"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type for TDC tick used in the internal representation.  <a href="#a4278084f56059246c602343d35f93439">More...</a><br/></td></tr>
<tr class="separator:a4278084f56059246c602343d35f93439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad29cede02a0084b2f4a1533c6a5d850b"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; <a class="el" href="../../d8/d7d/namespacesim.html#a56ceb09dba3a1641d57c42cd471a71c9">TDCIDE</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#ad29cede02a0084b2f4a1533c6a5d850b">TDCIDEs_t</a></td></tr>
<tr class="memdesc:ad29cede02a0084b2f4a1533c6a5d850b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of list of energy deposits for each TDC with signal.  <a href="#ad29cede02a0084b2f4a1533c6a5d850b">More...</a><br/></td></tr>
<tr class="separator:ad29cede02a0084b2f4a1533c6a5d850b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9edcb948bc8a722f3606e801a0c2c824"><td class="memItemLeft" align="right" valign="top">typedef unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a9edcb948bc8a722f3606e801a0c2c824">TDC_t</a></td></tr>
<tr class="separator:a9edcb948bc8a722f3606e801a0c2c824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c3faeccdae5c57bb07e584817d62a47"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d1/db8/structsim_1_1IDE.html#a3b476a9cffd57b25c5b1541f36f88303">IDE::TrackID_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a5c3faeccdae5c57bb07e584817d62a47">TrackID_t</a></td></tr>
<tr class="memdesc:a5c3faeccdae5c57bb07e584817d62a47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of track ID (the value comes from Geant4)  <a href="#a5c3faeccdae5c57bb07e584817d62a47">More...</a><br/></td></tr>
<tr class="separator:a5c3faeccdae5c57bb07e584817d62a47"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3bdfdfbdcb5178694937e7b2b8c37175"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a3bdfdfbdcb5178694937e7b2b8c37175">SimChannel</a> ()</td></tr>
<tr class="separator:a3bdfdfbdcb5178694937e7b2b8c37175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8db10790bb6ee66a0a25eebb4a3472bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a8db10790bb6ee66a0a25eebb4a3472bc">SimChannel</a> (<a class="el" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a> channel)</td></tr>
<tr class="memdesc:a8db10790bb6ee66a0a25eebb4a3472bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor: immediately sets the channel number.  <a href="#a8db10790bb6ee66a0a25eebb4a3472bc">More...</a><br/></td></tr>
<tr class="separator:a8db10790bb6ee66a0a25eebb4a3472bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af142f718b868d10a68c11b645c8fffb6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#af142f718b868d10a68c11b645c8fffb6">AddIonizationElectrons</a> (<a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a5c3faeccdae5c57bb07e584817d62a47">TrackID_t</a> trackID, <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a9edcb948bc8a722f3606e801a0c2c824">TDC_t</a> tdc, double numberElectrons, double const *xyz, double energy)</td></tr>
<tr class="memdesc:af142f718b868d10a68c11b645c8fffb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add ionization electrons and energy to this channel.  <a href="#af142f718b868d10a68c11b645c8fffb6">More...</a><br/></td></tr>
<tr class="separator:af142f718b868d10a68c11b645c8fffb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbd56dc08733bb076f29050c3629f156"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#acbd56dc08733bb076f29050c3629f156">Channel</a> () const </td></tr>
<tr class="memdesc:acbd56dc08733bb076f29050c3629f156"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the readout channel this object describes.  <a href="#acbd56dc08733bb076f29050c3629f156">More...</a><br/></td></tr>
<tr class="separator:acbd56dc08733bb076f29050c3629f156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadcd58ce655a71ec74af4fd77b48a813"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d1/db8/structsim_1_1IDE.html">sim::IDE</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#aadcd58ce655a71ec74af4fd77b48a813">TrackIDsAndEnergies</a> (<a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a9edcb948bc8a722f3606e801a0c2c824">TDC_t</a> startTDC, <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a9edcb948bc8a722f3606e801a0c2c824">TDC_t</a> endTDC) const </td></tr>
<tr class="memdesc:aadcd58ce655a71ec74af4fd77b48a813"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return all the recorded energy deposition within a time interval.  <a href="#aadcd58ce655a71ec74af4fd77b48a813">More...</a><br/></td></tr>
<tr class="separator:aadcd58ce655a71ec74af4fd77b48a813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99dc0d397d4f9271f7ba5e3136bd4363"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#ad29cede02a0084b2f4a1533c6a5d850b">TDCIDEs_t</a> const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a99dc0d397d4f9271f7ba5e3136bd4363">TDCIDEMap</a> () const </td></tr>
<tr class="memdesc:a99dc0d397d4f9271f7ba5e3136bd4363"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all the deposited energy information as stored.  <a href="#a99dc0d397d4f9271f7ba5e3136bd4363">More...</a><br/></td></tr>
<tr class="separator:a99dc0d397d4f9271f7ba5e3136bd4363"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f0a222d6c3b11979cac01aab1245a53"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a7f0a222d6c3b11979cac01aab1245a53">Charge</a> (<a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a9edcb948bc8a722f3606e801a0c2c824">TDC_t</a> tdc) const </td></tr>
<tr class="memdesc:a7f0a222d6c3b11979cac01aab1245a53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total number of ionization electrons on this channel in the specified TDC.  <a href="#a7f0a222d6c3b11979cac01aab1245a53">More...</a><br/></td></tr>
<tr class="separator:a7f0a222d6c3b11979cac01aab1245a53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab245eab712c20a1148580f260762f744"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#ab245eab712c20a1148580f260762f744">Energy</a> (<a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a9edcb948bc8a722f3606e801a0c2c824">TDC_t</a> tdc) const </td></tr>
<tr class="memdesc:ab245eab712c20a1148580f260762f744"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total energy on this channel in the specified TDC [MeV].  <a href="#ab245eab712c20a1148580f260762f744">More...</a><br/></td></tr>
<tr class="separator:ab245eab712c20a1148580f260762f744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59bc1ea75c757589dc6a89fa8f85d952"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d8/dab/structsim_1_1TrackIDE.html">sim::TrackIDE</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a59bc1ea75c757589dc6a89fa8f85d952">TrackIDEs</a> (<a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a9edcb948bc8a722f3606e801a0c2c824">TDC_t</a> startTDC, <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a9edcb948bc8a722f3606e801a0c2c824">TDC_t</a> endTDC) const </td></tr>
<tr class="memdesc:a59bc1ea75c757589dc6a89fa8f85d952"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns energies collected for each track within a time interval.  <a href="#a59bc1ea75c757589dc6a89fa8f85d952">More...</a><br/></td></tr>
<tr class="separator:a59bc1ea75c757589dc6a89fa8f85d952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefef96b8b0750192c67ff16153a26c5f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#aefef96b8b0750192c67ff16153a26c5f">operator&lt;</a> (const <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html">SimChannel</a> &amp;other) const </td></tr>
<tr class="memdesc:aefef96b8b0750192c67ff16153a26c5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Comparison: sorts by channel ID.  <a href="#aefef96b8b0750192c67ff16153a26c5f">More...</a><br/></td></tr>
<tr class="separator:aefef96b8b0750192c67ff16153a26c5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21fc82d820a8d6df09887c6c23a33beb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a21fc82d820a8d6df09887c6c23a33beb">operator==</a> (const <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html">SimChannel</a> &amp;other) const </td></tr>
<tr class="memdesc:a21fc82d820a8d6df09887c6c23a33beb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Comparison: true if SimChannels have the same channel ID.  <a href="#a21fc82d820a8d6df09887c6c23a33beb">More...</a><br/></td></tr>
<tr class="separator:a21fc82d820a8d6df09887c6c23a33beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05a39513fd9b2125c944739ccf098bb7"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a5c3faeccdae5c57bb07e584817d62a47">TrackID_t</a>, <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a5c3faeccdae5c57bb07e584817d62a47">TrackID_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a05a39513fd9b2125c944739ccf098bb7">MergeSimChannel</a> (const <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html">SimChannel</a> &amp;channel, int <a class="el" href="../../d2/d0d/CORSIKAGen_8fcl.html#a424b27db311314d6e22e0e78fd28a35a">offset</a>)</td></tr>
<tr class="memdesc:a05a39513fd9b2125c944739ccf098bb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merges the deposits from another channel into this one.  <a href="#a05a39513fd9b2125c944739ccf098bb7">More...</a><br/></td></tr>
<tr class="separator:a05a39513fd9b2125c944739ccf098bb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4330b18cca496ae1da9cd27e28f4d8d7"><td class="memTemplParams" colspan="2">template&lt;typename Stream &gt; </td></tr>
<tr class="memitem:a4330b18cca496ae1da9cd27e28f4d8d7"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a4330b18cca496ae1da9cd27e28f4d8d7">Dump</a> (<a class="el" href="../../d0/d8f/runFilesFromSAM_8sh.html#a9cafae22b6225844ee0cdf5ea57176ff">Stream</a> &amp;&amp;out, std::string indent, std::string first_indent) const </td></tr>
<tr class="memdesc:a4330b18cca496ae1da9cd27e28f4d8d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps the full content of the <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html" title="Energy deposited on a readout channel by simulated tracks. ">SimChannel</a> into a stream.  <a href="#a4330b18cca496ae1da9cd27e28f4d8d7">More...</a><br/></td></tr>
<tr class="separator:a4330b18cca496ae1da9cd27e28f4d8d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a602b90f17d147a01cd61f79f9b647372"><td class="memTemplParams" colspan="2">template&lt;typename Stream &gt; </td></tr>
<tr class="memitem:a602b90f17d147a01cd61f79f9b647372"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a602b90f17d147a01cd61f79f9b647372">Dump</a> (<a class="el" href="../../d0/d8f/runFilesFromSAM_8sh.html#a9cafae22b6225844ee0cdf5ea57176ff">Stream</a> &amp;&amp;out, std::string indent=&quot;&quot;) const </td></tr>
<tr class="memdesc:a602b90f17d147a01cd61f79f9b647372"><td class="mdescLeft">&#160;</td><td class="mdescRight">Documentation at <code><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a4330b18cca496ae1da9cd27e28f4d8d7" title="Dumps the full content of the SimChannel into a stream. ">Dump(Stream&amp;&amp;, std::string, std::string) const</a></code>.  <a href="#a602b90f17d147a01cd61f79f9b647372">More...</a><br/></td></tr>
<tr class="separator:a602b90f17d147a01cd61f79f9b647372"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a6e523d7ef9f0250159c882c080a1f081"><td class="memItemLeft" align="right" valign="top">TDCIDEs_t::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a6e523d7ef9f0250159c882c080a1f081">findClosestTDCIDE</a> (<a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a4278084f56059246c602343d35f93439">StoredTDC_t</a> tdc)</td></tr>
<tr class="memdesc:a6e523d7ef9f0250159c882c080a1f081"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the iterator to the first TDCIDE not earlier than tdc.  <a href="#a6e523d7ef9f0250159c882c080a1f081">More...</a><br/></td></tr>
<tr class="separator:a6e523d7ef9f0250159c882c080a1f081"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70502e3acb0fa60b9d2ef173908e6c03"><td class="memItemLeft" align="right" valign="top">TDCIDEs_t::const_iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a70502e3acb0fa60b9d2ef173908e6c03">findClosestTDCIDE</a> (<a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a4278084f56059246c602343d35f93439">StoredTDC_t</a> tdc) const </td></tr>
<tr class="memdesc:a70502e3acb0fa60b9d2ef173908e6c03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the (constant) iterator to the first TDCIDE not earlier than tdc.  <a href="#a70502e3acb0fa60b9d2ef173908e6c03">More...</a><br/></td></tr>
<tr class="separator:a70502e3acb0fa60b9d2ef173908e6c03"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a70fa87059c543660c29a1baaeb9833a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a70fa87059c543660c29a1baaeb9833a5">fChannel</a></td></tr>
<tr class="memdesc:a70fa87059c543660c29a1baaeb9833a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">readout channel where electrons are collected  <a href="#a70fa87059c543660c29a1baaeb9833a5">More...</a><br/></td></tr>
<tr class="separator:a70fa87059c543660c29a1baaeb9833a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add3d8b6b8e9bb7c7274d816a8e8f314a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#ad29cede02a0084b2f4a1533c6a5d850b">TDCIDEs_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">fTDCIDEs</a></td></tr>
<tr class="memdesc:add3d8b6b8e9bb7c7274d816a8e8f314a"><td class="mdescLeft">&#160;</td><td class="mdescRight">list of energy deposits for each TDC with signal  <a href="#add3d8b6b8e9bb7c7274d816a8e8f314a">More...</a><br/></td></tr>
<tr class="separator:add3d8b6b8e9bb7c7274d816a8e8f314a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Energy deposited on a readout channel by simulated tracks. </p>
<p>This class stores the list of all energies deposited on a readout channel. The number of electrons is stored as well.</p>
<p>The information is organized by time: it is divided by TDC ticks, and each TDC tick where some energy was deposited appears in a separate entry, while the quiet TDC ticks are omitted. For each TDC, the information is stored as a list of energy deposits; each deposit comes from a single Geant4 track and stores the location where the ionization happened according to the simulation (see <code><a class="el" href="../../d1/db8/structsim_1_1IDE.html" title="Ionization at a point of the TPC sensitive volume. ">sim::IDE</a></code> class).</p>
<p>Note that there can be multiple energy deposit records (that is <code><a class="el" href="../../d1/db8/structsim_1_1IDE.html" title="Ionization at a point of the TPC sensitive volume. ">sim::IDE</a></code>) for a single track in a single TDC tick. </p>

<p>Definition at line <a class="el" href="../../d6/dde/SimChannel_8h_source.html#l00140">140</a> of file <a class="el" href="../../d6/dde/SimChannel_8h_source.html">SimChannel.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a4278084f56059246c602343d35f93439"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef TDCIDE::first_type <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a4278084f56059246c602343d35f93439">sim::SimChannel::StoredTDC_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type for TDC tick used in the internal representation. </p>

<p>Definition at line <a class="el" href="../../d6/dde/SimChannel_8h_source.html#l00144">144</a> of file <a class="el" href="../../d6/dde/SimChannel_8h_source.html">SimChannel.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9edcb948bc8a722f3606e801a0c2c824"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef unsigned int <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a9edcb948bc8a722f3606e801a0c2c824">sim::SimChannel::TDC_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type for TDC tick used in the interface (different type than <a class="el" href="../../d9/d63/namespaceraw.html#abcbf8ba50ca9efdbeb1a6955b040b4fe" title="Type representing a TDC tick. ">raw::TDCtick_t</a>! and from internal representation! but same meaning!) </p>

<p>Definition at line <a class="el" href="../../d6/dde/SimChannel_8h_source.html#l00162">162</a> of file <a class="el" href="../../d6/dde/SimChannel_8h_source.html">SimChannel.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad29cede02a0084b2f4a1533c6a5d850b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="../../d8/d7d/namespacesim.html#a56ceb09dba3a1641d57c42cd471a71c9">TDCIDE</a>&gt; <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#ad29cede02a0084b2f4a1533c6a5d850b">sim::SimChannel::TDCIDEs_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of list of energy deposits for each TDC with signal. </p>

<p>Definition at line <a class="el" href="../../d6/dde/SimChannel_8h_source.html#l00147">147</a> of file <a class="el" href="../../d6/dde/SimChannel_8h_source.html">SimChannel.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5c3faeccdae5c57bb07e584817d62a47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d1/db8/structsim_1_1IDE.html#a3b476a9cffd57b25c5b1541f36f88303">IDE::TrackID_t</a> <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a5c3faeccdae5c57bb07e584817d62a47">sim::SimChannel::TrackID_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of track ID (the value comes from Geant4) </p>

<p>Definition at line <a class="el" href="../../d6/dde/SimChannel_8h_source.html#l00165">165</a> of file <a class="el" href="../../d6/dde/SimChannel_8h_source.html">SimChannel.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3bdfdfbdcb5178694937e7b2b8c37175"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sim::SimChannel::SimChannel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html#l00044">44</a> of file <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html">SimChannel.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    : <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#a70fa87059c543660c29a1baaeb9833a5">fChannel</a>(<a class="code" href="../../d9/d63/namespaceraw.html#ac59223371efaecdc5ef8389bc976a20a">raw::InvalidChannelID</a>)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  {}</div>
<div class="ttc" id="classsim_1_1SimChannel_html_a70fa87059c543660c29a1baaeb9833a5"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#a70fa87059c543660c29a1baaeb9833a5">sim::SimChannel::fChannel</a></div><div class="ttdeci">raw::ChannelID_t fChannel</div><div class="ttdoc">readout channel where electrons are collected </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00150">SimChannel.h:150</a></div></div>
<div class="ttc" id="namespaceraw_html_ac59223371efaecdc5ef8389bc976a20a"><div class="ttname"><a href="../../d9/d63/namespaceraw.html#ac59223371efaecdc5ef8389bc976a20a">raw::InvalidChannelID</a></div><div class="ttdeci">constexpr ChannelID_t InvalidChannelID</div><div class="ttdoc">ID of an invalid channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d38/RawTypes_8h_source.html#l00032">RawTypes.h:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8db10790bb6ee66a0a25eebb4a3472bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sim::SimChannel::SimChannel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a>&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor: immediately sets the channel number. </p>

<p>Definition at line <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html#l00049">49</a> of file <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html">SimChannel.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    : <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#a70fa87059c543660c29a1baaeb9833a5">fChannel</a>(channel)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  {}</div>
<div class="ttc" id="classsim_1_1SimChannel_html_a70fa87059c543660c29a1baaeb9833a5"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#a70fa87059c543660c29a1baaeb9833a5">sim::SimChannel::fChannel</a></div><div class="ttdeci">raw::ChannelID_t fChannel</div><div class="ttdoc">readout channel where electrons are collected </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00150">SimChannel.h:150</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af142f718b868d10a68c11b645c8fffb6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sim::SimChannel::AddIonizationElectrons </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a5c3faeccdae5c57bb07e584817d62a47">TrackID_t</a>&#160;</td>
          <td class="paramname"><em>trackID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a9edcb948bc8a722f3606e801a0c2c824">TDC_t</a>&#160;</td>
          <td class="paramname"><em>tdc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>numberElectrons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double const *&#160;</td>
          <td class="paramname"><em>xyz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>energy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add ionization electrons and energy to this channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trackID</td><td>ID of simulated track depositing this energy (from Geant4) </td></tr>
    <tr><td class="paramname">tdc</td><td>TDC tick when this deposit was collected </td></tr>
    <tr><td class="paramname">numberElectrons</td><td>electrons created at this point by this track </td></tr>
    <tr><td class="paramname">xyz</td><td>coordinates of original location of ionization (3D array) [cm] </td></tr>
    <tr><td class="paramname">energy</td><td>energy deposited at this point by this track [MeV]</td></tr>
  </table>
  </dd>
</dl>
<p>The number of electrons can be fractional because of simulated efficiency and physics effects. </p>

<p>Definition at line <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html#l00054">54</a> of file <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html">SimChannel.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">// look at the collection to see if the current TDC already</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">// exists, if not, add it, if so, just add a new track id to the</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// vector, or update the information if track is already present</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">// no electrons? no energy? no good!</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">if</span> ((numberElectrons &lt; std::numeric_limits&lt;double&gt;::epsilon())</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      || (energy &lt;= std::numeric_limits&lt;double&gt;::epsilon()))</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <span class="comment">// will throw</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      MF_LOG_ERROR(<span class="stringliteral">&quot;SimChannel&quot;</span>)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;AddIonizationElectrons() trying to add to TDC #&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      &lt;&lt; tdc</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      &lt;&lt; numberElectrons</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; electrons with &quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      &lt;&lt; energy</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; MeV of energy from track ID=&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      &lt;&lt; trackID;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    } <span class="comment">// if no energy or no electrons</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keyword">auto</span> itr = <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#a6e523d7ef9f0250159c882c080a1f081">findClosestTDCIDE</a>(tdc);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// check if this tdc value is in the vector, it is possible that</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// the lower bound is different from the given tdc, in which case</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// we need to add something for that tdc</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span>(itr        == <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">fTDCIDEs</a>.end() ||</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;       itr-&gt;first != tdc){</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      std::vector&lt;sim::IDE&gt; idelist;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      idelist.emplace_back(trackID,</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                           numberElectrons,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                           energy,</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                           xyz[0],</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                           xyz[1],</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                           xyz[2]</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                           );</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">fTDCIDEs</a>.emplace(itr, tdc, std::move(idelist) );</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">else</span> { <span class="comment">// we have that TDC already; itr points to it</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="comment">// loop over the IDE vector for this tdc and add the electrons</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="comment">// to the entry with the same track id</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; ide : itr-&gt;second){</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordflow">if</span> (ide.trackID != trackID ) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="comment">// make a weighted average for the location information</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordtype">double</span> weight    = ide.numElectrons + numberElectrons;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        ide.x            = (ide.x * ide.numElectrons + xyz[0]*numberElectrons)/weight;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        ide.y            = (ide.y * ide.numElectrons + xyz[1]*numberElectrons)/weight;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        ide.z            = (ide.z * ide.numElectrons + xyz[2]*numberElectrons)/weight;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        ide.numElectrons = weight;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        ide.energy       = ide.energy + energy;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="comment">// found the track id we wanted, so return;</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      } <span class="comment">// for</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="comment">// if we never found the track id, then this is the first instance of</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      <span class="comment">// the track id for this tdc, so add ide to the vector</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      itr-&gt;second.emplace_back(trackID,</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                               numberElectrons,</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                               energy,</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                               xyz[0],</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                               xyz[1],</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                               xyz[2]</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                               );</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    } <span class="comment">// if new TDC ... else</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  } <span class="comment">// SimChannel::AddIonizationElectrons()</span></div>
<div class="ttc" id="classsim_1_1SimChannel_html_add3d8b6b8e9bb7c7274d816a8e8f314a"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">sim::SimChannel::fTDCIDEs</a></div><div class="ttdeci">TDCIDEs_t fTDCIDEs</div><div class="ttdoc">list of energy deposits for each TDC with signal </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00151">SimChannel.h:151</a></div></div>
<div class="ttc" id="classsim_1_1SimChannel_html_a6e523d7ef9f0250159c882c080a1f081"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#a6e523d7ef9f0250159c882c080a1f081">sim::SimChannel::findClosestTDCIDE</a></div><div class="ttdeci">TDCIDEs_t::iterator findClosestTDCIDE(StoredTDC_t tdc)</div><div class="ttdoc">Return the iterator to the first TDCIDE not earlier than tdc. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1c/SimChannel_8cxx_source.html#l00342">SimChannel.cxx:342</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acbd56dc08733bb076f29050c3629f156"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a> sim::SimChannel::Channel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the readout channel this object describes. </p>

<p>Definition at line <a class="el" href="../../d6/dde/SimChannel_8h_source.html#l00329">329</a> of file <a class="el" href="../../d6/dde/SimChannel_8h_source.html">SimChannel.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#a70fa87059c543660c29a1baaeb9833a5">fChannel</a>; }</div>
<div class="ttc" id="classsim_1_1SimChannel_html_a70fa87059c543660c29a1baaeb9833a5"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#a70fa87059c543660c29a1baaeb9833a5">sim::SimChannel::fChannel</a></div><div class="ttdeci">raw::ChannelID_t fChannel</div><div class="ttdoc">readout channel where electrons are collected </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00150">SimChannel.h:150</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7f0a222d6c3b11979cac01aab1245a53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double sim::SimChannel::Charge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a9edcb948bc8a722f3606e801a0c2c824">TDC_t</a>&#160;</td>
          <td class="paramname"><em>tdc</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the total number of ionization electrons on this channel in the specified TDC. </p>

<p>Definition at line <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html#l00134">134</a> of file <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html">SimChannel.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordtype">double</span> charge = 0.;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keyword">auto</span> itr = <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#a6e523d7ef9f0250159c882c080a1f081">findClosestTDCIDE</a>(tdc);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <span class="comment">// check to see if this tdc value is in the map</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span>(itr        != <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">fTDCIDEs</a>.end() &amp;&amp;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;       itr-&gt;first == tdc){</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="comment">// loop over the list for this tdc value and add up</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="comment">// the total number of electrons</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keywordflow">for</span>(<span class="keyword">auto</span> ide : itr-&gt;second){</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        charge += ide.numElectrons;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      } <span class="comment">// end loop over sim::IDE for this tdc</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    } <span class="comment">// end if this tdc is represented in the map</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">return</span> charge;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  }</div>
<div class="ttc" id="classsim_1_1SimChannel_html_add3d8b6b8e9bb7c7274d816a8e8f314a"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">sim::SimChannel::fTDCIDEs</a></div><div class="ttdeci">TDCIDEs_t fTDCIDEs</div><div class="ttdoc">list of energy deposits for each TDC with signal </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00151">SimChannel.h:151</a></div></div>
<div class="ttc" id="classsim_1_1SimChannel_html_a6e523d7ef9f0250159c882c080a1f081"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#a6e523d7ef9f0250159c882c080a1f081">sim::SimChannel::findClosestTDCIDE</a></div><div class="ttdeci">TDCIDEs_t::iterator findClosestTDCIDE(StoredTDC_t tdc)</div><div class="ttdoc">Return the iterator to the first TDCIDE not earlier than tdc. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1c/SimChannel_8cxx_source.html#l00342">SimChannel.cxx:342</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4330b18cca496ae1da9cd27e28f4d8d7"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Stream &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void sim::SimChannel::Dump </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d8f/runFilesFromSAM_8sh.html#a9cafae22b6225844ee0cdf5ea57176ff">Stream</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>indent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>first_indent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dumps the full content of the <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html" title="Energy deposited on a readout channel by simulated tracks. ">SimChannel</a> into a stream. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Stream</td><td>an ostream-like stream object </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>the stream to send the information into </td></tr>
    <tr><td class="paramname">indent</td><td>indentation of the lines (default: none) </td></tr>
    <tr><td class="paramname">first_indent</td><td>indentation for the first line (default: as <code>indent</code>) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d6/dde/SimChannel_8h_source.html#l00337">337</a> of file <a class="el" href="../../d6/dde/SimChannel_8h_source.html">SimChannel.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;{</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  out &lt;&lt; first_indent &lt;&lt; <span class="stringliteral">&quot;channel #&quot;</span> &lt;&lt; <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#acbd56dc08733bb076f29050c3629f156">Channel</a>() &lt;&lt; <span class="stringliteral">&quot; read &quot;</span> &lt;&lt; <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">fTDCIDEs</a>.size()</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    &lt;&lt; <span class="stringliteral">&quot; TDCs:\n&quot;</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordtype">double</span> channel_energy = 0., channel_charge = 0.;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; TDCinfo: <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">fTDCIDEs</a>) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> tdc = TDCinfo.first;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    out &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;  TDC #&quot;</span> &lt;&lt; tdc</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; with &quot;</span> &lt;&lt; TDCinfo.second.size() &lt;&lt; <span class="stringliteral">&quot; IDEs\n&quot;</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordtype">double</span> tdc_energy = 0., tdc_charge = 0.;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="../../d1/db8/structsim_1_1IDE.html">sim::IDE</a>&amp; ide: TDCinfo.second) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      out &lt;&lt; indent</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;    (&quot;</span> &lt;&lt; ide.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#a7c3352f7f0aa5d4a1c9aa676f7673755">x</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; ide.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#a23eeccc332714a63f3a3a57f0f2ec14d">y</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; ide.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#a76257795169f388f06397620c12c72bc">z</a> &lt;&lt; <span class="stringliteral">&quot;) &quot;</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        &lt;&lt; ide.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#a46b3076d6302271be79feebd7cfc3de9">numElectrons</a> &lt;&lt; <span class="stringliteral">&quot; electrons, &quot;</span> &lt;&lt; ide.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#a34267798028729d3b798c17617faeb28">energy</a> &lt;&lt; <span class="stringliteral">&quot; MeV (trkID=&quot;</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        &lt;&lt; ide.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#aaaed39f459c6863001e7ec689f1d59dd">trackID</a> &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      tdc_energy += ide.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#a34267798028729d3b798c17617faeb28">energy</a>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      tdc_charge += ide.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#a46b3076d6302271be79feebd7cfc3de9">numElectrons</a>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    } <span class="comment">// for IDEs</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    out &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;    =&gt; TDC #&quot;</span> &lt;&lt; tdc &lt;&lt; <span class="stringliteral">&quot; CH #&quot;</span> &lt;&lt; <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#acbd56dc08733bb076f29050c3629f156">Channel</a>()</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; collected &quot;</span> &lt;&lt; tdc_charge &lt;&lt; <span class="stringliteral">&quot; electrons and &quot;</span> &lt;&lt; tdc_energy</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; MeV\n&quot;</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    channel_energy += tdc_energy;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    channel_charge += tdc_charge;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  } <span class="comment">// for TDCs</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  out &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;  =&gt; channel #&quot;</span> &lt;&lt; <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#acbd56dc08733bb076f29050c3629f156">Channel</a>() &lt;&lt; <span class="stringliteral">&quot; collected &quot;</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    &lt;&lt; channel_charge &lt;&lt; <span class="stringliteral">&quot; electrons and &quot;</span> &lt;&lt; channel_energy &lt;&lt; <span class="stringliteral">&quot; MeV\n&quot;</span>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;} <span class="comment">// sim::SimChannel::Dump&lt;&gt;()</span></div>
<div class="ttc" id="structsim_1_1IDE_html_aaaed39f459c6863001e7ec689f1d59dd"><div class="ttname"><a href="../../d1/db8/structsim_1_1IDE.html#aaaed39f459c6863001e7ec689f1d59dd">sim::IDE::trackID</a></div><div class="ttdeci">TrackID_t trackID</div><div class="ttdoc">Geant4 supplied track ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00112">SimChannel.h:112</a></div></div>
<div class="ttc" id="structsim_1_1IDE_html_a76257795169f388f06397620c12c72bc"><div class="ttname"><a href="../../d1/db8/structsim_1_1IDE.html#a76257795169f388f06397620c12c72bc">sim::IDE::z</a></div><div class="ttdeci">float z</div><div class="ttdoc">z position of ionization [cm] </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00117">SimChannel.h:117</a></div></div>
<div class="ttc" id="structsim_1_1IDE_html_a7c3352f7f0aa5d4a1c9aa676f7673755"><div class="ttname"><a href="../../d1/db8/structsim_1_1IDE.html#a7c3352f7f0aa5d4a1c9aa676f7673755">sim::IDE::x</a></div><div class="ttdeci">float x</div><div class="ttdoc">x position of ionization [cm] </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00115">SimChannel.h:115</a></div></div>
<div class="ttc" id="classsim_1_1SimChannel_html_add3d8b6b8e9bb7c7274d816a8e8f314a"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">sim::SimChannel::fTDCIDEs</a></div><div class="ttdeci">TDCIDEs_t fTDCIDEs</div><div class="ttdoc">list of energy deposits for each TDC with signal </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00151">SimChannel.h:151</a></div></div>
<div class="ttc" id="structsim_1_1IDE_html"><div class="ttname"><a href="../../d1/db8/structsim_1_1IDE.html">sim::IDE</a></div><div class="ttdoc">Ionization at a point of the TPC sensitive volume. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00084">SimChannel.h:84</a></div></div>
<div class="ttc" id="structsim_1_1IDE_html_a34267798028729d3b798c17617faeb28"><div class="ttname"><a href="../../d1/db8/structsim_1_1IDE.html#a34267798028729d3b798c17617faeb28">sim::IDE::energy</a></div><div class="ttdeci">float energy</div><div class="ttdoc">energy deposited by ionization by this track ID and time [MeV] </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00114">SimChannel.h:114</a></div></div>
<div class="ttc" id="structsim_1_1IDE_html_a23eeccc332714a63f3a3a57f0f2ec14d"><div class="ttname"><a href="../../d1/db8/structsim_1_1IDE.html#a23eeccc332714a63f3a3a57f0f2ec14d">sim::IDE::y</a></div><div class="ttdeci">float y</div><div class="ttdoc">y position of ionization [cm] </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00116">SimChannel.h:116</a></div></div>
<div class="ttc" id="classsim_1_1SimChannel_html_acbd56dc08733bb076f29050c3629f156"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#acbd56dc08733bb076f29050c3629f156">sim::SimChannel::Channel</a></div><div class="ttdeci">raw::ChannelID_t Channel() const </div><div class="ttdoc">Returns the readout channel this object describes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00329">SimChannel.h:329</a></div></div>
<div class="ttc" id="structsim_1_1IDE_html_a46b3076d6302271be79feebd7cfc3de9"><div class="ttname"><a href="../../d1/db8/structsim_1_1IDE.html#a46b3076d6302271be79feebd7cfc3de9">sim::IDE::numElectrons</a></div><div class="ttdeci">float numElectrons</div><div class="ttdoc">number of electrons at the readout for this track ID and time </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00113">SimChannel.h:113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a602b90f17d147a01cd61f79f9b647372"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Stream &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sim::SimChannel::Dump </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d8f/runFilesFromSAM_8sh.html#a9cafae22b6225844ee0cdf5ea57176ff">Stream</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>indent</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Documentation at <code><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a4330b18cca496ae1da9cd27e28f4d8d7" title="Dumps the full content of the SimChannel into a stream. ">Dump(Stream&amp;&amp;, std::string, std::string) const</a></code>. </p>

<p>Definition at line <a class="el" href="../../d6/dde/SimChannel_8h_source.html#l00304">304</a> of file <a class="el" href="../../d6/dde/SimChannel_8h_source.html">SimChannel.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      { <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#a4330b18cca496ae1da9cd27e28f4d8d7">Dump</a>(std::forward&lt;Stream&gt;(out), indent, indent); }</div>
<div class="ttc" id="classsim_1_1SimChannel_html_a4330b18cca496ae1da9cd27e28f4d8d7"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#a4330b18cca496ae1da9cd27e28f4d8d7">sim::SimChannel::Dump</a></div><div class="ttdeci">void Dump(Stream &amp;&amp;out, std::string indent, std::string first_indent) const </div><div class="ttdoc">Dumps the full content of the SimChannel into a stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00337">SimChannel.h:337</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab245eab712c20a1148580f260762f744"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double sim::SimChannel::Energy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a9edcb948bc8a722f3606e801a0c2c824">TDC_t</a>&#160;</td>
          <td class="paramname"><em>tdc</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the total energy on this channel in the specified TDC [MeV]. </p>

<p>Definition at line <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html#l00156">156</a> of file <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html">SimChannel.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordtype">double</span> energy = 0.;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keyword">auto</span> itr = <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#a6e523d7ef9f0250159c882c080a1f081">findClosestTDCIDE</a>(tdc);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="comment">// check to see if this tdc value is in the map</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span>(itr        != <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">fTDCIDEs</a>.end() &amp;&amp;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;       itr-&gt;first == tdc){</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="comment">// loop over the list for this tdc value and add up</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="comment">// the total number of electrons</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="keywordflow">for</span>(<span class="keyword">auto</span> ide : itr-&gt;second ){</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        energy += ide.energy;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      } <span class="comment">// end loop over sim::IDE for this tdc</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    } <span class="comment">// end if this tdc is represented in the map</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">return</span> energy;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  }</div>
<div class="ttc" id="classsim_1_1SimChannel_html_add3d8b6b8e9bb7c7274d816a8e8f314a"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">sim::SimChannel::fTDCIDEs</a></div><div class="ttdeci">TDCIDEs_t fTDCIDEs</div><div class="ttdoc">list of energy deposits for each TDC with signal </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00151">SimChannel.h:151</a></div></div>
<div class="ttc" id="classsim_1_1SimChannel_html_a6e523d7ef9f0250159c882c080a1f081"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#a6e523d7ef9f0250159c882c080a1f081">sim::SimChannel::findClosestTDCIDE</a></div><div class="ttdeci">TDCIDEs_t::iterator findClosestTDCIDE(StoredTDC_t tdc)</div><div class="ttdoc">Return the iterator to the first TDCIDE not earlier than tdc. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1c/SimChannel_8cxx_source.html#l00342">SimChannel.cxx:342</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6e523d7ef9f0250159c882c080a1f081"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimChannel::TDCIDEs_t::iterator sim::SimChannel::findClosestTDCIDE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a4278084f56059246c602343d35f93439">StoredTDC_t</a>&#160;</td>
          <td class="paramname"><em>tdc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the iterator to the first TDCIDE not earlier than tdc. </p>

<p>Definition at line <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html#l00342">342</a> of file <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html">SimChannel.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">return</span> std::lower_bound</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      (<a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">fTDCIDEs</a>.begin(), <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">fTDCIDEs</a>.end(), tdc, CompareByTDC());</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  }</div>
<div class="ttc" id="classsim_1_1SimChannel_html_add3d8b6b8e9bb7c7274d816a8e8f314a"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">sim::SimChannel::fTDCIDEs</a></div><div class="ttdeci">TDCIDEs_t fTDCIDEs</div><div class="ttdoc">list of energy deposits for each TDC with signal </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00151">SimChannel.h:151</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a70502e3acb0fa60b9d2ef173908e6c03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimChannel::TDCIDEs_t::const_iterator sim::SimChannel::findClosestTDCIDE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a4278084f56059246c602343d35f93439">StoredTDC_t</a>&#160;</td>
          <td class="paramname"><em>tdc</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the (constant) iterator to the first TDCIDE not earlier than tdc. </p>

<p>Definition at line <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html#l00349">349</a> of file <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html">SimChannel.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">return</span> std::lower_bound</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      (<a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">fTDCIDEs</a>.begin(), <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">fTDCIDEs</a>.end(), tdc, CompareByTDC());</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  }</div>
<div class="ttc" id="classsim_1_1SimChannel_html_add3d8b6b8e9bb7c7274d816a8e8f314a"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">sim::SimChannel::fTDCIDEs</a></div><div class="ttdeci">TDCIDEs_t fTDCIDEs</div><div class="ttdoc">list of energy deposits for each TDC with signal </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00151">SimChannel.h:151</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a05a39513fd9b2125c944739ccf098bb7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a5c3faeccdae5c57bb07e584817d62a47">SimChannel::TrackID_t</a>, <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a5c3faeccdae5c57bb07e584817d62a47">SimChannel::TrackID_t</a> &gt; sim::SimChannel::MergeSimChannel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html">SimChannel</a> &amp;&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Merges the deposits from another channel into this one. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>the <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html" title="Energy deposited on a readout channel by simulated tracks. ">sim::SimChannel</a> holding information to be merged </td></tr>
    <tr><td class="paramname">offset</td><td>track ID offset for the merge </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>range of the IDs of the added tracks</dd></dl>
<p>The information from the specified simulated channel is added to the current one. This is achieved by appending the energy deposit information (<code><a class="el" href="../../d1/db8/structsim_1_1IDE.html" title="Ionization at a point of the TPC sensitive volume. ">sim::IDE</a></code>) at each TDC tick from the merged channel to the list of existing energy deposits for that TDC tick.</p>
<p>In addition, the track IDs of the merged channel are added an offset, so that they can be distinguished from the existing ones. This is useful when simulating tracks with multiple Geant4 runs. Geant4 will reuse track IDs on each run, and using the highest number of track ID from one run as the offset for the next avoids track ID collisions. Note however that this function does not perform any collision check, and it is caller's duty to ensure that the offset is properly large. The return value is a pair including the lowest and the largest track IDs added to this channel, equivalent to the lowest and the highest track IDs present in the merged channel, both augmented by the applied offset.</p>
<p>The channel number of the merged channel is ignored. </p>

<p>Definition at line <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html#l00281">281</a> of file <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html">SimChannel.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span>( this-&gt;<a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#acbd56dc08733bb076f29050c3629f156">Channel</a>() != channel.Channel() )</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;ERROR SimChannel Merge: Trying to merge different channels!&quot;</span>);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    std::pair&lt;TrackID_t,TrackID_t&gt; range_trackID(std::numeric_limits&lt;int&gt;::max(),</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                                                 std::numeric_limits&lt;int&gt;::min());</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span> <span class="keyword">const</span>&amp; itr : channel.TDCIDEMap()){</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <span class="keyword">auto</span> tdc  = itr.first;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <span class="keyword">auto</span> <span class="keyword">const</span>&amp; ides = itr.second;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="comment">// find the entry from this SimChannel corresponding to the tdc from the other</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <span class="keyword">auto</span> itrthis = <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#a6e523d7ef9f0250159c882c080a1f081">findClosestTDCIDE</a>(tdc);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="comment">// pick which IDE list we have to fill: new one or existing one</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      std::vector&lt;sim::IDE&gt;* curIDEVec;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordflow">if</span>(itrthis        == <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">fTDCIDEs</a>.end() ||</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;         itrthis-&gt;first != tdc){</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">fTDCIDEs</a>.emplace_back(tdc, std::vector&lt;sim::IDE&gt;());</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        curIDEVec = &amp;(<a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">fTDCIDEs</a>.back().second);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        curIDEVec = &amp;(itrthis-&gt;second);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <span class="keywordflow">for</span>(<span class="keyword">auto</span> <span class="keyword">const</span>&amp; ide : ides){</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        curIDEVec-&gt;emplace_back(ide, <a class="code" href="../../d2/d0d/CORSIKAGen_8fcl.html#a424b27db311314d6e22e0e78fd28a35a">offset</a>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keyword">auto</span> tid = <a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(ide.trackID)+<a class="code" href="../../d2/d0d/CORSIKAGen_8fcl.html#a424b27db311314d6e22e0e78fd28a35a">offset</a>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">if</span>( tid &lt; range_trackID.first  )</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;          range_trackID.first = tid;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">if</span>( tid &gt; range_trackID.second )</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;          range_trackID.second = tid;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      }<span class="comment">//end loop over IDEs</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    }<span class="comment">//end loop over TDCIDEMap</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">return</span> range_trackID;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  }</div>
<div class="ttc" id="CORSIKAGen_8fcl_html_a424b27db311314d6e22e0e78fd28a35a"><div class="ttname"><a href="../../d2/d0d/CORSIKAGen_8fcl.html#a424b27db311314d6e22e0e78fd28a35a">offset</a></div><div class="ttdeci">BEGIN_PROLOG TPC Trig offset(g4 rise time) ProjectToHeight</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0d/CORSIKAGen_8fcl_source.html#l00007">CORSIKAGen.fcl:7</a></div></div>
<div class="ttc" id="classsim_1_1SimChannel_html_add3d8b6b8e9bb7c7274d816a8e8f314a"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">sim::SimChannel::fTDCIDEs</a></div><div class="ttdeci">TDCIDEs_t fTDCIDEs</div><div class="ttdoc">list of energy deposits for each TDC with signal </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00151">SimChannel.h:151</a></div></div>
<div class="ttc" id="sparse__vector__test_8cc_html_a39f16bf854ba527dee7eba5bbbd93f3f"><div class="ttname"><a href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a></div><div class="ttdeci">T abs(T value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d59/sparse__vector__test_8cc_source.html#l00030">sparse_vector_test.cc:30</a></div></div>
<div class="ttc" id="classsim_1_1SimChannel_html_a6e523d7ef9f0250159c882c080a1f081"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#a6e523d7ef9f0250159c882c080a1f081">sim::SimChannel::findClosestTDCIDE</a></div><div class="ttdeci">TDCIDEs_t::iterator findClosestTDCIDE(StoredTDC_t tdc)</div><div class="ttdoc">Return the iterator to the first TDCIDE not earlier than tdc. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1c/SimChannel_8cxx_source.html#l00342">SimChannel.cxx:342</a></div></div>
<div class="ttc" id="classsim_1_1SimChannel_html_acbd56dc08733bb076f29050c3629f156"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#acbd56dc08733bb076f29050c3629f156">sim::SimChannel::Channel</a></div><div class="ttdeci">raw::ChannelID_t Channel() const </div><div class="ttdoc">Returns the readout channel this object describes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00329">SimChannel.h:329</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aefef96b8b0750192c67ff16153a26c5f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool sim::SimChannel::operator&lt; </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html">SimChannel</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Comparison: sorts by channel ID. </p>

<p>Definition at line <a class="el" href="../../d6/dde/SimChannel_8h_source.html#l00326">326</a> of file <a class="el" href="../../d6/dde/SimChannel_8h_source.html">SimChannel.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#a70fa87059c543660c29a1baaeb9833a5">fChannel</a> &lt; other.Channel(); }</div>
<div class="ttc" id="classsim_1_1SimChannel_html_a70fa87059c543660c29a1baaeb9833a5"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#a70fa87059c543660c29a1baaeb9833a5">sim::SimChannel::fChannel</a></div><div class="ttdeci">raw::ChannelID_t fChannel</div><div class="ttdoc">readout channel where electrons are collected </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00150">SimChannel.h:150</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a21fc82d820a8d6df09887c6c23a33beb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool sim::SimChannel::operator== </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/daf/classsim_1_1SimChannel.html">SimChannel</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Comparison: true if SimChannels have the same channel ID. </p>

<p>Definition at line <a class="el" href="../../d6/dde/SimChannel_8h_source.html#l00327">327</a> of file <a class="el" href="../../d6/dde/SimChannel_8h_source.html">SimChannel.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#a70fa87059c543660c29a1baaeb9833a5">fChannel</a> == other.Channel(); }</div>
<div class="ttc" id="classsim_1_1SimChannel_html_a70fa87059c543660c29a1baaeb9833a5"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#a70fa87059c543660c29a1baaeb9833a5">sim::SimChannel::fChannel</a></div><div class="ttdeci">raw::ChannelID_t fChannel</div><div class="ttdoc">readout channel where electrons are collected </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00150">SimChannel.h:150</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a99dc0d397d4f9271f7ba5e3136bd4363"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#ad29cede02a0084b2f4a1533c6a5d850b">sim::SimChannel::TDCIDEs_t</a> const &amp; sim::SimChannel::TDCIDEMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns all the deposited energy information as stored. </p>
<dl class="section return"><dt>Returns</dt><dd>all the deposited energy information as stored in the object</dd></dl>
<p>The returned list is organized in pairs. Each pair contains all ionization information in a single TDC tick (collection of <code><a class="el" href="../../d1/db8/structsim_1_1IDE.html" title="Ionization at a point of the TPC sensitive volume. ">sim::IDE</a></code>), and the number of that tick. The information is sorted by increasing TDC tick.</p>
<p>See the class description for the details of the ionization information content. </p>

<p>Definition at line <a class="el" href="../../d6/dde/SimChannel_8h_source.html#l00328">328</a> of file <a class="el" href="../../d6/dde/SimChannel_8h_source.html">SimChannel.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">fTDCIDEs</a>; }</div>
<div class="ttc" id="classsim_1_1SimChannel_html_add3d8b6b8e9bb7c7274d816a8e8f314a"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">sim::SimChannel::fTDCIDEs</a></div><div class="ttdeci">TDCIDEs_t fTDCIDEs</div><div class="ttdoc">list of energy deposits for each TDC with signal </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00151">SimChannel.h:151</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a59bc1ea75c757589dc6a89fa8f85d952"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../d8/dab/structsim_1_1TrackIDE.html">sim::TrackIDE</a> &gt; sim::SimChannel::TrackIDEs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a9edcb948bc8a722f3606e801a0c2c824">TDC_t</a>&#160;</td>
          <td class="paramname"><em>startTDC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a9edcb948bc8a722f3606e801a0c2c824">TDC_t</a>&#160;</td>
          <td class="paramname"><em>endTDC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns energies collected for each track within a time interval. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">startTDC</td><td>TDC tick opening the time window </td></tr>
    <tr><td class="paramname">endTDC</td><td>TDC tick closing the time window (included in the interval) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a collection of energy and fraction from each track in interval </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#aadcd58ce655a71ec74af4fd77b48a813" title="Return all the recorded energy deposition within a time interval. ">TrackIDsAndEnergies()</a></dd></dl>
<p>This method returns the energy deposited on this channel by each track ID active in the specified TDC time interval.</p>
<p>Each entry pertains a single track ID. For each entry, all energy deposit information is merged into a single record. It includes:</p>
<ul>
<li>energy of the track, as the integral in the time interval [MeV]</li>
<li>energy fraction respect to the total (see below)</li>
<li>the ID of the track depositing this energy</li>
</ul>
<p>The energy fraction is the energy deposited by the track on this channel in the specified time interval, divided by the total of the energy deposited by all tracks on this channel in that same time interval.</p>
<p>Entries are sorted by track ID number. </p>

<p>Definition at line <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html#l00246">246</a> of file <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html">SimChannel.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    std::vector&lt;sim::TrackIDE&gt; trackIDEs;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">if</span>(startTDC &gt; endTDC ){</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      mf::LogWarning(<span class="stringliteral">&quot;SimChannel::TrackIDEs&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;requested tdc range is bogus: &quot;</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                                              &lt;&lt; startTDC &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; endTDC</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                                              &lt;&lt; <span class="stringliteral">&quot; return empty vector&quot;</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <span class="keywordflow">return</span> trackIDEs;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordtype">double</span> totalE = 0.;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    std::vector&lt;sim::IDE&gt; <span class="keyword">const</span> ides = <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#aadcd58ce655a71ec74af4fd77b48a813">TrackIDsAndEnergies</a>(startTDC, endTDC);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; ide : ides)</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      totalE += ide.energy;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// protect against a divide by zero below</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">if</span>(totalE &lt; 1.<a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a>-5) totalE = 1.;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">// loop over the entries in the map and fill the input vectors</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; ide : ides){</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keywordflow">if</span>(ide.trackID == <a class="code" href="../../d8/d7d/namespacesim.html#a48dadad6801cca82aa98f10fda7b4754">sim::NoParticleId</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      trackIDEs.emplace_back(ide.trackID, ide.energy/totalE, ide.energy, ide.numElectrons);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">return</span> trackIDEs;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  }</div>
<div class="ttc" id="namespacesim_html_a48dadad6801cca82aa98f10fda7b4754"><div class="ttname"><a href="../../d8/d7d/namespacesim.html#a48dadad6801cca82aa98f10fda7b4754">sim::NoParticleId</a></div><div class="ttdeci">static const int NoParticleId</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/sim_8h_source.html#l00028">sim.h:28</a></div></div>
<div class="ttc" id="classsim_1_1SimChannel_html_aadcd58ce655a71ec74af4fd77b48a813"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#aadcd58ce655a71ec74af4fd77b48a813">sim::SimChannel::TrackIDsAndEnergies</a></div><div class="ttdeci">std::vector&lt; sim::IDE &gt; TrackIDsAndEnergies(TDC_t startTDC, TDC_t endTDC) const </div><div class="ttdoc">Return all the recorded energy deposition within a time interval. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1c/SimChannel_8cxx_source.html#l00180">SimChannel.cxx:180</a></div></div>
<div class="ttc" id="updateVersionList_8sh_html_a067a8c1534d6da9b2c501a6cf4ef89bd"><div class="ttname"><a href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a></div><div class="ttdeci">do i e</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dca/updateVersionList_8sh_source.html#l00068">updateVersionList.sh:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aadcd58ce655a71ec74af4fd77b48a813"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../d1/db8/structsim_1_1IDE.html">sim::IDE</a> &gt; sim::SimChannel::TrackIDsAndEnergies </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a9edcb948bc8a722f3606e801a0c2c824">TDC_t</a>&#160;</td>
          <td class="paramname"><em>startTDC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#a9edcb948bc8a722f3606e801a0c2c824">TDC_t</a>&#160;</td>
          <td class="paramname"><em>endTDC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return all the recorded energy deposition within a time interval. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">startTDC</td><td>TDC tick opening the time window </td></tr>
    <tr><td class="paramname">endTDC</td><td>TDC tick closing the time window (included in the interval) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a collection of energy deposit information from all tracks</dd></dl>
<p>This method returns the energy deposited on this channel by each track ID active in the specified TDC time interval.</p>
<p>Each entry pertains a single track ID. For each entry, all energy deposit information is merged into a single record. It includes:</p>
<ul>
<li>energy and number of electrons, as the integral in the time interval</li>
<li>position, as average weighted by the number of electrons</li>
<li>the ID of the track depositing this energy</li>
</ul>
<p>Entries are sorted by track ID number. </p>

<p>Definition at line <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html#l00180">180</a> of file <a class="el" href="../../de/d1c/SimChannel_8cxx_source.html">SimChannel.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// make a map of track ID values to sim::IDE objects</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">if</span>(startTDC &gt; endTDC ){</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      mf::LogWarning(<span class="stringliteral">&quot;SimChannel&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;requested tdc range is bogus: &quot;</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                                   &lt;&lt; startTDC &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; endTDC</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                   &lt;&lt; <span class="stringliteral">&quot; return empty vector&quot;</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="keywordflow">return</span> {}; <span class="comment">// returns an empty vector</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    std::map&lt;TrackID_t, sim::IDE&gt; idToIDE;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="comment">//find the lower bound for this tdc and then iterate from there</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keyword">auto</span> itr = <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#a6e523d7ef9f0250159c882c080a1f081">findClosestTDCIDE</a>(startTDC);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">while</span>(itr != <a class="code" href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">fTDCIDEs</a>.end()){</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="comment">// check the tdc value for the iterator, break the loop if we</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="comment">// are outside the range</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordflow">if</span>(itr-&gt;first &gt; endTDC) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="comment">// grab the vector of IDEs for this tdc</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keyword">auto</span> <span class="keyword">const</span>&amp; idelist = itr-&gt;second;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <span class="comment">// now loop over them and add their content to the map</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">for</span>(<span class="keyword">auto</span> <span class="keyword">const</span>&amp; ide : idelist){</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keyword">auto</span> itTrkIDE = idToIDE.find(ide.trackID);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">if</span>( itTrkIDE != idToIDE.end() ){</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;          <span class="comment">// the IDE we are going to update:</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;          <a class="code" href="../../d1/db8/structsim_1_1IDE.html">sim::IDE</a>&amp; trackIDE = itTrkIDE-&gt;second;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;          <span class="keywordtype">double</span> <span class="keyword">const</span> nel1   = trackIDE.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#a46b3076d6302271be79feebd7cfc3de9">numElectrons</a>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;          <span class="keywordtype">double</span> <span class="keyword">const</span> nel2   = ide.numElectrons;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;          <span class="keywordtype">double</span> <span class="keyword">const</span> en1    = trackIDE.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#a34267798028729d3b798c17617faeb28">energy</a>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;          <span class="keywordtype">double</span> <span class="keyword">const</span> en2    = ide.energy;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;          <span class="keywordtype">double</span> <span class="keyword">const</span> energy = en1  + en2;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;          <span class="keywordtype">double</span> <span class="keyword">const</span> weight = nel1 + nel2;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="comment">// make a weighted average for the location information</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;          trackIDE.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#a7c3352f7f0aa5d4a1c9aa676f7673755">x</a>            = (ide.x*nel2 + trackIDE.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#a7c3352f7f0aa5d4a1c9aa676f7673755">x</a>*nel1)/weight;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;          trackIDE.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#a23eeccc332714a63f3a3a57f0f2ec14d">y</a>            = (ide.y*nel2 + trackIDE.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#a23eeccc332714a63f3a3a57f0f2ec14d">y</a>*nel1)/weight;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;          trackIDE.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#a76257795169f388f06397620c12c72bc">z</a>            = (ide.z*nel2 + trackIDE.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#a76257795169f388f06397620c12c72bc">z</a>*nel1)/weight;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;          trackIDE.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#a46b3076d6302271be79feebd7cfc3de9">numElectrons</a> = weight;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;          trackIDE.<a class="code" href="../../d1/db8/structsim_1_1IDE.html#a34267798028729d3b798c17617faeb28">energy</a> = energy;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        } <span class="comment">// end if the track id for this one is found</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;          idToIDE[ide.trackID] = <a class="code" href="../../d1/db8/structsim_1_1IDE.html">sim::IDE</a>(ide);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      } <span class="comment">// end loop over vector</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      ++itr;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    } <span class="comment">// end loop over tdc values</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="comment">// now fill the vector with the ides from the map</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    std::vector&lt;sim::IDE&gt; ides;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    ides.reserve(idToIDE.size());</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span> <span class="keyword">const</span>&amp; itr : idToIDE){</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      ides.push_back(itr.second);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">return</span> ides;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  }</div>
<div class="ttc" id="structsim_1_1IDE_html_a76257795169f388f06397620c12c72bc"><div class="ttname"><a href="../../d1/db8/structsim_1_1IDE.html#a76257795169f388f06397620c12c72bc">sim::IDE::z</a></div><div class="ttdeci">float z</div><div class="ttdoc">z position of ionization [cm] </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00117">SimChannel.h:117</a></div></div>
<div class="ttc" id="structsim_1_1IDE_html_a7c3352f7f0aa5d4a1c9aa676f7673755"><div class="ttname"><a href="../../d1/db8/structsim_1_1IDE.html#a7c3352f7f0aa5d4a1c9aa676f7673755">sim::IDE::x</a></div><div class="ttdeci">float x</div><div class="ttdoc">x position of ionization [cm] </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00115">SimChannel.h:115</a></div></div>
<div class="ttc" id="classsim_1_1SimChannel_html_add3d8b6b8e9bb7c7274d816a8e8f314a"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#add3d8b6b8e9bb7c7274d816a8e8f314a">sim::SimChannel::fTDCIDEs</a></div><div class="ttdeci">TDCIDEs_t fTDCIDEs</div><div class="ttdoc">list of energy deposits for each TDC with signal </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00151">SimChannel.h:151</a></div></div>
<div class="ttc" id="structsim_1_1IDE_html"><div class="ttname"><a href="../../d1/db8/structsim_1_1IDE.html">sim::IDE</a></div><div class="ttdoc">Ionization at a point of the TPC sensitive volume. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00084">SimChannel.h:84</a></div></div>
<div class="ttc" id="structsim_1_1IDE_html_a34267798028729d3b798c17617faeb28"><div class="ttname"><a href="../../d1/db8/structsim_1_1IDE.html#a34267798028729d3b798c17617faeb28">sim::IDE::energy</a></div><div class="ttdeci">float energy</div><div class="ttdoc">energy deposited by ionization by this track ID and time [MeV] </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00114">SimChannel.h:114</a></div></div>
<div class="ttc" id="classsim_1_1SimChannel_html_a6e523d7ef9f0250159c882c080a1f081"><div class="ttname"><a href="../../d0/daf/classsim_1_1SimChannel.html#a6e523d7ef9f0250159c882c080a1f081">sim::SimChannel::findClosestTDCIDE</a></div><div class="ttdeci">TDCIDEs_t::iterator findClosestTDCIDE(StoredTDC_t tdc)</div><div class="ttdoc">Return the iterator to the first TDCIDE not earlier than tdc. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1c/SimChannel_8cxx_source.html#l00342">SimChannel.cxx:342</a></div></div>
<div class="ttc" id="structsim_1_1IDE_html_a23eeccc332714a63f3a3a57f0f2ec14d"><div class="ttname"><a href="../../d1/db8/structsim_1_1IDE.html#a23eeccc332714a63f3a3a57f0f2ec14d">sim::IDE::y</a></div><div class="ttdeci">float y</div><div class="ttdoc">y position of ionization [cm] </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00116">SimChannel.h:116</a></div></div>
<div class="ttc" id="structsim_1_1IDE_html_a46b3076d6302271be79feebd7cfc3de9"><div class="ttname"><a href="../../d1/db8/structsim_1_1IDE.html#a46b3076d6302271be79feebd7cfc3de9">sim::IDE::numElectrons</a></div><div class="ttdeci">float numElectrons</div><div class="ttdoc">number of electrons at the readout for this track ID and time </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dde/SimChannel_8h_source.html#l00113">SimChannel.h:113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a70fa87059c543660c29a1baaeb9833a5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d63/namespaceraw.html#abfe7badfcad7fe0e9474829fbd1408b2">raw::ChannelID_t</a> sim::SimChannel::fChannel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>readout channel where electrons are collected </p>

<p>Definition at line <a class="el" href="../../d6/dde/SimChannel_8h_source.html#l00150">150</a> of file <a class="el" href="../../d6/dde/SimChannel_8h_source.html">SimChannel.h</a>.</p>

</div>
</div>
<a class="anchor" id="add3d8b6b8e9bb7c7274d816a8e8f314a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/daf/classsim_1_1SimChannel.html#ad29cede02a0084b2f4a1533c6a5d850b">TDCIDEs_t</a> sim::SimChannel::fTDCIDEs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>list of energy deposits for each TDC with signal </p>

<p>Definition at line <a class="el" href="../../d6/dde/SimChannel_8h_source.html#l00151">151</a> of file <a class="el" href="../../d6/dde/SimChannel_8h_source.html">SimChannel.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d6/dde/SimChannel_8h_source.html">SimChannel.h</a></li>
<li><a class="el" href="../../de/d1c/SimChannel_8cxx_source.html">SimChannel.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
