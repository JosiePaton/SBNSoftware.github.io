<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>analysis Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="../../namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">analysis Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d7f/classanalysis_1_1CalorimetryAnalysis.html">CalorimetryAnalysis</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1c1407ddb517d1d8bd3c4eb6d35fa2b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dfd/namespaceanalysis.html#a1c1407ddb517d1d8bd3c4eb6d35fa2b2">TrkDirectionAtXYZ</a> (const <a class="el" href="../../d9/dca/classrecob_1_1Track.html">recob::Track</a> trk, const double <a class="el" href="../../d1/d01/singles_8fcl.html#aa2441c6f4af6ae1d48f43c716144deac">x</a>, const double <a class="el" href="../../d1/d01/singles_8fcl.html#ad222ca63c3622e98913907e4c7245cd6">y</a>, const double <a class="el" href="../../d1/d01/singles_8fcl.html#ab9ea0eaf08525541ae494ea6c1fe669b">z</a>, float out[3])</td></tr>
<tr class="separator:a1c1407ddb517d1d8bd3c4eb6d35fa2b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dfbd44e342627f9c83cf3d4bc743cbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dfd/namespaceanalysis.html#a7dfbd44e342627f9c83cf3d4bc743cbc">True2RecoMappingXYZ</a> (float t, float <a class="el" href="../../d1/d01/singles_8fcl.html#aa2441c6f4af6ae1d48f43c716144deac">x</a>, float <a class="el" href="../../d1/d01/singles_8fcl.html#ad222ca63c3622e98913907e4c7245cd6">y</a>, float <a class="el" href="../../d1/d01/singles_8fcl.html#ab9ea0eaf08525541ae494ea6c1fe669b">z</a>, float out[3])</td></tr>
<tr class="separator:a7dfbd44e342627f9c83cf3d4bc743cbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029a11e998460ab73343a1166d925aad"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dfd/namespaceanalysis.html#a029a11e998460ab73343a1166d925aad">XYZtoPlanecoordinate</a> (const float <a class="el" href="../../d1/d01/singles_8fcl.html#aa2441c6f4af6ae1d48f43c716144deac">x</a>, const float <a class="el" href="../../d1/d01/singles_8fcl.html#ad222ca63c3622e98913907e4c7245cd6">y</a>, const float <a class="el" href="../../d1/d01/singles_8fcl.html#ab9ea0eaf08525541ae494ea6c1fe669b">z</a>, const int plane)</td></tr>
<tr class="separator:a029a11e998460ab73343a1166d925aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e46202f0953a93cb645feb0fbb2544a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dfd/namespaceanalysis.html#a0e46202f0953a93cb645feb0fbb2544a">distance3d</a> (const float &amp;x1, const float &amp;y1, const float &amp;z1, const float &amp;x2, const float &amp;y2, const float &amp;z2)</td></tr>
<tr class="separator:a0e46202f0953a93cb645feb0fbb2544a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fdcd24a7725e6a7caf7089e74f26cc4"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dfd/namespaceanalysis.html#a3fdcd24a7725e6a7caf7089e74f26cc4">ContainedLength</a> (const TVector3 &amp;v0, const TVector3 &amp;v1, const std::vector&lt; <a class="el" href="../../d8/d26/classgeoalgo_1_1AABox.html">geoalgo::AABox</a> &gt; &amp;boxes)</td></tr>
<tr class="separator:a3fdcd24a7725e6a7caf7089e74f26cc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62b43299b4381df150594853cf8e3bda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dfd/namespaceanalysis.html#a62b43299b4381df150594853cf8e3bda">FillHits</a> (const <a class="el" href="../../d0/dc3/classdetinfo_1_1DetectorClocksData.html">detinfo::DetectorClocksData</a> &amp;clockData, const std::vector&lt; art::Ptr&lt; <a class="el" href="../../db/d4e/classrecob_1_1Hit.html">recob::Hit</a> &gt;&gt; &amp;hits, std::vector&lt; float &gt; &amp;charge_u, std::vector&lt; float &gt; &amp;charge_v, std::vector&lt; float &gt; &amp;charge_y, std::vector&lt; unsigned &gt; &amp;wire_u, std::vector&lt; unsigned &gt; &amp;wire_v, std::vector&lt; unsigned &gt; &amp;wire_y, std::vector&lt; unsigned &gt; &amp;channel_u, std::vector&lt; unsigned &gt; &amp;channel_v, std::vector&lt; unsigned &gt; &amp;channel_y, std::vector&lt; int &gt; &amp;multiplicity_u, std::vector&lt; int &gt; &amp;multiplicity_v, std::vector&lt; int &gt; &amp;multiplicity_y, std::vector&lt; float &gt; &amp;width_u, std::vector&lt; float &gt; &amp;width_v, std::vector&lt; float &gt; &amp;width_y, std::vector&lt; float &gt; &amp;time_u, std::vector&lt; float &gt; &amp;time_v, std::vector&lt; float &gt; &amp;time_y, std::vector&lt; unsigned &gt; &amp;nhit_u, std::vector&lt; unsigned &gt; &amp;nhit_v, std::vector&lt; unsigned &gt; &amp;nhit_y, bool use_integral=<a class="el" href="../../de/d36/crtt0matchingalg__sbnd_8fcl.html#af8bc618309fb2d0f55f7f5ae0760b466">true</a>)</td></tr>
<tr class="separator:a62b43299b4381df150594853cf8e3bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54525c00b8040284379ad3156f8ace1c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; unsigned &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dfd/namespaceanalysis.html#a54525c00b8040284379ad3156f8ace1c">FinddEdxHits</a> (const <a class="el" href="../../db/ddb/classanab_1_1Calorimetry.html">anab::Calorimetry</a> &amp;<a class="el" href="../../db/d54/pid_8fcl.html#af0bae0facc8191fc6df47d3c75a24e2f">calo</a>, const std::vector&lt; art::Ptr&lt; <a class="el" href="../../db/d4e/classrecob_1_1Hit.html">recob::Hit</a> &gt;&gt; &amp;hits)</td></tr>
<tr class="separator:a54525c00b8040284379ad3156f8ace1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24faaa6fa9392a15f567d21bd0b87f26"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dfd/namespaceanalysis.html#a24faaa6fa9392a15f567d21bd0b87f26">calcPitch</a> (const <a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a> *geo, const <a class="el" href="../../d4/d41/structgeo_1_1PlaneID.html">geo::PlaneID</a> &amp;plane, TVector3 location, TVector3 direction, const <a class="el" href="../../da/d57/classspacecharge_1_1SpaceCharge.html">spacecharge::SpaceCharge</a> *SCEService=NULL)</td></tr>
<tr class="separator:a24faaa6fa9392a15f567d21bd0b87f26"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a24faaa6fa9392a15f567d21bd0b87f26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float analysis::calcPitch </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a> *&#160;</td>
          <td class="paramname"><em>geo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d41/structgeo_1_1PlaneID.html">geo::PlaneID</a> &amp;&#160;</td>
          <td class="paramname"><em>plane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TVector3&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TVector3&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../da/d57/classspacecharge_1_1SpaceCharge.html">spacecharge::SpaceCharge</a> *&#160;</td>
          <td class="paramname"><em>SCEService</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d87/CalorimetryAnalysis__module_8cc_source.html#l01542">1542</a> of file <a class="el" href="../../df/d87/CalorimetryAnalysis__module_8cc_source.html">CalorimetryAnalysis_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                                                                                                                                                           {</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="keywordtype">float</span> angletovert = geo-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#a1c4a60af9e395182d4ecc267a2362d88">WireAngleToVertical</a>(geo-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#a57a84b9e6854158fc65a20208a5b4d8d">View</a>(plane), plane) - 0.5*::util::pi&lt;&gt;();</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <span class="comment">// apply space charge change to dir</span></div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  <span class="keywordflow">if</span> (SCEService) {</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <a class="code" href="../../d6/d23/namespacegeo.html#a5a6f22c2aa9d0ccf6ca08bf2773a0541">geo::Point_t</a> location_p(location);</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <a class="code" href="../../d6/d23/namespacegeo.html#a22d2a7c73b2795146b92cd54ded9e817">geo::Vector_t</a> offset_v = SCEService-&gt;<a class="code" href="../../da/d57/classspacecharge_1_1SpaceCharge.html#a8f628a51742576b2147c05e99f7d6775">GetPosOffsets</a>(location_p);</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    TVector3 <a class="code" href="../../d2/d0d/CORSIKAGen_8fcl.html#a424b27db311314d6e22e0e78fd28a35a">offset</a> = TVector3(offset_v.X(), offset_v.Y(), offset_v.Z());</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="comment">// fix the x-sign</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="keywordflow">if</span> (location.X() &lt; 0.) offset.SetX(-offset.X());</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <span class="comment">// location a ~wire&#39;s distance along the track </span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    TVector3 location_dx = location + geo-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#a608b6838f7d8b7be32ea8fca24a7ff32">WirePitch</a>(plane) * direction;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <span class="comment">// Apply space charge to the offset location</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <a class="code" href="../../d6/d23/namespacegeo.html#a5a6f22c2aa9d0ccf6ca08bf2773a0541">geo::Point_t</a> location_dx_p(location_dx);</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <a class="code" href="../../d6/d23/namespacegeo.html#a22d2a7c73b2795146b92cd54ded9e817">geo::Vector_t</a> offset_dx_v = SCEService-&gt;<a class="code" href="../../da/d57/classspacecharge_1_1SpaceCharge.html#a8f628a51742576b2147c05e99f7d6775">GetPosOffsets</a>(location_dx_p);</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    TVector3 offset_dx(offset_dx_v.X(), offset_dx_v.Y(), offset_dx_v.Z());</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="comment">// fix the x-sign</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="keywordflow">if</span> (location_dx.X() &lt; 0.) offset_dx.SetX(-offset_dx.X());</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="comment">// this is the actual direction</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    direction = (offset_dx + location_dx - offset - location).Unit();</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  }</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="comment">// get the pitch</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <span class="keywordtype">float</span> cosgamma = <a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a>(cos(angletovert) * direction.Z() + sin(angletovert) * direction.Y());</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <span class="keywordtype">float</span> pitch = geo-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#a608b6838f7d8b7be32ea8fca24a7ff32">WirePitch</a>(plane) / cosgamma;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  <span class="comment">// map pitch back onto particle trajectory</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  <span class="keywordflow">if</span> (SCEService) {</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <a class="code" href="../../d6/d23/namespacegeo.html#a5a6f22c2aa9d0ccf6ca08bf2773a0541">geo::Point_t</a> location_p(location);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <a class="code" href="../../d6/d23/namespacegeo.html#a22d2a7c73b2795146b92cd54ded9e817">geo::Vector_t</a> offset_v = SCEService-&gt;<a class="code" href="../../da/d57/classspacecharge_1_1SpaceCharge.html#a8f628a51742576b2147c05e99f7d6775">GetPosOffsets</a>(location_p);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    TVector3 <a class="code" href="../../d2/d0d/CORSIKAGen_8fcl.html#a424b27db311314d6e22e0e78fd28a35a">offset</a>(offset_v.X(), offset_v.Y(), offset_v.Z());</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="comment">// fix the x-sign</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <span class="keywordflow">if</span> (location.X() &lt; 0.) offset.SetX(-offset.X());</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    TVector3 location_sce = location + <a class="code" href="../../d2/d0d/CORSIKAGen_8fcl.html#a424b27db311314d6e22e0e78fd28a35a">offset</a>;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    TVector3 location_sce_dx = location_sce + direction * pitch;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="comment">// map this back onto the particle trajectory</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <a class="code" href="../../d6/d23/namespacegeo.html#a5a6f22c2aa9d0ccf6ca08bf2773a0541">geo::Point_t</a> location_sce_dx_p(location_sce_dx);</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <a class="code" href="../../d6/d23/namespacegeo.html#a22d2a7c73b2795146b92cd54ded9e817">geo::Vector_t</a> back_v = SCEService-&gt;<a class="code" href="../../da/d57/classspacecharge_1_1SpaceCharge.html#a797f1d705364f427dab756274e21c650">GetCalPosOffsets</a>(location_sce_dx_p, plane.<a class="code" href="../../d2/d4d/structgeo_1_1TPCID.html#a4a7f86b46d9d48a040b7ef5d65973811">TPC</a>);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    TVector3 back(back_v.X(), back_v.Y(), back_v.Z());</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    TVector3 location_dx = location_sce_dx + back;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    pitch = (location - location_dx).Mag();</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  }</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <span class="keywordflow">return</span> pitch;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;}</div>
<div class="ttc" id="namespacegeo_html_a22d2a7c73b2795146b92cd54ded9e817"><div class="ttname"><a href="../../d6/d23/namespacegeo.html#a22d2a7c73b2795146b92cd54ded9e817">geo::Vector_t</a></div><div class="ttdeci">ROOT::Math::DisplacementVector3D&lt; ROOT::Math::Cartesian3D&lt; double &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Vector_t</div><div class="ttdoc">Type for representation of momenta in 3D space. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/geo__vectors_8h_source.html#l00164">geo_vectors.h:164</a></div></div>
<div class="ttc" id="classspacecharge_1_1SpaceCharge_html_a797f1d705364f427dab756274e21c650"><div class="ttname"><a href="../../da/d57/classspacecharge_1_1SpaceCharge.html#a797f1d705364f427dab756274e21c650">spacecharge::SpaceCharge::GetCalPosOffsets</a></div><div class="ttdeci">virtual geo::Vector_t GetCalPosOffsets(geo::Point_t const &amp;point, int const &amp;TPCid) const =0</div></div>
<div class="ttc" id="CORSIKAGen_8fcl_html_a424b27db311314d6e22e0e78fd28a35a"><div class="ttname"><a href="../../d2/d0d/CORSIKAGen_8fcl.html#a424b27db311314d6e22e0e78fd28a35a">offset</a></div><div class="ttdeci">BEGIN_PROLOG TPC Trig offset(g4 rise time) ProjectToHeight</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0d/CORSIKAGen_8fcl_source.html#l00007">CORSIKAGen.fcl:7</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_a608b6838f7d8b7be32ea8fca24a7ff32"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#a608b6838f7d8b7be32ea8fca24a7ff32">geo::GeometryCore::WirePitch</a></div><div class="ttdeci">geo::Length_t WirePitch(geo::PlaneID const &amp;planeid) const </div><div class="ttdoc">Returns the distance between two consecutive wires. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6a/GeometryCore_8cxx_source.html#l00824">GeometryCore.cxx:824</a></div></div>
<div class="ttc" id="sparse__vector__test_8cc_html_a39f16bf854ba527dee7eba5bbbd93f3f"><div class="ttname"><a href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a></div><div class="ttdeci">T abs(T value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d59/sparse__vector__test_8cc_source.html#l00030">sparse_vector_test.cc:30</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_a57a84b9e6854158fc65a20208a5b4d8d"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#a57a84b9e6854158fc65a20208a5b4d8d">geo::GeometryCore::View</a></div><div class="ttdeci">View_t View(geo::PlaneID const &amp;pid) const </div><div class="ttdoc">Returns the view (wire orientation) on the channels of specified TPC plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6a/GeometryCore_8cxx_source.html#l00601">GeometryCore.cxx:601</a></div></div>
<div class="ttc" id="classspacecharge_1_1SpaceCharge_html_a8f628a51742576b2147c05e99f7d6775"><div class="ttname"><a href="../../da/d57/classspacecharge_1_1SpaceCharge.html#a8f628a51742576b2147c05e99f7d6775">spacecharge::SpaceCharge::GetPosOffsets</a></div><div class="ttdeci">virtual geo::Vector_t GetPosOffsets(geo::Point_t const &amp;point) const =0</div></div>
<div class="ttc" id="structgeo_1_1TPCID_html_a4a7f86b46d9d48a040b7ef5d65973811"><div class="ttname"><a href="../../d2/d4d/structgeo_1_1TPCID.html#a4a7f86b46d9d48a040b7ef5d65973811">geo::TPCID::TPC</a></div><div class="ttdeci">TPCID_t TPC</div><div class="ttdoc">Index of the TPC within its cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00406">geo_types.h:406</a></div></div>
<div class="ttc" id="namespacegeo_html_a5a6f22c2aa9d0ccf6ca08bf2773a0541"><div class="ttname"><a href="../../d6/d23/namespacegeo.html#a5a6f22c2aa9d0ccf6ca08bf2773a0541">geo::Point_t</a></div><div class="ttdeci">ROOT::Math::PositionVector3D&lt; ROOT::Math::Cartesian3D&lt; double &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Point_t</div><div class="ttdoc">Type for representation of position in physical 3D space. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/geo__vectors_8h_source.html#l00184">geo_vectors.h:184</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_a1c4a60af9e395182d4ecc267a2362d88"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#a1c4a60af9e395182d4ecc267a2362d88">geo::GeometryCore::WireAngleToVertical</a></div><div class="ttdeci">double WireAngleToVertical(geo::View_t view, geo::TPCID const &amp;tpcid) const </div><div class="ttdoc">Returns the angle of the wires in the specified view from vertical. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6a/GeometryCore_8cxx_source.html#l00843">GeometryCore.cxx:843</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3fdcd24a7725e6a7caf7089e74f26cc4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float analysis::ContainedLength </td>
          <td>(</td>
          <td class="paramtype">const TVector3 &amp;&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TVector3 &amp;&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../d8/d26/classgeoalgo_1_1AABox.html">geoalgo::AABox</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>boxes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d87/CalorimetryAnalysis__module_8cc_source.html#l02508">2508</a> of file <a class="el" href="../../df/d87/CalorimetryAnalysis__module_8cc_source.html">CalorimetryAnalysis_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;                                                             {</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d8/dad/classgeoalgo_1_1GeoAlgo.html">geoalgo::GeoAlgo</a> algo;</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;  <span class="comment">// if points are the same, return 0</span></div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;  <span class="keywordflow">if</span> ((v0 - v1).Mag() &lt; 1<a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a>-6) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;  <span class="comment">// construct individual points</span></div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;  <a class="code" href="../../da/d05/classgeoalgo_1_1Vector.html">geoalgo::Point_t</a> p0(v0);</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;  <a class="code" href="../../da/d05/classgeoalgo_1_1Vector.html">geoalgo::Point_t</a> <a class="code" href="../../d9/dab/test__associatedgroupswithleft__full_8fcl.html#a4814f2598ed6acdb806473d732f33889">p1</a>(v1);</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;  <span class="comment">// construct line segment</span></div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;  <a class="code" href="../../de/dcf/classgeoalgo_1_1LineSegment.html">geoalgo::LineSegment</a> line(p0, <a class="code" href="../../d9/dab/test__associatedgroupswithleft__full_8fcl.html#a4814f2598ed6acdb806473d732f33889">p1</a>);</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  <span class="keywordtype">double</span> length = 0;</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;  <span class="comment">// total contained length is sum of lengths in all boxes</span></div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;  <span class="comment">// assuming they are non-overlapping</span></div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;box: boxes) {</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;    <span class="keywordtype">int</span> n_contained = box.Contain(p0) + box.Contain(<a class="code" href="../../d9/dab/test__associatedgroupswithleft__full_8fcl.html#a4814f2598ed6acdb806473d732f33889">p1</a>);</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;    <span class="comment">// both points contained -- length is total length (also can break out of loop)</span></div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    <span class="keywordflow">if</span> (n_contained == 2) {</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;      length = (v1 - v0).Mag();</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;    }</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    <span class="comment">// one contained -- have to find intersection point (which must exist)</span></div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;    <span class="keywordflow">if</span> (n_contained == 1) {</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;      <span class="keyword">auto</span> intersections = algo.<a class="code" href="../../d8/dad/classgeoalgo_1_1GeoAlgo.html#a5e20afcb6d80be93f1eeefc70992701f">Intersection</a>(line, box);</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;      <span class="comment">// Because of floating point errors, it can sometimes happen</span></div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;      <span class="comment">// that there is 1 contained point but no &quot;Intersections&quot;</span></div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      <span class="comment">// if one of the points is right on the edge</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;      <span class="keywordflow">if</span> (intersections.size() == 0) {</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;        <span class="comment">// determine which point is on the edge</span></div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="../../da/da0/SurfXYZTest_8cc.html#a352dc2abeda5f913ed16b48bbdcde948">tol</a> = 1<a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a>-5;</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;        <span class="keywordtype">bool</span> p0_edge = algo.<a class="code" href="../../d8/dad/classgeoalgo_1_1GeoAlgo.html#a60b643a32a121a25fb3b0188336cb126">SqDist</a>(p0, box) &lt; <a class="code" href="../../da/da0/SurfXYZTest_8cc.html#a352dc2abeda5f913ed16b48bbdcde948">tol</a>;</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;        <span class="keywordtype">bool</span> p1_edge = algo.<a class="code" href="../../d8/dad/classgeoalgo_1_1GeoAlgo.html#a60b643a32a121a25fb3b0188336cb126">SqDist</a>(<a class="code" href="../../d9/dab/test__associatedgroupswithleft__full_8fcl.html#a4814f2598ed6acdb806473d732f33889">p1</a>, box) &lt; <a class="code" href="../../da/da0/SurfXYZTest_8cc.html#a352dc2abeda5f913ed16b48bbdcde948">tol</a>;</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;        assert(p0_edge || p1_edge);</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;        <span class="comment">// contained one is on edge -- can treat both as not contained</span></div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;        <span class="comment">// In this case, no length</span></div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;        <span class="keywordflow">if</span> ((p0_edge &amp;&amp; box.Contain(p0)) || (box.Contain(<a class="code" href="../../d9/dab/test__associatedgroupswithleft__full_8fcl.html#a4814f2598ed6acdb806473d732f33889">p1</a>) &amp;&amp; p1_edge))</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;        <span class="comment">// un-contaned one is on edge -- treat both as contained</span></div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((p0_edge &amp;&amp; box.Contain(<a class="code" href="../../d9/dab/test__associatedgroupswithleft__full_8fcl.html#a4814f2598ed6acdb806473d732f33889">p1</a>)) || (box.Contain(p0) &amp;&amp; p1_edge)) {</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;          length = (v1 - v0).Mag();</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;        }</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;          assert(<span class="keyword">false</span>); <span class="comment">// bad</span></div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;        }</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;      }</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;      <span class="comment">// floating point errors can also falsely cause 2 intersection points</span></div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;      <span class="comment">// in this case, one of the intersections must be very close to the </span></div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;      <span class="comment">// &quot;contained&quot; point, so the total contained length will be about</span></div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;      <span class="comment">// the same as the distance between the two intersection points</span></div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (intersections.size() == 2) {</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;        length += (intersections.at(0).ToTLorentzVector().Vect() - intersections.at(1).ToTLorentzVector().Vect()).Mag();</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;      }</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;      <span class="comment">// &quot;Correct&quot;/ideal case -- 1 intersection point</span></div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (intersections.size() == 1) {</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;        <span class="comment">// get TVector at intersection point</span></div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;        TVector3 int_tv(intersections.at(0).ToTLorentzVector().Vect());</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;        length += ( box.Contain(p0) ? (v0 - int_tv).Mag() : (v1 - int_tv).Mag() ); </div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;      }</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;      <span class="keywordflow">else</span> assert(<span class="keyword">false</span>); <span class="comment">// bad</span></div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    }</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    <span class="comment">// none contained -- either must have zero or two intersections</span></div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;    <span class="keywordflow">if</span> (n_contained == 0) {</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;      <span class="keyword">auto</span> intersections = algo.<a class="code" href="../../d8/dad/classgeoalgo_1_1GeoAlgo.html#a5e20afcb6d80be93f1eeefc70992701f">Intersection</a>(line, box);</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;      <span class="keywordflow">if</span> (!(intersections.size() == 0 || intersections.size() == 2)) {</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;        <span class="comment">// more floating point error fixes...</span></div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;        <span class="comment">// figure out which points are near the edge</span></div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;        <span class="keywordtype">double</span> tol = 1<a class="code" href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a>-5;</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;        <span class="keywordtype">bool</span> p0_edge = algo.<a class="code" href="../../d8/dad/classgeoalgo_1_1GeoAlgo.html#a60b643a32a121a25fb3b0188336cb126">SqDist</a>(p0, box) &lt; <a class="code" href="../../da/da0/SurfXYZTest_8cc.html#a352dc2abeda5f913ed16b48bbdcde948">tol</a>;</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;        <span class="keywordtype">bool</span> p1_edge = algo.<a class="code" href="../../d8/dad/classgeoalgo_1_1GeoAlgo.html#a60b643a32a121a25fb3b0188336cb126">SqDist</a>(<a class="code" href="../../d9/dab/test__associatedgroupswithleft__full_8fcl.html#a4814f2598ed6acdb806473d732f33889">p1</a>, box) &lt; <a class="code" href="../../da/da0/SurfXYZTest_8cc.html#a352dc2abeda5f913ed16b48bbdcde948">tol</a>;</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;        <span class="comment">// and which points are near the intersection</span></div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;        TVector3 vint = intersections.at(0).ToTLorentzVector().Vect();</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;        <span class="keywordtype">bool</span> p0_int = (v0 - vint).Mag() &lt; <a class="code" href="../../da/da0/SurfXYZTest_8cc.html#a352dc2abeda5f913ed16b48bbdcde948">tol</a>;</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;        <span class="keywordtype">bool</span> p1_int = (v1 - vint).Mag() &lt; <a class="code" href="../../da/da0/SurfXYZTest_8cc.html#a352dc2abeda5f913ed16b48bbdcde948">tol</a>;</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;        <span class="comment">// exactly one of them should produce the intersection</span></div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;        assert((p0_int &amp;&amp; p0_edge) != (p1_int &amp;&amp; p1_edge));</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;        <span class="comment">// void variables when assert-ions are turned off</span></div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;        (<a class="code" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">void</a>) p0_int; (<a class="code" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">void</a>) p1_int;</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;        <span class="comment">// both close to edge -- full length is contained</span></div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;        <span class="keywordflow">if</span> (p0_edge &amp;&amp; p1_edge) {</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;          length += (v0 - v1).Mag();</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;        }</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;        <span class="comment">// otherwise -- one of them is not on an edge, no length is contained</span></div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;        <span class="keywordflow">else</span> {}</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;      }</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;      <span class="comment">// assert(intersections.size() == 0 || intersections.size() == 2);</span></div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (intersections.size() == 2) {</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;        TVector3 start(intersections.at(0).ToTLorentzVector().Vect());</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;        TVector3 <a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#aac918da84f16d53ad17bab4f817da1c4">end</a>(intersections.at(1).ToTLorentzVector().Vect());</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;        length += (start - <a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#aac918da84f16d53ad17bab4f817da1c4">end</a>).Mag();</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;      }</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;    }</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;  }</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;  <span class="keywordflow">return</span> length;</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;}<span class="comment">//ContainedLength</span></div>
<div class="ttc" id="classgeoalgo_1_1GeoAlgo_html"><div class="ttname"><a href="../../d8/dad/classgeoalgo_1_1GeoAlgo.html">geoalgo::GeoAlgo</a></div><div class="ttdoc">Algorithm to compute various geometrical relation among geometrical objects. In particular functions ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/larcorealg_2larcorealg_2GeoAlgo_2GeoAlgo_8h_source.html#l00043">larcorealg/larcorealg/GeoAlgo/GeoAlgo.h:43</a></div></div>
<div class="ttc" id="SurfXYZTest_8cc_html_a352dc2abeda5f913ed16b48bbdcde948"><div class="ttname"><a href="../../da/da0/SurfXYZTest_8cc.html#a352dc2abeda5f913ed16b48bbdcde948">tol</a></div><div class="ttdeci">auto const tol</div><div class="ttdef"><b>Definition:</b> <a href="../../da/da0/SurfXYZTest_8cc_source.html#l00016">SurfXYZTest.cc:16</a></div></div>
<div class="ttc" id="classgeoalgo_1_1GeoAlgo_html_a60b643a32a121a25fb3b0188336cb126"><div class="ttname"><a href="../../d8/dad/classgeoalgo_1_1GeoAlgo.html#a60b643a32a121a25fb3b0188336cb126">geoalgo::GeoAlgo::SqDist</a></div><div class="ttdeci">double SqDist(const Line_t &amp;line, const Point_t &amp;pt) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/larcorealg_2larcorealg_2GeoAlgo_2GeoAlgo_8h_source.html#l00087">larcorealg/larcorealg/GeoAlgo/GeoAlgo.h:87</a></div></div>
<div class="ttc" id="classgeoalgo_1_1LineSegment_html"><div class="ttname"><a href="../../de/dcf/classgeoalgo_1_1LineSegment.html">geoalgo::LineSegment</a></div><div class="ttdoc">Representation of a simple 3D line segment Defines a finite 3D straight line by having the start and ...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d55/larcorealg_2larcorealg_2GeoAlgo_2GeoLineSegment_8h_source.html#l00025">larcorealg/larcorealg/GeoAlgo/GeoLineSegment.h:25</a></div></div>
<div class="ttc" id="namespaceicarus_1_1ns_1_1util_html_aac918da84f16d53ad17bab4f817da1c4"><div class="ttname"><a href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#aac918da84f16d53ad17bab4f817da1c4">icarus::ns::util::end</a></div><div class="ttdeci">auto end(FixedBins&lt; T, C &gt; const &amp;) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbd/FixedBins_8h_source.html#l00585">FixedBins.h:585</a></div></div>
<div class="ttc" id="namespacenlohmann_1_1detail_html_a59fca69799f6b9e366710cb9043aa77d"><div class="ttname"><a href="../../dc/df0/namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">nlohmann::detail::void</a></div><div class="ttdeci">j template void())</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db8/json_8hpp_source.html#l03108">json.hpp:3108</a></div></div>
<div class="ttc" id="updateVersionList_8sh_html_a067a8c1534d6da9b2c501a6cf4ef89bd"><div class="ttname"><a href="../../d4/dca/updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a></div><div class="ttdeci">do i e</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dca/updateVersionList_8sh_source.html#l00068">updateVersionList.sh:68</a></div></div>
<div class="ttc" id="classgeoalgo_1_1GeoAlgo_html_a5e20afcb6d80be93f1eeefc70992701f"><div class="ttname"><a href="../../d8/dad/classgeoalgo_1_1GeoAlgo.html#a5e20afcb6d80be93f1eeefc70992701f">geoalgo::GeoAlgo::Intersection</a></div><div class="ttdeci">std::vector&lt; Point_t &gt; Intersection(const AABox_t &amp;box, const HalfLine_t &amp;line, bool back=false) const </div><div class="ttdoc">Intersection between a HalfLine and an AABox. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db9/larcorealg_2larcorealg_2GeoAlgo_2GeoAlgo_8cxx_source.html#l00011">larcorealg/larcorealg/GeoAlgo/GeoAlgo.cxx:11</a></div></div>
<div class="ttc" id="classgeoalgo_1_1Vector_html"><div class="ttname"><a href="../../da/d05/classgeoalgo_1_1Vector.html">geoalgo::Vector</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0a/larcorealg_2larcorealg_2GeoAlgo_2GeoVector_8h_source.html#l00033">larcorealg/larcorealg/GeoAlgo/GeoVector.h:33</a></div></div>
<div class="ttc" id="test__associatedgroupswithleft__full_8fcl_html_a4814f2598ed6acdb806473d732f33889"><div class="ttname"><a href="../../d9/dab/test__associatedgroupswithleft__full_8fcl.html#a4814f2598ed6acdb806473d732f33889">p1</a></div><div class="ttdeci">physics associatedGroupsWithLeft p1</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dab/test__associatedgroupswithleft__full_8fcl_source.html#l00024">test_associatedgroupswithleft_full.fcl:24</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0e46202f0953a93cb645feb0fbb2544a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float analysis::distance3d </td>
          <td>(</td>
          <td class="paramtype">const float &amp;&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float &amp;&#160;</td>
          <td class="paramname"><em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float &amp;&#160;</td>
          <td class="paramname"><em>z1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float &amp;&#160;</td>
          <td class="paramname"><em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float &amp;&#160;</td>
          <td class="paramname"><em>y2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float &amp;&#160;</td>
          <td class="paramname"><em>z2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d87/CalorimetryAnalysis__module_8cc_source.html#l02499">2499</a> of file <a class="el" href="../../df/d87/CalorimetryAnalysis__module_8cc_source.html">CalorimetryAnalysis_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;  {</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    <span class="keywordflow">return</span> sqrt((x1-x2)*(x1-x2) +</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;                (y1-y2)*(y1-y2) +</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;                (z1-z2)*(z1-z2));</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a62b43299b4381df150594853cf8e3bda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void analysis::FillHits </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/dc3/classdetinfo_1_1DetectorClocksData.html">detinfo::DetectorClocksData</a> &amp;&#160;</td>
          <td class="paramname"><em>clockData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; art::Ptr&lt; <a class="el" href="../../db/d4e/classrecob_1_1Hit.html">recob::Hit</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>hits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>charge_u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>charge_v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>charge_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>wire_u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>wire_v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>wire_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>channel_u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>channel_v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>channel_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>multiplicity_u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>multiplicity_v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>multiplicity_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>width_u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>width_v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>width_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>time_u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>time_v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>time_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>nhit_u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>nhit_v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>nhit_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>use_integral</em> = <code><a class="el" href="../../de/d36/crtt0matchingalg__sbnd_8fcl.html#af8bc618309fb2d0f55f7f5ae0760b466">true</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d87/CalorimetryAnalysis__module_8cc_source.html#l02363">2363</a> of file <a class="el" href="../../df/d87/CalorimetryAnalysis__module_8cc_source.html">CalorimetryAnalysis_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;                                 {</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;  <span class="keyword">struct </span>HitInfo {</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    <span class="keywordtype">float</span> charge;</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <span class="keywordtype">int</span> multiplicity;</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <span class="keywordtype">float</span> width;</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <span class="keywordtype">int</span> start;</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#aac918da84f16d53ad17bab4f817da1c4">end</a>;</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    <span class="keywordtype">float</span> time;</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;    <span class="keywordtype">int</span> nhit;</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;    <span class="keywordtype">int</span> wire;</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;    HitInfo(): charge(0), multiplicity(0), width(0), start(0), <a class="code" href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#aac918da84f16d53ad17bab4f817da1c4">end</a>(0), time(0.), nhit(0) {}</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  };</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;  std::map&lt;unsigned, HitInfo&gt; hit_map_u;</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;  std::map&lt;unsigned, HitInfo&gt; hit_map_v;</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;  std::map&lt;unsigned, HitInfo&gt; hit_map_y;</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> art::Ptr&lt;recob::Hit&gt; <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>: hits) {</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;WireID().Plane == 0) {</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;      <span class="comment">// if using summed ADC method to count charge, don&#39;t double-count hits in the same snippet</span></div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;      <span class="keywordflow">if</span> (!use_integral &amp;&amp; hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].start == <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;StartTick() &amp;&amp; hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].end == <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;EndTick()) {</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;      }</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;      hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].charge += (use_integral) ? <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Integral() : <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;SummedADC();</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;      hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].multiplicity = <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].multiplicity, (int) <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Multiplicity());</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;      hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].start = hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].nhit ? std::min(hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].start, <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;StartTick()) : <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;StartTick();</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;      hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].end = hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].nhit ? <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].end, <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;EndTick()) : <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;EndTick();</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;      hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].width = (hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].end - hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].start);</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;      hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].time = (<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;PeakTime() + hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].time * hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].nhit) / (hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].nhit + 1);</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;      hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].nhit ++;</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;      hit_map_u[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].wire = <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;WireID().Wire;</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;    }</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;WireID().Plane == 1) {</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;      <span class="comment">// if using summed ADC method to count charge, don&#39;t double-count hits in the same snippet</span></div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;      <span class="keywordflow">if</span> (!use_integral &amp;&amp; hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].start == <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;StartTick() &amp;&amp; hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].end == <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;EndTick()) {</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;      }</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;      hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].charge += (use_integral) ? <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Integral() : <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;SummedADC();</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;      hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].multiplicity = <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].multiplicity, (int) <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Multiplicity());</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;      hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].start = hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].nhit ? std::min(hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].start, <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;StartTick()) : <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;StartTick();</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;      hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].end = hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].nhit ? <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].end, <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;EndTick()) : <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;EndTick();</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;      hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].width = (hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].end - hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].start);</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;      hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].time = (<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;PeakTime() + hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].time * hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].nhit) / (hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].nhit + 1);</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;      hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].nhit ++;</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;      hit_map_v[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].wire = <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;WireID().Wire;</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    }</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;      <span class="comment">// if using summed ADC method to count charge, don&#39;t double-count hits in the same snippet</span></div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;      <span class="keywordflow">if</span> (!use_integral &amp;&amp; hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].start == <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;StartTick() &amp;&amp; hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].end == <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;EndTick()) {</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;      }</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;      hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].charge += (use_integral) ? <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Integral() : <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;SummedADC();</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;      hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].multiplicity = <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].multiplicity, (int) <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Multiplicity());</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;      hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].start = hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].nhit ? std::min(hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].start, <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;StartTick()) : <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;StartTick();</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;      hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].end = hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].nhit ? <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].end, <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;EndTick()) : <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;EndTick();</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;      hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].width = (hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].end - hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].start);</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;      hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].time = (<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;PeakTime() + hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].time * hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].nhit) / (hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].nhit + 1);</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;      hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].nhit ++;</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;      hit_map_y[<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel()].wire = <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;WireID().Wire;</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;    }</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;  }</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;pair: hit_map_u) {</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;    channel_u.push_back(pair.first);</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;    charge_u.push_back(pair.second.charge);</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    multiplicity_u.push_back(pair.second.multiplicity);</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;    width_u.push_back(pair.second.width);</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;    time_u.push_back(pair.second.time);</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;    nhit_u.push_back(pair.second.nhit);</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;    wire_u.push_back(pair.second.wire);</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;  }</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;pair: hit_map_v) {</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    channel_v.push_back(pair.first);</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    charge_v.push_back(pair.second.charge);</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    multiplicity_v.push_back(pair.second.multiplicity);</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;    width_v.push_back(pair.second.width);</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    time_v.push_back(pair.second.time);</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;    nhit_v.push_back(pair.second.nhit);</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;    wire_v.push_back(pair.second.wire);</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;  }</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;pair: hit_map_y) {</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    channel_y.push_back(pair.first);</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    charge_y.push_back(pair.second.charge);</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    multiplicity_y.push_back(pair.second.multiplicity);</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;    width_y.push_back(pair.second.width);</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    time_y.push_back(pair.second.time);</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    nhit_y.push_back(pair.second.nhit);</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    wire_y.push_back(pair.second.wire);</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  }</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;}</div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
<div class="ttc" id="cheaterreco_8fcl_html_abf2e819dbf4c327e098bebd4b2dc0597"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a></div><div class="ttdeci">process_name hit</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="namespaceicarus_1_1ns_1_1util_html_aac918da84f16d53ad17bab4f817da1c4"><div class="ttname"><a href="../../d5/d62/namespaceicarus_1_1ns_1_1util.html#aac918da84f16d53ad17bab4f817da1c4">icarus::ns::util::end</a></div><div class="ttdeci">auto end(FixedBins&lt; T, C &gt; const &amp;) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbd/FixedBins_8h_source.html#l00585">FixedBins.h:585</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a54525c00b8040284379ad3156f8ace1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;unsigned&gt; analysis::FinddEdxHits </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../db/ddb/classanab_1_1Calorimetry.html">anab::Calorimetry</a> &amp;&#160;</td>
          <td class="paramname"><em>calo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; art::Ptr&lt; <a class="el" href="../../db/d4e/classrecob_1_1Hit.html">recob::Hit</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>hits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d87/CalorimetryAnalysis__module_8cc_source.html#l01521">1521</a> of file <a class="el" href="../../df/d87/CalorimetryAnalysis__module_8cc_source.html">CalorimetryAnalysis_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                                                                                                       {</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  std::vector&lt;unsigned&gt; ret;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <span class="comment">// NOTE: TpIndices are __actually__ the art::Ptr keys of the Hit&#39;s</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <span class="comment">// Don&#39;t ask me why</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> ind: calo.<a class="code" href="../../db/ddb/classanab_1_1Calorimetry.html#a57b82d5c301db4b1409b221f2b827a14">TpIndices</a>()) {</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> art::Ptr&lt;recob::Hit&gt; &amp;<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>: hits) {</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>.key() == ind) {</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        ret.push_back(<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>-&gt;Channel());</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      }</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    }</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keywordflow">if</span> (!found) {</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <span class="keywordflow">throw</span> cet::exception(<span class="stringliteral">&quot;dEdx w/out Hit!&quot;</span>);</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    }</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  }</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;}</div>
<div class="ttc" id="cheaterreco_8fcl_html_abf2e819dbf4c327e098bebd4b2dc0597"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a></div><div class="ttdeci">process_name hit</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="classanab_1_1Calorimetry_html_a57b82d5c301db4b1409b221f2b827a14"><div class="ttname"><a href="../../db/ddb/classanab_1_1Calorimetry.html#a57b82d5c301db4b1409b221f2b827a14">anab::Calorimetry::TpIndices</a></div><div class="ttdeci">const std::vector&lt; size_t &gt; &amp; TpIndices() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d83/Calorimetry_8h_source.html#l00115">Calorimetry.h:115</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1c1407ddb517d1d8bd3c4eb6d35fa2b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void analysis::TrkDirectionAtXYZ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/dca/classrecob_1_1Track.html">recob::Track</a>&#160;</td>
          <td class="paramname"><em>trk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>out</em>[3]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d87/CalorimetryAnalysis__module_8cc_source.html#l02326">2326</a> of file <a class="el" href="../../df/d87/CalorimetryAnalysis__module_8cc_source.html">CalorimetryAnalysis_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;  {</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    <span class="keywordtype">float</span> min_dist = 1000;</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;    <span class="keywordtype">size_t</span> i_min = -1;</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i=0; i &lt; trk.<a class="code" href="../../d9/dca/classrecob_1_1Track.html#a9128436d1a2465fc9f5393898b6fa236">NumberTrajectoryPoints</a>(); i++)</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;    {</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;      <span class="keywordflow">if</span> (trk.<a class="code" href="../../d9/dca/classrecob_1_1Track.html#a98b528b4fd2230652784752e6842d1d8">HasValidPoint</a>(i))</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;      { <span class="comment">// check this point is valid</span></div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;        <span class="keyword">auto</span> point_i = trk.<a class="code" href="../../d9/dca/classrecob_1_1Track.html#a0f79353d3ee5824fa80770901d1686a9">LocationAtPoint</a>(i);</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;        <span class="keywordtype">float</span> distance = <a class="code" href="../../d0/dfd/namespaceanalysis.html#a0e46202f0953a93cb645feb0fbb2544a">distance3d</a>((<span class="keywordtype">double</span>)point_i.X(), (double)point_i.Y(), (double)point_i.Z(),</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;                  <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>, <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a>, <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>);</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;        <span class="keywordflow">if</span> (distance &lt; min_dist)</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;        {</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;          min_dist = distance;</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;          i_min = i;</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;        }</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;      }<span class="comment">// if point is valid</span></div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    }<span class="comment">// for all track points</span></div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;    <span class="keywordflow">if</span> (i_min == (<span class="keywordtype">size_t</span>)-1) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    <span class="keyword">auto</span> direction = trk.<a class="code" href="../../d9/dca/classrecob_1_1Track.html#a931081e58a8c41b2d0e1473d2fb6bdb2">DirectionAtPoint</a>(i_min);</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    out[0] = (float)direction.X();</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    out[1] = (float)direction.Y();</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    out[2] = (float)direction.Z();</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d0/d8e/namespacegeo_1_1vect.html#a22bf6b956ca4ad2050a44810c80c805f">norm</a>;</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    norm = out[0]*out[0] + out[1]*out[1] + out[2]*out[2];</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    <span class="keywordflow">if</span> (fabs(norm -1) &gt; 0.001)</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    {</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;i_min = &quot;</span> &lt;&lt; i_min &lt;&lt; std::endl;</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;minimum distance = &quot;</span> &lt;&lt; min_dist &lt;&lt; std::endl;</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;out[0], out[1], out[2] = &quot;</span> &lt;&lt; out[0] &lt;&lt; <span class="stringliteral">&quot; , &quot;</span> &lt;&lt; out[1] &lt;&lt; <span class="stringliteral">&quot; , &quot;</span> &lt;&lt; out[2] &lt;&lt; std::endl;</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;norm = &quot;</span> &lt;&lt; norm &lt;&lt; std::endl;</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    }</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  }</div>
<div class="ttc" id="run__opflash__electron_8fcl_html_ae40184b0245025a43c56daa3261d5e3c"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a></div><div class="ttdeci">process_name opflash particleana ie ie ie z</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00092">run_opflash_electron.fcl:92</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a6673f03521899f7844189bcfd8ee5941"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a></div><div class="ttdeci">process_name opflash particleana ie x</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00090">run_opflash_electron.fcl:90</a></div></div>
<div class="ttc" id="classrecob_1_1Track_html_a0f79353d3ee5824fa80770901d1686a9"><div class="ttname"><a href="../../d9/dca/classrecob_1_1Track.html#a0f79353d3ee5824fa80770901d1686a9">recob::Track::LocationAtPoint</a></div><div class="ttdeci">Point_t const &amp; LocationAtPoint(size_t i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d53/bj_2lardataobj_2RecoBase_2Track_8h_source.html#l00126">bj/lardataobj/RecoBase/Track.h:126</a></div></div>
<div class="ttc" id="classrecob_1_1Track_html_a98b528b4fd2230652784752e6842d1d8"><div class="ttname"><a href="../../d9/dca/classrecob_1_1Track.html#a98b528b4fd2230652784752e6842d1d8">recob::Track::HasValidPoint</a></div><div class="ttdeci">bool HasValidPoint(size_t i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d53/bj_2lardataobj_2RecoBase_2Track_8h_source.html#l00111">bj/lardataobj/RecoBase/Track.h:111</a></div></div>
<div class="ttc" id="classrecob_1_1Track_html_a9128436d1a2465fc9f5393898b6fa236"><div class="ttname"><a href="../../d9/dca/classrecob_1_1Track.html#a9128436d1a2465fc9f5393898b6fa236">recob::Track::NumberTrajectoryPoints</a></div><div class="ttdeci">size_t NumberTrajectoryPoints() const </div><div class="ttdoc">Various functions related to the presence and the number of (valid) points. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d53/bj_2lardataobj_2RecoBase_2Track_8h_source.html#l00102">bj/lardataobj/RecoBase/Track.h:102</a></div></div>
<div class="ttc" id="namespaceanalysis_html_a0e46202f0953a93cb645feb0fbb2544a"><div class="ttname"><a href="../../d0/dfd/namespaceanalysis.html#a0e46202f0953a93cb645feb0fbb2544a">analysis::distance3d</a></div><div class="ttdeci">float distance3d(const float &amp;x1, const float &amp;y1, const float &amp;z1, const float &amp;x2, const float &amp;y2, const float &amp;z2)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d87/CalorimetryAnalysis__module_8cc_source.html#l02499">CalorimetryAnalysis_module.cc:2499</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a1e5aaaf25e8609a835e8c7c6fda71456"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a></div><div class="ttdeci">process_name opflash particleana ie ie y</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00091">run_opflash_electron.fcl:91</a></div></div>
<div class="ttc" id="namespacegeo_1_1vect_html_a22bf6b956ca4ad2050a44810c80c805f"><div class="ttname"><a href="../../d0/d8e/namespacegeo_1_1vect.html#a22bf6b956ca4ad2050a44810c80c805f">geo::vect::norm</a></div><div class="ttdeci">auto norm(Vector const &amp;v)</div><div class="ttdoc">Return norm of the specified vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6c/geo__vectors__utils_8h_source.html#l01202">geo_vectors_utils.h:1202</a></div></div>
<div class="ttc" id="classrecob_1_1Track_html_a931081e58a8c41b2d0e1473d2fb6bdb2"><div class="ttname"><a href="../../d9/dca/classrecob_1_1Track.html#a931081e58a8c41b2d0e1473d2fb6bdb2">recob::Track::DirectionAtPoint</a></div><div class="ttdeci">Vector_t DirectionAtPoint(size_t i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d53/bj_2lardataobj_2RecoBase_2Track_8h_source.html#l00134">bj/lardataobj/RecoBase/Track.h:134</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7dfbd44e342627f9c83cf3d4bc743cbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void analysis::True2RecoMappingXYZ </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>out</em>[3]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d87/CalorimetryAnalysis__module_8cc_source.html#l02480">2480</a> of file <a class="el" href="../../df/d87/CalorimetryAnalysis__module_8cc_source.html">CalorimetryAnalysis_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;                                                                          {</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;  (<a class="code" href="../../dc/df0/namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">void</a>) t;</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;  out[0] = <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>;</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;  out[1] = <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a>;</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;  out[2] = <a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>;</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;}</div>
<div class="ttc" id="run__opflash__electron_8fcl_html_ae40184b0245025a43c56daa3261d5e3c"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a></div><div class="ttdeci">process_name opflash particleana ie ie ie z</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00092">run_opflash_electron.fcl:92</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a6673f03521899f7844189bcfd8ee5941"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a></div><div class="ttdeci">process_name opflash particleana ie x</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00090">run_opflash_electron.fcl:90</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a1e5aaaf25e8609a835e8c7c6fda71456"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a></div><div class="ttdeci">process_name opflash particleana ie ie y</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00091">run_opflash_electron.fcl:91</a></div></div>
<div class="ttc" id="namespacenlohmann_1_1detail_html_a59fca69799f6b9e366710cb9043aa77d"><div class="ttname"><a href="../../dc/df0/namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">nlohmann::detail::void</a></div><div class="ttdeci">j template void())</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db8/json_8hpp_source.html#l03108">json.hpp:3108</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a029a11e998460ab73343a1166d925aad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float analysis::XYZtoPlanecoordinate </td>
          <td>(</td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>plane</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d87/CalorimetryAnalysis__module_8cc_source.html#l02487">2487</a> of file <a class="el" href="../../df/d87/CalorimetryAnalysis__module_8cc_source.html">CalorimetryAnalysis_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;  {</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span>* geom = ::lar::providerFrom&lt;geo::Geometry&gt;();</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    <a class="code" href="../../d6/d23/namespacegeo.html#a5a6f22c2aa9d0ccf6ca08bf2773a0541">geo::Point_t</a> <a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>(<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a>,<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a>,<a class="code" href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a>);</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    <a class="code" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> tpc = geom-&gt;FindTPCAtPosition(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>);</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;    <span class="keywordflow">if</span> (!tpc) <span class="keywordflow">return</span> -1e6;</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    <a class="code" href="../../d4/d41/structgeo_1_1PlaneID.html">geo::PlaneID</a> planeID(tpc, plane);</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    <span class="keywordtype">double</span> _wire2cm = geom-&gt;WirePitch(planeID);</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    <span class="keywordflow">return</span> geom-&gt;WireCoordinate(<a class="code" href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a>, planeID) * _wire2cm;</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  }</div>
<div class="ttc" id="run__opflash__electron_8fcl_html_ae40184b0245025a43c56daa3261d5e3c"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#ae40184b0245025a43c56daa3261d5e3c">z</a></div><div class="ttdeci">process_name opflash particleana ie ie ie z</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00092">run_opflash_electron.fcl:92</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a6673f03521899f7844189bcfd8ee5941"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a6673f03521899f7844189bcfd8ee5941">x</a></div><div class="ttdeci">process_name opflash particleana ie x</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00090">run_opflash_electron.fcl:90</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a24c8335057af14a9b508d5ac18999ce5"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a24c8335057af14a9b508d5ac18999ce5">p</a></div><div class="ttdeci">pdgs p</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00022">selectors.fcl:22</a></div></div>
<div class="ttc" id="structgeo_1_1PlaneID_html"><div class="ttname"><a href="../../d4/d41/structgeo_1_1PlaneID.html">geo::PlaneID</a></div><div class="ttdoc">The data type to uniquely identify a Plane. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00472">geo_types.h:472</a></div></div>
<div class="ttc" id="run__opflash__electron_8fcl_html_a1e5aaaf25e8609a835e8c7c6fda71456"><div class="ttname"><a href="../../d0/d84/run__opflash__electron_8fcl.html#a1e5aaaf25e8609a835e8c7c6fda71456">y</a></div><div class="ttdeci">process_name opflash particleana ie ie y</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/run__opflash__electron_8fcl_source.html#l00091">run_opflash_electron.fcl:91</a></div></div>
<div class="ttc" id="structgeo_1_1TPCID_html"><div class="ttname"><a href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a></div><div class="ttdoc">The data type to uniquely identify a TPC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00386">geo_types.h:386</a></div></div>
<div class="ttc" id="namespacegeo_html_a5a6f22c2aa9d0ccf6ca08bf2773a0541"><div class="ttname"><a href="../../d6/d23/namespacegeo.html#a5a6f22c2aa9d0ccf6ca08bf2773a0541">geo::Point_t</a></div><div class="ttdeci">ROOT::Math::PositionVector3D&lt; ROOT::Math::Cartesian3D&lt; double &gt;, ROOT::Math::GlobalCoordinateSystemTag &gt; Point_t</div><div class="ttdoc">Type for representation of position in physical 3D space. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/geo__vectors_8h_source.html#l00184">geo_vectors.h:184</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
