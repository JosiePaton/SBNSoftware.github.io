<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>daq::TriggerDecoder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacedaq.html">daq</a></li><li class="navelem"><a class="el" href="classdaq_1_1TriggerDecoder.html">TriggerDecoder</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classdaq_1_1TriggerDecoder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">daq::TriggerDecoder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Tool decoding the trigger information from DAQ.  
 <a href="classdaq_1_1TriggerDecoder.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for daq::TriggerDecoder:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classdaq_1_1TriggerDecoder.png" usemap="#daq::TriggerDecoder_map" alt=""/>
  <map id="daq::TriggerDecoder_map" name="daq::TriggerDecoder_map">
<area href="classdaq_1_1IDecoder.html" title="IDecoder interface class definiton. " alt="daq::IDecoder" shape="rect" coords="0,0,128,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes.html">TriggerGateTypes</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Codes of gate types from the trigger hardware.  <a href="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abdd938f81dcff3187deb093f1b1c15dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#abdd938f81dcff3187deb093f1b1c15dc">TriggerDecoder</a> (fhicl::ParameterSet const &amp;pset)</td></tr>
<tr class="separator:abdd938f81dcff3187deb093f1b1c15dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab871ef6649b99ccddc6a249a6d965d48"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#ab871ef6649b99ccddc6a249a6d965d48">produces</a> (art::ProducesCollector &amp;) override</td></tr>
<tr class="memdesc:ab871ef6649b99ccddc6a249a6d965d48"><td class="mdescLeft">&#160;</td><td class="mdescRight">The space point building should output the hit collection for those hits which combine to form space points - a nice noise filter!  <a href="#ab871ef6649b99ccddc6a249a6d965d48">More...</a><br/></td></tr>
<tr class="separator:ab871ef6649b99ccddc6a249a6d965d48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae53e0b3b0926c2b2ec76c355cf8f4b8"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#aae53e0b3b0926c2b2ec76c355cf8f4b8">configure</a> (const fhicl::ParameterSet &amp;) override</td></tr>
<tr class="memdesc:aae53e0b3b0926c2b2ec76c355cf8f4b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface for configuring the particular algorithm tool.  <a href="#aae53e0b3b0926c2b2ec76c355cf8f4b8">More...</a><br/></td></tr>
<tr class="separator:aae53e0b3b0926c2b2ec76c355cf8f4b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55f3d90b4ea9874e9c7e642aa1d59c24"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a55f3d90b4ea9874e9c7e642aa1d59c24">initializeDataProducts</a> () override</td></tr>
<tr class="memdesc:a55f3d90b4ea9874e9c7e642aa1d59c24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize any data products the tool will output.  <a href="#a55f3d90b4ea9874e9c7e642aa1d59c24">More...</a><br/></td></tr>
<tr class="separator:a55f3d90b4ea9874e9c7e642aa1d59c24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1afb15f54713611f5b09f74453717d3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#ae1afb15f54713611f5b09f74453717d3">process_fragment</a> (const artdaq::Fragment &amp;fragment) override</td></tr>
<tr class="memdesc:ae1afb15f54713611f5b09f74453717d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a set of recob hits, run DBscan to form 3D clusters.  <a href="#ae1afb15f54713611f5b09f74453717d3">More...</a><br/></td></tr>
<tr class="separator:ae1afb15f54713611f5b09f74453717d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e783789900cd917ffd95ca27bbe935e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a8e783789900cd917ffd95ca27bbe935e">outputDataProducts</a> (art::Event &amp;event) override</td></tr>
<tr class="memdesc:a8e783789900cd917ffd95ca27bbe935e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output the data products to the event store.  <a href="#a8e783789900cd917ffd95ca27bbe935e">More...</a><br/></td></tr>
<tr class="separator:a8e783789900cd917ffd95ca27bbe935e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classdaq_1_1IDecoder"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classdaq_1_1IDecoder')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classdaq_1_1IDecoder.html">daq::IDecoder</a></td></tr>
<tr class="memitem:a1a8eddb0efa24a356243683486f43e69 inherit pub_methods_classdaq_1_1IDecoder"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1IDecoder.html#a1a8eddb0efa24a356243683486f43e69">~IDecoder</a> () noexcept=<a class="el" href="crtt0matchingalg__sbnd_8fcl.html#a6c2384a9e3f7a8c21ae6f762a8ee0ece">default</a></td></tr>
<tr class="memdesc:a1a8eddb0efa24a356243683486f43e69 inherit pub_methods_classdaq_1_1IDecoder"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual Destructor.  <a href="#a1a8eddb0efa24a356243683486f43e69">More...</a><br/></td></tr>
<tr class="separator:a1a8eddb0efa24a356243683486f43e69 inherit pub_methods_classdaq_1_1IDecoder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d2d55970b02c9ee9235281e7269fd4c inherit pub_methods_classdaq_1_1IDecoder"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1IDecoder.html#a2d2d55970b02c9ee9235281e7269fd4c">consumes</a> (art::ConsumesCollector &amp;)</td></tr>
<tr class="memdesc:a2d2d55970b02c9ee9235281e7269fd4c inherit pub_methods_classdaq_1_1IDecoder"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare to the framework what you expect to read.  <a href="#a2d2d55970b02c9ee9235281e7269fd4c">More...</a><br/></td></tr>
<tr class="separator:a2d2d55970b02c9ee9235281e7269fd4c inherit pub_methods_classdaq_1_1IDecoder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f7606211f66e5bce6a293a52871fdba inherit pub_methods_classdaq_1_1IDecoder"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1IDecoder.html#a8f7606211f66e5bce6a293a52871fdba">setupRun</a> (art::Run const &amp;run)</td></tr>
<tr class="memdesc:a8f7606211f66e5bce6a293a52871fdba inherit pub_methods_classdaq_1_1IDecoder"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preparation to process a new run.  <a href="#a8f7606211f66e5bce6a293a52871fdba">More...</a><br/></td></tr>
<tr class="separator:a8f7606211f66e5bce6a293a52871fdba inherit pub_methods_classdaq_1_1IDecoder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a604fd18909452f272134d92b68eb5678 inherit pub_methods_classdaq_1_1IDecoder"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1IDecoder.html#a604fd18909452f272134d92b68eb5678">setupEvent</a> (art::Event const &amp;event)</td></tr>
<tr class="memdesc:a604fd18909452f272134d92b68eb5678 inherit pub_methods_classdaq_1_1IDecoder"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preparation to process a new event.  <a href="#a604fd18909452f272134d92b68eb5678">More...</a><br/></td></tr>
<tr class="separator:a604fd18909452f272134d92b68eb5678 inherit pub_methods_classdaq_1_1IDecoder"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a2bd2244a1c5b9044d5a5f17386e06403"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a2bd2244a1c5b9044d5a5f17386e06403">nanoseconds</a> = <a class="el" href="namespaceutil_1_1quantities.html#a601d5581a465f2bed2bf3c294178ca8c">util::quantities::nanosecond</a></td></tr>
<tr class="separator:a2bd2244a1c5b9044d5a5f17386e06403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021096237e2cce66ba40f5d86ffeb092"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a021096237e2cce66ba40f5d86ffeb092">TriggerCollection</a> = std::vector&lt; <a class="el" href="classraw_1_1ExternalTrigger.html">raw::ExternalTrigger</a> &gt;</td></tr>
<tr class="separator:a021096237e2cce66ba40f5d86ffeb092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc37a19386275e4677c767b335586364"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#acc37a19386275e4677c767b335586364">TriggerPtr</a> = std::unique_ptr&lt; <a class="el" href="classdaq_1_1TriggerDecoder.html#a021096237e2cce66ba40f5d86ffeb092">TriggerCollection</a> &gt;</td></tr>
<tr class="separator:acc37a19386275e4677c767b335586364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab28d96e6def013c5026c0af8c8b16165"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#ab28d96e6def013c5026c0af8c8b16165">RelativeTriggerCollection</a> = std::vector&lt; <a class="el" href="classraw_1_1Trigger.html">raw::Trigger</a> &gt;</td></tr>
<tr class="separator:ab28d96e6def013c5026c0af8c8b16165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af438e5273b08211bdccc3536e24b6299"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#af438e5273b08211bdccc3536e24b6299">BeamGateInfoCollection</a> = std::vector&lt; <a class="el" href="classsim_1_1BeamGateInfo.html">sim::BeamGateInfo</a> &gt;</td></tr>
<tr class="separator:af438e5273b08211bdccc3536e24b6299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa33d247db9f4b8d19c55ffe164b85252"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#aa33d247db9f4b8d19c55ffe164b85252">BeamGateInfoPtr</a> = std::unique_ptr&lt; <a class="el" href="classdaq_1_1TriggerDecoder.html#af438e5273b08211bdccc3536e24b6299">BeamGateInfoCollection</a> &gt;</td></tr>
<tr class="separator:aa33d247db9f4b8d19c55ffe164b85252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6e3ba0b3f5b2b8215869527c5816ff1"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#ab6e3ba0b3f5b2b8215869527c5816ff1">ExtraInfoPtr</a> = std::unique_ptr&lt; <a class="el" href="structsbn_1_1ExtraTriggerInfo.html">sbn::ExtraTriggerInfo</a> &gt;</td></tr>
<tr class="separator:ab6e3ba0b3f5b2b8215869527c5816ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a9da765d35c86db636afa211b299df9f9"><td class="memItemLeft" align="right" valign="top">icarus::ICARUSTriggerUDPFragment&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a9da765d35c86db636afa211b299df9f9">makeTriggerFragment</a> (artdaq::Fragment const &amp;fragment) const </td></tr>
<tr class="memdesc:a9da765d35c86db636afa211b299df9f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <code>ICARUSTriggerInfo</code> from a generic fragment.  <a href="#a9da765d35c86db636afa211b299df9f9">More...</a><br/></td></tr>
<tr class="separator:a9da765d35c86db636afa211b299df9f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39fa412d22ba77f2b29c828fcf5f7a09"><td class="memItemLeft" align="right" valign="top">icarus::ICARUSTriggerInfo&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a39fa412d22ba77f2b29c828fcf5f7a09">parseTriggerString</a> (std::string_view data) const </td></tr>
<tr class="memdesc:a39fa412d22ba77f2b29c828fcf5f7a09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the trigger data packet with the "standard" parser.  <a href="#a39fa412d22ba77f2b29c828fcf5f7a09">More...</a><br/></td></tr>
<tr class="separator:a39fa412d22ba77f2b29c828fcf5f7a09"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a5d5f39bbedacef487cef646f0ffa5c07"><td class="memItemLeft" align="right" valign="top">static std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a5d5f39bbedacef487cef646f0ffa5c07">firstLine</a> (std::string const &amp;<a class="el" href="fix__cmake__genie3_8pl.html#a3691308f2a4c2f6983f2880d32e29c84">s</a>, std::string const &amp;endl=&quot;\0\n\r&quot;s)</td></tr>
<tr class="separator:a5d5f39bbedacef487cef646f0ffa5c07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34810b1f430ecab7c31279b5cab0a97c"><td class="memItemLeft" align="right" valign="top">static std::uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a34810b1f430ecab7c31279b5cab0a97c">makeTimestamp</a> (unsigned int <a class="el" href="fix__cmake__genie3_8pl.html#a3691308f2a4c2f6983f2880d32e29c84">s</a>, unsigned int ns)</td></tr>
<tr class="memdesc:a34810b1f430ecab7c31279b5cab0a97c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Combines second and nanosecond counts into a 64-bit timestamp.  <a href="#a34810b1f430ecab7c31279b5cab0a97c">More...</a><br/></td></tr>
<tr class="separator:a34810b1f430ecab7c31279b5cab0a97c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1231062bed968688de20bdf9c1cc4bf"><td class="memItemLeft" align="right" valign="top">static long long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#ac1231062bed968688de20bdf9c1cc4bf">timestampDiff</a> (std::uint64_t <a class="el" href="OnlineDecoder_8fcl.html#a99b093ee2be2d37375506bb99fb5ea75">a</a>, std::uint64_t b)</td></tr>
<tr class="memdesc:ac1231062bed968688de20bdf9c1cc4bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the difference <code>a - b</code>.  <a href="#ac1231062bed968688de20bdf9c1cc4bf">More...</a><br/></td></tr>
<tr class="separator:ac1231062bed968688de20bdf9c1cc4bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ace3ccf11bccdf9d1dc5ceb67a683b297"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdaq_1_1TriggerDecoder.html#acc37a19386275e4677c767b335586364">TriggerPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#ace3ccf11bccdf9d1dc5ceb67a683b297">fTrigger</a></td></tr>
<tr class="separator:ace3ccf11bccdf9d1dc5ceb67a683b297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6e305cae101936c5aed8f516b089ea6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdaq_1_1TriggerDecoder.html#acc37a19386275e4677c767b335586364">TriggerPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#ae6e305cae101936c5aed8f516b089ea6">fPrevTrigger</a></td></tr>
<tr class="separator:ae6e305cae101936c5aed8f516b089ea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6361ec04e5ec076da727be0bb1fc10a8"><td class="memItemLeft" align="right" valign="top">std::unique_ptr<br class="typebreak"/>
&lt; <a class="el" href="classdaq_1_1TriggerDecoder.html#ab28d96e6def013c5026c0af8c8b16165">RelativeTriggerCollection</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a6361ec04e5ec076da727be0bb1fc10a8">fRelTrigger</a></td></tr>
<tr class="separator:a6361ec04e5ec076da727be0bb1fc10a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86034880037588b67d0f4a3f94a719c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdaq_1_1TriggerDecoder.html#ab6e3ba0b3f5b2b8215869527c5816ff1">ExtraInfoPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a86034880037588b67d0f4a3f94a719c6">fTriggerExtra</a></td></tr>
<tr class="separator:a86034880037588b67d0f4a3f94a719c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e838e83df2a18e9ff7cd0388dcca21f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdaq_1_1TriggerDecoder.html#aa33d247db9f4b8d19c55ffe164b85252">BeamGateInfoPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a5e838e83df2a18e9ff7cd0388dcca21f">fBeamGateInfo</a></td></tr>
<tr class="separator:a5e838e83df2a18e9ff7cd0388dcca21f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21a00430c2dc4e28f12dfa8ea308d56c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a21a00430c2dc4e28f12dfa8ea308d56c">fDiagnosticOutput</a></td></tr>
<tr class="separator:a21a00430c2dc4e28f12dfa8ea308d56c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abde66a924d44fce506569889299eafb6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#abde66a924d44fce506569889299eafb6">fDebug</a></td></tr>
<tr class="separator:abde66a924d44fce506569889299eafb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf86fbb29717e26da6a1d4ee51f49162"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#acf86fbb29717e26da6a1d4ee51f49162">fOffset</a></td></tr>
<tr class="separator:acf86fbb29717e26da6a1d4ee51f49162"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0382129fad62e7a4c30f053586bf8405"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a0382129fad62e7a4c30f053586bf8405">fLastEvent</a> = 0</td></tr>
<tr class="separator:a0382129fad62e7a4c30f053586bf8405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a817e49833aff7c91de10d2827f20e2d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdetinfo_1_1DetectorTimings.html">detinfo::DetectorTimings</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a817e49833aff7c91de10d2827f20e2d5">fDetTimings</a></td></tr>
<tr class="memdesc:a817e49833aff7c91de10d2827f20e2d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detector clocks and timings.  <a href="#a817e49833aff7c91de10d2827f20e2d5">More...</a><br/></td></tr>
<tr class="separator:a817e49833aff7c91de10d2827f20e2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a1406cae9a04ac8f820a5f86bd8170e10"><td class="memItemLeft" align="right" valign="top">static std::string const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a1406cae9a04ac8f820a5f86bd8170e10">CurrentTriggerInstanceName</a> {}</td></tr>
<tr class="memdesc:a1406cae9a04ac8f820a5f86bd8170e10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the data product instance for the current trigger.  <a href="#a1406cae9a04ac8f820a5f86bd8170e10">More...</a><br/></td></tr>
<tr class="separator:a1406cae9a04ac8f820a5f86bd8170e10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c8d002889024d89229a19fe1fc16e8"><td class="memItemLeft" align="right" valign="top">static std::string const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a21c8d002889024d89229a19fe1fc16e8">PreviousTriggerInstanceName</a> { &quot;previous&quot; }</td></tr>
<tr class="memdesc:a21c8d002889024d89229a19fe1fc16e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the data product instance for the previous trigger.  <a href="#a21c8d002889024d89229a19fe1fc16e8">More...</a><br/></td></tr>
<tr class="separator:a21c8d002889024d89229a19fe1fc16e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ddc0276164a2371a71ae94290f991b5"><td class="memItemLeft" align="right" valign="top">static constexpr double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a6ddc0276164a2371a71ae94290f991b5">UnknownBeamTime</a> = std::numeric_limits&lt;double&gt;::max()</td></tr>
<tr class="separator:a6ddc0276164a2371a71ae94290f991b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15470bd121248951d9e4af83b019c9aa"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="classdaq_1_1TriggerDecoder.html#a2bd2244a1c5b9044d5a5f17386e06403">nanoseconds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a15470bd121248951d9e4af83b019c9aa">BNBgateDuration</a> { 1600. }</td></tr>
<tr class="separator:a15470bd121248951d9e4af83b019c9aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eb47184915a0bb586af539ab23bfeca"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="classdaq_1_1TriggerDecoder.html#a2bd2244a1c5b9044d5a5f17386e06403">nanoseconds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaq_1_1TriggerDecoder.html#a8eb47184915a0bb586af539ab23bfeca">NuMIgateDuration</a> { 9500. }</td></tr>
<tr class="separator:a8eb47184915a0bb586af539ab23bfeca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Tool decoding the trigger information from DAQ. </p>
<p>Produces:</p>
<ul>
<li><code>std::vector&lt;<a class="el" href="classraw_1_1ExternalTrigger.html">raw::ExternalTrigger</a>&gt;</code> containing the absolute trigger time stamp from the White Rabbit system, and a trigger count; it always includes a single entry (zero <em>might</em> be supported).</li>
<li><p class="startli"><code>std::vector&lt;<a class="el" href="classraw_1_1Trigger.html">raw::Trigger</a>&gt;</code> containing:</p>
<ul>
<li><code>TriggerTime()</code>: the relative time of the trigger as reported in the White Rabbit timestamp, measured in the <a class="el" href="classicarus_1_1trigger_1_1DumpTriggerGateData.html#DetectorClocksElectronicsTime">electronics time scale</a> (for ICARUS it will always be <code><a class="el" href="classdetinfo_1_1DetectorClocksData.html#a97752c751ce6873c94d29ece8fcc215f" title="Trigger electronics clock time in [us]. ">detinfo::DetectorClocksData::TriggerTime()</a></code>).</li>
<li><code>BeamGateTime()</code>: relative time of the announced arrival of the beam (currently not available) also in <a class="el" href="classicarus_1_1trigger_1_1DumpTriggerGateData.html#DetectorClocksElectronicsTime">electronics time scale</a>.</li>
<li><code>TriggerCount()</code>: the trigger count from the beginning of the run.</li>
<li><code>TriggerBits()</code>: includes the beam(s) with an open gate when the trigger happened (currently only one beam gate per trigger); definitions are in <code>sbn::beamType</code> namespace.</li>
</ul>
<p class="startli">It always includes a single entry (zero <em>might</em> be supported).</p>
</li>
<li><code>std::vector&lt;<a class="el" href="classsim_1_1BeamGateInfo.html">sim::BeamGateInfo</a>&gt;</code> containing information on the "main" beam gate associated to each trigger (a way to say that if by any chance there are more than one bits set for the trigger, this gate will pick only one of them):<ul>
<li><code>Start()</code>: relative time of the announced arrival of the beam (currently not available), in <a class="el" href="classdetinfo_1_1DetectorClocksData.html#DetectorClocksSimulationTime">simulation time scale</a>.</li>
<li><code>Width()</code>: duration of the gate, in nanoseconds; currently set to a nominal value.</li>
<li><code>BeamType()</code>: the type of the beam gate being described (BNB, NuMI).</li>
</ul>
</li>
<li><code><a class="el" href="structsbn_1_1ExtraTriggerInfo.html" title="Additional information on trigger. ">sbn::ExtraTriggerInfo</a></code>: the most complete collection of information, duplicating also some from the other data products. Some of the information is not available yet: if a count is not available, its value is set to <code>0</code> (which is an invalid value because their valid range starts with <code>1</code> since they include the current event), and if a timestamp is not available it is set to <code><a class="el" href="structsbn_1_1ExtraTriggerInfo.html#a5a6f2485167e39b58921ce2a22c8aada" title="Special timestamp value indicating the absence of timestamp. ">sbn::ExtraTriggerInfo::NoTimestamp</a></code>; these two conditions can be checked with static methods <code><a class="el" href="structsbn_1_1ExtraTriggerInfo.html#ad1f2eb58694b134eeab9baface9ac8fd" title="Returns whether the timestamp ts is valid (i.e. is not NoTimestamp). ">sbn::ExtraTriggerInfo::isValidTimestamp()</a></code> and <code><a class="el" href="structsbn_1_1ExtraTriggerInfo.html#a7db676b21173cf54584eb697a9c6d169" title="Returns whether the count is valid (i.e. is not 0). ">sbn::ExtraTriggerInfo::isValidCount()</a></code> respectively. Note that differently from the usual, this is a <em>single object</em>, not a collection; also, this data product has no instance name. The information already available includes:<ul>
<li><code>sourceType</code>: the type of beam or trigger source, a value from <code>sbn::triggerSource</code> (equivalent to <code><a class="el" href="classraw_1_1Trigger.html#a9b37b0218222430596b968c6448cdde2" title="Trigger Bits. ">raw::Trigger::TriggerBits()</a></code>, but in the form of an enumerator rather than a bit mask).</li>
<li><code>triggerTimestamp</code>: same as <code><a class="el" href="classraw_1_1ExternalTrigger.html#a910a7b1b3ca0397e77c000f2a4fa61a2">raw::ExternalTrigger::GetTrigTime()</a></code> (nanoseconds from the Epoch, Coordinated Universal Time).</li>
<li><code>beamGateTimestamp</code>: absolute time of the beam gate opening as reported by the trigger hardware, directly comparable with <code>triggerTimestamp</code> (same scale and unit).</li>
<li><code>triggerID</code>: same as <code><a class="el" href="classraw_1_1ExternalTrigger.html#a0b508c9f5442ff06c04bad30bf8852b0">raw::ExternalTrigger::GetTrigID()</a></code>. Should match the event number.</li>
<li><code>gateID</code>: the count of gates since the beginning of the run, as reported by the trigger hardware.</li>
</ul>
</li>
</ul>
<p>Besides the main data product (empty instance name) an additional <code>std::vector&lt;<a class="el" href="classraw_1_1ExternalTrigger.html">raw::ExternalTrigger</a>&gt;</code> data product with instance name <code>"previous"</code> is also produced, which relays the same kind of information but for the <em>previous</em> trigger. This information also comes from the trigger DAQ. If no previous trigger is available, this collection will be empty. </p>

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00137">137</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="af438e5273b08211bdccc3536e24b6299"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classdaq_1_1TriggerDecoder.html#af438e5273b08211bdccc3536e24b6299">daq::TriggerDecoder::BeamGateInfoCollection</a> =  std::vector&lt;<a class="el" href="classsim_1_1BeamGateInfo.html">sim::BeamGateInfo</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00153">153</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aa33d247db9f4b8d19c55ffe164b85252"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classdaq_1_1TriggerDecoder.html#aa33d247db9f4b8d19c55ffe164b85252">daq::TriggerDecoder::BeamGateInfoPtr</a> =  std::unique_ptr&lt;<a class="el" href="classdaq_1_1TriggerDecoder.html#af438e5273b08211bdccc3536e24b6299">BeamGateInfoCollection</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00154">154</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ab6e3ba0b3f5b2b8215869527c5816ff1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classdaq_1_1TriggerDecoder.html#ab6e3ba0b3f5b2b8215869527c5816ff1">daq::TriggerDecoder::ExtraInfoPtr</a> =  std::unique_ptr&lt;<a class="el" href="structsbn_1_1ExtraTriggerInfo.html">sbn::ExtraTriggerInfo</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00155">155</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a2bd2244a1c5b9044d5a5f17386e06403"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classdaq_1_1TriggerDecoder.html#a2bd2244a1c5b9044d5a5f17386e06403">daq::TriggerDecoder::nanoseconds</a> =  <a class="el" href="namespaceutil_1_1quantities.html#a601d5581a465f2bed2bf3c294178ca8c">util::quantities::nanosecond</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00139">139</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ab28d96e6def013c5026c0af8c8b16165"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classdaq_1_1TriggerDecoder.html#ab28d96e6def013c5026c0af8c8b16165">daq::TriggerDecoder::RelativeTriggerCollection</a> =  std::vector&lt;<a class="el" href="classraw_1_1Trigger.html">raw::Trigger</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00152">152</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a021096237e2cce66ba40f5d86ffeb092"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classdaq_1_1TriggerDecoder.html#a021096237e2cce66ba40f5d86ffeb092">daq::TriggerDecoder::TriggerCollection</a> =  std::vector&lt;<a class="el" href="classraw_1_1ExternalTrigger.html">raw::ExternalTrigger</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00150">150</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="acc37a19386275e4677c767b335586364"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classdaq_1_1TriggerDecoder.html#acc37a19386275e4677c767b335586364">daq::TriggerDecoder::TriggerPtr</a> =  std::unique_ptr&lt;<a class="el" href="classdaq_1_1TriggerDecoder.html#a021096237e2cce66ba40f5d86ffeb092">TriggerCollection</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00151">151</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="abdd938f81dcff3187deb093f1b1c15dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">daq::TriggerDecoder::TriggerDecoder </td>
          <td>(</td>
          <td class="paramtype">fhicl::ParameterSet const &amp;&#160;</td>
          <td class="paramname"><em>pset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00215">215</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    : <a class="code" href="classdaq_1_1TriggerDecoder.html#a817e49833aff7c91de10d2827f20e2d5">fDetTimings</a></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      { art::ServiceHandle&lt;detinfo::DetectorClocksService&gt;()-&gt;DataForJob() }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    this-&gt;<a class="code" href="classdaq_1_1TriggerDecoder.html#aae53e0b3b0926c2b2ec76c355cf8f4b8">configure</a>(pset);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  }</div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a817e49833aff7c91de10d2827f20e2d5"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a817e49833aff7c91de10d2827f20e2d5">daq::TriggerDecoder::fDetTimings</a></div><div class="ttdeci">detinfo::DetectorTimings const fDetTimings</div><div class="ttdoc">Detector clocks and timings. </div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00170">TriggerDecoder_tool.cc:170</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_aae53e0b3b0926c2b2ec76c355cf8f4b8"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#aae53e0b3b0926c2b2ec76c355cf8f4b8">daq::TriggerDecoder::configure</a></div><div class="ttdeci">virtual void configure(const fhicl::ParameterSet &amp;) override</div><div class="ttdoc">Interface for configuring the particular algorithm tool. </div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00233">TriggerDecoder_tool.cc:233</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aae53e0b3b0926c2b2ec76c355cf8f4b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void daq::TriggerDecoder::configure </td>
          <td>(</td>
          <td class="paramtype">const fhicl::ParameterSet &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interface for configuring the particular algorithm tool. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ParameterSet</td><td>The input set of parameters for configuration </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classdaq_1_1IDecoder.html#a37ba6c45d7338cbe5cd1ce33b1309ea8">daq::IDecoder</a>.</p>

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00233">233</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="classdaq_1_1TriggerDecoder.html#a21a00430c2dc4e28f12dfa8ea308d56c">fDiagnosticOutput</a> = pset.get&lt;<span class="keywordtype">bool</span>&gt;(<span class="stringliteral">&quot;DiagnosticOutput&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="classdaq_1_1TriggerDecoder.html#abde66a924d44fce506569889299eafb6">fDebug</a> = pset.get&lt;<span class="keywordtype">bool</span>&gt;(<span class="stringliteral">&quot;Debug&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="classdaq_1_1TriggerDecoder.html#acf86fbb29717e26da6a1d4ee51f49162">fOffset</a> = pset.get&lt;<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;TAIOffset&quot;</span>, 2000000000);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  }</div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a21a00430c2dc4e28f12dfa8ea308d56c"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a21a00430c2dc4e28f12dfa8ea308d56c">daq::TriggerDecoder::fDiagnosticOutput</a></div><div class="ttdeci">bool fDiagnosticOutput</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00161">TriggerDecoder_tool.cc:161</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_abde66a924d44fce506569889299eafb6"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#abde66a924d44fce506569889299eafb6">daq::TriggerDecoder::fDebug</a></div><div class="ttdeci">bool fDebug</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00162">TriggerDecoder_tool.cc:162</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_acf86fbb29717e26da6a1d4ee51f49162"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#acf86fbb29717e26da6a1d4ee51f49162">daq::TriggerDecoder::fOffset</a></div><div class="ttdeci">int fOffset</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00163">TriggerDecoder_tool.cc:163</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5d5f39bbedacef487cef646f0ffa5c07"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string_view daq::TriggerDecoder::firstLine </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>endl</em> = <code>&quot;\0\n\r&quot;s</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00492">492</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">return</span> { <a class="code" href="file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>.data(), std::min(<a class="code" href="file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>.find_first_of(endl), <a class="code" href="file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a>.size()) };</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  }</div>
<div class="ttc" id="file__to__url_8sh_html_a096ad3d3698082826189c839d7a6e46f"><div class="ttname"><a href="file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a></div><div class="ttdeci">then echo File list $list not found else cat $list while read file do echo $file sed s</div><div class="ttdef"><b>Definition:</b> <a href="file__to__url_8sh_source.html#l00060">file_to_url.sh:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a55f3d90b4ea9874e9c7e642aa1d59c24"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void daq::TriggerDecoder::initializeDataProducts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize any data products the tool will output. </p>

<p>Implements <a class="el" href="classdaq_1_1IDecoder.html#a438a4121ed55ae7b5ac3fd49f83b1192">daq::IDecoder</a>.</p>

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00241">241</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">//use until different object chosen </span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">//fTrigger = new raw::Trigger();</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="classdaq_1_1TriggerDecoder.html#ace3ccf11bccdf9d1dc5ceb67a683b297">fTrigger</a> = std::make_unique&lt;TriggerCollection&gt;();</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="classdaq_1_1TriggerDecoder.html#ae6e305cae101936c5aed8f516b089ea6">fPrevTrigger</a> = std::make_unique&lt;TriggerCollection&gt;();</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="classdaq_1_1TriggerDecoder.html#a6361ec04e5ec076da727be0bb1fc10a8">fRelTrigger</a> = std::make_unique&lt;RelativeTriggerCollection&gt;();</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="classdaq_1_1TriggerDecoder.html#a5e838e83df2a18e9ff7cd0388dcca21f">fBeamGateInfo</a> = <a class="code" href="classdaq_1_1TriggerDecoder.html#aa33d247db9f4b8d19c55ffe164b85252">BeamGateInfoPtr</a>(<span class="keyword">new</span> <a class="code" href="classdaq_1_1TriggerDecoder.html#af438e5273b08211bdccc3536e24b6299">BeamGateInfoCollection</a>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="classdaq_1_1TriggerDecoder.html#a86034880037588b67d0f4a3f94a719c6">fTriggerExtra</a> = std::make_unique&lt;sbn::ExtraTriggerInfo&gt;();</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a6361ec04e5ec076da727be0bb1fc10a8"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a6361ec04e5ec076da727be0bb1fc10a8">daq::TriggerDecoder::fRelTrigger</a></div><div class="ttdeci">std::unique_ptr&lt; RelativeTriggerCollection &gt; fRelTrigger</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00158">TriggerDecoder_tool.cc:158</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a5e838e83df2a18e9ff7cd0388dcca21f"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a5e838e83df2a18e9ff7cd0388dcca21f">daq::TriggerDecoder::fBeamGateInfo</a></div><div class="ttdeci">BeamGateInfoPtr fBeamGateInfo</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00160">TriggerDecoder_tool.cc:160</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_ae6e305cae101936c5aed8f516b089ea6"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#ae6e305cae101936c5aed8f516b089ea6">daq::TriggerDecoder::fPrevTrigger</a></div><div class="ttdeci">TriggerPtr fPrevTrigger</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00157">TriggerDecoder_tool.cc:157</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_af438e5273b08211bdccc3536e24b6299"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#af438e5273b08211bdccc3536e24b6299">daq::TriggerDecoder::BeamGateInfoCollection</a></div><div class="ttdeci">std::vector&lt; sim::BeamGateInfo &gt; BeamGateInfoCollection</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00153">TriggerDecoder_tool.cc:153</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_aa33d247db9f4b8d19c55ffe164b85252"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#aa33d247db9f4b8d19c55ffe164b85252">daq::TriggerDecoder::BeamGateInfoPtr</a></div><div class="ttdeci">std::unique_ptr&lt; BeamGateInfoCollection &gt; BeamGateInfoPtr</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00154">TriggerDecoder_tool.cc:154</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a86034880037588b67d0f4a3f94a719c6"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a86034880037588b67d0f4a3f94a719c6">daq::TriggerDecoder::fTriggerExtra</a></div><div class="ttdeci">ExtraInfoPtr fTriggerExtra</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00159">TriggerDecoder_tool.cc:159</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_ace3ccf11bccdf9d1dc5ceb67a683b297"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#ace3ccf11bccdf9d1dc5ceb67a683b297">daq::TriggerDecoder::fTrigger</a></div><div class="ttdeci">TriggerPtr fTrigger</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00156">TriggerDecoder_tool.cc:156</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a34810b1f430ecab7c31279b5cab0a97c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::uint64_t daq::TriggerDecoder::makeTimestamp </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>ns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Combines second and nanosecond counts into a 64-bit timestamp. </p>

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00202">202</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      { <span class="keywordflow">return</span> <a class="code" href="file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a> * 1000000000ULL + ns; }</div>
<div class="ttc" id="file__to__url_8sh_html_a096ad3d3698082826189c839d7a6e46f"><div class="ttname"><a href="file__to__url_8sh.html#a096ad3d3698082826189c839d7a6e46f">s</a></div><div class="ttdeci">then echo File list $list not found else cat $list while read file do echo $file sed s</div><div class="ttdef"><b>Definition:</b> <a href="file__to__url_8sh_source.html#l00060">file_to_url.sh:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9da765d35c86db636afa211b299df9f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">icarus::ICARUSTriggerUDPFragment daq::TriggerDecoder::makeTriggerFragment </td>
          <td>(</td>
          <td class="paramtype">artdaq::Fragment const &amp;&#160;</td>
          <td class="paramname"><em>fragment</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a <code>ICARUSTriggerInfo</code> from a generic fragment. </p>

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00255">255</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="keywordflow">return</span> icarus::ICARUSTriggerUDPFragment { fragment };</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">catch</span>(std::exception <span class="keyword">const</span>&amp; <a class="code" href="updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a>) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      mf::LogSystem(<span class="stringliteral">&quot;TriggerDecoder&quot;</span>)</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;Error while creating trigger fragment from:\n&quot;</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;          &lt;&lt; <a class="code" href="namespacesbndaq.html#a8c2910e129a0c67d73d4c1f4607552bf">sbndaq::dumpFragment</a>(fragment)</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;\nError message: &quot;</span> &lt;&lt; e.what();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="keywordflow">throw</span>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">catch</span>(...) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      mf::LogSystem(<span class="stringliteral">&quot;TriggerDecoder&quot;</span>)</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;Unidentified exception while creating trigger fragment from:&quot;</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;          &lt;&lt; <a class="code" href="namespacesbndaq.html#a8c2910e129a0c67d73d4c1f4607552bf">sbndaq::dumpFragment</a>(fragment);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keywordflow">throw</span>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  } <span class="comment">// TriggerDecoder::parseTriggerString()</span></div>
<div class="ttc" id="namespacesbndaq_html_a8c2910e129a0c67d73d4c1f4607552bf"><div class="ttname"><a href="namespacesbndaq.html#a8c2910e129a0c67d73d4c1f4607552bf">sbndaq::dumpFragment</a></div><div class="ttdeci">details::DumpFragWrap dumpFragment(artdaq::Fragment const &amp;frag)</div><div class="ttdoc">Dump a artDAQ fragment into an output stream. </div><div class="ttdef"><b>Definition:</b> <a href="FragmentDumper_8cxx_source.html#l00034">FragmentDumper.cxx:34</a></div></div>
<div class="ttc" id="updateVersionList_8sh_html_a067a8c1534d6da9b2c501a6cf4ef89bd"><div class="ttname"><a href="updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a></div><div class="ttdeci">do i e</div><div class="ttdef"><b>Definition:</b> <a href="updateVersionList_8sh_source.html#l00068">updateVersionList.sh:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8e783789900cd917ffd95ca27bbe935e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void daq::TriggerDecoder::outputDataProducts </td>
          <td>(</td>
          <td class="paramtype">art::Event &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output the data products to the event store. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>The event store objects </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classdaq_1_1IDecoder.html#a7a15fad5741790f9ce170050dd0e541a">daq::IDecoder</a>.</p>

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00480">480</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="comment">//Place trigger data object into raw data store </span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keyword">event</span>.put(std::move(<a class="code" href="classdaq_1_1TriggerDecoder.html#ace3ccf11bccdf9d1dc5ceb67a683b297">fTrigger</a>), <a class="code" href="classdaq_1_1TriggerDecoder.html#a1406cae9a04ac8f820a5f86bd8170e10">CurrentTriggerInstanceName</a>);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keyword">event</span>.put(std::move(<a class="code" href="classdaq_1_1TriggerDecoder.html#a6361ec04e5ec076da727be0bb1fc10a8">fRelTrigger</a>), <a class="code" href="classdaq_1_1TriggerDecoder.html#a1406cae9a04ac8f820a5f86bd8170e10">CurrentTriggerInstanceName</a>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keyword">event</span>.put(std::move(<a class="code" href="classdaq_1_1TriggerDecoder.html#ae6e305cae101936c5aed8f516b089ea6">fPrevTrigger</a>), <a class="code" href="classdaq_1_1TriggerDecoder.html#a21c8d002889024d89229a19fe1fc16e8">PreviousTriggerInstanceName</a>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keyword">event</span>.put(std::move(<a class="code" href="classdaq_1_1TriggerDecoder.html#a5e838e83df2a18e9ff7cd0388dcca21f">fBeamGateInfo</a>), <a class="code" href="classdaq_1_1TriggerDecoder.html#a1406cae9a04ac8f820a5f86bd8170e10">CurrentTriggerInstanceName</a>);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keyword">event</span>.put(std::move(<a class="code" href="classdaq_1_1TriggerDecoder.html#a86034880037588b67d0f4a3f94a719c6">fTriggerExtra</a>));</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  }</div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a6361ec04e5ec076da727be0bb1fc10a8"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a6361ec04e5ec076da727be0bb1fc10a8">daq::TriggerDecoder::fRelTrigger</a></div><div class="ttdeci">std::unique_ptr&lt; RelativeTriggerCollection &gt; fRelTrigger</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00158">TriggerDecoder_tool.cc:158</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a1406cae9a04ac8f820a5f86bd8170e10"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a1406cae9a04ac8f820a5f86bd8170e10">daq::TriggerDecoder::CurrentTriggerInstanceName</a></div><div class="ttdeci">static std::string const CurrentTriggerInstanceName</div><div class="ttdoc">Name of the data product instance for the current trigger. </div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00180">TriggerDecoder_tool.cc:180</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a5e838e83df2a18e9ff7cd0388dcca21f"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a5e838e83df2a18e9ff7cd0388dcca21f">daq::TriggerDecoder::fBeamGateInfo</a></div><div class="ttdeci">BeamGateInfoPtr fBeamGateInfo</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00160">TriggerDecoder_tool.cc:160</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_ae6e305cae101936c5aed8f516b089ea6"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#ae6e305cae101936c5aed8f516b089ea6">daq::TriggerDecoder::fPrevTrigger</a></div><div class="ttdeci">TriggerPtr fPrevTrigger</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00157">TriggerDecoder_tool.cc:157</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a21c8d002889024d89229a19fe1fc16e8"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a21c8d002889024d89229a19fe1fc16e8">daq::TriggerDecoder::PreviousTriggerInstanceName</a></div><div class="ttdeci">static std::string const PreviousTriggerInstanceName</div><div class="ttdoc">Name of the data product instance for the previous trigger. </div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00183">TriggerDecoder_tool.cc:183</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a86034880037588b67d0f4a3f94a719c6"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a86034880037588b67d0f4a3f94a719c6">daq::TriggerDecoder::fTriggerExtra</a></div><div class="ttdeci">ExtraInfoPtr fTriggerExtra</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00159">TriggerDecoder_tool.cc:159</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_ace3ccf11bccdf9d1dc5ceb67a683b297"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#ace3ccf11bccdf9d1dc5ceb67a683b297">daq::TriggerDecoder::fTrigger</a></div><div class="ttdeci">TriggerPtr fTrigger</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00156">TriggerDecoder_tool.cc:156</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a39fa412d22ba77f2b29c828fcf5f7a09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">icarus::ICARUSTriggerInfo daq::TriggerDecoder::parseTriggerString </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses the trigger data packet with the "standard" parser. </p>

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00277">277</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">return</span> icarus::parse_ICARUSTriggerString(data.data());</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">catch</span>(std::exception <span class="keyword">const</span>&amp; <a class="code" href="updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a>) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      mf::LogSystem(<span class="stringliteral">&quot;TriggerDecoder&quot;</span>)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;Error while running standard parser on &quot;</span> &lt;&lt; data.length()</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;-char long trigger string:\n==&gt;|&quot;</span> &lt;&lt; data</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;|&lt;==\nError message: &quot;</span> &lt;&lt; e.what();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">throw</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">catch</span>(...) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      mf::LogSystem(<span class="stringliteral">&quot;TriggerDecoder&quot;</span>)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;Unidentified exception while running standard parser on &quot;</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        &lt;&lt; data.length() &lt;&lt; <span class="stringliteral">&quot;-char long trigger string:\n==&gt;|&quot;</span> &lt;&lt; data &lt;&lt; <span class="stringliteral">&quot;|.&quot;</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <span class="keywordflow">throw</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  } <span class="comment">// TriggerDecoder::parseTriggerString()</span></div>
<div class="ttc" id="updateVersionList_8sh_html_a067a8c1534d6da9b2c501a6cf4ef89bd"><div class="ttname"><a href="updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a></div><div class="ttdeci">do i e</div><div class="ttdef"><b>Definition:</b> <a href="updateVersionList_8sh_source.html#l00068">updateVersionList.sh:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae1afb15f54713611f5b09f74453717d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void daq::TriggerDecoder::process_fragment </td>
          <td>(</td>
          <td class="paramtype">const artdaq::Fragment &amp;&#160;</td>
          <td class="paramname"><em>fragment</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a set of recob hits, run DBscan to form 3D clusters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fragment</td><td>The artdaq fragment to process </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classdaq_1_1IDecoder.html#a282483267bcb3ab6f0cb0719935b8076">daq::IDecoder</a>.</p>

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00299">299</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    uint64_t artdaq_ts = fragment.timestamp();</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    icarus::ICARUSTriggerUDPFragment frag { <a class="code" href="classdaq_1_1TriggerDecoder.html#a9da765d35c86db636afa211b299df9f9">makeTriggerFragment</a>(fragment) };</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    std::string data = frag.GetDataString();</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordtype">char</span> *buffer = <span class="keyword">const_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(data.c_str());</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="comment">// --- BEGIN -- TEMPORARY --------------------------------------------------</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="comment">// restore OLD CODE when SBNSoftware/sbndaq-artdaq-core pull request #31 is in:</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">// https://github.com/SBNSoftware/sbndaq-artdaq-core/pull/31</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    icarus::ICARUSTriggerInfo datastream_info = <a class="code" href="classdaq_1_1TriggerDecoder.html#a39fa412d22ba77f2b29c828fcf5f7a09">parseTriggerString</a>(buffer);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    uint64_t wr_ts = <a class="code" href="namespacedaq.html#aca8e812a0256bf10d75b4c08c6ab0dfd">getNanoseconds_since_UTC_epoch_fix</a>(datastream_info) + <a class="code" href="classdaq_1_1TriggerDecoder.html#acf86fbb29717e26da6a1d4ee51f49162">fOffset</a>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">// OLD CODE:</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">//     uint64_t wr_ts = datastream_info.getNanoseconds_since_UTC_epoch() + fOffset;</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">// --- END ---- TEMPORARY --------------------------------------------------</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordtype">int</span> gate_type = datastream_info.gate_type;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordtype">long</span> delta_gates_bnb [[maybe_unused]] = frag.getDeltaGatesBNB();</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordtype">long</span> delta_gates_numi [[maybe_unused]] = frag.getDeltaGatesOther(); <span class="comment">//this is actually NuMI due to abrupt changes in trigger board logic</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordtype">long</span> delta_gates_other [[maybe_unused]] = frag.getDeltaGatesNuMI();</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    uint64_t lastTrigger = 0;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="comment">// --- BEGIN -- TEMPORARY --------------------------------------------------</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="comment">// remove this part when the beam gate timestamp is available via fragment</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">// or via the parser; the beam gate (`beamgate_ts`) is supposed to undergo</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// the same correction as the trigger time (`wr_ts`)</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> parsedData = <a class="code" href="classicarus_1_1details_1_1KeyedCSVparser.html">icarus::details::KeyedCSVparser</a>{}(<a class="code" href="classdaq_1_1TriggerDecoder.html#a5d5f39bbedacef487cef646f0ffa5c07">firstLine</a>(data));</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> beamgate_count { std::numeric_limits&lt;unsigned int&gt;::max() };</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    std::uint64_t beamgate_ts { wr_ts }; <span class="comment">// we cheat</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">/* [20210717, petrillo@slac.stanford.edu] `(pBeamGateInfo-&gt;nValues() == 3)`:</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">     * this is an attempt to &quot;support&quot; a few Run0 runs (6017 to roughly 6043)</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">     * which have the beam gate information truncated; this workaround should</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">     * be removed when there is enough ICARUS data that these runs become</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">     * uninteresting.</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> pBeamGateInfo = parsedData.findItem(<span class="stringliteral">&quot;Beam_TS&quot;</span>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      pBeamGateInfo &amp;&amp; (pBeamGateInfo-&gt;nValues() == 3)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    ) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <span class="comment">// if gate information is found, it must be complete</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      beamgate_count = pBeamGateInfo-&gt;getNumber&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(0U);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="comment">// use the same linear correction for the beam gate timestamp as it was</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="comment">// used for the trigger one; here we assume that wr_ts</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="comment">// (current value of beamgate_ts) is corrected, while</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="comment">// `getWRSeconds()` and `getWRNanoSeconds()` are as corrected as `Beam_TS`</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="comment">// (i.e. both not corrected)</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      beamgate_ts += <a class="code" href="classdaq_1_1TriggerDecoder.html#a34810b1f430ecab7c31279b5cab0a97c">makeTimestamp</a>(</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        pBeamGateInfo-&gt;getNumber&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(1U),</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        pBeamGateInfo-&gt;getNumber&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(2U)</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        )</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        - <a class="code" href="classdaq_1_1TriggerDecoder.html#a34810b1f430ecab7c31279b5cab0a97c">makeTimestamp</a>(frag.getWRSeconds(), frag.getWRNanoSeconds())</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        ;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    } <span class="comment">// if has gate information</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="comment">// --- END ---- TEMPORARY --------------------------------------------------</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classdaq_1_1TriggerDecoder.html#a21a00430c2dc4e28f12dfa8ea308d56c">fDiagnosticOutput</a> || <a class="code" href="classdaq_1_1TriggerDecoder.html#abde66a924d44fce506569889299eafb6">fDebug</a>)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <a class="code" href="messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Full Timestamp = &quot;</span> &lt;&lt; wr_ts &lt;&lt; std::endl;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="keyword">auto</span> <span class="keyword">const</span> cross_check = <span class="keyword">static_cast&lt;</span><span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(wr_ts)</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        - static_cast&lt;signed long long int&gt;(artdaq_ts);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a>(cross_check) &gt; 1000)</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <a class="code" href="messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Loaded artdaq TS and fragment data TS are &gt; 1 ms different! They are &quot;</span> &lt;&lt; cross_check &lt;&lt; <span class="stringliteral">&quot; nanoseconds different!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <a class="code" href="messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Beam gate &quot;</span> &lt;&lt; beamgate_count &lt;&lt; <span class="stringliteral">&quot; at &quot;</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        &lt;&lt; (beamgate_ts/1<span class="stringliteral">&#39;000&#39;</span>000<span class="stringliteral">&#39;000) &lt;&lt; &quot;.&quot; &lt;&lt; (beamgate_ts%1&#39;</span>000<span class="stringliteral">&#39;000&#39;</span>000)</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; s (&quot;</span> &lt;&lt; <a class="code" href="classdaq_1_1TriggerDecoder.html#ac1231062bed968688de20bdf9c1cc4bf">timestampDiff</a>(beamgate_ts, wr_ts)</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; ns relative to trigger)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <span class="comment">// note that this parsing is independent from the one used above</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      std::string_view <span class="keyword">const</span> dataLine = <a class="code" href="classdaq_1_1TriggerDecoder.html#a5d5f39bbedacef487cef646f0ffa5c07">firstLine</a>(data);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keyword">auto</span> <span class="keyword">const</span> parsedData = <a class="code" href="classicarus_1_1details_1_1KeyedCSVparser.html">icarus::details::KeyedCSVparser</a>{}(dataLine);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <a class="code" href="messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Parsed data (from &quot;</span> &lt;&lt; dataLine.size() &lt;&lt; <span class="stringliteral">&quot; characters): &quot;</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;          &lt;&lt; parsedData &lt;&lt; std::endl;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="keywordflow">catch</span>(<a class="code" href="structicarus_1_1details_1_1KeyValuesData_1_1Error.html">icarus::details::KeyedCSVparser::Error</a> <span class="keyword">const</span>&amp; <a class="code" href="updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a>) {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        mf::LogError(<span class="stringliteral">&quot;TriggerDecoder&quot;</span>)</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;Error parsing &quot;</span> &lt;&lt; dataLine.length()</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;-char long trigger string:\n==&gt;|&quot;</span> &lt;&lt; dataLine</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;|&lt;==\nError message: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">throw</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classdaq_1_1TriggerDecoder.html#abde66a924d44fce506569889299eafb6">fDebug</a>) { <span class="comment">// this grows tiresome quickly when processing many events</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <a class="code" href="messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Trigger packet content:\n&quot;</span> &lt;&lt; dataLine</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;\nFull trigger fragment dump:&quot;</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;          &lt;&lt; <a class="code" href="namespacesbndaq.html#a8c2910e129a0c67d73d4c1f4607552bf">sbndaq::dumpFragment</a>(fragment) &lt;&lt; std::endl;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment">// extra trigger info</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="namespacesbn_1_1bits.html#a75de4e8e9acdc3cc9566cf28c92420e7">sbn::triggerSource</a> beamGateBit;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">switch</span> (gate_type) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes.html#aa6fac893decc02017f8b1933caafc397">TriggerGateTypes::BNB</a>:         beamGateBit = sbn::triggerSource::BNB;         <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes.html#aa01d32dd8b48ddbe8bbd20dce21740c2">TriggerGateTypes::NuMI</a>:        beamGateBit = sbn::triggerSource::NuMI;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes.html#aba3c750d75c1df7bd1c457368d880009">TriggerGateTypes::OffbeamBNB</a>:  beamGateBit = sbn::triggerSource::OffbeamBNB;  <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes.html#a72d77e28fd31bb86948c2ff8c3305d98">TriggerGateTypes::OffbeamNuMI</a>: beamGateBit = sbn::triggerSource::OffbeamNuMI; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="keywordflow">default</span>:                            beamGateBit = sbn::triggerSource::Unknown;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    } <span class="comment">// switch gate_type</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="classdaq_1_1TriggerDecoder.html#a86034880037588b67d0f4a3f94a719c6">fTriggerExtra</a>-&gt;sourceType = beamGateBit;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="classdaq_1_1TriggerDecoder.html#a86034880037588b67d0f4a3f94a719c6">fTriggerExtra</a>-&gt;triggerTimestamp = wr_ts;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="classdaq_1_1TriggerDecoder.html#a86034880037588b67d0f4a3f94a719c6">fTriggerExtra</a>-&gt;beamGateTimestamp = beamgate_ts;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <a class="code" href="classdaq_1_1TriggerDecoder.html#a86034880037588b67d0f4a3f94a719c6">fTriggerExtra</a>-&gt;triggerID = datastream_info.wr_event_no;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <a class="code" href="classdaq_1_1TriggerDecoder.html#a86034880037588b67d0f4a3f94a719c6">fTriggerExtra</a>-&gt;gateID = datastream_info.gate_id;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="comment">/* TODO:</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">    fTriggerExtra-&gt;triggerCount</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">    fTriggerExtra-&gt;gateCount</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">    fTriggerExtra-&gt;gateCountFromPreviousTrigger</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">    fTriggerExtra-&gt;anyTriggerCountFromPreviousTrigger</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">    fTriggerExtra-&gt;anyGateCountFromPreviousTrigger</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">    fTriggerExtra-&gt;anyPreviousTriggerSourceType</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">    fTriggerExtra-&gt;anyGateCountFromAnyPreviousTrigger</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">    fTriggerExtra-&gt;previousTriggerTimestamp</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">    fTriggerExtra-&gt;anyPreviousTriggerTimestamp</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="comment">// absolute time trigger (raw::ExternalTrigger)</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="classdaq_1_1TriggerDecoder.html#ace3ccf11bccdf9d1dc5ceb67a683b297">fTrigger</a>-&gt;emplace_back</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      (<a class="code" href="classdaq_1_1TriggerDecoder.html#a86034880037588b67d0f4a3f94a719c6">fTriggerExtra</a>-&gt;triggerID, <a class="code" href="classdaq_1_1TriggerDecoder.html#a86034880037588b67d0f4a3f94a719c6">fTriggerExtra</a>-&gt;triggerTimestamp);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">// previous absolute time trigger (raw::ExternalTrigger)</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classdaq_1_1TriggerDecoder.html#a86034880037588b67d0f4a3f94a719c6">fTriggerExtra</a>-&gt;triggerID == 1)</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <a class="code" href="classdaq_1_1TriggerDecoder.html#a0382129fad62e7a4c30f053586bf8405">fLastEvent</a> = 0;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <a class="code" href="classdaq_1_1TriggerDecoder.html#a0382129fad62e7a4c30f053586bf8405">fLastEvent</a> = <a class="code" href="classdaq_1_1TriggerDecoder.html#a86034880037588b67d0f4a3f94a719c6">fTriggerExtra</a>-&gt;triggerID - 1;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      lastTrigger = frag.getLastTimestampBNB();</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <a class="code" href="classdaq_1_1TriggerDecoder.html#ae6e305cae101936c5aed8f516b089ea6">fPrevTrigger</a>-&gt;emplace_back(<a class="code" href="classdaq_1_1TriggerDecoder.html#a0382129fad62e7a4c30f053586bf8405">fLastEvent</a>, lastTrigger);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">// beam gate</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">// beam gate - trigger: hope it&#39;s negative...</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="classdaq_1_1TriggerDecoder.html#a2bd2244a1c5b9044d5a5f17386e06403">nanoseconds</a> <span class="keyword">const</span> gateStartFromTrigger{</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="classdaq_1_1TriggerDecoder.html#ac1231062bed968688de20bdf9c1cc4bf">timestampDiff</a></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        (<a class="code" href="classdaq_1_1TriggerDecoder.html#a86034880037588b67d0f4a3f94a719c6">fTriggerExtra</a>-&gt;beamGateTimestamp, <a class="code" href="classdaq_1_1TriggerDecoder.html#a86034880037588b67d0f4a3f94a719c6">fTriggerExtra</a>-&gt;triggerTimestamp)</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        )</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      }; <span class="comment">// narrowing!!</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> elecGateStart = <a class="code" href="classdaq_1_1TriggerDecoder.html#a817e49833aff7c91de10d2827f20e2d5">fDetTimings</a>.<a class="code" href="classdetinfo_1_1DetectorTimings.html#a9f53be8d5c5437cb6a268b3509682183">TriggerTime</a>() + gateStartFromTrigger;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> simGateStart = <a class="code" href="classdaq_1_1TriggerDecoder.html#a817e49833aff7c91de10d2827f20e2d5">fDetTimings</a>.<a class="code" href="classdetinfo_1_1DetectorTimings.html#af7a0488ce02ed69e706dcbd92f0ae1a2">toSimulationTime</a>(elecGateStart);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">switch</span> (gate_type) {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes.html#aa6fac893decc02017f8b1933caafc397">TriggerGateTypes::BNB</a>:</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <a class="code" href="classdaq_1_1TriggerDecoder.html#a5e838e83df2a18e9ff7cd0388dcca21f">fBeamGateInfo</a>-&gt;emplace_back</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;          (simGateStart.value(), <a class="code" href="classdaq_1_1TriggerDecoder.html#a15470bd121248951d9e4af83b019c9aa">BNBgateDuration</a>.<a class="code" href="structutil_1_1quantities_1_1concepts_1_1Quantity.html#a8e5644f85ca8d28abcb85c3a4a47cf47">value</a>(), <a class="code" href="namespacesim.html#a5913768852589e05224bb2a7336af414aed4f04828e0a0dc7d49762177ec8e11f">sim::kBNB</a>);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes.html#aa01d32dd8b48ddbe8bbd20dce21740c2">TriggerGateTypes::NuMI</a>:</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <a class="code" href="classdaq_1_1TriggerDecoder.html#a5e838e83df2a18e9ff7cd0388dcca21f">fBeamGateInfo</a>-&gt;emplace_back</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;          (simGateStart.value(), <a class="code" href="classdaq_1_1TriggerDecoder.html#a8eb47184915a0bb586af539ab23bfeca">NuMIgateDuration</a>.<a class="code" href="structutil_1_1quantities_1_1concepts_1_1Quantity.html#a8e5644f85ca8d28abcb85c3a4a47cf47">value</a>(), <a class="code" href="namespacesim.html#a5913768852589e05224bb2a7336af414ae23705b0de67d8573e9eb3b9acee396c">sim::kNuMI</a>);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes.html#aba3c750d75c1df7bd1c457368d880009">TriggerGateTypes::OffbeamBNB</a>:</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <a class="code" href="classdaq_1_1TriggerDecoder.html#a5e838e83df2a18e9ff7cd0388dcca21f">fBeamGateInfo</a>-&gt;emplace_back</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;          (simGateStart.value(), <a class="code" href="classdaq_1_1TriggerDecoder.html#a15470bd121248951d9e4af83b019c9aa">BNBgateDuration</a>.<a class="code" href="structutil_1_1quantities_1_1concepts_1_1Quantity.html#a8e5644f85ca8d28abcb85c3a4a47cf47">value</a>(), <a class="code" href="namespacesim.html#a5913768852589e05224bb2a7336af414aed4f04828e0a0dc7d49762177ec8e11f">sim::kBNB</a>);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes.html#a72d77e28fd31bb86948c2ff8c3305d98">TriggerGateTypes::OffbeamNuMI</a>:</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <a class="code" href="classdaq_1_1TriggerDecoder.html#a5e838e83df2a18e9ff7cd0388dcca21f">fBeamGateInfo</a>-&gt;emplace_back</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;          (simGateStart.value(), <a class="code" href="classdaq_1_1TriggerDecoder.html#a8eb47184915a0bb586af539ab23bfeca">NuMIgateDuration</a>.<a class="code" href="structutil_1_1quantities_1_1concepts_1_1Quantity.html#a8e5644f85ca8d28abcb85c3a4a47cf47">value</a>(), <a class="code" href="namespacesim.html#a5913768852589e05224bb2a7336af414ae23705b0de67d8573e9eb3b9acee396c">sim::kNuMI</a>);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        mf::LogWarning(<span class="stringliteral">&quot;TriggerDecoder&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;Unsupported gate type #&quot;</span> &lt;&lt; gate_type;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    } <span class="comment">// switch gate_type</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="comment">// relative time trigger (raw::Trigger)</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="classdaq_1_1TriggerDecoder.html#a6361ec04e5ec076da727be0bb1fc10a8">fRelTrigger</a>-&gt;emplace_back(</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      static_cast&lt;unsigned int&gt;(datastream_info.wr_event_no), <span class="comment">// counter</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <a class="code" href="classdaq_1_1TriggerDecoder.html#a817e49833aff7c91de10d2827f20e2d5">fDetTimings</a>.<a class="code" href="classdetinfo_1_1DetectorTimings.html#a9f53be8d5c5437cb6a268b3509682183">TriggerTime</a>().value(),                      <span class="comment">// trigger_time</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      elecGateStart.value(),                                  <span class="comment">// beamgate_time</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <a class="code" href="namespacesbn_1_1bits.html#a3b8fd0787ccd1963c6aa5c8bf17f4290">mask</a>(beamGateBit)                                       <span class="comment">// bits</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      );</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="comment">//Once we have full trigger data object, set up and place information into there</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  }</div>
<div class="ttc" id="classicarus_1_1details_1_1KeyedCSVparser_html"><div class="ttname"><a href="classicarus_1_1details_1_1KeyedCSVparser.html">icarus::details::KeyedCSVparser</a></div><div class="ttdoc">Parser to fill a KeyValuesData structure out of a character buffer. </div><div class="ttdef"><b>Definition:</b> <a href="KeyedCSVparser_8h_source.html#l00107">KeyedCSVparser.h:107</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a6361ec04e5ec076da727be0bb1fc10a8"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a6361ec04e5ec076da727be0bb1fc10a8">daq::TriggerDecoder::fRelTrigger</a></div><div class="ttdeci">std::unique_ptr&lt; RelativeTriggerCollection &gt; fRelTrigger</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00158">TriggerDecoder_tool.cc:158</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a817e49833aff7c91de10d2827f20e2d5"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a817e49833aff7c91de10d2827f20e2d5">daq::TriggerDecoder::fDetTimings</a></div><div class="ttdeci">detinfo::DetectorTimings const fDetTimings</div><div class="ttdoc">Detector clocks and timings. </div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00170">TriggerDecoder_tool.cc:170</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a21a00430c2dc4e28f12dfa8ea308d56c"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a21a00430c2dc4e28f12dfa8ea308d56c">daq::TriggerDecoder::fDiagnosticOutput</a></div><div class="ttdeci">bool fDiagnosticOutput</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00161">TriggerDecoder_tool.cc:161</a></div></div>
<div class="ttc" id="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes_html_aba3c750d75c1df7bd1c457368d880009"><div class="ttname"><a href="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes.html#aba3c750d75c1df7bd1c457368d880009">daq::TriggerDecoder::TriggerGateTypes::OffbeamBNB</a></div><div class="ttdeci">static constexpr int OffbeamBNB</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00191">TriggerDecoder_tool.cc:191</a></div></div>
<div class="ttc" id="structutil_1_1quantities_1_1concepts_1_1Quantity_html_a8e5644f85ca8d28abcb85c3a4a47cf47"><div class="ttname"><a href="structutil_1_1quantities_1_1concepts_1_1Quantity.html#a8e5644f85ca8d28abcb85c3a4a47cf47">util::quantities::concepts::Quantity::value</a></div><div class="ttdeci">constexpr value_t value() const </div><div class="ttdoc">Returns the value of the quantity. </div><div class="ttdef"><b>Definition:</b> <a href="quantities_8h_source.html#l00609">quantities.h:609</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a5e838e83df2a18e9ff7cd0388dcca21f"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a5e838e83df2a18e9ff7cd0388dcca21f">daq::TriggerDecoder::fBeamGateInfo</a></div><div class="ttdeci">BeamGateInfoPtr fBeamGateInfo</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00160">TriggerDecoder_tool.cc:160</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_ae6e305cae101936c5aed8f516b089ea6"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#ae6e305cae101936c5aed8f516b089ea6">daq::TriggerDecoder::fPrevTrigger</a></div><div class="ttdeci">TriggerPtr fPrevTrigger</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00157">TriggerDecoder_tool.cc:157</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a15470bd121248951d9e4af83b019c9aa"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a15470bd121248951d9e4af83b019c9aa">daq::TriggerDecoder::BNBgateDuration</a></div><div class="ttdeci">static constexpr nanoseconds BNBgateDuration</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00195">TriggerDecoder_tool.cc:195</a></div></div>
<div class="ttc" id="namespacesim_html_a5913768852589e05224bb2a7336af414ae23705b0de67d8573e9eb3b9acee396c"><div class="ttname"><a href="namespacesim.html#a5913768852589e05224bb2a7336af414ae23705b0de67d8573e9eb3b9acee396c">sim::kNuMI</a></div><div class="ttdoc">NuMI. </div><div class="ttdef"><b>Definition:</b> <a href="BeamTypes_8h_source.html#l00012">BeamTypes.h:12</a></div></div>
<div class="ttc" id="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes_html_aa01d32dd8b48ddbe8bbd20dce21740c2"><div class="ttname"><a href="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes.html#aa01d32dd8b48ddbe8bbd20dce21740c2">daq::TriggerDecoder::TriggerGateTypes::NuMI</a></div><div class="ttdeci">static constexpr int NuMI</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00190">TriggerDecoder_tool.cc:190</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a2bd2244a1c5b9044d5a5f17386e06403"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a2bd2244a1c5b9044d5a5f17386e06403">daq::TriggerDecoder::nanoseconds</a></div><div class="ttdeci">util::quantities::nanosecond nanoseconds</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00139">TriggerDecoder_tool.cc:139</a></div></div>
<div class="ttc" id="sparse__vector__test_8cc_html_a39f16bf854ba527dee7eba5bbbd93f3f"><div class="ttname"><a href="sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a></div><div class="ttdeci">T abs(T value)</div><div class="ttdef"><b>Definition:</b> <a href="sparse__vector__test_8cc_source.html#l00030">sparse_vector_test.cc:30</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a86034880037588b67d0f4a3f94a719c6"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a86034880037588b67d0f4a3f94a719c6">daq::TriggerDecoder::fTriggerExtra</a></div><div class="ttdeci">ExtraInfoPtr fTriggerExtra</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00159">TriggerDecoder_tool.cc:159</a></div></div>
<div class="ttc" id="namespacesbn_1_1bits_html_a3b8fd0787ccd1963c6aa5c8bf17f4290"><div class="ttname"><a href="namespacesbn_1_1bits.html#a3b8fd0787ccd1963c6aa5c8bf17f4290">sbn::bits::mask</a></div><div class="ttdeci">constexpr mask_t&lt; EnumType &gt; mask(EnumType bit, OtherBits...otherBits)</div><div class="ttdoc">Returns a mask with all specified bits set. </div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_abde66a924d44fce506569889299eafb6"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#abde66a924d44fce506569889299eafb6">daq::TriggerDecoder::fDebug</a></div><div class="ttdeci">bool fDebug</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00162">TriggerDecoder_tool.cc:162</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_acf86fbb29717e26da6a1d4ee51f49162"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#acf86fbb29717e26da6a1d4ee51f49162">daq::TriggerDecoder::fOffset</a></div><div class="ttdeci">int fOffset</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00163">TriggerDecoder_tool.cc:163</a></div></div>
<div class="ttc" id="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes_html_a72d77e28fd31bb86948c2ff8c3305d98"><div class="ttname"><a href="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes.html#a72d77e28fd31bb86948c2ff8c3305d98">daq::TriggerDecoder::TriggerGateTypes::OffbeamNuMI</a></div><div class="ttdeci">static constexpr int OffbeamNuMI</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00192">TriggerDecoder_tool.cc:192</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a9da765d35c86db636afa211b299df9f9"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a9da765d35c86db636afa211b299df9f9">daq::TriggerDecoder::makeTriggerFragment</a></div><div class="ttdeci">icarus::ICARUSTriggerUDPFragment makeTriggerFragment(artdaq::Fragment const &amp;fragment) const </div><div class="ttdoc">Creates a ICARUSTriggerInfo from a generic fragment. </div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00255">TriggerDecoder_tool.cc:255</a></div></div>
<div class="ttc" id="classdetinfo_1_1DetectorTimings_html_af7a0488ce02ed69e706dcbd92f0ae1a2"><div class="ttname"><a href="classdetinfo_1_1DetectorTimings.html#af7a0488ce02ed69e706dcbd92f0ae1a2">detinfo::DetectorTimings::toSimulationTime</a></div><div class="ttdeci">simulation_time toSimulationTime(FromTime time) const </div><div class="ttdoc">Converts a time point into simulation time scale. </div><div class="ttdef"><b>Definition:</b> <a href="DetectorTimings_8h_source.html#l00495">DetectorTimings.h:495</a></div></div>
<div class="ttc" id="classdetinfo_1_1DetectorTimings_html_a9f53be8d5c5437cb6a268b3509682183"><div class="ttname"><a href="classdetinfo_1_1DetectorTimings.html#a9f53be8d5c5437cb6a268b3509682183">detinfo::DetectorTimings::TriggerTime</a></div><div class="ttdeci">electronics_time TriggerTime() const </div><div class="ttdef"><b>Definition:</b> <a href="DetectorTimings_8h_source.html#l00331">DetectorTimings.h:331</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_ac1231062bed968688de20bdf9c1cc4bf"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#ac1231062bed968688de20bdf9c1cc4bf">daq::TriggerDecoder::timestampDiff</a></div><div class="ttdeci">static long long int timestampDiff(std::uint64_t a, std::uint64_t b)</div><div class="ttdoc">Returns the difference a - b. </div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00205">TriggerDecoder_tool.cc:205</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a34810b1f430ecab7c31279b5cab0a97c"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a34810b1f430ecab7c31279b5cab0a97c">daq::TriggerDecoder::makeTimestamp</a></div><div class="ttdeci">static std::uint64_t makeTimestamp(unsigned int s, unsigned int ns)</div><div class="ttdoc">Combines second and nanosecond counts into a 64-bit timestamp. </div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00202">TriggerDecoder_tool.cc:202</a></div></div>
<div class="ttc" id="namespacesim_html_a5913768852589e05224bb2a7336af414aed4f04828e0a0dc7d49762177ec8e11f"><div class="ttname"><a href="namespacesim.html#a5913768852589e05224bb2a7336af414aed4f04828e0a0dc7d49762177ec8e11f">sim::kBNB</a></div><div class="ttdoc">BNB. </div><div class="ttdef"><b>Definition:</b> <a href="BeamTypes_8h_source.html#l00011">BeamTypes.h:11</a></div></div>
<div class="ttc" id="structicarus_1_1details_1_1KeyValuesData_1_1Error_html"><div class="ttname"><a href="structicarus_1_1details_1_1KeyValuesData_1_1Error.html">icarus::details::KeyValuesData::Error</a></div><div class="ttdef"><b>Definition:</b> <a href="KeyedCSVparser_8h_source.html#l00171">KeyedCSVparser.h:171</a></div></div>
<div class="ttc" id="namespacesbndaq_html_a8c2910e129a0c67d73d4c1f4607552bf"><div class="ttname"><a href="namespacesbndaq.html#a8c2910e129a0c67d73d4c1f4607552bf">sbndaq::dumpFragment</a></div><div class="ttdeci">details::DumpFragWrap dumpFragment(artdaq::Fragment const &amp;frag)</div><div class="ttdoc">Dump a artDAQ fragment into an output stream. </div><div class="ttdef"><b>Definition:</b> <a href="FragmentDumper_8cxx_source.html#l00034">FragmentDumper.cxx:34</a></div></div>
<div class="ttc" id="updateVersionList_8sh_html_a067a8c1534d6da9b2c501a6cf4ef89bd"><div class="ttname"><a href="updateVersionList_8sh.html#a067a8c1534d6da9b2c501a6cf4ef89bd">e</a></div><div class="ttdeci">do i e</div><div class="ttdef"><b>Definition:</b> <a href="updateVersionList_8sh_source.html#l00068">updateVersionList.sh:68</a></div></div>
<div class="ttc" id="namespacesbn_1_1bits_html_a75de4e8e9acdc3cc9566cf28c92420e7"><div class="ttname"><a href="namespacesbn_1_1bits.html#a75de4e8e9acdc3cc9566cf28c92420e7">sbn::bits::triggerSource</a></div><div class="ttdeci">triggerSource</div><div class="ttdoc">Type of beam or beam gate or other trigger source. </div><div class="ttdef"><b>Definition:</b> <a href="BeamBits_8h_source.html#l00083">BeamBits.h:83</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a8eb47184915a0bb586af539ab23bfeca"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a8eb47184915a0bb586af539ab23bfeca">daq::TriggerDecoder::NuMIgateDuration</a></div><div class="ttdeci">static constexpr nanoseconds NuMIgateDuration</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00196">TriggerDecoder_tool.cc:196</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a5d5f39bbedacef487cef646f0ffa5c07"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a5d5f39bbedacef487cef646f0ffa5c07">daq::TriggerDecoder::firstLine</a></div><div class="ttdeci">static std::string_view firstLine(std::string const &amp;s, std::string const &amp;endl=&quot;\0\n\r&quot;s)</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00492">TriggerDecoder_tool.cc:492</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a0382129fad62e7a4c30f053586bf8405"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a0382129fad62e7a4c30f053586bf8405">daq::TriggerDecoder::fLastEvent</a></div><div class="ttdeci">long fLastEvent</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00168">TriggerDecoder_tool.cc:168</a></div></div>
<div class="ttc" id="namespacedaq_html_aca8e812a0256bf10d75b4c08c6ab0dfd"><div class="ttname"><a href="namespacedaq.html#aca8e812a0256bf10d75b4c08c6ab0dfd">daq::getNanoseconds_since_UTC_epoch_fix</a></div><div class="ttdeci">std::uint64_t getNanoseconds_since_UTC_epoch_fix(icarus::ICARUSTriggerInfo const &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00054">TriggerDecoder_tool.cc:54</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes_html_aa6fac893decc02017f8b1933caafc397"><div class="ttname"><a href="structdaq_1_1TriggerDecoder_1_1TriggerGateTypes.html#aa6fac893decc02017f8b1933caafc397">daq::TriggerDecoder::TriggerGateTypes::BNB</a></div><div class="ttdeci">static constexpr int BNB</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00189">TriggerDecoder_tool.cc:189</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a39fa412d22ba77f2b29c828fcf5f7a09"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a39fa412d22ba77f2b29c828fcf5f7a09">daq::TriggerDecoder::parseTriggerString</a></div><div class="ttdeci">icarus::ICARUSTriggerInfo parseTriggerString(std::string_view data) const </div><div class="ttdoc">Parses the trigger data packet with the &amp;quot;standard&amp;quot; parser. </div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00277">TriggerDecoder_tool.cc:277</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_ace3ccf11bccdf9d1dc5ceb67a683b297"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#ace3ccf11bccdf9d1dc5ceb67a683b297">daq::TriggerDecoder::fTrigger</a></div><div class="ttdeci">TriggerPtr fTrigger</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00156">TriggerDecoder_tool.cc:156</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab871ef6649b99ccddc6a249a6d965d48"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void daq::TriggerDecoder::produces </td>
          <td>(</td>
          <td class="paramtype">art::ProducesCollector &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The space point building should output the hit collection for those hits which combine to form space points - a nice noise filter! </p>

<p>Implements <a class="el" href="classdaq_1_1IDecoder.html#af77cc66955662f829fd180760ab57d24">daq::IDecoder</a>.</p>

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00223">223</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    collector.produces&lt;<a class="code" href="classdaq_1_1TriggerDecoder.html#a021096237e2cce66ba40f5d86ffeb092">TriggerCollection</a>&gt;(<a class="code" href="classdaq_1_1TriggerDecoder.html#a1406cae9a04ac8f820a5f86bd8170e10">CurrentTriggerInstanceName</a>);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    collector.produces&lt;<a class="code" href="classdaq_1_1TriggerDecoder.html#a021096237e2cce66ba40f5d86ffeb092">TriggerCollection</a>&gt;(<a class="code" href="classdaq_1_1TriggerDecoder.html#a21c8d002889024d89229a19fe1fc16e8">PreviousTriggerInstanceName</a>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    collector.produces&lt;<a class="code" href="classdaq_1_1TriggerDecoder.html#ab28d96e6def013c5026c0af8c8b16165">RelativeTriggerCollection</a>&gt;(<a class="code" href="classdaq_1_1TriggerDecoder.html#a1406cae9a04ac8f820a5f86bd8170e10">CurrentTriggerInstanceName</a>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    collector.produces&lt;<a class="code" href="classdaq_1_1TriggerDecoder.html#af438e5273b08211bdccc3536e24b6299">BeamGateInfoCollection</a>&gt;(<a class="code" href="classdaq_1_1TriggerDecoder.html#a1406cae9a04ac8f820a5f86bd8170e10">CurrentTriggerInstanceName</a>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    collector.produces&lt;<a class="code" href="structsbn_1_1ExtraTriggerInfo.html">sbn::ExtraTriggerInfo</a>&gt;(<a class="code" href="classdaq_1_1TriggerDecoder.html#a1406cae9a04ac8f820a5f86bd8170e10">CurrentTriggerInstanceName</a>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  }</div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a1406cae9a04ac8f820a5f86bd8170e10"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a1406cae9a04ac8f820a5f86bd8170e10">daq::TriggerDecoder::CurrentTriggerInstanceName</a></div><div class="ttdeci">static std::string const CurrentTriggerInstanceName</div><div class="ttdoc">Name of the data product instance for the current trigger. </div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00180">TriggerDecoder_tool.cc:180</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_af438e5273b08211bdccc3536e24b6299"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#af438e5273b08211bdccc3536e24b6299">daq::TriggerDecoder::BeamGateInfoCollection</a></div><div class="ttdeci">std::vector&lt; sim::BeamGateInfo &gt; BeamGateInfoCollection</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00153">TriggerDecoder_tool.cc:153</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a21c8d002889024d89229a19fe1fc16e8"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a21c8d002889024d89229a19fe1fc16e8">daq::TriggerDecoder::PreviousTriggerInstanceName</a></div><div class="ttdeci">static std::string const PreviousTriggerInstanceName</div><div class="ttdoc">Name of the data product instance for the previous trigger. </div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00183">TriggerDecoder_tool.cc:183</a></div></div>
<div class="ttc" id="structsbn_1_1ExtraTriggerInfo_html"><div class="ttname"><a href="structsbn_1_1ExtraTriggerInfo.html">sbn::ExtraTriggerInfo</a></div><div class="ttdoc">Additional information on trigger. </div><div class="ttdef"><b>Definition:</b> <a href="ExtraTriggerInfo_8h_source.html#l00044">ExtraTriggerInfo.h:44</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_ab28d96e6def013c5026c0af8c8b16165"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#ab28d96e6def013c5026c0af8c8b16165">daq::TriggerDecoder::RelativeTriggerCollection</a></div><div class="ttdeci">std::vector&lt; raw::Trigger &gt; RelativeTriggerCollection</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00152">TriggerDecoder_tool.cc:152</a></div></div>
<div class="ttc" id="classdaq_1_1TriggerDecoder_html_a021096237e2cce66ba40f5d86ffeb092"><div class="ttname"><a href="classdaq_1_1TriggerDecoder.html#a021096237e2cce66ba40f5d86ffeb092">daq::TriggerDecoder::TriggerCollection</a></div><div class="ttdeci">std::vector&lt; raw::ExternalTrigger &gt; TriggerCollection</div><div class="ttdef"><b>Definition:</b> <a href="TriggerDecoder__tool_8cc_source.html#l00150">TriggerDecoder_tool.cc:150</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac1231062bed968688de20bdf9c1cc4bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static long long int daq::TriggerDecoder::timestampDiff </td>
          <td>(</td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the difference <code>a - b</code>. </p>

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00205">205</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      { <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a>) - static_cast&lt;long long int&gt;(b); }</div>
<div class="ttc" id="decode__signalprocess__icarus_8fcl_html_a2a105cb669129f9c63eb7a4c15bf2d9b"><div class="ttname"><a href="decode__signalprocess__icarus_8fcl.html#a2a105cb669129f9c63eb7a4c15bf2d9b">a</a></div><div class="ttdeci">process_name gaushit a</div><div class="ttdef"><b>Definition:</b> <a href="decode__signalprocess__icarus_8fcl_source.html#l00037">decode_signalprocess_icarus.fcl:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a15470bd121248951d9e4af83b019c9aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="classdaq_1_1TriggerDecoder.html#a2bd2244a1c5b9044d5a5f17386e06403">nanoseconds</a> daq::TriggerDecoder::BNBgateDuration { 1600. }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00195">195</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a1406cae9a04ac8f820a5f86bd8170e10"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const daq::TriggerDecoder::CurrentTriggerInstanceName {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Name of the data product instance for the current trigger. </p>

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00180">180</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a5e838e83df2a18e9ff7cd0388dcca21f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdaq_1_1TriggerDecoder.html#aa33d247db9f4b8d19c55ffe164b85252">BeamGateInfoPtr</a> daq::TriggerDecoder::fBeamGateInfo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00160">160</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="abde66a924d44fce506569889299eafb6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool daq::TriggerDecoder::fDebug</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00162">162</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a817e49833aff7c91de10d2827f20e2d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdetinfo_1_1DetectorTimings.html">detinfo::DetectorTimings</a> const daq::TriggerDecoder::fDetTimings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Detector clocks and timings. </p>

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00170">170</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a21a00430c2dc4e28f12dfa8ea308d56c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool daq::TriggerDecoder::fDiagnosticOutput</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00161">161</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a0382129fad62e7a4c30f053586bf8405"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long daq::TriggerDecoder::fLastEvent = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00168">168</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="acf86fbb29717e26da6a1d4ee51f49162"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int daq::TriggerDecoder::fOffset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00163">163</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ae6e305cae101936c5aed8f516b089ea6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdaq_1_1TriggerDecoder.html#acc37a19386275e4677c767b335586364">TriggerPtr</a> daq::TriggerDecoder::fPrevTrigger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00157">157</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a6361ec04e5ec076da727be0bb1fc10a8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classdaq_1_1TriggerDecoder.html#ab28d96e6def013c5026c0af8c8b16165">RelativeTriggerCollection</a>&gt; daq::TriggerDecoder::fRelTrigger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00158">158</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ace3ccf11bccdf9d1dc5ceb67a683b297"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdaq_1_1TriggerDecoder.html#acc37a19386275e4677c767b335586364">TriggerPtr</a> daq::TriggerDecoder::fTrigger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00156">156</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a86034880037588b67d0f4a3f94a719c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdaq_1_1TriggerDecoder.html#ab6e3ba0b3f5b2b8215869527c5816ff1">ExtraInfoPtr</a> daq::TriggerDecoder::fTriggerExtra</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00159">159</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a8eb47184915a0bb586af539ab23bfeca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="classdaq_1_1TriggerDecoder.html#a2bd2244a1c5b9044d5a5f17386e06403">nanoseconds</a> daq::TriggerDecoder::NuMIgateDuration { 9500. }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00196">196</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a21c8d002889024d89229a19fe1fc16e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const daq::TriggerDecoder::PreviousTriggerInstanceName { &quot;previous&quot; }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Name of the data product instance for the previous trigger. </p>

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00183">183</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a6ddc0276164a2371a71ae94290f991b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr double daq::TriggerDecoder::UnknownBeamTime = std::numeric_limits&lt;double&gt;::max()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TriggerDecoder__tool_8cc_source.html#l00185">185</a> of file <a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>icaruscode/icaruscode/Decode/DecoderTools/<a class="el" href="TriggerDecoder__tool_8cc_source.html">TriggerDecoder_tool.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
