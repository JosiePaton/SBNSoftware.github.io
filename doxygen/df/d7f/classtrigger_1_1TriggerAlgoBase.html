<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>trigger::TriggerAlgoBase Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../da/d54/namespacetrigger.html">trigger</a></li><li class="navelem"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html">TriggerAlgoBase</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d6/d6c/classtrigger_1_1TriggerAlgoBase-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">trigger::TriggerAlgoBase Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html">TriggerAlgoBase.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aed7607b82acd67b564079f39715027d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#aed7607b82acd67b564079f39715027d6">TriggerAlgoBase</a> (fhicl::ParameterSet const &amp;pset)</td></tr>
<tr class="separator:aed7607b82acd67b564079f39715027d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f5c80b32cf55e9b039183d5edf4fa03"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a9f5c80b32cf55e9b039183d5edf4fa03">~TriggerAlgoBase</a> ()=<a class="el" href="../../de/d36/crtt0matchingalg__sbnd_8fcl.html#a6c2384a9e3f7a8c21ae6f762a8ee0ece">default</a></td></tr>
<tr class="separator:a9f5c80b32cf55e9b039183d5edf4fa03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c93e60798a49109144cbea15c054053"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a3c93e60798a49109144cbea15c054053">RunTriggerSim</a> (const art::Event &amp;event)</td></tr>
<tr class="memdesc:a3c93e60798a49109144cbea15c054053"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to run trigger simulation ... children class may be override.  <a href="#a3c93e60798a49109144cbea15c054053">More...</a><br/></td></tr>
<tr class="separator:a3c93e60798a49109144cbea15c054053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a820372e1886052eaceb1030f5efb4014"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a820372e1886052eaceb1030f5efb4014">ClearTriggerInfo</a> ()</td></tr>
<tr class="memdesc:a820372e1886052eaceb1030f5efb4014"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to clear simulated trigger information.  <a href="#a820372e1886052eaceb1030f5efb4014">More...</a><br/></td></tr>
<tr class="separator:a820372e1886052eaceb1030f5efb4014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73b809daf36c1f0f2908a5996387449c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a73b809daf36c1f0f2908a5996387449c">HasRunTriggerSim</a> () const </td></tr>
<tr class="memdesc:a73b809daf36c1f0f2908a5996387449c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for a boolean which "true" value indicates trigger simulation is run already.  <a href="#a73b809daf36c1f0f2908a5996387449c">More...</a><br/></td></tr>
<tr class="separator:a73b809daf36c1f0f2908a5996387449c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04943e2c18a41734c5a9ce2ad7f56d3b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a04943e2c18a41734c5a9ce2ad7f56d3b">IsTriggered</a> (<a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a> time) const </td></tr>
<tr class="memdesc:a04943e2c18a41734c5a9ce2ad7f56d3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to check if "time" (input arg.) is within any of valid readout windows or not.  <a href="#a04943e2c18a41734c5a9ce2ad7f56d3b">More...</a><br/></td></tr>
<tr class="separator:a04943e2c18a41734c5a9ce2ad7f56d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5536e7a14b3ce3c2a6649ce3b67f4686"><td class="memItemLeft" align="right" valign="top">const std::map<br class="typebreak"/>
&lt; <a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a>, <br class="typebreak"/>
<a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a5536e7a14b3ce3c2a6649ce3b67f4686">GetTimeWindows</a> () const </td></tr>
<tr class="memdesc:a5536e7a14b3ce3c2a6649ce3b67f4686"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter to a const pointer of _time_windows std::map variable.  <a href="#a5536e7a14b3ce3c2a6649ce3b67f4686">More...</a><br/></td></tr>
<tr class="separator:a5536e7a14b3ce3c2a6649ce3b67f4686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee88ce4153cd20f4647170271e6fec9"><td class="memItemLeft" align="right" valign="top">const std::set<br class="typebreak"/>
&lt; <a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a6ee88ce4153cd20f4647170271e6fec9">GetTriggerTimeStamps</a> () const </td></tr>
<tr class="memdesc:a6ee88ce4153cd20f4647170271e6fec9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter to a const pointer of _timestamps std::set variable.  <a href="#a6ee88ce4153cd20f4647170271e6fec9">More...</a><br/></td></tr>
<tr class="separator:a6ee88ce4153cd20f4647170271e6fec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a96cda44dc391bf78143fccb9b4a31b45"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a96cda44dc391bf78143fccb9b4a31b45">FillData</a> (const art::Event &amp;event)=0</td></tr>
<tr class="memdesc:a96cda44dc391bf78143fccb9b4a31b45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to fill _timestamps std::set variable ... TO BE IMPLEMENTED in children.  <a href="#a96cda44dc391bf78143fccb9b4a31b45">More...</a><br/></td></tr>
<tr class="separator:a96cda44dc391bf78143fccb9b4a31b45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf8926bea3c5463a91b647b4c48436c6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#adf8926bea3c5463a91b647b4c48436c6">SimTrigger</a> ()</td></tr>
<tr class="memdesc:adf8926bea3c5463a91b647b4c48436c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to analyze _timestamps and store valid readout windows in _time_windows.  <a href="#adf8926bea3c5463a91b647b4c48436c6">More...</a><br/></td></tr>
<tr class="separator:adf8926bea3c5463a91b647b4c48436c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab20096aace38841c2919e989dcb13c53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ab20096aace38841c2919e989dcb13c53">Config</a> (fhicl::ParameterSet const &amp;pset)</td></tr>
<tr class="memdesc:ab20096aace38841c2919e989dcb13c53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to extract fhicl parameters.  <a href="#ab20096aace38841c2919e989dcb13c53">More...</a><br/></td></tr>
<tr class="separator:ab20096aace38841c2919e989dcb13c53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a138121f3b11a2648699e933a4370318f"><td class="memItemLeft" align="right" valign="top">std::set<br class="typebreak"/>
&lt; <a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a138121f3b11a2648699e933a4370318f">_timestamps</a></td></tr>
<tr class="memdesc:a138121f3b11a2648699e933a4370318f"><td class="mdescLeft">&#160;</td><td class="mdescRight">stores CANDIDATE readout trigger timestamps  <a href="#a138121f3b11a2648699e933a4370318f">More...</a><br/></td></tr>
<tr class="separator:a138121f3b11a2648699e933a4370318f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab25b8f03c1c065c0f18073a92521e609"><td class="memItemLeft" align="right" valign="top">std::map<br class="typebreak"/>
&lt; <a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a>, <br class="typebreak"/>
<a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ab25b8f03c1c065c0f18073a92521e609">_time_windows</a></td></tr>
<tr class="memdesc:ab25b8f03c1c065c0f18073a92521e609"><td class="mdescLeft">&#160;</td><td class="mdescRight">stores VALID readout trigger time windows  <a href="#ab25b8f03c1c065c0f18073a92521e609">More...</a><br/></td></tr>
<tr class="separator:ab25b8f03c1c065c0f18073a92521e609"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17d1d02130f0c575b08e93d9765a3c8e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a17d1d02130f0c575b08e93d9765a3c8e">_preceeding_slices</a></td></tr>
<tr class="memdesc:a17d1d02130f0c575b08e93d9765a3c8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">preceeding readout-window from trigger time stamp  <a href="#a17d1d02130f0c575b08e93d9765a3c8e">More...</a><br/></td></tr>
<tr class="separator:a17d1d02130f0c575b08e93d9765a3c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9418b96b84cd45ef14bdd7dab8fc4a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#af9418b96b84cd45ef14bdd7dab8fc4a4">_proceeding_slices</a></td></tr>
<tr class="memdesc:af9418b96b84cd45ef14bdd7dab8fc4a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">proceeding readout-window from trigger time stamp  <a href="#af9418b96b84cd45ef14bdd7dab8fc4a4">More...</a><br/></td></tr>
<tr class="separator:af9418b96b84cd45ef14bdd7dab8fc4a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80e5beb53d00eb0e4e12cfe6bd52b033"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a80e5beb53d00eb0e4e12cfe6bd52b033">_deadtime</a></td></tr>
<tr class="memdesc:a80e5beb53d00eb0e4e12cfe6bd52b033"><td class="mdescLeft">&#160;</td><td class="mdescRight">trigger deadtime AFTER each valid trigger timestamps  <a href="#a80e5beb53d00eb0e4e12cfe6bd52b033">More...</a><br/></td></tr>
<tr class="separator:a80e5beb53d00eb0e4e12cfe6bd52b033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4053917de689b8c324e12dafa5c2d8a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ae4053917de689b8c324e12dafa5c2d8a">_sim_done</a></td></tr>
<tr class="memdesc:ae4053917de689b8c324e12dafa5c2d8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">run utility boolean, set to true after trigger simulation is run  <a href="#ae4053917de689b8c324e12dafa5c2d8a">More...</a><br/></td></tr>
<tr class="separator:ae4053917de689b8c324e12dafa5c2d8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simple read-out trigger logic base class. This class applies a logic of data readout trigger.</p>
<p>Given an input array of readout trigger timestamps, this module applies trigger deadtime and readout window to decide which data packet to be readout and stored.</p>
<p>In the following, I use a notation TS to represent <a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee" title="A unit of time used in trigger logic. ">trigdata::TrigTimeSlice_t</a> for short. Note TS is what is used as absolute scale of time in this algorithm. Each experiment may implement different reference point or unit to this time scale. See TriggerTypes.h for definition.</p>
<p>std::set&lt;TS&gt; _timestamps should be filled with time-stamps (with an arbitrary unit of your choise) of readout candidate triggers. This should be done in FillData(art::Event&amp; event) function, which is virtual in this header and needs to be implemented in the inherited class.</p>
<p>After filling timestamps, one calls <a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#adf8926bea3c5463a91b647b4c48436c6" title="Function to analyze _timestamps and store valid readout windows in _time_windows. ...">SimTrigger()</a> to analyze and decide time windows during which incoming data should be readout and stored. This function stores a valid readout time window in the std::map&lt;TS,TS&gt; type variable, _time_windows. This map contains the ending time stamp of each readout window as a key, and the starting time stamp as a value.</p>
<p>Once <a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#adf8926bea3c5463a91b647b4c48436c6" title="Function to analyze _timestamps and store valid readout windows in _time_windows. ...">SimTrigger()</a> is called, then one can ask whether a specific time T is within the valid readout windows or not by a function, IsTriggered(TS time). This function returns true if the given time stamp is included in any of valid readout window. Else, returns false.</p>
<p>For further specifications that may have to do with a specific experiment or electronics should implement their specific complications in the inherited class. This includes <a class="el" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a96cda44dc391bf78143fccb9b4a31b45" title="Function to fill _timestamps std::set variable ... TO BE IMPLEMENTED in children. ...">FillData()</a> virtual function since different experiments certainly have different data format from which readout trigger candidates' timestamp is extracted.</p>
<p>Note: IsTriggered(TS time) function performs a search of closest readout window to "time", and hence could be expensive (though stl::upper_bound is pretty fast). </p>

<p>Definition at line <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00066">66</a> of file <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html">TriggerAlgoBase.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aed7607b82acd67b564079f39715027d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">trigger::TriggerAlgoBase::TriggerAlgoBase </td>
          <td>(</td>
          <td class="paramtype">fhicl::ParameterSet const &amp;&#160;</td>
          <td class="paramname"><em>pset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dd/d4c/TriggerAlgoBase__service_8cc_source.html#l00012">12</a> of file <a class="el" href="../../dd/d4c/TriggerAlgoBase__service_8cc_source.html">TriggerAlgoBase_service.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;                                                                {</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;  <span class="comment">//****************************************************************************</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a820372e1886052eaceb1030f5efb4014">ClearTriggerInfo</a>();</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ab20096aace38841c2919e989dcb13c53">Config</a>(pset);</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;  }</div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_ab20096aace38841c2919e989dcb13c53"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ab20096aace38841c2919e989dcb13c53">trigger::TriggerAlgoBase::Config</a></div><div class="ttdeci">void Config(fhicl::ParameterSet const &amp;pset)</div><div class="ttdoc">Function to extract fhicl parameters. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d4c/TriggerAlgoBase__service_8cc_source.html#l00022">TriggerAlgoBase_service.cc:22</a></div></div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_a820372e1886052eaceb1030f5efb4014"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a820372e1886052eaceb1030f5efb4014">trigger::TriggerAlgoBase::ClearTriggerInfo</a></div><div class="ttdeci">virtual void ClearTriggerInfo()</div><div class="ttdoc">Function to clear simulated trigger information. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00080">TriggerAlgoBase.h:80</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9f5c80b32cf55e9b039183d5edf4fa03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual trigger::TriggerAlgoBase::~TriggerAlgoBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a820372e1886052eaceb1030f5efb4014"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void trigger::TriggerAlgoBase::ClearTriggerInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to clear simulated trigger information. </p>

<p>Definition at line <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00080">80</a> of file <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html">TriggerAlgoBase.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                   {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ae4053917de689b8c324e12dafa5c2d8a">_sim_done</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a138121f3b11a2648699e933a4370318f">_timestamps</a>.clear();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ab25b8f03c1c065c0f18073a92521e609">_time_windows</a>.clear();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    };</div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_a138121f3b11a2648699e933a4370318f"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a138121f3b11a2648699e933a4370318f">trigger::TriggerAlgoBase::_timestamps</a></div><div class="ttdeci">std::set&lt; trigdata::TrigTimeSlice_t &gt; _timestamps</div><div class="ttdoc">stores CANDIDATE readout trigger timestamps </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00111">TriggerAlgoBase.h:111</a></div></div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_ae4053917de689b8c324e12dafa5c2d8a"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ae4053917de689b8c324e12dafa5c2d8a">trigger::TriggerAlgoBase::_sim_done</a></div><div class="ttdeci">bool _sim_done</div><div class="ttdoc">run utility boolean, set to true after trigger simulation is run </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00126">TriggerAlgoBase.h:126</a></div></div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_ab25b8f03c1c065c0f18073a92521e609"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ab25b8f03c1c065c0f18073a92521e609">trigger::TriggerAlgoBase::_time_windows</a></div><div class="ttdeci">std::map&lt; trigdata::TrigTimeSlice_t, trigdata::TrigTimeSlice_t &gt; _time_windows</div><div class="ttdoc">stores VALID readout trigger time windows </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00114">TriggerAlgoBase.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab20096aace38841c2919e989dcb13c53"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void trigger::TriggerAlgoBase::Config </td>
          <td>(</td>
          <td class="paramtype">fhicl::ParameterSet const &amp;&#160;</td>
          <td class="paramname"><em>pset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to extract fhicl parameters. </p>

<p>Definition at line <a class="el" href="../../dd/d4c/TriggerAlgoBase__service_8cc_source.html#l00022">22</a> of file <a class="el" href="../../dd/d4c/TriggerAlgoBase__service_8cc_source.html">TriggerAlgoBase_service.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;                                                            {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  <span class="comment">//****************************************************************************</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a17d1d02130f0c575b08e93d9765a3c8e">_preceeding_slices</a> = pset.get&lt; <span class="keywordtype">int</span> &gt;(<span class="stringliteral">&quot;PreceedingWindow&quot;</span>);</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#af9418b96b84cd45ef14bdd7dab8fc4a4">_proceeding_slices</a> = pset.get&lt; <span class="keywordtype">int</span> &gt;(<span class="stringliteral">&quot;ProceedingWindow&quot;</span>);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a80e5beb53d00eb0e4e12cfe6bd52b033">_deadtime</a>          = pset.get&lt; <span class="keywordtype">int</span> &gt;(<span class="stringliteral">&quot;DeadTime&quot;</span>);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  }</div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_af9418b96b84cd45ef14bdd7dab8fc4a4"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#af9418b96b84cd45ef14bdd7dab8fc4a4">trigger::TriggerAlgoBase::_proceeding_slices</a></div><div class="ttdeci">trigdata::TrigTimeSlice_t _proceeding_slices</div><div class="ttdoc">proceeding readout-window from trigger time stamp </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00120">TriggerAlgoBase.h:120</a></div></div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_a17d1d02130f0c575b08e93d9765a3c8e"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a17d1d02130f0c575b08e93d9765a3c8e">trigger::TriggerAlgoBase::_preceeding_slices</a></div><div class="ttdeci">trigdata::TrigTimeSlice_t _preceeding_slices</div><div class="ttdoc">preceeding readout-window from trigger time stamp </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00117">TriggerAlgoBase.h:117</a></div></div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_a80e5beb53d00eb0e4e12cfe6bd52b033"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a80e5beb53d00eb0e4e12cfe6bd52b033">trigger::TriggerAlgoBase::_deadtime</a></div><div class="ttdeci">trigdata::TrigTimeSlice_t _deadtime</div><div class="ttdoc">trigger deadtime AFTER each valid trigger timestamps </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00123">TriggerAlgoBase.h:123</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a96cda44dc391bf78143fccb9b4a31b45"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void trigger::TriggerAlgoBase::FillData </td>
          <td>(</td>
          <td class="paramtype">const art::Event &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to fill _timestamps std::set variable ... TO BE IMPLEMENTED in children. </p>

</div>
</div>
<a class="anchor" id="a5536e7a14b3ce3c2a6649ce3b67f4686"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::map&lt;<a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a>,<a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a>&gt;* trigger::TriggerAlgoBase::GetTimeWindows </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Getter to a const pointer of _time_windows std::map variable. </p>

<p>Definition at line <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00093">93</a> of file <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html">TriggerAlgoBase.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{<span class="keywordflow">return</span> &amp;<a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ab25b8f03c1c065c0f18073a92521e609">_time_windows</a>;};</div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_ab25b8f03c1c065c0f18073a92521e609"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ab25b8f03c1c065c0f18073a92521e609">trigger::TriggerAlgoBase::_time_windows</a></div><div class="ttdeci">std::map&lt; trigdata::TrigTimeSlice_t, trigdata::TrigTimeSlice_t &gt; _time_windows</div><div class="ttdoc">stores VALID readout trigger time windows </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00114">TriggerAlgoBase.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6ee88ce4153cd20f4647170271e6fec9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::set&lt;<a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a>&gt;* trigger::TriggerAlgoBase::GetTriggerTimeStamps </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Getter to a const pointer of _timestamps std::set variable. </p>

<p>Definition at line <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00096">96</a> of file <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html">TriggerAlgoBase.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{<span class="keywordflow">return</span> &amp;<a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a138121f3b11a2648699e933a4370318f">_timestamps</a>;};</div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_a138121f3b11a2648699e933a4370318f"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a138121f3b11a2648699e933a4370318f">trigger::TriggerAlgoBase::_timestamps</a></div><div class="ttdeci">std::set&lt; trigdata::TrigTimeSlice_t &gt; _timestamps</div><div class="ttdoc">stores CANDIDATE readout trigger timestamps </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00111">TriggerAlgoBase.h:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a73b809daf36c1f0f2908a5996387449c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool trigger::TriggerAlgoBase::HasRunTriggerSim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Getter for a boolean which "true" value indicates trigger simulation is run already. </p>

<p>Definition at line <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00087">87</a> of file <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html">TriggerAlgoBase.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ae4053917de689b8c324e12dafa5c2d8a">_sim_done</a>;};</div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_ae4053917de689b8c324e12dafa5c2d8a"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ae4053917de689b8c324e12dafa5c2d8a">trigger::TriggerAlgoBase::_sim_done</a></div><div class="ttdeci">bool _sim_done</div><div class="ttdoc">run utility boolean, set to true after trigger simulation is run </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00126">TriggerAlgoBase.h:126</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a04943e2c18a41734c5a9ce2ad7f56d3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool trigger::TriggerAlgoBase::IsTriggered </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a>&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to check if "time" (input arg.) is within any of valid readout windows or not. </p>

<p>Definition at line <a class="el" href="../../dd/d4c/TriggerAlgoBase__service_8cc_source.html#l00071">71</a> of file <a class="el" href="../../dd/d4c/TriggerAlgoBase__service_8cc_source.html">TriggerAlgoBase_service.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                                                      {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">//****************************************************************************</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ab25b8f03c1c065c0f18073a92521e609">_time_windows</a>.size()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    std::map&lt;trigdata::TrigTimeSlice_t,trigdata::TrigTimeSlice_t&gt;::const_iterator <a class="code" href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh.html#a1f8c2c7c3785cd2c9d93d6381e3c7d1c">start_time</a>(<a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ab25b8f03c1c065c0f18073a92521e609">_time_windows</a>.lower_bound(time));</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh.html#a1f8c2c7c3785cd2c9d93d6381e3c7d1c">start_time</a>==<a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ab25b8f03c1c065c0f18073a92521e609">_time_windows</a>.end()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">return</span> ((*start_time).second &lt; time);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  }</div>
<div class="ttc" id="sbndpoms__genfclwithrunnumber__maker_8sh_html_a1f8c2c7c3785cd2c9d93d6381e3c7d1c"><div class="ttname"><a href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh.html#a1f8c2c7c3785cd2c9d93d6381e3c7d1c">start_time</a></div><div class="ttdeci">then echo fcl sbnd_project sbnd_project sbnd_project sbnd_project production production start_time</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d30/sbndpoms__genfclwithrunnumber__maker_8sh_source.html#l00220">sbndpoms_genfclwithrunnumber_maker.sh:220</a></div></div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_ab25b8f03c1c065c0f18073a92521e609"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ab25b8f03c1c065c0f18073a92521e609">trigger::TriggerAlgoBase::_time_windows</a></div><div class="ttdeci">std::map&lt; trigdata::TrigTimeSlice_t, trigdata::TrigTimeSlice_t &gt; _time_windows</div><div class="ttdoc">stores VALID readout trigger time windows </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00114">TriggerAlgoBase.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3c93e60798a49109144cbea15c054053"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void trigger::TriggerAlgoBase::RunTriggerSim </td>
          <td>(</td>
          <td class="paramtype">const art::Event &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to run trigger simulation ... children class may be override. </p>

<p>Definition at line <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00074">74</a> of file <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html">TriggerAlgoBase.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                                                     {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a96cda44dc391bf78143fccb9b4a31b45">FillData</a>(event);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#adf8926bea3c5463a91b647b4c48436c6">SimTrigger</a>();</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    };</div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_a96cda44dc391bf78143fccb9b4a31b45"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a96cda44dc391bf78143fccb9b4a31b45">trigger::TriggerAlgoBase::FillData</a></div><div class="ttdeci">virtual void FillData(const art::Event &amp;event)=0</div><div class="ttdoc">Function to fill _timestamps std::set variable ... TO BE IMPLEMENTED in children. ...</div></div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_adf8926bea3c5463a91b647b4c48436c6"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#adf8926bea3c5463a91b647b4c48436c6">trigger::TriggerAlgoBase::SimTrigger</a></div><div class="ttdeci">virtual void SimTrigger()</div><div class="ttdoc">Function to analyze _timestamps and store valid readout windows in _time_windows. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d4c/TriggerAlgoBase__service_8cc_source.html#l00035">TriggerAlgoBase_service.cc:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adf8926bea3c5463a91b647b4c48436c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void trigger::TriggerAlgoBase::SimTrigger </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to analyze _timestamps and store valid readout windows in _time_windows. </p>

<p>Definition at line <a class="el" href="../../dd/d4c/TriggerAlgoBase__service_8cc_source.html#l00035">35</a> of file <a class="el" href="../../dd/d4c/TriggerAlgoBase__service_8cc_source.html">TriggerAlgoBase_service.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                                   {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="comment">//****************************************************************************</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ae4053917de689b8c324e12dafa5c2d8a">_sim_done</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ab25b8f03c1c065c0f18073a92521e609">_time_windows</a>.clear();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a> last_timestamp=0;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a> window_begin=0;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a> window_end=0;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">for</span>(std::set&lt;trigdata::TrigTimeSlice_t&gt;::const_iterator iter(<a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a138121f3b11a2648699e933a4370318f">_timestamps</a>.begin());</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        iter != <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a138121f3b11a2648699e933a4370318f">_timestamps</a>.end();</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        ++iter){</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      <span class="keywordflow">if</span>(!(last_timestamp) || (*iter) &gt; (last_timestamp + <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a80e5beb53d00eb0e4e12cfe6bd52b033">_deadtime</a>)) {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        window_begin = ((*iter) &gt; <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a17d1d02130f0c575b08e93d9765a3c8e">_preceeding_slices</a>) ? ((*iter) - <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a17d1d02130f0c575b08e93d9765a3c8e">_preceeding_slices</a>) : 0;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        window_end   = (*iter) + <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#af9418b96b84cd45ef14bdd7dab8fc4a4">_proceeding_slices</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ab25b8f03c1c065c0f18073a92521e609">_time_windows</a>.insert(std::make_pair(window_end,window_begin));</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        last_timestamp=(*iter);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ae4053917de689b8c324e12dafa5c2d8a">_sim_done</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  }</div>
<div class="ttc" id="namespacetrigdata_html_a68c72d42b5534f06bcb8a22f5ed0acee"><div class="ttname"><a href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a></div><div class="ttdeci">uint64_t TrigTimeSlice_t</div><div class="ttdoc">A unit of time used in trigger logic. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d78/TriggerTypes_8hh_source.html#l00009">TriggerTypes.hh:9</a></div></div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_a138121f3b11a2648699e933a4370318f"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a138121f3b11a2648699e933a4370318f">trigger::TriggerAlgoBase::_timestamps</a></div><div class="ttdeci">std::set&lt; trigdata::TrigTimeSlice_t &gt; _timestamps</div><div class="ttdoc">stores CANDIDATE readout trigger timestamps </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00111">TriggerAlgoBase.h:111</a></div></div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_af9418b96b84cd45ef14bdd7dab8fc4a4"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#af9418b96b84cd45ef14bdd7dab8fc4a4">trigger::TriggerAlgoBase::_proceeding_slices</a></div><div class="ttdeci">trigdata::TrigTimeSlice_t _proceeding_slices</div><div class="ttdoc">proceeding readout-window from trigger time stamp </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00120">TriggerAlgoBase.h:120</a></div></div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_a17d1d02130f0c575b08e93d9765a3c8e"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a17d1d02130f0c575b08e93d9765a3c8e">trigger::TriggerAlgoBase::_preceeding_slices</a></div><div class="ttdeci">trigdata::TrigTimeSlice_t _preceeding_slices</div><div class="ttdoc">preceeding readout-window from trigger time stamp </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00117">TriggerAlgoBase.h:117</a></div></div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_ae4053917de689b8c324e12dafa5c2d8a"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ae4053917de689b8c324e12dafa5c2d8a">trigger::TriggerAlgoBase::_sim_done</a></div><div class="ttdeci">bool _sim_done</div><div class="ttdoc">run utility boolean, set to true after trigger simulation is run </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00126">TriggerAlgoBase.h:126</a></div></div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_ab25b8f03c1c065c0f18073a92521e609"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#ab25b8f03c1c065c0f18073a92521e609">trigger::TriggerAlgoBase::_time_windows</a></div><div class="ttdeci">std::map&lt; trigdata::TrigTimeSlice_t, trigdata::TrigTimeSlice_t &gt; _time_windows</div><div class="ttdoc">stores VALID readout trigger time windows </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00114">TriggerAlgoBase.h:114</a></div></div>
<div class="ttc" id="classtrigger_1_1TriggerAlgoBase_html_a80e5beb53d00eb0e4e12cfe6bd52b033"><div class="ttname"><a href="../../df/d7f/classtrigger_1_1TriggerAlgoBase.html#a80e5beb53d00eb0e4e12cfe6bd52b033">trigger::TriggerAlgoBase::_deadtime</a></div><div class="ttdeci">trigdata::TrigTimeSlice_t _deadtime</div><div class="ttdoc">trigger deadtime AFTER each valid trigger timestamps </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00123">TriggerAlgoBase.h:123</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a80e5beb53d00eb0e4e12cfe6bd52b033"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a> trigger::TriggerAlgoBase::_deadtime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>trigger deadtime AFTER each valid trigger timestamps </p>

<p>Definition at line <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00123">123</a> of file <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html">TriggerAlgoBase.h</a>.</p>

</div>
</div>
<a class="anchor" id="a17d1d02130f0c575b08e93d9765a3c8e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a> trigger::TriggerAlgoBase::_preceeding_slices</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>preceeding readout-window from trigger time stamp </p>

<p>Definition at line <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00117">117</a> of file <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html">TriggerAlgoBase.h</a>.</p>

</div>
</div>
<a class="anchor" id="af9418b96b84cd45ef14bdd7dab8fc4a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a> trigger::TriggerAlgoBase::_proceeding_slices</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>proceeding readout-window from trigger time stamp </p>

<p>Definition at line <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00120">120</a> of file <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html">TriggerAlgoBase.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae4053917de689b8c324e12dafa5c2d8a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool trigger::TriggerAlgoBase::_sim_done</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>run utility boolean, set to true after trigger simulation is run </p>

<p>Definition at line <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00126">126</a> of file <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html">TriggerAlgoBase.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab25b8f03c1c065c0f18073a92521e609"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a>,<a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a>&gt; trigger::TriggerAlgoBase::_time_windows</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>stores VALID readout trigger time windows </p>

<p>Definition at line <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00114">114</a> of file <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html">TriggerAlgoBase.h</a>.</p>

</div>
</div>
<a class="anchor" id="a138121f3b11a2648699e933a4370318f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="../../d2/de6/namespacetrigdata.html#a68c72d42b5534f06bcb8a22f5ed0acee">trigdata::TrigTimeSlice_t</a>&gt; trigger::TriggerAlgoBase::_timestamps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>stores CANDIDATE readout trigger timestamps </p>

<p>Definition at line <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html#l00111">111</a> of file <a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html">TriggerAlgoBase.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../da/d1c/TriggerAlgoBase_8h_source.html">TriggerAlgoBase.h</a></li>
<li><a class="el" href="../../dd/d4c/TriggerAlgoBase__service_8cc_source.html">TriggerAlgoBase_service.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
