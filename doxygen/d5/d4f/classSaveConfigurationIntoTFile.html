<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>SaveConfigurationIntoTFile Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d7/d82/classSaveConfigurationIntoTFile-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SaveConfigurationIntoTFile Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Writes the <em>art</em> configuration into the <code>TFileService</code> file.  
 <a href="../../d5/d4f/classSaveConfigurationIntoTFile.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for SaveConfigurationIntoTFile:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d5/d4f/classSaveConfigurationIntoTFile.png" usemap="#SaveConfigurationIntoTFile_map" alt=""/>
  <map id="SaveConfigurationIntoTFile_map" name="SaveConfigurationIntoTFile_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2e/structSaveConfigurationIntoTFile_1_1Config.html">Config</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a60224fde107b49d76838401651b8eb4d"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a60224fde107b49d76838401651b8eb4d">Parameters</a> = art::EDAnalyzer::Table&lt; <a class="el" href="../../d1/d2e/structSaveConfigurationIntoTFile_1_1Config.html">Config</a> &gt;</td></tr>
<tr class="separator:a60224fde107b49d76838401651b8eb4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a24516686ae5cd121239d82aba6782941"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a24516686ae5cd121239d82aba6782941">SaveConfigurationIntoTFile</a> (<a class="el" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a60224fde107b49d76838401651b8eb4d">Parameters</a> const &amp;config)</td></tr>
<tr class="memdesc:a24516686ae5cd121239d82aba6782941"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard <em>art</em> analyzer moduel constructor.  <a href="#a24516686ae5cd121239d82aba6782941">More...</a><br/></td></tr>
<tr class="separator:a24516686ae5cd121239d82aba6782941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60d4beede7b10f2e00b0491d48c34b3b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a60d4beede7b10f2e00b0491d48c34b3b">beginJob</a> () override</td></tr>
<tr class="memdesc:a60d4beede7b10f2e00b0491d48c34b3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the configuration information of the current process.  <a href="#a60d4beede7b10f2e00b0491d48c34b3b">More...</a><br/></td></tr>
<tr class="separator:a60d4beede7b10f2e00b0491d48c34b3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d1437e7874e5f3bc3cd0eb2ae3010e4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a9d1437e7874e5f3bc3cd0eb2ae3010e4">analyze</a> (art::Event const &amp;event) override</td></tr>
<tr class="memdesc:a9d1437e7874e5f3bc3cd0eb2ae3010e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the configuration information of the input processes.  <a href="#a9d1437e7874e5f3bc3cd0eb2ae3010e4">More...</a><br/></td></tr>
<tr class="separator:a9d1437e7874e5f3bc3cd0eb2ae3010e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a3147d0fd66d11b83efbbec79cc605aa2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a3147d0fd66d11b83efbbec79cc605aa2">saveProcessConfiguration</a> (std::string const &amp;procName, fhicl::ParameterSet const &amp;config)</td></tr>
<tr class="memdesc:a3147d0fd66d11b83efbbec79cc605aa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the specified configuration into a <a class="el" href="../../d0/d10/namespaceROOT.html">ROOT</a> directory.  <a href="#a3147d0fd66d11b83efbbec79cc605aa2">More...</a><br/></td></tr>
<tr class="separator:a3147d0fd66d11b83efbbec79cc605aa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42bec2117d10e9d9cdd7836287082c03"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a42bec2117d10e9d9cdd7836287082c03">isProcessConfigurationSaved</a> (std::string const &amp;procName) const </td></tr>
<tr class="memdesc:a42bec2117d10e9d9cdd7836287082c03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether we have already saved configuration for <code>procName</code>.  <a href="#a42bec2117d10e9d9cdd7836287082c03">More...</a><br/></td></tr>
<tr class="separator:a42bec2117d10e9d9cdd7836287082c03"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a3d77c4e914514e431165dbb2ac121327"><td class="memItemLeft" align="right" valign="top">static fhicl::ParameterSet&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a3d77c4e914514e431165dbb2ac121327">processConfiguration</a> (art::Event const &amp;event, std::string const &amp;procName)</td></tr>
<tr class="memdesc:a3d77c4e914514e431165dbb2ac121327"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts the configuration of the specified process from <code>event</code>.  <a href="#a3d77c4e914514e431165dbb2ac121327">More...</a><br/></td></tr>
<tr class="separator:a3d77c4e914514e431165dbb2ac121327"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55868ee9b8009e9ed9c06cb1a4571893"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a55868ee9b8009e9ed9c06cb1a4571893">storeString</a> (std::string const &amp;key, std::string const &amp;<a class="el" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>)</td></tr>
<tr class="memdesc:a55868ee9b8009e9ed9c06cb1a4571893"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves a string via <code>TFileService</code> (as <code>TNamed</code>).  <a href="#a55868ee9b8009e9ed9c06cb1a4571893">More...</a><br/></td></tr>
<tr class="separator:a55868ee9b8009e9ed9c06cb1a4571893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69d01a9b09bfb0e18066a82fff77fc37"><td class="memItemLeft" align="right" valign="top">static fhicl::ParameterSet&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a69d01a9b09bfb0e18066a82fff77fc37">currentProcessConfiguration</a> (std::string const &amp;procName)</td></tr>
<tr class="memdesc:a69d01a9b09bfb0e18066a82fff77fc37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the configuration of the current <em>art</em> process.  <a href="#a69d01a9b09bfb0e18066a82fff77fc37">More...</a><br/></td></tr>
<tr class="separator:a69d01a9b09bfb0e18066a82fff77fc37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a655bf614c55375fdfcef2cf1c95ef"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a09a655bf614c55375fdfcef2cf1c95ef">isProcessConfiguration</a> (fhicl::ParameterSet const &amp;pset)</td></tr>
<tr class="memdesc:a09a655bf614c55375fdfcef2cf1c95ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the specified one is a process configuration.  <a href="#a09a655bf614c55375fdfcef2cf1c95ef">More...</a><br/></td></tr>
<tr class="separator:a09a655bf614c55375fdfcef2cf1c95ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80375f9f86bcc7457059c0d459759d49"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a80375f9f86bcc7457059c0d459759d49">isProcessConfiguration</a> (fhicl::ParameterSet const &amp;pset, std::string const &amp;procName)</td></tr>
<tr class="memdesc:a80375f9f86bcc7457059c0d459759d49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether <code>pset</code> is the configuration of <code>procName</code> process.  <a href="#a80375f9f86bcc7457059c0d459759d49">More...</a><br/></td></tr>
<tr class="separator:a80375f9f86bcc7457059c0d459759d49"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad078600f8b6029411f46a674eeb5857d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#ad078600f8b6029411f46a674eeb5857d">fIncludePreviousProcesses</a> = false</td></tr>
<tr class="memdesc:ad078600f8b6029411f46a674eeb5857d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to save the configuration of the input file.  <a href="#ad078600f8b6029411f46a674eeb5857d">More...</a><br/></td></tr>
<tr class="separator:ad078600f8b6029411f46a674eeb5857d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38d39683d16f1c34d9b41b6800f91ff6"><td class="memItemLeft" align="right" valign="top">std::set&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a38d39683d16f1c34d9b41b6800f91ff6">fProcessedProcesses</a></td></tr>
<tr class="memdesc:a38d39683d16f1c34d9b41b6800f91ff6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process names already saved.  <a href="#a38d39683d16f1c34d9b41b6800f91ff6">More...</a><br/></td></tr>
<tr class="separator:a38d39683d16f1c34d9b41b6800f91ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Writes the <em>art</em> configuration into the <code>TFileService</code> file. </p>
<p>A <code>TStringObj</code> object is written into the directory assigned by <code>TFileService</code> to this analyzer for every selected process configuration. The <code>TObjString</code> will have the same <a class="el" href="../../d0/d10/namespaceROOT.html">ROOT</a> name as the process itself. In addition, the following are saved:</p>
<ul>
<li><code>current_process</code> (<code>TNamed</code>): the name of this process</li>
</ul>
<p>The selection of processes is controlled by the module configuration. The current process is always selected.</p>
<p>This module takes a simplistic approach, and prints only the first occurrence of each process name. When saving configuration of processes from the input files, and they contain different configurations for the same process name, only one of them (the first one encountered) will be saved.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000011">Todo:</a></b></dt><dd>Currently the author does not know how to extract the configuration of the current process, which is therefore a dummy</dd></dl>
<h1>Configuration parameters </h1>
<ul>
<li><b>includePreviousProcesses</b> (boolean, default: <code>false</code>): saves also the configuration of all the processes the input file has seen; this has limitations when there are multiple input files (see above). </li>
</ul>

<p>Definition at line <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00061">61</a> of file <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html">SaveConfigurationIntoTFile_module.cc</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a60224fde107b49d76838401651b8eb4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a60224fde107b49d76838401651b8eb4d">SaveConfigurationIntoTFile::Parameters</a> =  art::EDAnalyzer::Table&lt;<a class="el" href="../../d1/d2e/structSaveConfigurationIntoTFile_1_1Config.html">Config</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00078">78</a> of file <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html">SaveConfigurationIntoTFile_module.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a24516686ae5cd121239d82aba6782941"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SaveConfigurationIntoTFile::SaveConfigurationIntoTFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a60224fde107b49d76838401651b8eb4d">Parameters</a> const &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Standard <em>art</em> analyzer moduel constructor. </p>

<p>Definition at line <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00147">147</a> of file <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html">SaveConfigurationIntoTFile_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  : art::EDAnalyzer(config)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  , <a class="code" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#ad078600f8b6029411f46a674eeb5857d">fIncludePreviousProcesses</a>(config().includePreviousProcesses())</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  {}</div>
<div class="ttc" id="classSaveConfigurationIntoTFile_html_ad078600f8b6029411f46a674eeb5857d"><div class="ttname"><a href="../../d5/d4f/classSaveConfigurationIntoTFile.html#ad078600f8b6029411f46a674eeb5857d">SaveConfigurationIntoTFile::fIncludePreviousProcesses</a></div><div class="ttdeci">bool fIncludePreviousProcesses</div><div class="ttdoc">Whether to save the configuration of the input file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00093">SaveConfigurationIntoTFile_module.cc:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a9d1437e7874e5f3bc3cd0eb2ae3010e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SaveConfigurationIntoTFile::analyze </td>
          <td>(</td>
          <td class="paramtype">art::Event const &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes the configuration information of the input processes. </p>

<p>Definition at line <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00178">178</a> of file <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html">SaveConfigurationIntoTFile_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                                              {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="comment">// previous processes for input file</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#ad078600f8b6029411f46a674eeb5857d">fIncludePreviousProcesses</a>) { </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; procConfigInfo: event.processHistory()) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      std::string <span class="keyword">const</span>&amp; procName = procConfigInfo.processName();</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a42bec2117d10e9d9cdd7836287082c03">isProcessConfigurationSaved</a>(procName)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <a class="code" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a3147d0fd66d11b83efbbec79cc605aa2">saveProcessConfiguration</a></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        (procName, <a class="code" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a3d77c4e914514e431165dbb2ac121327">processConfiguration</a>(event, procName));</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      mf::LogInfo(<span class="stringliteral">&quot;SaveConfigurationIntoTFile&quot;</span>)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;Configuration of process &#39;&quot;</span> &lt;&lt; procName</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;&#39; from input file stored via TFileService.&quot;</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    } <span class="comment">// for process config</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  } <span class="comment">// if include history</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;} <span class="comment">// SaveConfigurationIntoTFile::analyze()</span></div>
<div class="ttc" id="classSaveConfigurationIntoTFile_html_a42bec2117d10e9d9cdd7836287082c03"><div class="ttname"><a href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a42bec2117d10e9d9cdd7836287082c03">SaveConfigurationIntoTFile::isProcessConfigurationSaved</a></div><div class="ttdeci">bool isProcessConfigurationSaved(std::string const &amp;procName) const </div><div class="ttdoc">Returns whether we have already saved configuration for procName. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00103">SaveConfigurationIntoTFile_module.cc:103</a></div></div>
<div class="ttc" id="classSaveConfigurationIntoTFile_html_a3147d0fd66d11b83efbbec79cc605aa2"><div class="ttname"><a href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a3147d0fd66d11b83efbbec79cc605aa2">SaveConfigurationIntoTFile::saveProcessConfiguration</a></div><div class="ttdeci">void saveProcessConfiguration(std::string const &amp;procName, fhicl::ParameterSet const &amp;config)</div><div class="ttdoc">Writes the specified configuration into a ROOT directory. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00201">SaveConfigurationIntoTFile_module.cc:201</a></div></div>
<div class="ttc" id="classSaveConfigurationIntoTFile_html_a3d77c4e914514e431165dbb2ac121327"><div class="ttname"><a href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a3d77c4e914514e431165dbb2ac121327">SaveConfigurationIntoTFile::processConfiguration</a></div><div class="ttdeci">static fhicl::ParameterSet processConfiguration(art::Event const &amp;event, std::string const &amp;procName)</div><div class="ttdoc">Extracts the configuration of the specified process from event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00216">SaveConfigurationIntoTFile_module.cc:216</a></div></div>
<div class="ttc" id="classSaveConfigurationIntoTFile_html_ad078600f8b6029411f46a674eeb5857d"><div class="ttname"><a href="../../d5/d4f/classSaveConfigurationIntoTFile.html#ad078600f8b6029411f46a674eeb5857d">SaveConfigurationIntoTFile::fIncludePreviousProcesses</a></div><div class="ttdeci">bool fIncludePreviousProcesses</div><div class="ttdoc">Whether to save the configuration of the input file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00093">SaveConfigurationIntoTFile_module.cc:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a60d4beede7b10f2e00b0491d48c34b3b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SaveConfigurationIntoTFile::beginJob </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes the configuration information of the current process. </p>

<p>Definition at line <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00154">154</a> of file <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html">SaveConfigurationIntoTFile_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                                          {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  std::string <span class="keyword">const</span> procName = processName();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">// current process</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  fhicl::ParameterSet pset = <a class="code" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a69d01a9b09bfb0e18066a82fff77fc37">currentProcessConfiguration</a>(procName);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  MF_LOG_DEBUG(<span class="stringliteral">&quot;SaveConfigurationIntoTFile&quot;</span>)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;This process: &#39;&quot;</span> &lt;&lt; procName &lt;&lt; <span class="stringliteral">&quot;&#39;:\n&quot;</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    &lt;&lt; std::string(80, <span class="charliteral">&#39;=&#39;</span>) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    &lt;&lt; pset.to_indented_string()</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    &lt;&lt; <span class="charliteral">&#39;\n&#39;</span> &lt;&lt; std::string(80, <span class="charliteral">&#39;=&#39;</span>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <a class="code" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a3147d0fd66d11b83efbbec79cc605aa2">saveProcessConfiguration</a>(procName, pset);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a55868ee9b8009e9ed9c06cb1a4571893">storeString</a>(<span class="stringliteral">&quot;current_process&quot;</span>, procName);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  mf::LogInfo(<span class="stringliteral">&quot;SaveConfigurationIntoTFile&quot;</span>)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;Configuration of current process (&#39;&quot;</span> &lt;&lt; procName</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&#39;) stored via TFileService.&quot;</span>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;} <span class="comment">// SaveConfigurationIntoTFile::beginJob()</span></div>
<div class="ttc" id="classSaveConfigurationIntoTFile_html_a69d01a9b09bfb0e18066a82fff77fc37"><div class="ttname"><a href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a69d01a9b09bfb0e18066a82fff77fc37">SaveConfigurationIntoTFile::currentProcessConfiguration</a></div><div class="ttdeci">static fhicl::ParameterSet currentProcessConfiguration(std::string const &amp;procName)</div><div class="ttdoc">Returns the configuration of the current art process. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00248">SaveConfigurationIntoTFile_module.cc:248</a></div></div>
<div class="ttc" id="classSaveConfigurationIntoTFile_html_a55868ee9b8009e9ed9c06cb1a4571893"><div class="ttname"><a href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a55868ee9b8009e9ed9c06cb1a4571893">SaveConfigurationIntoTFile::storeString</a></div><div class="ttdeci">static void storeString(std::string const &amp;key, std::string const &amp;value)</div><div class="ttdoc">Saves a string via TFileService (as TNamed). </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00226">SaveConfigurationIntoTFile_module.cc:226</a></div></div>
<div class="ttc" id="classSaveConfigurationIntoTFile_html_a3147d0fd66d11b83efbbec79cc605aa2"><div class="ttname"><a href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a3147d0fd66d11b83efbbec79cc605aa2">SaveConfigurationIntoTFile::saveProcessConfiguration</a></div><div class="ttdeci">void saveProcessConfiguration(std::string const &amp;procName, fhicl::ParameterSet const &amp;config)</div><div class="ttdoc">Writes the specified configuration into a ROOT directory. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00201">SaveConfigurationIntoTFile_module.cc:201</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a69d01a9b09bfb0e18066a82fff77fc37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">fhicl::ParameterSet SaveConfigurationIntoTFile::currentProcessConfiguration </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>procName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the configuration of the current <em>art</em> process. </p>

<p>Definition at line <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00248">248</a> of file <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html">SaveConfigurationIntoTFile_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;{</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">   * The strategy is to parse the global FHiCL registry (yes, there is such a</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">   * thing), looking for the table which contains &#39;process_name&#39;.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">   * This heuristic is not fool proof, since there might be other tables with</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">   * the same atom. So:</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">   * TODO find a way to ask art which is the root parameter set</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">   * The registry contains all root-level tables, including the main</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">   * configuration and other tables that are used to resolve references</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">   * (internally, references are not resolved to save space).</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">   * It turns out that when a fhicl::ParameterSet is created, all references</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">   * are resolved, so by the time we get the parameter sets we don&#39;t have to</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">   * worry to manually resolve the references. Which would not be fun.</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keyword">static</span> std::string <span class="keyword">const</span> rootKey { <span class="stringliteral">&quot;process_name&quot;</span> };</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  fhicl::ParameterSet <span class="keyword">const</span>* rootConfig = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; idAndSet: <a class="code" href="../../db/d87/PMTconfigurationExtraction__module_8cc.html#ac33ee765f5ad9f134540bac393721cfe">fhicl::ParameterSetRegistry::get</a>()) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span>&amp; pset = idAndSet.second;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a09a655bf614c55375fdfcef2cf1c95ef">isProcessConfiguration</a>(pset, procName)) {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="keywordflow">if</span> (rootConfig) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">throw</span> art::Exception(art::errors::LogicError)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;Found two candidate process parameter sets: with &quot;</span> &lt;&lt; rootKey</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;          &lt;&lt; <span class="stringliteral">&quot; &#39;&quot;</span> &lt;&lt; rootConfig-&gt;get&lt;std::string&gt;(rootKey) &lt;&lt; <span class="stringliteral">&quot;&#39; and &#39;&quot;</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;          &lt;&lt; pset.get&lt;std::string&gt;(rootKey) &lt;&lt; <span class="stringliteral">&quot;&#39;!\n&quot;</span>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      rootConfig = &amp;pset;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    } <span class="comment">// if found</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">if</span> (!rootConfig) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">throw</span> art::Exception(art::errors::LogicError)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;No parameter set with &#39;process_name&#39; atom found!\n&quot;</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">return</span> *rootConfig;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;} <span class="comment">// SaveConfigurationIntoTFile::currentProcessConfiguration()</span></div>
<div class="ttc" id="PMTconfigurationExtraction__module_8cc_html_ac33ee765f5ad9f134540bac393721cfe"><div class="ttname"><a href="../../db/d87/PMTconfigurationExtraction__module_8cc.html#ac33ee765f5ad9f134540bac393721cfe">get</a></div><div class="ttdeci">get()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d87/PMTconfigurationExtraction__module_8cc_source.html#l00168">PMTconfigurationExtraction_module.cc:168</a></div></div>
<div class="ttc" id="classSaveConfigurationIntoTFile_html_a09a655bf614c55375fdfcef2cf1c95ef"><div class="ttname"><a href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a09a655bf614c55375fdfcef2cf1c95ef">SaveConfigurationIntoTFile::isProcessConfiguration</a></div><div class="ttdeci">static bool isProcessConfiguration(fhicl::ParameterSet const &amp;pset)</div><div class="ttdoc">Returns whether the specified one is a process configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00292">SaveConfigurationIntoTFile_module.cc:292</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a09a655bf614c55375fdfcef2cf1c95ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SaveConfigurationIntoTFile::isProcessConfiguration </td>
          <td>(</td>
          <td class="paramtype">fhicl::ParameterSet const &amp;&#160;</td>
          <td class="paramname"><em>pset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the specified one is a process configuration. </p>

<p>Definition at line <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00292">292</a> of file <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html">SaveConfigurationIntoTFile_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;{</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">   * We are forced to parse the parameter set heuristically.</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">   * If a configuration is something like:</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">   *     </span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">   *     full_configuration: { ... }</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">   *     @table::full_configuration</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">   * the heuristic will match both the actual root configuration *and*</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">   * `full_configuration` parameter set (hint: put `full_configuration` within a</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">   * prolog). This may cause trouble downstream.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">   * Barred that case, the more detailed the logic here is, the less likely</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">   * a false positive is to happen.</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">if</span> (!::has_table   (pset, <span class="stringliteral">&quot;services&quot;</span>    )) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">if</span> (!::has_table   (pset, <span class="stringliteral">&quot;physics&quot;</span>     )) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">if</span> (!::has_table   (pset, <span class="stringliteral">&quot;source&quot;</span>      )) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">if</span> (!::has_atom    (pset, <span class="stringliteral">&quot;process_name&quot;</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordflow">if</span> (!::has_sequence(pset, <span class="stringliteral">&quot;physics.trigger_paths&quot;</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">if</span> (!::has_sequence(pset, <span class="stringliteral">&quot;physics.end_paths&quot;</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;} <span class="comment">// SaveConfigurationIntoTFile::isProcessConfiguration()</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a80375f9f86bcc7457059c0d459759d49"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SaveConfigurationIntoTFile::isProcessConfiguration </td>
          <td>(</td>
          <td class="paramtype">fhicl::ParameterSet const &amp;&#160;</td>
          <td class="paramname"><em>pset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>procName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether <code>pset</code> is the configuration of <code>procName</code> process. </p>

<p>Definition at line <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00322">322</a> of file <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html">SaveConfigurationIntoTFile_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;{</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a09a655bf614c55375fdfcef2cf1c95ef">isProcessConfiguration</a>(pset)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordflow">return</span> pset.get&lt;std::string&gt;(<span class="stringliteral">&quot;process_name&quot;</span>) == procName;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;} <span class="comment">// SaveConfigurationIntoTFile::isProcessConfiguration(std::string)</span></div>
<div class="ttc" id="classSaveConfigurationIntoTFile_html_a09a655bf614c55375fdfcef2cf1c95ef"><div class="ttname"><a href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a09a655bf614c55375fdfcef2cf1c95ef">SaveConfigurationIntoTFile::isProcessConfiguration</a></div><div class="ttdeci">static bool isProcessConfiguration(fhicl::ParameterSet const &amp;pset)</div><div class="ttdoc">Returns whether the specified one is a process configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00292">SaveConfigurationIntoTFile_module.cc:292</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a42bec2117d10e9d9cdd7836287082c03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SaveConfigurationIntoTFile::isProcessConfigurationSaved </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>procName</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether we have already saved configuration for <code>procName</code>. </p>

<p>Definition at line <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00103">103</a> of file <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html">SaveConfigurationIntoTFile_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    { <span class="keywordflow">return</span> <a class="code" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a38d39683d16f1c34d9b41b6800f91ff6">fProcessedProcesses</a>.count(procName) &gt; 0; }</div>
<div class="ttc" id="classSaveConfigurationIntoTFile_html_a38d39683d16f1c34d9b41b6800f91ff6"><div class="ttname"><a href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a38d39683d16f1c34d9b41b6800f91ff6">SaveConfigurationIntoTFile::fProcessedProcesses</a></div><div class="ttdeci">std::set&lt; std::string &gt; fProcessedProcesses</div><div class="ttdoc">Process names already saved. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00096">SaveConfigurationIntoTFile_module.cc:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3d77c4e914514e431165dbb2ac121327"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">fhicl::ParameterSet SaveConfigurationIntoTFile::processConfiguration </td>
          <td>(</td>
          <td class="paramtype">art::Event const &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>procName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts the configuration of the specified process from <code>event</code>. </p>

<p>Definition at line <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00216">216</a> of file <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html">SaveConfigurationIntoTFile_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;{</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  fhicl::ParameterSet pset;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keyword">event</span>.getProcessParameterSet(procName, pset);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">return</span> pset;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;} <span class="comment">// SaveConfigurationIntoTFile::processConfiguration()</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3147d0fd66d11b83efbbec79cc605aa2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SaveConfigurationIntoTFile::saveProcessConfiguration </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>procName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fhicl::ParameterSet const &amp;&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes the specified configuration into a <a class="el" href="../../d0/d10/namespaceROOT.html">ROOT</a> directory. </p>

<p>Definition at line <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00201">201</a> of file <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html">SaveConfigurationIntoTFile_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a38d39683d16f1c34d9b41b6800f91ff6">fProcessedProcesses</a>.count(procName) &gt; 0) <span class="keywordflow">return</span>; <span class="comment">// already saved</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <a class="code" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a55868ee9b8009e9ed9c06cb1a4571893">storeString</a>(procName, config.to_indented_string());</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <a class="code" href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a38d39683d16f1c34d9b41b6800f91ff6">fProcessedProcesses</a>.insert(procName);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;} <span class="comment">// SaveConfigurationIntoTFile::saveProcessConfiguration()</span></div>
<div class="ttc" id="classSaveConfigurationIntoTFile_html_a38d39683d16f1c34d9b41b6800f91ff6"><div class="ttname"><a href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a38d39683d16f1c34d9b41b6800f91ff6">SaveConfigurationIntoTFile::fProcessedProcesses</a></div><div class="ttdeci">std::set&lt; std::string &gt; fProcessedProcesses</div><div class="ttdoc">Process names already saved. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00096">SaveConfigurationIntoTFile_module.cc:96</a></div></div>
<div class="ttc" id="classSaveConfigurationIntoTFile_html_a55868ee9b8009e9ed9c06cb1a4571893"><div class="ttname"><a href="../../d5/d4f/classSaveConfigurationIntoTFile.html#a55868ee9b8009e9ed9c06cb1a4571893">SaveConfigurationIntoTFile::storeString</a></div><div class="ttdeci">static void storeString(std::string const &amp;key, std::string const &amp;value)</div><div class="ttdoc">Saves a string via TFileService (as TNamed). </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00226">SaveConfigurationIntoTFile_module.cc:226</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a55868ee9b8009e9ed9c06cb1a4571893"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SaveConfigurationIntoTFile::storeString </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Saves a string via <code>TFileService</code> (as <code>TNamed</code>). </p>

<p>Definition at line <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00226">226</a> of file <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html">SaveConfigurationIntoTFile_module.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">   * The following `TFileService::makeAndRegister()` call does two things:</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">   * 1) constructs a `TNamed` object with the _default constructor_</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">   * 2) assigns it the specified name and title</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">   * 3) adds the new object to the ROOT directory we are given.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">   * </span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">   * The first two operations might be combined by calling the proper</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">   * constructor, but the generic `makeAndRegister()` will always explicitly</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">   * perform action (2) anyway, while `make()` will not perform action (3)</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">   * at all, which appears to be required for successfully writing `TNamed`.</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">   * </span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span>&amp; fs = *(art::ServiceHandle&lt;art::TFileService&gt;());</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  fs.makeAndRegister&lt;TNamed&gt;(key.c_str(), <a class="code" href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a>.c_str());</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;} <span class="comment">// SaveConfigurationIntoTFile::storeString()</span></div>
<div class="ttc" id="pmtsimulation__icarus_8fcl_html_a9fc569190f32b40862f18ac3c03a8e49"><div class="ttname"><a href="../../da/d36/pmtsimulation__icarus_8fcl.html#a9fc569190f32b40862f18ac3c03a8e49">value</a></div><div class="ttdeci">temporary value</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d36/pmtsimulation__icarus_8fcl_source.html#l00216">pmtsimulation_icarus.fcl:216</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ad078600f8b6029411f46a674eeb5857d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SaveConfigurationIntoTFile::fIncludePreviousProcesses = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether to save the configuration of the input file. </p>

<p>Definition at line <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00093">93</a> of file <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html">SaveConfigurationIntoTFile_module.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a38d39683d16f1c34d9b41b6800f91ff6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;std::string&gt; SaveConfigurationIntoTFile::fProcessedProcesses</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process names already saved. </p>

<p>Definition at line <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html#l00096">96</a> of file <a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html">SaveConfigurationIntoTFile_module.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../d4/d10/SaveConfigurationIntoTFile__module_8cc_source.html">SaveConfigurationIntoTFile_module.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
