<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>lardata/lardata/RecoObjects/SurfXYZPlane.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_3c7faea33e00effae039ea7ff8ba6292.html">lardata</a></li><li class="navelem"><a class="el" href="dir_dffa0420082ce0990c4d8da6e1fb41bb.html">lardata</a></li><li class="navelem"><a class="el" href="dir_c122de74d4e83911c15c158bbcb3e7f6.html">RecoObjects</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<div class="title">SurfXYZPlane.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>General planar surface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="SurfPlane_8h_source.html">lardata/RecoObjects/SurfPlane.h</a>&quot;</code><br/>
</div>
<p><a href="SurfXYZPlane_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrkf_1_1SurfXYZPlane.html">trkf::SurfXYZPlane</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacetrkf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetrkf.html">trkf</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>General planar surface. </p>
<dl class="section author"><dt>Author</dt><dd>H. Greenlee</dd></dl>
<p>This class represents an (almost) general planar surface. It is intended to represent the measurement surface defined by a wire and the drift velocity in the case of a magnetic LAr TPC with a nonzero Lorentz angle.</p>
<p>In contrast to a completely general planar surface, the rotation part of the global to local coordinate transformation for this surface is defined by two rotation angles (not three Euler angles), which are the wire angle and the projected Lorentz angle. What we calling the projected Lorentz angle is the dihedral angle between the plane defined by the wire and the x-axis, and the plane defined by the wire and the drift velocity, which can be different for different views.</p>
<p>In the case of a nonzero Lorentz angle, the drift velocity is not perpendicular to a readout wire, so the drift velocity vector will not coincide with a coordinate axis in the local coordinate system. Nevertheless, the projected Lorentz angle provides sufficient information to implement the prediction function for this type of surface, provided the drift velocity perpendicular to the readout planes (which is the same for every view) is available externally.</p>
<p>This surface is defined by five parameters, which are, (x0, y0, z0) - Local origin. phi - Rotation angle around x-axis (wire angle). theta - Rotation angle around y'-axis (projected Lorentz angle).</p>
<p>The local uvw coordinate system is related to the global xyz coordinate system via an intermediate x'y'z' system as follows.</p>
<p>x' = x-x0 y' = (y-y0)*cos(phi) + (z-z0)*sin(phi) z' = -(y-y0)*sin(phi) + (z-z0)*cos(phi)</p>
<p>u = x'*cos(theta) - z'*sin(theta) v = y' w = x'*sin(theta) + z'*cos(theta)</p>
<p>u = (x-x0)*cos(theta) + (y-y0)*sin(theta)*sin(phi) - (z-z0)*sin(theta)*cos(phi) v = (y-y0)*cos(phi) + (z-z0)*sin(phi) w = (x-x0)*sin(theta) - (y-y0)*cos(theta)*sin(phi) + (z-z0)*cos(theta)*cos(phi)</p>
<p>or inversely,</p>
<p>x' = u*cos(theta) + w*sin(theta) y' = v z' = -u*sin(theta) + w*cos(theta)</p>
<p>x = x0 + x' y = y0 + y'*cos(phi) - z'*sin(phi) z = z0 + y'*sin(phi) + z'*cos(phi)</p>
<p>x = x0 + u*cos(theta) + w*sin(theta) y = y0 + u*sin(theta)*sin(phi) + v*cos(phi) - w*cos(theta)*sin(phi) z = z0 - u*sin(theta)*cos(phi) + v*sin(phi) + w*cos(theta)*cos(phi)</p>
<p><a class="el" href="structTrack.html">Track</a> parameters on this type of surface are as follows.</p>
<ol type="1">
<li>u</li>
<li>v</li>
<li>du/dw</li>
<li>dv/dw</li>
<li>1/p (nonmagnetic) or q/p (magnetic) </li>
</ol>

<p>Definition in file <a class="el" href="SurfXYZPlane_8h_source.html">SurfXYZPlane.h</a>.</p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
