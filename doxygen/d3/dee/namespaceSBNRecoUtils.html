<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>SBNRecoUtils Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="../../namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SBNRecoUtils Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab66a8d0532adf877920070af797c2205"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html">geo::BoxBoundedGeo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/namespaceSBNRecoUtils.html#ab66a8d0532adf877920070af797c2205">ActiveVolumes</a> (const <a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a> *<a class="el" href="../../dd/d33/NuVertexChargeTree__module_8cc.html#ad544178eb97bd705ef1dc4dc3e72b405">geometry</a>)</td></tr>
<tr class="separator:ab66a8d0532adf877920070af797c2205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2304083e5195491cc531b0adcb28dfb"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector<br class="typebreak"/>
&lt; <a class="el" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html">geo::BoxBoundedGeo</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/namespaceSBNRecoUtils.html#ae2304083e5195491cc531b0adcb28dfb">TPCVolumes</a> (const <a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a> *<a class="el" href="../../dd/d33/NuVertexChargeTree__module_8cc.html#ad544178eb97bd705ef1dc4dc3e72b405">geometry</a>)</td></tr>
<tr class="separator:ae2304083e5195491cc531b0adcb28dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac15a0a6bf85faafe36b796db66ab631b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html">geo::BoxBoundedGeo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/namespaceSBNRecoUtils.html#ac15a0a6bf85faafe36b796db66ab631b">DetectorVolume</a> (const <a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a> *<a class="el" href="../../dd/d33/NuVertexChargeTree__module_8cc.html#ad544178eb97bd705ef1dc4dc3e72b405">geometry</a>)</td></tr>
<tr class="separator:ac15a0a6bf85faafe36b796db66ab631b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a664cc67c526abfb695cf533f65ad25af"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/namespaceSBNRecoUtils.html#a664cc67c526abfb695cf533f65ad25af">MaxLength</a> (const <a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a> *<a class="el" href="../../dd/d33/NuVertexChargeTree__module_8cc.html#ad544178eb97bd705ef1dc4dc3e72b405">geometry</a>)</td></tr>
<tr class="separator:a664cc67c526abfb695cf533f65ad25af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97049cd5d5401bd1ab9bd5965124437c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/namespaceSBNRecoUtils.html#a97049cd5d5401bd1ab9bd5965124437c">TrueParticleID</a> (const <a class="el" href="../../d3/dc6/classcore_1_1ProviderManager.html">core::ProviderManager</a> &amp;manager, const art::Ptr&lt; <a class="el" href="../../db/d4e/classrecob_1_1Hit.html">recob::Hit</a> &gt; <a class="el" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>, bool rollup_unsaved_ids=1)</td></tr>
<tr class="separator:a97049cd5d5401bd1ab9bd5965124437c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dbb13e2511a13c62eb810f0ad95a265"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/namespaceSBNRecoUtils.html#a3dbb13e2511a13c62eb810f0ad95a265">TrueParticleIDFromTotalTrueEnergy</a> (const <a class="el" href="../../d3/dc6/classcore_1_1ProviderManager.html">core::ProviderManager</a> &amp;manager, const std::vector&lt; art::Ptr&lt; <a class="el" href="../../db/d4e/classrecob_1_1Hit.html">recob::Hit</a> &gt; &gt; &amp;hits, bool rollup_unsaved_ids=1)</td></tr>
<tr class="separator:a3dbb13e2511a13c62eb810f0ad95a265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab55f3d1e7d9773f469329c5a558df5a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/namespaceSBNRecoUtils.html#ab55f3d1e7d9773f469329c5a558df5a3">TrueParticleIDFromTotalRecoCharge</a> (const <a class="el" href="../../d3/dc6/classcore_1_1ProviderManager.html">core::ProviderManager</a> &amp;manager, const std::vector&lt; art::Ptr&lt; <a class="el" href="../../db/d4e/classrecob_1_1Hit.html">recob::Hit</a> &gt; &gt; &amp;hits, bool rollup_unsaved_ids=1)</td></tr>
<tr class="separator:ab55f3d1e7d9773f469329c5a558df5a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7086c51c9b9df35fa070fbc80106fee5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/namespaceSBNRecoUtils.html#a7086c51c9b9df35fa070fbc80106fee5">TrueParticleIDFromTotalRecoHits</a> (const <a class="el" href="../../d3/dc6/classcore_1_1ProviderManager.html">core::ProviderManager</a> &amp;manager, const std::vector&lt; art::Ptr&lt; <a class="el" href="../../db/d4e/classrecob_1_1Hit.html">recob::Hit</a> &gt; &gt; &amp;hits, bool rollup_unsaved_ids=1)</td></tr>
<tr class="separator:a7086c51c9b9df35fa070fbc80106fee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dc0e1b38134954f66f4977ee8159fc7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/namespaceSBNRecoUtils.html#a8dc0e1b38134954f66f4977ee8159fc7">IsInsideTPC</a> (const <a class="el" href="../../d3/dc6/classcore_1_1ProviderManager.html">core::ProviderManager</a> &amp;manager, TVector3 position, double distance_buffer)</td></tr>
<tr class="separator:a8dc0e1b38134954f66f4977ee8159fc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1216902578b31b2865ff0aa114a41bba"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/namespaceSBNRecoUtils.html#a1216902578b31b2865ff0aa114a41bba">CalculateTrackLength</a> (const <a class="el" href="../../d3/dc6/classcore_1_1ProviderManager.html">core::ProviderManager</a> &amp;manager, const art::Ptr&lt; <a class="el" href="../../d9/dca/classrecob_1_1Track.html">recob::Track</a> &gt; <a class="el" href="../../d2/d36/cheaterreco_8fcl.html#a28c0dbee66013190c19011b54bbcc9e0">track</a>)</td></tr>
<tr class="separator:a1216902578b31b2865ff0aa114a41bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aead4df956537a1a861704792c3611bb2"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/namespaceSBNRecoUtils.html#aead4df956537a1a861704792c3611bb2">TrackCompletion</a> (const <a class="el" href="../../d3/dc6/classcore_1_1ProviderManager.html">core::ProviderManager</a> &amp;manager, int mcparticle_id, const std::vector&lt; art::Ptr&lt; <a class="el" href="../../db/d4e/classrecob_1_1Hit.html">recob::Hit</a> &gt;&gt; &amp;reco_track_hits)</td></tr>
<tr class="separator:aead4df956537a1a861704792c3611bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab66a8d0532adf877920070af797c2205"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html">geo::BoxBoundedGeo</a> &gt; SBNRecoUtils::ActiveVolumes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a> *&#160;</td>
          <td class="paramname"><em>geometry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d80/GeoUtil_8cc_source.html#l00003">3</a> of file <a class="el" href="../../d7/d80/GeoUtil_8cc_source.html">GeoUtil.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;                                                                                       {</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  std::vector&lt;std::vector&lt;geo::BoxBoundedGeo&gt;&gt; tpc_volumes = <a class="code" href="../../d3/dee/namespaceSBNRecoUtils.html#ae2304083e5195491cc531b0adcb28dfb">TPCVolumes</a>(geometry);;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  std::vector&lt;geo::BoxBoundedGeo&gt; active_volumes;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  <span class="comment">// make each cryostat volume a box enclosing all tpc volumes</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> std::vector&lt;geo::BoxBoundedGeo&gt; &amp;tpcs: tpc_volumes) {</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <span class="keywordtype">double</span> XMin = std::min_element(tpcs.begin(), tpcs.end(), [](<span class="keyword">auto</span> &amp;lhs, <span class="keyword">auto</span> &amp;rhs) { <span class="keywordflow">return</span> lhs.MinX() &lt; rhs.MinX(); })-&gt;MinX();</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    <span class="keywordtype">double</span> YMin = std::min_element(tpcs.begin(), tpcs.end(), [](<span class="keyword">auto</span> &amp;lhs, <span class="keyword">auto</span> &amp;rhs) { <span class="keywordflow">return</span> lhs.MinY() &lt; rhs.MinY(); })-&gt;MinY();</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    <span class="keywordtype">double</span> ZMin = std::min_element(tpcs.begin(), tpcs.end(), [](<span class="keyword">auto</span> &amp;lhs, <span class="keyword">auto</span> &amp;rhs) { <span class="keywordflow">return</span> lhs.MinZ() &lt; rhs.MinZ(); })-&gt;MinZ();</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <span class="keywordtype">double</span> XMax = std::max_element(tpcs.begin(), tpcs.end(), [](<span class="keyword">auto</span> &amp;lhs, <span class="keyword">auto</span> &amp;rhs) { <span class="keywordflow">return</span> lhs.MaxX() &lt; rhs.MaxX(); })-&gt;MaxX();</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="keywordtype">double</span> YMax = std::max_element(tpcs.begin(), tpcs.end(), [](<span class="keyword">auto</span> &amp;lhs, <span class="keyword">auto</span> &amp;rhs) { <span class="keywordflow">return</span> lhs.MaxY() &lt; rhs.MaxY(); })-&gt;MaxY();</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="keywordtype">double</span> ZMax = std::max_element(tpcs.begin(), tpcs.end(), [](<span class="keyword">auto</span> &amp;lhs, <span class="keyword">auto</span> &amp;rhs) { <span class="keywordflow">return</span> lhs.MaxZ() &lt; rhs.MaxZ(); })-&gt;MaxZ();</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    active_volumes.emplace_back(XMin, XMax, YMin, YMax, ZMin, ZMax);</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;  } </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;  <span class="keywordflow">return</span> active_volumes;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;}</div>
<div class="ttc" id="namespaceSBNRecoUtils_html_ae2304083e5195491cc531b0adcb28dfb"><div class="ttname"><a href="../../d3/dee/namespaceSBNRecoUtils.html#ae2304083e5195491cc531b0adcb28dfb">SBNRecoUtils::TPCVolumes</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; geo::BoxBoundedGeo &gt; &gt; TPCVolumes(const geo::GeometryCore *geometry)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d80/GeoUtil_8cc_source.html#l00049">GeoUtil.cc:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1216902578b31b2865ff0aa114a41bba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double SBNRecoUtils::CalculateTrackLength </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/dc6/classcore_1_1ProviderManager.html">core::ProviderManager</a> &amp;&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const art::Ptr&lt; <a class="el" href="../../d9/dca/classrecob_1_1Track.html">recob::Track</a> &gt;&#160;</td>
          <td class="paramname"><em>track</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/dbe/sbnana_2sbnanalysis_2ana_2SBNOscReco_2RecoUtils_2RecoUtils_8cc_source.html#l00163">163</a> of file <a class="el" href="../../d8/dbe/sbnana_2sbnanalysis_2ana_2SBNOscReco_2RecoUtils_2RecoUtils_8cc_source.html">sbnana/sbnanalysis/ana/SBNOscReco/RecoUtils/RecoUtils.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                                                                                                           {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordtype">double</span> length = 0;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../df/df2/standard__reco_8fcl.html#a8e7c4631bab825a68b0a82d8223c2ec2">track</a>-&gt;NumberTrajectoryPoints()==1) <span class="keywordflow">return</span> length; <span class="comment">//Nothing to calculate if there is only one point</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i_tp = 0; i_tp &lt; <a class="code" href="../../df/df2/standard__reco_8fcl.html#a8e7c4631bab825a68b0a82d8223c2ec2">track</a>-&gt;NumberTrajectoryPoints()-1; i_tp++){ <span class="comment">//Loop from the first to 2nd to last point</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    TVector3 this_point(<a class="code" href="../../df/df2/standard__reco_8fcl.html#a8e7c4631bab825a68b0a82d8223c2ec2">track</a>-&gt;TrajectoryPoint(i_tp).position.X(),<a class="code" href="../../df/df2/standard__reco_8fcl.html#a8e7c4631bab825a68b0a82d8223c2ec2">track</a>-&gt;TrajectoryPoint(i_tp).position.Y(),<a class="code" href="../../df/df2/standard__reco_8fcl.html#a8e7c4631bab825a68b0a82d8223c2ec2">track</a>-&gt;TrajectoryPoint(i_tp).position.Z());</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d3/dee/namespaceSBNRecoUtils.html#a8dc0e1b38134954f66f4977ee8159fc7">SBNRecoUtils::IsInsideTPC</a>(manager, this_point,0)){</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;SBNRecoUtils::CalculateTrackLength - Current trajectory point not in the TPC volume.  Skip over this point in the track length calculation&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    TVector3 next_point(<a class="code" href="../../df/df2/standard__reco_8fcl.html#a8e7c4631bab825a68b0a82d8223c2ec2">track</a>-&gt;TrajectoryPoint(i_tp+1).position.X(),<a class="code" href="../../df/df2/standard__reco_8fcl.html#a8e7c4631bab825a68b0a82d8223c2ec2">track</a>-&gt;TrajectoryPoint(i_tp+1).position.Y(),<a class="code" href="../../df/df2/standard__reco_8fcl.html#a8e7c4631bab825a68b0a82d8223c2ec2">track</a>-&gt;TrajectoryPoint(i_tp+1).position.Z());</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d3/dee/namespaceSBNRecoUtils.html#a8dc0e1b38134954f66f4977ee8159fc7">SBNRecoUtils::IsInsideTPC</a>(manager, next_point,0)){</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;SBNRecoUtils::CalculateTrackLength - Next trajectory point not in the TPC volume.  Skip over this point in the track length calculation&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    length+=(next_point-this_point).Mag();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">return</span> length;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div>
<div class="ttc" id="standard__reco_8fcl_html_a8e7c4631bab825a68b0a82d8223c2ec2"><div class="ttname"><a href="../../df/df2/standard__reco_8fcl.html#a8e7c4631bab825a68b0a82d8223c2ec2">track</a></div><div class="ttdeci">process_name use argoneut_mc_hitfinder track</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df2/standard__reco_8fcl_source.html#l00036">standard_reco.fcl:36</a></div></div>
<div class="ttc" id="namespaceSBNRecoUtils_html_a8dc0e1b38134954f66f4977ee8159fc7"><div class="ttname"><a href="../../d3/dee/namespaceSBNRecoUtils.html#a8dc0e1b38134954f66f4977ee8159fc7">SBNRecoUtils::IsInsideTPC</a></div><div class="ttdeci">bool IsInsideTPC(const core::ProviderManager &amp;manager, TVector3 position, double distance_buffer)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbe/sbnana_2sbnanalysis_2ana_2SBNOscReco_2RecoUtils_2RecoUtils_8cc_source.html#l00113">sbnana/sbnanalysis/ana/SBNOscReco/RecoUtils/RecoUtils.cc:113</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac15a0a6bf85faafe36b796db66ab631b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html">geo::BoxBoundedGeo</a> SBNRecoUtils::DetectorVolume </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a> *&#160;</td>
          <td class="paramname"><em>geometry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d80/GeoUtil_8cc_source.html#l00035">35</a> of file <a class="el" href="../../d7/d80/GeoUtil_8cc_source.html">GeoUtil.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                                                                             {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  std::vector&lt;geo::BoxBoundedGeo&gt; active_volumes = <a class="code" href="../../d3/dee/namespaceSBNRecoUtils.html#ab66a8d0532adf877920070af797c2205">ActiveVolumes</a>(geometry);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="keywordtype">double</span> XMin = std::min_element(active_volumes.begin(), active_volumes.end(), [](<span class="keyword">auto</span> &amp;lhs, <span class="keyword">auto</span> &amp;rhs) { <span class="keywordflow">return</span> lhs.MinX() &lt; rhs.MinX(); })-&gt;MinX();</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="keywordtype">double</span> YMin = std::min_element(active_volumes.begin(), active_volumes.end(), [](<span class="keyword">auto</span> &amp;lhs, <span class="keyword">auto</span> &amp;rhs) { <span class="keywordflow">return</span> lhs.MinY() &lt; rhs.MinY(); })-&gt;MinY();</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordtype">double</span> ZMin = std::min_element(active_volumes.begin(), active_volumes.end(), [](<span class="keyword">auto</span> &amp;lhs, <span class="keyword">auto</span> &amp;rhs) { <span class="keywordflow">return</span> lhs.MinZ() &lt; rhs.MinZ(); })-&gt;MinZ();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keywordtype">double</span> XMax = std::max_element(active_volumes.begin(), active_volumes.end(), [](<span class="keyword">auto</span> &amp;lhs, <span class="keyword">auto</span> &amp;rhs) { <span class="keywordflow">return</span> lhs.MaxX() &lt; rhs.MaxX(); })-&gt;MaxX();</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keywordtype">double</span> YMax = std::max_element(active_volumes.begin(), active_volumes.end(), [](<span class="keyword">auto</span> &amp;lhs, <span class="keyword">auto</span> &amp;rhs) { <span class="keywordflow">return</span> lhs.MaxY() &lt; rhs.MaxY(); })-&gt;MaxY();</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keywordtype">double</span> ZMax = std::max_element(active_volumes.begin(), active_volumes.end(), [](<span class="keyword">auto</span> &amp;lhs, <span class="keyword">auto</span> &amp;rhs) { <span class="keywordflow">return</span> lhs.MaxZ() &lt; rhs.MaxZ(); })-&gt;MaxZ();</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html">geo::BoxBoundedGeo</a>(XMin, XMax, YMin, YMax, ZMin, ZMax);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div>
<div class="ttc" id="namespaceSBNRecoUtils_html_ab66a8d0532adf877920070af797c2205"><div class="ttname"><a href="../../d3/dee/namespaceSBNRecoUtils.html#ab66a8d0532adf877920070af797c2205">SBNRecoUtils::ActiveVolumes</a></div><div class="ttdeci">std::vector&lt; geo::BoxBoundedGeo &gt; ActiveVolumes(const geo::GeometryCore *geometry)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d80/GeoUtil_8cc_source.html#l00003">GeoUtil.cc:3</a></div></div>
<div class="ttc" id="classgeo_1_1BoxBoundedGeo_html"><div class="ttname"><a href="../../db/d54/classgeo_1_1BoxBoundedGeo.html">geo::BoxBoundedGeo</a></div><div class="ttdoc">A base class aware of world box coordinatesAn object describing a simple shape can inherit from this ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d92/BoxBoundedGeo_8h_source.html#l00033">BoxBoundedGeo.h:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8dc0e1b38134954f66f4977ee8159fc7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SBNRecoUtils::IsInsideTPC </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/dc6/classcore_1_1ProviderManager.html">core::ProviderManager</a> &amp;&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TVector3&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>distance_buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/dbe/sbnana_2sbnanalysis_2ana_2SBNOscReco_2RecoUtils_2RecoUtils_8cc_source.html#l00113">113</a> of file <a class="el" href="../../d8/dbe/sbnana_2sbnanalysis_2ana_2SBNOscReco_2RecoUtils_2RecoUtils_8cc_source.html">sbnana/sbnanalysis/ana/SBNOscReco/RecoUtils/RecoUtils.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                                                                                           {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordtype">double</span> vtx[3] = {position.X(), position.Y(), position.Z()};</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordtype">bool</span> inside = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a>* geom = manager.<a class="code" href="../../d3/dc6/classcore_1_1ProviderManager.html#adebc85bc37adff704832557fe2c99bcc">GetGeometryProvider</a>();</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a> idtpc = geom-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#a7953310daac7f0bf2f57ceb9760e278f">FindTPCAtPosition</a>(vtx);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">if</span> (geom-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#a3942e436222d0761305606d2db9ef0bb">HasTPC</a>(idtpc))</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d9/dff/classgeo_1_1TPCGeo.html">geo::TPCGeo</a>&amp; tpcgeo = geom-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#a726d568ab88c86b98146f99678568d8e">GetElement</a>(idtpc);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordtype">double</span> minx = tpcgeo.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#afd042da19afb090ba80e93ee64d4dec5">MinX</a>(); <span class="keywordtype">double</span> maxx = tpcgeo.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#ae141949f30631ded82199f4375c21b7e">MaxX</a>();</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordtype">double</span> miny = tpcgeo.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#abc0cab4f0fcd826d11aaa8b3dfb2de02">MinY</a>(); <span class="keywordtype">double</span> maxy = tpcgeo.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#a71626e62af098d6a8c09dd97bbf4812b">MaxY</a>();</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordtype">double</span> minz = tpcgeo.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#a67f01c76c031e29c5bcc610f23a0be85">MinZ</a>(); <span class="keywordtype">double</span> maxz = tpcgeo.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#aff3c6d62c880e387d35ab093bdbdcffc">MaxZ</a>();</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> c = 0; c &lt; geom-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#ab4691c2dc44983f6082defa5a34cb001">Ncryostats</a>(); c++)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../de/da3/classgeo_1_1CryostatGeo.html">geo::CryostatGeo</a>&amp; cryostat = geom-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#a4fc7bfd4e3413fb5c25ca3c72906acac">Cryostat</a>(c);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> t = 0; t &lt; cryostat.<a class="code" href="../../de/da3/classgeo_1_1CryostatGeo.html#a2f01042b5618212a40a63bb4ea1ff8f2">NTPC</a>(); t++)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../d9/dff/classgeo_1_1TPCGeo.html">geo::TPCGeo</a>&amp; tpcg = cryostat.<a class="code" href="../../de/da3/classgeo_1_1CryostatGeo.html#a15e1909a67a64f7880720a7c9ff80a64">TPC</a>(t);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">if</span> (tpcg.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#afd042da19afb090ba80e93ee64d4dec5">MinX</a>() &lt; minx) minx = tpcg.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#afd042da19afb090ba80e93ee64d4dec5">MinX</a>();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">if</span> (tpcg.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#ae141949f30631ded82199f4375c21b7e">MaxX</a>() &gt; maxx) maxx = tpcg.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#ae141949f30631ded82199f4375c21b7e">MaxX</a>();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">if</span> (tpcg.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#abc0cab4f0fcd826d11aaa8b3dfb2de02">MinY</a>() &lt; miny) miny = tpcg.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#abc0cab4f0fcd826d11aaa8b3dfb2de02">MinY</a>();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">if</span> (tpcg.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#a71626e62af098d6a8c09dd97bbf4812b">MaxY</a>() &gt; maxy) maxy = tpcg.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#a71626e62af098d6a8c09dd97bbf4812b">MaxY</a>();</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">if</span> (tpcg.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#a67f01c76c031e29c5bcc610f23a0be85">MinZ</a>() &lt; minz) minz = tpcg.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#a67f01c76c031e29c5bcc610f23a0be85">MinZ</a>();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">if</span> (tpcg.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#aff3c6d62c880e387d35ab093bdbdcffc">MaxZ</a>() &gt; maxz) maxz = tpcg.<a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#aff3c6d62c880e387d35ab093bdbdcffc">MaxZ</a>();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">//x</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordtype">double</span> dista = fabs(minx - position.X());</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordtype">double</span> distb = fabs(position.X() - maxx);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> ((position.X() &gt; minx) &amp;&amp; (position.X() &lt; maxx) &amp;&amp;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        (dista &gt; distance_buffer) &amp;&amp; (distb &gt; distance_buffer)) inside = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">//y</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    dista = fabs(maxy - position.Y());</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    distb = fabs(position.Y() - miny);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> (inside &amp;&amp; (position.Y() &gt; miny) &amp;&amp; (position.Y() &lt; maxy) &amp;&amp;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        (dista &gt; distance_buffer) &amp;&amp; (distb &gt; distance_buffer)) inside = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">else</span> inside = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">//z</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    dista = fabs(maxz - position.Z());</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    distb = fabs(position.Z() - minz);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">if</span> (inside &amp;&amp; (position.Z() &gt; minz) &amp;&amp; (position.Z() &lt; maxz) &amp;&amp;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        (dista &gt; distance_buffer) &amp;&amp; (distb &gt; distance_buffer)) inside = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">else</span> inside = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">return</span> inside;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_a726d568ab88c86b98146f99678568d8e"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#a726d568ab88c86b98146f99678568d8e">geo::GeometryCore::GetElement</a></div><div class="ttdeci">CryostatGeo const &amp; GetElement(geo::CryostatID const &amp;cryoid) const </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de7/GeometryCore_8h_source.html#l02041">GeometryCore.h:2041</a></div></div>
<div class="ttc" id="classgeo_1_1BoxBoundedGeo_html_afd042da19afb090ba80e93ee64d4dec5"><div class="ttname"><a href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#afd042da19afb090ba80e93ee64d4dec5">geo::BoxBoundedGeo::MinX</a></div><div class="ttdeci">double MinX() const </div><div class="ttdoc">Returns the world x coordinate of the start of the box. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d92/BoxBoundedGeo_8h_source.html#l00088">BoxBoundedGeo.h:88</a></div></div>
<div class="ttc" id="classgeo_1_1TPCGeo_html"><div class="ttname"><a href="../../d9/dff/classgeo_1_1TPCGeo.html">geo::TPCGeo</a></div><div class="ttdoc">Geometry information for a single TPC. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/TPCGeo_8h_source.html#l00038">TPCGeo.h:38</a></div></div>
<div class="ttc" id="classgeo_1_1BoxBoundedGeo_html_ae141949f30631ded82199f4375c21b7e"><div class="ttname"><a href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#ae141949f30631ded82199f4375c21b7e">geo::BoxBoundedGeo::MaxX</a></div><div class="ttdeci">double MaxX() const </div><div class="ttdoc">Returns the world x coordinate of the end of the box. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d92/BoxBoundedGeo_8h_source.html#l00091">BoxBoundedGeo.h:91</a></div></div>
<div class="ttc" id="classgeo_1_1CryostatGeo_html"><div class="ttname"><a href="../../de/da3/classgeo_1_1CryostatGeo.html">geo::CryostatGeo</a></div><div class="ttdoc">Geometry information for a single cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d13/CryostatGeo_8h_source.html#l00043">CryostatGeo.h:43</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_ab4691c2dc44983f6082defa5a34cb001"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#ab4691c2dc44983f6082defa5a34cb001">geo::GeometryCore::Ncryostats</a></div><div class="ttdeci">unsigned int Ncryostats() const </div><div class="ttdoc">Returns the number of cryostats in the detector. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de7/GeometryCore_8h_source.html#l02002">GeometryCore.h:2002</a></div></div>
<div class="ttc" id="classcore_1_1ProviderManager_html_adebc85bc37adff704832557fe2c99bcc"><div class="ttname"><a href="../../d3/dc6/classcore_1_1ProviderManager.html#adebc85bc37adff704832557fe2c99bcc">core::ProviderManager::GetGeometryProvider</a></div><div class="ttdeci">const geo::GeometryCore * GetGeometryProvider() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5c/ProviderManager_8hh_source.html#l00056">ProviderManager.hh:56</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_a7953310daac7f0bf2f57ceb9760e278f"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#a7953310daac7f0bf2f57ceb9760e278f">geo::GeometryCore::FindTPCAtPosition</a></div><div class="ttdeci">geo::TPCID FindTPCAtPosition(double const worldLoc[3]) const </div><div class="ttdoc">Returns the ID of the TPC at specified location. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de7/GeometryCore_8h_source.html#l02462">GeometryCore.h:2462</a></div></div>
<div class="ttc" id="classgeo_1_1BoxBoundedGeo_html_a67f01c76c031e29c5bcc610f23a0be85"><div class="ttname"><a href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#a67f01c76c031e29c5bcc610f23a0be85">geo::BoxBoundedGeo::MinZ</a></div><div class="ttdeci">double MinZ() const </div><div class="ttdoc">Returns the world z coordinate of the start of the box. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d92/BoxBoundedGeo_8h_source.html#l00118">BoxBoundedGeo.h:118</a></div></div>
<div class="ttc" id="classgeo_1_1CryostatGeo_html_a2f01042b5618212a40a63bb4ea1ff8f2"><div class="ttname"><a href="../../de/da3/classgeo_1_1CryostatGeo.html#a2f01042b5618212a40a63bb4ea1ff8f2">geo::CryostatGeo::NTPC</a></div><div class="ttdeci">unsigned int NTPC() const </div><div class="ttdoc">Number of TPCs in this cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d13/CryostatGeo_8h_source.html#l00181">CryostatGeo.h:181</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_a4fc7bfd4e3413fb5c25ca3c72906acac"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#a4fc7bfd4e3413fb5c25ca3c72906acac">geo::GeometryCore::Cryostat</a></div><div class="ttdeci">CryostatGeo const &amp; Cryostat(geo::CryostatID const &amp;cryoid) const </div><div class="ttdoc">Returns the specified cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6a/GeometryCore_8cxx_source.html#l00321">GeometryCore.cxx:321</a></div></div>
<div class="ttc" id="structgeo_1_1TPCID_html"><div class="ttname"><a href="../../d2/d4d/structgeo_1_1TPCID.html">geo::TPCID</a></div><div class="ttdoc">The data type to uniquely identify a TPC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d48/geo__types_8h_source.html#l00386">geo_types.h:386</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a></div><div class="ttdoc">Description of geometry of one entire detector. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de7/GeometryCore_8h_source.html#l01476">GeometryCore.h:1476</a></div></div>
<div class="ttc" id="classgeo_1_1BoxBoundedGeo_html_a71626e62af098d6a8c09dd97bbf4812b"><div class="ttname"><a href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#a71626e62af098d6a8c09dd97bbf4812b">geo::BoxBoundedGeo::MaxY</a></div><div class="ttdeci">double MaxY() const </div><div class="ttdoc">Returns the world y coordinate of the end of the box. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d92/BoxBoundedGeo_8h_source.html#l00106">BoxBoundedGeo.h:106</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_a3942e436222d0761305606d2db9ef0bb"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#a3942e436222d0761305606d2db9ef0bb">geo::GeometryCore::HasTPC</a></div><div class="ttdeci">bool HasTPC(geo::TPCID const &amp;tpcid) const </div><div class="ttdoc">Returns whether we have the specified TPC. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de7/GeometryCore_8h_source.html#l02405">GeometryCore.h:2405</a></div></div>
<div class="ttc" id="classgeo_1_1CryostatGeo_html_a15e1909a67a64f7880720a7c9ff80a64"><div class="ttname"><a href="../../de/da3/classgeo_1_1CryostatGeo.html#a15e1909a67a64f7880720a7c9ff80a64">geo::CryostatGeo::TPC</a></div><div class="ttdeci">const TPCGeo &amp; TPC(unsigned int itpc) const </div><div class="ttdoc">Return the itpc&amp;#39;th TPC in the cryostat. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d90/CryostatGeo_8cxx_source.html#l00093">CryostatGeo.cxx:93</a></div></div>
<div class="ttc" id="classgeo_1_1BoxBoundedGeo_html_aff3c6d62c880e387d35ab093bdbdcffc"><div class="ttname"><a href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#aff3c6d62c880e387d35ab093bdbdcffc">geo::BoxBoundedGeo::MaxZ</a></div><div class="ttdeci">double MaxZ() const </div><div class="ttdoc">Returns the world z coordinate of the end of the box. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d92/BoxBoundedGeo_8h_source.html#l00121">BoxBoundedGeo.h:121</a></div></div>
<div class="ttc" id="classgeo_1_1BoxBoundedGeo_html_abc0cab4f0fcd826d11aaa8b3dfb2de02"><div class="ttname"><a href="../../db/d54/classgeo_1_1BoxBoundedGeo.html#abc0cab4f0fcd826d11aaa8b3dfb2de02">geo::BoxBoundedGeo::MinY</a></div><div class="ttdeci">double MinY() const </div><div class="ttdoc">Returns the world y coordinate of the start of the box. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d92/BoxBoundedGeo_8h_source.html#l00103">BoxBoundedGeo.h:103</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a664cc67c526abfb695cf533f65ad25af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double SBNRecoUtils::MaxLength </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a> *&#160;</td>
          <td class="paramname"><em>geometry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d80/GeoUtil_8cc_source.html#l00022">22</a> of file <a class="el" href="../../d7/d80/GeoUtil_8cc_source.html">GeoUtil.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;                                                              {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  std::vector&lt;geo::BoxBoundedGeo&gt; active_volumes = <a class="code" href="../../d3/dee/namespaceSBNRecoUtils.html#ab66a8d0532adf877920070af797c2205">ActiveVolumes</a>(geometry);</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;  <span class="keywordtype">double</span> max_length = -1;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html">geo::BoxBoundedGeo</a> &amp;vol: active_volumes) {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d5/df9/find__global__symbol_8sh.html#ae2fcd9af85e9525dadab1ac2cb45a22d">X</a> = vol.MaxX() - vol.MinX();</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordtype">double</span> Y = vol.MaxY() - vol.MinY();</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordtype">double</span> Z = vol.MaxZ() - vol.MinZ();</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keywordtype">double</span> this_length = sqrt(X*X + Y*Y + Z*Z);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">if</span> (this_length &gt; max_length) max_length = this_length;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  }</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="keywordflow">return</span> max_length;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;}</div>
<div class="ttc" id="namespaceSBNRecoUtils_html_ab66a8d0532adf877920070af797c2205"><div class="ttname"><a href="../../d3/dee/namespaceSBNRecoUtils.html#ab66a8d0532adf877920070af797c2205">SBNRecoUtils::ActiveVolumes</a></div><div class="ttdeci">std::vector&lt; geo::BoxBoundedGeo &gt; ActiveVolumes(const geo::GeometryCore *geometry)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d80/GeoUtil_8cc_source.html#l00003">GeoUtil.cc:3</a></div></div>
<div class="ttc" id="find__global__symbol_8sh_html_ae2fcd9af85e9525dadab1ac2cb45a22d"><div class="ttname"><a href="../../d5/df9/find__global__symbol_8sh.html#ae2fcd9af85e9525dadab1ac2cb45a22d">X</a></div><div class="ttdeci">then echo echo For and will not be changed by echo further linking echo echo B echo The symbol is in the uninitialized data multiple common symbols may appear with the echo same name If the symbol is defined the common echo symbols are treated as undefined references For more echo details on common see the discussion of warn common echo in *Note Linker see the discussion of warn common echo in *Note Linker such as a global int variable echo as opposed to a large global array echo echo I echo The symbol is an indirect reference to another symbol This echo is a GNU extension to the a out object file format which is echo rarely used echo echo N echo The symbol is a debugging symbol echo echo R echo The symbol is in a read only data section echo echo S echo The symbol is in an uninitialized data section for small echo objects echo echo T echo The symbol is in the the normal defined echo symbol is used with no error When a weak undefined symbol echo is linked and the symbol is not the value of the echo weak symbol becomes zero with no error echo echo W echo The symbol is a weak symbol that has not been specifically echo tagged as a weak object symbol When a weak defined symbol echo is linked with a normal defined the normal defined echo symbol is used with no error When a weak undefined symbol echo is linked and the symbol is not the value of the echo weak symbol becomes zero with no error echo echo echo The symbol is a stabs symbol in an a out object file In echo this the next values printed are the stabs other echo the stabs desc and the stab type Stabs symbols are echo used to hold debugging information For more echo see *Note or object file format specific echo echo For Mac OS X</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df9/find__global__symbol_8sh_source.html#l00107">find_global_symbol.sh:107</a></div></div>
<div class="ttc" id="classgeo_1_1BoxBoundedGeo_html"><div class="ttname"><a href="../../db/d54/classgeo_1_1BoxBoundedGeo.html">geo::BoxBoundedGeo</a></div><div class="ttdoc">A base class aware of world box coordinatesAn object describing a simple shape can inherit from this ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d92/BoxBoundedGeo_8h_source.html#l00033">BoxBoundedGeo.h:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae2304083e5195491cc531b0adcb28dfb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt; <a class="el" href="../../db/d54/classgeo_1_1BoxBoundedGeo.html">geo::BoxBoundedGeo</a> &gt; &gt; SBNRecoUtils::TPCVolumes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d63/classgeo_1_1GeometryCore.html">geo::GeometryCore</a> *&#160;</td>
          <td class="paramname"><em>geometry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d80/GeoUtil_8cc_source.html#l00049">49</a> of file <a class="el" href="../../d7/d80/GeoUtil_8cc_source.html">GeoUtil.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                                                                                               {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  std::vector&lt;std::vector&lt;geo::BoxBoundedGeo&gt;&gt; tpc_volumes;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;cryo: geometry-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#a6a80d135e7146eedd7c40fb23864aff3">IterateCryostats</a>()) {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="../../d3/d1a/classgeo_1_1details_1_1geometry__element__iterator.html">geo::GeometryCore::TPC_iterator</a> iTPC = geometry-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#ad41eeaffc6fffe29567223789e255489">begin_TPC</a>(cryo.ID()),</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                                    tend = geometry-&gt;<a class="code" href="../../d7/d63/classgeo_1_1GeometryCore.html#ad5f42c7fb57037b973db92bfa9984c15">end_TPC</a>(cryo.ID());</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    std::vector&lt;geo::BoxBoundedGeo&gt; this_tpc_volumes;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">while</span> (iTPC != tend) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <a class="code" href="../../d9/dff/classgeo_1_1TPCGeo.html">geo::TPCGeo</a> <span class="keyword">const</span>&amp; <a class="code" href="../../d4/d22/sbnd__flashalgo_8fcl.html#a648c7afac4085c93cd1ba4a75dfe8818">TPC</a> = *iTPC;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      this_tpc_volumes.push_back(TPC.<a class="code" href="../../d9/dff/classgeo_1_1TPCGeo.html#a660a7a6b893390ca0cf521f87d06d7bc">ActiveBoundingBox</a>());</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      iTPC++;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    }</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;     tpc_volumes.push_back(std::move(this_tpc_volumes));</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordflow">return</span> tpc_volumes;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div>
<div class="ttc" id="classgeo_1_1TPCGeo_html"><div class="ttname"><a href="../../d9/dff/classgeo_1_1TPCGeo.html">geo::TPCGeo</a></div><div class="ttdoc">Geometry information for a single TPC. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/TPCGeo_8h_source.html#l00038">TPCGeo.h:38</a></div></div>
<div class="ttc" id="classgeo_1_1TPCGeo_html_a660a7a6b893390ca0cf521f87d06d7bc"><div class="ttname"><a href="../../d9/dff/classgeo_1_1TPCGeo.html#a660a7a6b893390ca0cf521f87d06d7bc">geo::TPCGeo::ActiveBoundingBox</a></div><div class="ttdeci">geo::BoxBoundedGeo const &amp; ActiveBoundingBox() const </div><div class="ttdoc">Returns the box of the active volume of this TPC. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/TPCGeo_8h_source.html#l00320">TPCGeo.h:320</a></div></div>
<div class="ttc" id="sbnd__flashalgo_8fcl_html_a648c7afac4085c93cd1ba4a75dfe8818"><div class="ttname"><a href="../../d4/d22/sbnd__flashalgo_8fcl.html#a648c7afac4085c93cd1ba4a75dfe8818">TPC</a></div><div class="ttdeci">BEGIN_PROLOG TPC</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d22/sbnd__flashalgo_8fcl_source.html#l00014">sbnd_flashalgo.fcl:14</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_ad41eeaffc6fffe29567223789e255489"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#ad41eeaffc6fffe29567223789e255489">geo::GeometryCore::begin_TPC</a></div><div class="ttdeci">TPC_iterator begin_TPC() const </div><div class="ttdoc">Returns an iterator pointing to the first TPC in the detector. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de7/GeometryCore_8h_source.html#l02570">GeometryCore.h:2570</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_a6a80d135e7146eedd7c40fb23864aff3"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#a6a80d135e7146eedd7c40fb23864aff3">geo::GeometryCore::IterateCryostats</a></div><div class="ttdeci">IteratorBox&lt; cryostat_iterator,&amp;GeometryCore::begin_cryostat,&amp;GeometryCore::end_cryostat &gt; IterateCryostats() const </div><div class="ttdoc">Enables ranged-for loops on all cryostats of the detector. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de7/GeometryCore_8h_source.html#l02206">GeometryCore.h:2206</a></div></div>
<div class="ttc" id="classgeo_1_1details_1_1geometry__element__iterator_html"><div class="ttname"><a href="../../d3/d1a/classgeo_1_1details_1_1geometry__element__iterator.html">geo::details::geometry_element_iterator</a></div><div class="ttdoc">Forward iterator browsing all geometry elements in the detector. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de7/GeometryCore_8h_source.html#l00727">GeometryCore.h:727</a></div></div>
<div class="ttc" id="classgeo_1_1GeometryCore_html_ad5f42c7fb57037b973db92bfa9984c15"><div class="ttname"><a href="../../d7/d63/classgeo_1_1GeometryCore.html#ad5f42c7fb57037b973db92bfa9984c15">geo::GeometryCore::end_TPC</a></div><div class="ttdeci">TPC_iterator end_TPC() const </div><div class="ttdoc">Returns an iterator pointing after the last TPC in the detector. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de7/GeometryCore_8h_source.html#l02574">GeometryCore.h:2574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aead4df956537a1a861704792c3611bb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double SBNRecoUtils::TrackCompletion </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/dc6/classcore_1_1ProviderManager.html">core::ProviderManager</a> &amp;&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mcparticle_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; art::Ptr&lt; <a class="el" href="../../db/d4e/classrecob_1_1Hit.html">recob::Hit</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>reco_track_hits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/dbe/sbnana_2sbnanalysis_2ana_2SBNOscReco_2RecoUtils_2RecoUtils_8cc_source.html#l00184">184</a> of file <a class="el" href="../../d8/dbe/sbnana_2sbnanalysis_2ana_2SBNOscReco_2RecoUtils_2RecoUtils_8cc_source.html">sbnana/sbnanalysis/ana/SBNOscReco/RecoUtils/RecoUtils.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                                                                                                                              {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="comment">// get handle to back tracker</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="../../d3/d0d/classcheat_1_1BackTracker.html">cheat::BackTracker</a> *bt = manager.<a class="code" href="../../d3/dc6/classcore_1_1ProviderManager.html#aff0f59bab6768fad71d4289ece24e828">GetBackTrackerProvider</a>();</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">// get all the IDE&#39;s of the truth track</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keyword">const</span> std::vector&lt;const sim::IDE*&gt; mcparticle_ides = bt-&gt;<a class="code" href="../../d3/d0d/classcheat_1_1BackTracker.html#af8625cccf83df6bd8fdfcc805cc6787c">TrackIdToSimIDEs_Ps</a>(mcparticle_id);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="comment">// sum it up</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordtype">double</span> mcparticle_energy = 0.;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;ide: mcparticle_ides) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    mcparticle_energy += ide-&gt;energy;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="comment">// get all the hits of the reco track that match the truth track</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keyword">const</span> std::vector&lt;art::Ptr&lt;recob::Hit&gt;&gt; matched_reco_track_hits = bt-&gt;<a class="code" href="../../d3/d0d/classcheat_1_1BackTracker.html#a29db6465adf46a1660de89e2515e2cac">TrackIdToHits_Ps</a>(mcparticle_id, reco_track_hits);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">// for each of the hits get the energy coming from the track</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordtype">double</span> matched_reco_energy = 0.;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;matched_reco_track_hit: matched_reco_track_hits) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    std::vector&lt;sim::IDE&gt; this_hit_IDEs = bt-&gt;<a class="code" href="../../d3/d0d/classcheat_1_1BackTracker.html#aa5b34b7c57e14b4d28730bf32a388023">HitToAvgSimIDEs</a>(*matched_reco_track_hit);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;ide: this_hit_IDEs) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">if</span> (ide.trackID == mcparticle_id) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        matched_reco_energy += ide.energy;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">return</span> matched_reco_energy / mcparticle_energy;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div>
<div class="ttc" id="classcore_1_1ProviderManager_html_aff0f59bab6768fad71d4289ece24e828"><div class="ttname"><a href="../../d3/dc6/classcore_1_1ProviderManager.html#aff0f59bab6768fad71d4289ece24e828">core::ProviderManager::GetBackTrackerProvider</a></div><div class="ttdeci">cheat::BackTracker * GetBackTrackerProvider() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5c/ProviderManager_8hh_source.html#l00076">ProviderManager.hh:76</a></div></div>
<div class="ttc" id="classcheat_1_1BackTracker_html_a29db6465adf46a1660de89e2515e2cac"><div class="ttname"><a href="../../d3/d0d/classcheat_1_1BackTracker.html#a29db6465adf46a1660de89e2515e2cac">cheat::BackTracker::TrackIdToHits_Ps</a></div><div class="ttdeci">std::vector&lt; art::Ptr&lt; recob::Hit &gt; &gt; TrackIdToHits_Ps(detinfo::DetectorClocksData const &amp;clockData, int tkId, std::vector&lt; art::Ptr&lt; recob::Hit &gt;&gt; const &amp;hitsIn) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d57/BackTracker_8cc_source.html#l00235">BackTracker.cc:235</a></div></div>
<div class="ttc" id="classcheat_1_1BackTracker_html"><div class="ttname"><a href="../../d3/d0d/classcheat_1_1BackTracker.html">cheat::BackTracker</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbd/BackTracker_8h_source.html#l00039">BackTracker.h:39</a></div></div>
<div class="ttc" id="classcheat_1_1BackTracker_html_af8625cccf83df6bd8fdfcc805cc6787c"><div class="ttname"><a href="../../d3/d0d/classcheat_1_1BackTracker.html#af8625cccf83df6bd8fdfcc805cc6787c">cheat::BackTracker::TrackIdToSimIDEs_Ps</a></div><div class="ttdeci">std::vector&lt; const sim::IDE * &gt; TrackIdToSimIDEs_Ps(int const &amp;id) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d57/BackTracker_8cc_source.html#l00063">BackTracker.cc:63</a></div></div>
<div class="ttc" id="classcheat_1_1BackTracker_html_aa5b34b7c57e14b4d28730bf32a388023"><div class="ttname"><a href="../../d3/d0d/classcheat_1_1BackTracker.html#aa5b34b7c57e14b4d28730bf32a388023">cheat::BackTracker::HitToAvgSimIDEs</a></div><div class="ttdeci">std::vector&lt; sim::IDE &gt; HitToAvgSimIDEs(detinfo::DetectorClocksData const &amp;clockData, recob::Hit const &amp;hit) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d57/BackTracker_8cc_source.html#l00305">BackTracker.cc:305</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a97049cd5d5401bd1ab9bd5965124437c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SBNRecoUtils::TrueParticleID </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/dc6/classcore_1_1ProviderManager.html">core::ProviderManager</a> &amp;&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const art::Ptr&lt; <a class="el" href="../../db/d4e/classrecob_1_1Hit.html">recob::Hit</a> &gt;&#160;</td>
          <td class="paramname"><em>hit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>rollup_unsaved_ids</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/dbe/sbnana_2sbnanalysis_2ana_2SBNOscReco_2RecoUtils_2RecoUtils_8cc_source.html#l00003">3</a> of file <a class="el" href="../../d8/dbe/sbnana_2sbnanalysis_2ana_2SBNOscReco_2RecoUtils_2RecoUtils_8cc_source.html">sbnana/sbnanalysis/ana/SBNOscReco/RecoUtils/RecoUtils.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;                                                                                                                        {</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  std::map&lt;int,double&gt; id_to_energy_map;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d3/d0d/classcheat_1_1BackTracker.html">cheat::BackTracker</a> *bt_serv = manager.<a class="code" href="../../d3/dc6/classcore_1_1ProviderManager.html#aff0f59bab6768fad71d4289ece24e828">GetBackTrackerProvider</a>();</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  std::vector&lt;sim::TrackIDE&gt; track_ides = bt_serv-&gt;<a class="code" href="../../d3/d0d/classcheat_1_1BackTracker.html#a635b8f6bc1458d3403935e9b40e885dd">HitToTrackIDEs</a>(<a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a>);</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idIt = 0; idIt &lt; track_ides.size(); ++idIt) {</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    <span class="keywordtype">int</span> <span class="keywordtype">id</span> = track_ides.at(idIt).trackID;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <span class="keywordflow">if</span> (rollup_unsaved_ids) <span class="keywordtype">id</span> = <a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    <span class="keywordtype">double</span> energy = track_ides.at(idIt).energy;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    id_to_energy_map[id]+=energy;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;  }</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;  <span class="comment">//Now loop over the map to find the maximum contributor</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;  <span class="keywordtype">double</span> likely_particle_contrib_energy = -99999;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;  <span class="keywordtype">int</span> likely_track_id = 0;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;  <span class="keywordflow">for</span> (std::map&lt;int,double&gt;::iterator mapIt = id_to_energy_map.begin(); mapIt != id_to_energy_map.end(); mapIt++){</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <span class="keywordtype">double</span> particle_contrib_energy = mapIt-&gt;second;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <span class="keywordflow">if</span> (particle_contrib_energy &gt; likely_particle_contrib_energy){</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;      likely_particle_contrib_energy = particle_contrib_energy;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;      likely_track_id = mapIt-&gt;first;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    }</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;  }</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  <span class="keywordflow">return</span> likely_track_id;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;}</div>
<div class="ttc" id="cheaterreco_8fcl_html_abf2e819dbf4c327e098bebd4b2dc0597"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a></div><div class="ttdeci">process_name hit</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="classcore_1_1ProviderManager_html_aff0f59bab6768fad71d4289ece24e828"><div class="ttname"><a href="../../d3/dc6/classcore_1_1ProviderManager.html#aff0f59bab6768fad71d4289ece24e828">core::ProviderManager::GetBackTrackerProvider</a></div><div class="ttdeci">cheat::BackTracker * GetBackTrackerProvider() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5c/ProviderManager_8hh_source.html#l00076">ProviderManager.hh:76</a></div></div>
<div class="ttc" id="classcheat_1_1BackTracker_html_a635b8f6bc1458d3403935e9b40e885dd"><div class="ttname"><a href="../../d3/d0d/classcheat_1_1BackTracker.html#a635b8f6bc1458d3403935e9b40e885dd">cheat::BackTracker::HitToTrackIDEs</a></div><div class="ttdeci">std::vector&lt; sim::TrackIDE &gt; HitToTrackIDEs(detinfo::DetectorClocksData const &amp;clockData, recob::Hit const &amp;hit) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d57/BackTracker_8cc_source.html#l00178">BackTracker.cc:178</a></div></div>
<div class="ttc" id="sparse__vector__test_8cc_html_a39f16bf854ba527dee7eba5bbbd93f3f"><div class="ttname"><a href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a></div><div class="ttdeci">T abs(T value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d59/sparse__vector__test_8cc_source.html#l00030">sparse_vector_test.cc:30</a></div></div>
<div class="ttc" id="classcheat_1_1BackTracker_html"><div class="ttname"><a href="../../d3/d0d/classcheat_1_1BackTracker.html">cheat::BackTracker</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbd/BackTracker_8h_source.html#l00039">BackTracker.h:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab55f3d1e7d9773f469329c5a558df5a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SBNRecoUtils::TrueParticleIDFromTotalRecoCharge </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/dc6/classcore_1_1ProviderManager.html">core::ProviderManager</a> &amp;&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; art::Ptr&lt; <a class="el" href="../../db/d4e/classrecob_1_1Hit.html">recob::Hit</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>hits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>rollup_unsaved_ids</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/dbe/sbnana_2sbnanalysis_2ana_2SBNOscReco_2RecoUtils_2RecoUtils_8cc_source.html#l00058">58</a> of file <a class="el" href="../../d8/dbe/sbnana_2sbnanalysis_2ana_2SBNOscReco_2RecoUtils_2RecoUtils_8cc_source.html">sbnana/sbnanalysis/ana/SBNOscReco/RecoUtils/RecoUtils.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                                                                                                                                                         {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="comment">// Make a map of the tracks which are associated with this object and the charge each contributes</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  std::map&lt;int,double&gt; trackMap;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../db/dfa/namespacelar_1_1dump.html#a71d4403edbac4d265176f8677118194f">std::vector</a>&lt;art::Ptr&lt;recob::Hit&gt; &gt;::const_iterator hitIt = hits.begin(); hitIt != hits.end(); ++hitIt) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    art::Ptr&lt;recob::Hit&gt; <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a> = *hitIt;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordtype">int</span> trackID = <a class="code" href="../../da/d9a/namespaceRecoUtils.html#ab46194101a92d6375f168c9397a4aefc">TrueParticleID</a>(manager, hit, rollup_unsaved_ids);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    trackMap[trackID] += hit-&gt;Integral();</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// Pick the track with the highest charge as the &#39;true track&#39;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordtype">double</span> highestCharge = 0;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordtype">int</span> objectTrack = -99999;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">for</span> (std::map&lt;int,double&gt;::iterator trackIt = trackMap.begin(); trackIt != trackMap.end(); ++trackIt) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span> (trackIt-&gt;second &gt; highestCharge) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      highestCharge = trackIt-&gt;second;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      objectTrack  = trackIt-&gt;first;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">return</span> objectTrack;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
<div class="ttc" id="cheaterreco_8fcl_html_abf2e819dbf4c327e098bebd4b2dc0597"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a></div><div class="ttdeci">process_name hit</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="namespacelar_1_1dump_html_a71d4403edbac4d265176f8677118194f"><div class="ttname"><a href="../../db/dfa/namespacelar_1_1dump.html#a71d4403edbac4d265176f8677118194f">lar::dump::vector</a></div><div class="ttdeci">auto vector(Vector const &amp;v)</div><div class="ttdoc">Returns a manipulator which will print the specified array. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da9/DumpUtils_8h_source.html#l00265">DumpUtils.h:265</a></div></div>
<div class="ttc" id="namespaceRecoUtils_html_ab46194101a92d6375f168c9397a4aefc"><div class="ttname"><a href="../../da/d9a/namespaceRecoUtils.html#ab46194101a92d6375f168c9397a4aefc">RecoUtils::TrueParticleID</a></div><div class="ttdeci">int TrueParticleID(detinfo::DetectorClocksData const &amp;clockData, const art::Ptr&lt; recob::Hit &gt; hit, bool rollup_unsaved_ids=1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/icaruscode_2icaruscode_2CRT_2CRTUtils_2RecoUtils_8cc_source.html#l00004">icaruscode/icaruscode/CRT/CRTUtils/RecoUtils.cc:4</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7086c51c9b9df35fa070fbc80106fee5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SBNRecoUtils::TrueParticleIDFromTotalRecoHits </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/dc6/classcore_1_1ProviderManager.html">core::ProviderManager</a> &amp;&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; art::Ptr&lt; <a class="el" href="../../db/d4e/classrecob_1_1Hit.html">recob::Hit</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>hits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>rollup_unsaved_ids</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/dbe/sbnana_2sbnanalysis_2ana_2SBNOscReco_2RecoUtils_2RecoUtils_8cc_source.html#l00081">81</a> of file <a class="el" href="../../d8/dbe/sbnana_2sbnanalysis_2ana_2SBNOscReco_2RecoUtils_2RecoUtils_8cc_source.html">sbnana/sbnanalysis/ana/SBNOscReco/RecoUtils/RecoUtils.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                                                                                                                                       {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="comment">// Make a map of the tracks which are associated with this object and the number of hits they are the primary contributor to</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  std::map&lt;int,int&gt; trackMap;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../db/dfa/namespacelar_1_1dump.html#a71d4403edbac4d265176f8677118194f">std::vector</a>&lt;art::Ptr&lt;recob::Hit&gt; &gt;::const_iterator hitIt = hits.begin(); hitIt != hits.end(); ++hitIt) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    art::Ptr&lt;recob::Hit&gt; <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a> = *hitIt;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordtype">int</span> trackID = <a class="code" href="../../da/d9a/namespaceRecoUtils.html#ab46194101a92d6375f168c9397a4aefc">TrueParticleID</a>(manager, hit, rollup_unsaved_ids);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    trackMap[trackID]++;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="comment">// Pick the track which is the primary contributor to the most hits as the &#39;true track&#39;</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordtype">int</span> objectTrack = -99999;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordtype">int</span> highestCount = -1;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordtype">int</span> NHighestCounts = 0;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">for</span> (std::map&lt;int,int&gt;::iterator trackIt = trackMap.begin(); trackIt != trackMap.end(); ++trackIt) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span> (trackIt-&gt;second &gt; highestCount) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      highestCount = trackIt-&gt;second;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      objectTrack  = trackIt-&gt;first;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      NHighestCounts = 1;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (trackIt-&gt;second == highestCount){</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      NHighestCounts++;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">if</span> (NHighestCounts &gt; 1){</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;SBNRecoUtils::TrueParticleIDFromTotalRecoHits - There are &quot;</span> &lt;&lt; NHighestCounts &lt;&lt; <span class="stringliteral">&quot; particles which tie for highest number of contributing hits (&quot;</span> &lt;&lt; highestCount&lt;&lt;<span class="stringliteral">&quot; hits).  Using SBNRecoUtils::TrueParticleIDFromTotalTrueEnergy instead.&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    objectTrack = <a class="code" href="../../d3/dee/namespaceSBNRecoUtils.html#a3dbb13e2511a13c62eb810f0ad95a265">SBNRecoUtils::TrueParticleIDFromTotalTrueEnergy</a>(manager, hits,rollup_unsaved_ids);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">return</span> objectTrack;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div>
<div class="ttc" id="cheaterreco_8fcl_html_abf2e819dbf4c327e098bebd4b2dc0597"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a></div><div class="ttdeci">process_name hit</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="namespacelar_1_1dump_html_a71d4403edbac4d265176f8677118194f"><div class="ttname"><a href="../../db/dfa/namespacelar_1_1dump.html#a71d4403edbac4d265176f8677118194f">lar::dump::vector</a></div><div class="ttdeci">auto vector(Vector const &amp;v)</div><div class="ttdoc">Returns a manipulator which will print the specified array. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da9/DumpUtils_8h_source.html#l00265">DumpUtils.h:265</a></div></div>
<div class="ttc" id="namespaceSBNRecoUtils_html_a3dbb13e2511a13c62eb810f0ad95a265"><div class="ttname"><a href="../../d3/dee/namespaceSBNRecoUtils.html#a3dbb13e2511a13c62eb810f0ad95a265">SBNRecoUtils::TrueParticleIDFromTotalTrueEnergy</a></div><div class="ttdeci">int TrueParticleIDFromTotalTrueEnergy(const core::ProviderManager &amp;manager, const std::vector&lt; art::Ptr&lt; recob::Hit &gt; &gt; &amp;hits, bool rollup_unsaved_ids=1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbe/sbnana_2sbnanalysis_2ana_2SBNOscReco_2RecoUtils_2RecoUtils_8cc_source.html#l00028">sbnana/sbnanalysis/ana/SBNOscReco/RecoUtils/RecoUtils.cc:28</a></div></div>
<div class="ttc" id="messageservice_8fcl_html_a6699b4dbd72f548e48d81c88697d35a6"><div class="ttname"><a href="../../d8/df5/messageservice_8fcl.html#a6699b4dbd72f548e48d81c88697d35a6">cout</a></div><div class="ttdeci">BEGIN_PROLOG could also be cout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/messageservice_8fcl_source.html#l00010">messageservice.fcl:10</a></div></div>
<div class="ttc" id="namespaceRecoUtils_html_ab46194101a92d6375f168c9397a4aefc"><div class="ttname"><a href="../../da/d9a/namespaceRecoUtils.html#ab46194101a92d6375f168c9397a4aefc">RecoUtils::TrueParticleID</a></div><div class="ttdeci">int TrueParticleID(detinfo::DetectorClocksData const &amp;clockData, const art::Ptr&lt; recob::Hit &gt; hit, bool rollup_unsaved_ids=1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/icaruscode_2icaruscode_2CRT_2CRTUtils_2RecoUtils_8cc_source.html#l00004">icaruscode/icaruscode/CRT/CRTUtils/RecoUtils.cc:4</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3dbb13e2511a13c62eb810f0ad95a265"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SBNRecoUtils::TrueParticleIDFromTotalTrueEnergy </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/dc6/classcore_1_1ProviderManager.html">core::ProviderManager</a> &amp;&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; art::Ptr&lt; <a class="el" href="../../db/d4e/classrecob_1_1Hit.html">recob::Hit</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>hits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>rollup_unsaved_ids</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/dbe/sbnana_2sbnanalysis_2ana_2SBNOscReco_2RecoUtils_2RecoUtils_8cc_source.html#l00028">28</a> of file <a class="el" href="../../d8/dbe/sbnana_2sbnanalysis_2ana_2SBNOscReco_2RecoUtils_2RecoUtils_8cc_source.html">sbnana/sbnanalysis/ana/SBNOscReco/RecoUtils/RecoUtils.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                                                                                                                                                         {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d3/d0d/classcheat_1_1BackTracker.html">cheat::BackTracker</a> *bt_serv = manager.<a class="code" href="../../d3/dc6/classcore_1_1ProviderManager.html#aff0f59bab6768fad71d4289ece24e828">GetBackTrackerProvider</a>();</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  std::map&lt;int,double&gt; trackIDToEDepMap;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../db/dfa/namespacelar_1_1dump.html#a71d4403edbac4d265176f8677118194f">std::vector</a>&lt;art::Ptr&lt;recob::Hit&gt; &gt;::const_iterator hitIt = hits.begin(); hitIt != hits.end(); ++hitIt) {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    art::Ptr&lt;recob::Hit&gt; <a class="code" href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a> = *hitIt;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    std::vector&lt;sim::TrackIDE&gt; trackIDs = bt_serv-&gt;<a class="code" href="../../d3/d0d/classcheat_1_1BackTracker.html#a635b8f6bc1458d3403935e9b40e885dd">HitToTrackIDEs</a>(hit);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idIt = 0; idIt &lt; trackIDs.size(); ++idIt) {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;      <span class="keywordtype">int</span> <span class="keywordtype">id</span> = trackIDs[idIt].trackID;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;      <span class="keywordflow">if</span> (rollup_unsaved_ids) <span class="keywordtype">id</span> = <a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;      trackIDToEDepMap[id] += trackIDs[idIt].energy;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    }</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  }</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="comment">//Loop over the map and find the track which contributes the highest energy to the hit vector</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keywordtype">double</span> maxenergy = -1;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keywordtype">int</span> objectTrack = -99999;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keywordflow">for</span> (std::map&lt;int,double&gt;::iterator mapIt = trackIDToEDepMap.begin(); mapIt != trackIDToEDepMap.end(); mapIt++){</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordtype">double</span> energy = mapIt-&gt;second;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordtype">double</span> trackid = mapIt-&gt;first;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">if</span> (energy &gt; maxenergy){</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      maxenergy = energy;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      objectTrack = trackid;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  }</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">return</span> objectTrack;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
<div class="ttc" id="cheaterreco_8fcl_html_abf2e819dbf4c327e098bebd4b2dc0597"><div class="ttname"><a href="../../d2/d36/cheaterreco_8fcl.html#abf2e819dbf4c327e098bebd4b2dc0597">hit</a></div><div class="ttdeci">process_name hit</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/cheaterreco_8fcl_source.html#l00051">cheaterreco.fcl:51</a></div></div>
<div class="ttc" id="classcore_1_1ProviderManager_html_aff0f59bab6768fad71d4289ece24e828"><div class="ttname"><a href="../../d3/dc6/classcore_1_1ProviderManager.html#aff0f59bab6768fad71d4289ece24e828">core::ProviderManager::GetBackTrackerProvider</a></div><div class="ttdeci">cheat::BackTracker * GetBackTrackerProvider() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5c/ProviderManager_8hh_source.html#l00076">ProviderManager.hh:76</a></div></div>
<div class="ttc" id="classcheat_1_1BackTracker_html_a635b8f6bc1458d3403935e9b40e885dd"><div class="ttname"><a href="../../d3/d0d/classcheat_1_1BackTracker.html#a635b8f6bc1458d3403935e9b40e885dd">cheat::BackTracker::HitToTrackIDEs</a></div><div class="ttdeci">std::vector&lt; sim::TrackIDE &gt; HitToTrackIDEs(detinfo::DetectorClocksData const &amp;clockData, recob::Hit const &amp;hit) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d57/BackTracker_8cc_source.html#l00178">BackTracker.cc:178</a></div></div>
<div class="ttc" id="namespacelar_1_1dump_html_a71d4403edbac4d265176f8677118194f"><div class="ttname"><a href="../../db/dfa/namespacelar_1_1dump.html#a71d4403edbac4d265176f8677118194f">lar::dump::vector</a></div><div class="ttdeci">auto vector(Vector const &amp;v)</div><div class="ttdoc">Returns a manipulator which will print the specified array. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da9/DumpUtils_8h_source.html#l00265">DumpUtils.h:265</a></div></div>
<div class="ttc" id="sparse__vector__test_8cc_html_a39f16bf854ba527dee7eba5bbbd93f3f"><div class="ttname"><a href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a></div><div class="ttdeci">T abs(T value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d59/sparse__vector__test_8cc_source.html#l00030">sparse_vector_test.cc:30</a></div></div>
<div class="ttc" id="classcheat_1_1BackTracker_html"><div class="ttname"><a href="../../d3/d0d/classcheat_1_1BackTracker.html">cheat::BackTracker</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbd/BackTracker_8h_source.html#l00039">BackTracker.h:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
