<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>caldata::RawDigitCorrelatedCorrectionAlg Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../db/d6d/namespacecaldata.html">caldata</a></li><li class="navelem"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html">RawDigitCorrelatedCorrectionAlg</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../df/d1d/classcaldata_1_1RawDigitCorrelatedCorrectionAlg-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">caldata::RawDigitCorrelatedCorrectionAlg Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html">RawDigitCorrelatedCorrectionAlg.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9623c865f3783b799431fb754dbd5c0a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a9623c865f3783b799431fb754dbd5c0a">RawDigitCorrelatedCorrectionAlg</a> (fhicl::ParameterSet const &amp;pset)</td></tr>
<tr class="separator:a9623c865f3783b799431fb754dbd5c0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43826a9254272f8793c8dcdb1a97bb6f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a43826a9254272f8793c8dcdb1a97bb6f">~RawDigitCorrelatedCorrectionAlg</a> ()</td></tr>
<tr class="memdesc:a43826a9254272f8793c8dcdb1a97bb6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a43826a9254272f8793c8dcdb1a97bb6f">More...</a><br/></td></tr>
<tr class="separator:a43826a9254272f8793c8dcdb1a97bb6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61892f5b4c3a47e231b73b48cc620e44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a61892f5b4c3a47e231b73b48cc620e44">reconfigure</a> (fhicl::ParameterSet const &amp;pset)</td></tr>
<tr class="separator:a61892f5b4c3a47e231b73b48cc620e44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abba2a03e4af37b949bc5ca540bf6ef6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#abba2a03e4af37b949bc5ca540bf6ef6c">initializeHists</a> (art::ServiceHandle&lt; art::TFileService &gt; &amp;)</td></tr>
<tr class="memdesc:abba2a03e4af37b949bc5ca540bf6ef6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin job method.  <a href="#abba2a03e4af37b949bc5ca540bf6ef6c">More...</a><br/></td></tr>
<tr class="separator:abba2a03e4af37b949bc5ca540bf6ef6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7e72beb8b97c284000802f49ae92d4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#ad7e72beb8b97c284000802f49ae92d4e">removeCorrelatedNoise</a> (<a class="el" href="../../db/d6d/namespacecaldata.html#a10a6be5fe4b0c54bb157aabdeda5d8d8">RawDigitAdcIdxPair</a> &amp;digitIdxPair, unsigned int viewIdx, std::vector&lt; float &gt; &amp;truncMeanWireVec, std::vector&lt; float &gt; &amp;truncRmsWireVec, std::vector&lt; short &gt; &amp;minMaxWireVec, std::vector&lt; short &gt; &amp;meanWireVec, std::vector&lt; float &gt; &amp;skewnessWireVec, std::vector&lt; float &gt; &amp;neighborRatioWireVec, std::vector&lt; float &gt; &amp;pedCorWireVec, unsigned int &amp;fftSize, unsigned int &amp;halfFFTSize, void *fplan, void *rplan) const </td></tr>
<tr class="separator:ad7e72beb8b97c284000802f49ae92d4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a86a8c40c14717bfc6b7a83593cf32d9a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a86a8c40c14717bfc6b7a83593cf32d9a">smoothCorrectionVec</a> (std::vector&lt; float &gt; &amp;, unsigned int &amp;) const </td></tr>
<tr class="separator:a86a8c40c14717bfc6b7a83593cf32d9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85540d8ac0c5b53e4522948f1db63b0e"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a85540d8ac0c5b53e4522948f1db63b0e"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a85540d8ac0c5b53e4522948f1db63b0e">getMedian</a> (std::vector&lt; T &gt; &amp;, T) const </td></tr>
<tr class="separator:a85540d8ac0c5b53e4522948f1db63b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af654231994e67677e8844c0c92858747"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:af654231994e67677e8844c0c92858747"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#af654231994e67677e8844c0c92858747">findPeaks</a> (typename std::vector&lt; T &gt;::iterator startItr, typename std::vector&lt; T &gt;::iterator stopItr, std::vector&lt; std::tuple&lt; size_t, size_t, size_t &gt;&gt; &amp;peakTupleVec, T threshold, size_t firstTick) const </td></tr>
<tr class="separator:af654231994e67677e8844c0c92858747"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a6540a56ac3349cd472ca22cc017bf580"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a6540a56ac3349cd472ca22cc017bf580">fTruncMeanFraction</a></td></tr>
<tr class="memdesc:a6540a56ac3349cd472ca22cc017bf580"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fraction for truncated mean.  <a href="#a6540a56ac3349cd472ca22cc017bf580">More...</a><br/></td></tr>
<tr class="separator:a6540a56ac3349cd472ca22cc017bf580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a493230d682b4eec0e3a82c5baa5a35cb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a493230d682b4eec0e3a82c5baa5a35cb">fApplyCorSmoothing</a></td></tr>
<tr class="memdesc:a493230d682b4eec0e3a82c5baa5a35cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to smooth the correlated noise correction?  <a href="#a493230d682b4eec0e3a82c5baa5a35cb">More...</a><br/></td></tr>
<tr class="separator:a493230d682b4eec0e3a82c5baa5a35cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e3d30ef980eadeb1db3466d05846457"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a4e3d30ef980eadeb1db3466d05846457">fApplyFFTCorrection</a></td></tr>
<tr class="memdesc:a4e3d30ef980eadeb1db3466d05846457"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use an FFT to get the correlated noise correction.  <a href="#a4e3d30ef980eadeb1db3466d05846457">More...</a><br/></td></tr>
<tr class="separator:a4e3d30ef980eadeb1db3466d05846457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a051be80ed6904f4b70296401e27bb6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a2a051be80ed6904f4b70296401e27bb6">fFillFFTHistograms</a></td></tr>
<tr class="memdesc:a2a051be80ed6904f4b70296401e27bb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill associated FFT histograms.  <a href="#a2a051be80ed6904f4b70296401e27bb6">More...</a><br/></td></tr>
<tr class="separator:a2a051be80ed6904f4b70296401e27bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00b97fb6b74a3eb0e09389fe019bc72b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a00b97fb6b74a3eb0e09389fe019bc72b">fFFTHistsWireGroup</a></td></tr>
<tr class="memdesc:a00b97fb6b74a3eb0e09389fe019bc72b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wire Group to pick on.  <a href="#a00b97fb6b74a3eb0e09389fe019bc72b">More...</a><br/></td></tr>
<tr class="separator:a00b97fb6b74a3eb0e09389fe019bc72b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0767bd8cef997a22dbb9b649512927d0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a0767bd8cef997a22dbb9b649512927d0">fFFTNumHists</a></td></tr>
<tr class="memdesc:a0767bd8cef997a22dbb9b649512927d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of hists total per view.  <a href="#a0767bd8cef997a22dbb9b649512927d0">More...</a><br/></td></tr>
<tr class="separator:a0767bd8cef997a22dbb9b649512927d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4098426cb3f3484a13acaea11e0ac2f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#aa4098426cb3f3484a13acaea11e0ac2f">fFFTHistsStartTick</a></td></tr>
<tr class="memdesc:aa4098426cb3f3484a13acaea11e0ac2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starting tick for histograms.  <a href="#aa4098426cb3f3484a13acaea11e0ac2f">More...</a><br/></td></tr>
<tr class="separator:aa4098426cb3f3484a13acaea11e0ac2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64973e1870aa74ca69b50e9d03da5b23"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a64973e1870aa74ca69b50e9d03da5b23">fFFTMinPowerThreshold</a></td></tr>
<tr class="memdesc:a64973e1870aa74ca69b50e9d03da5b23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Threshold for trimming FFT power spectrum.  <a href="#a64973e1870aa74ca69b50e9d03da5b23">More...</a><br/></td></tr>
<tr class="separator:a64973e1870aa74ca69b50e9d03da5b23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbeafa1a2184f569c9d4cdb4bae10439"><td class="memItemLeft" align="right" valign="top">std::vector&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#abbeafa1a2184f569c9d4cdb4bae10439">fNumWiresToGroup</a></td></tr>
<tr class="memdesc:abbeafa1a2184f569c9d4cdb4bae10439"><td class="mdescLeft">&#160;</td><td class="mdescRight">If smoothing, the number of wires to look at.  <a href="#abbeafa1a2184f569c9d4cdb4bae10439">More...</a><br/></td></tr>
<tr class="separator:abbeafa1a2184f569c9d4cdb4bae10439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52d175c1e4532c29221709583a286f9a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a52d175c1e4532c29221709583a286f9a">fFillHistograms</a></td></tr>
<tr class="memdesc:a52d175c1e4532c29221709583a286f9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">if true then will fill diagnostic hists  <a href="#a52d175c1e4532c29221709583a286f9a">More...</a><br/></td></tr>
<tr class="separator:a52d175c1e4532c29221709583a286f9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01d19a81465850247e6d61c6086ae81e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a01d19a81465850247e6d61c6086ae81e">fRunFFTCorrected</a></td></tr>
<tr class="memdesc:a01d19a81465850247e6d61c6086ae81e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Should we run FFT's on corrected wires?  <a href="#a01d19a81465850247e6d61c6086ae81e">More...</a><br/></td></tr>
<tr class="separator:a01d19a81465850247e6d61c6086ae81e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a499a123613eac5e08e40c643c35e05be"><td class="memItemLeft" align="right" valign="top">std::vector&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a499a123613eac5e08e40c643c35e05be">fNumRmsToSmoothVec</a></td></tr>
<tr class="memdesc:a499a123613eac5e08e40c643c35e05be"><td class="mdescLeft">&#160;</td><td class="mdescRight"><h1>"sigma" to smooth correlated correction vec</h1>
 <a href="#a499a123613eac5e08e40c643c35e05be">More...</a><br/></td></tr>
<tr class="separator:a499a123613eac5e08e40c643c35e05be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae72086043da36c5125bb69a4a584ccdf"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::set&lt; size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#ae72086043da36c5125bb69a4a584ccdf">fBadWiresbyViewAndWire</a></td></tr>
<tr class="separator:ae72086043da36c5125bb69a4a584ccdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0894073e38315a20d36fb4143a6bd45a"><td class="memItemLeft" align="right" valign="top">art::ServiceHandle&lt; <a class="el" href="../../d8/df3/classgeo_1_1Geometry.html">geo::Geometry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a0894073e38315a20d36fb4143a6bd45a">fGeometry</a></td></tr>
<tr class="memdesc:a0894073e38315a20d36fb4143a6bd45a"><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to Geometry service  <a href="#a0894073e38315a20d36fb4143a6bd45a">More...</a><br/></td></tr>
<tr class="separator:a0894073e38315a20d36fb4143a6bd45a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00046">46</a> of file <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html">RawDigitCorrelatedCorrectionAlg.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9623c865f3783b799431fb754dbd5c0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">caldata::RawDigitCorrelatedCorrectionAlg::RawDigitCorrelatedCorrectionAlg </td>
          <td>(</td>
          <td class="paramtype">fhicl::ParameterSet const &amp;&#160;</td>
          <td class="paramname"><em>pset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor.</p>
<p>Arguments:</p>
<p>pset - Fcl parameters. </p>

<p>Definition at line <a class="el" href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html#l00028">28</a> of file <a class="el" href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html">RawDigitCorrelatedCorrectionAlg.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;{</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a61892f5b4c3a47e231b73b48cc620e44">reconfigure</a>(pset);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="comment">// Report.</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    mf::LogInfo(<span class="stringliteral">&quot;RawDigitCorrelatedCorrectionAlg&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;RawDigitCorrelatedCorrectionAlg configured\n&quot;</span>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;}</div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_a61892f5b4c3a47e231b73b48cc620e44"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a61892f5b4c3a47e231b73b48cc620e44">caldata::RawDigitCorrelatedCorrectionAlg::reconfigure</a></div><div class="ttdeci">void reconfigure(fhicl::ParameterSet const &amp;pset)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html#l00048">RawDigitCorrelatedCorrectionAlg.cc:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a43826a9254272f8793c8dcdb1a97bb6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">caldata::RawDigitCorrelatedCorrectionAlg::~RawDigitCorrelatedCorrectionAlg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>

<p>Definition at line <a class="el" href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html#l00038">38</a> of file <a class="el" href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html">RawDigitCorrelatedCorrectionAlg.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af654231994e67677e8844c0c92858747"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void caldata::RawDigitCorrelatedCorrectionAlg::findPeaks </td>
          <td>(</td>
          <td class="paramtype">typename std::vector&lt; T &gt;::iterator&#160;</td>
          <td class="paramname"><em>startItr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename std::vector&lt; T &gt;::iterator&#160;</td>
          <td class="paramname"><em>stopItr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::tuple&lt; size_t, size_t, size_t &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>peakTupleVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>firstTick</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html#l00274">274</a> of file <a class="el" href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html">RawDigitCorrelatedCorrectionAlg.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// Need a minimum distance or else nothing to do</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">if</span> (std::distance(startItr,stopItr) &gt; 4)</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="comment">// This is a divide and conquer algorithm, start by finding the maximum element.</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keyword">typename</span> std::vector&lt;T&gt;::iterator firstItr = std::max_element(startItr,stopItr,[](<span class="keywordtype">float</span> <a class="code" href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a>, <span class="keywordtype">float</span> <a class="code" href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a>){<span class="keywordflow">return</span> std::fabs(left) &lt; std::fabs(right);});</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="comment">// Are we over threshold?</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">if</span> (std::fabs(*firstItr) &gt; threshold)</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="comment">// What am I thinking?</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="comment">// First task is to find the &quot;other&quot; lobe max point</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="comment">// Set one to the &quot;first&quot;, the other to the &quot;second&quot;</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="comment">// Search backward from first to find start point, forward from second to find end point</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="comment">// Set mid point between first and second as &quot;peak&quot;?</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keyword">typename</span> std::vector&lt;T&gt;::iterator secondItr = firstItr;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <span class="comment">// Assume if max bin is positive then second lobe is later</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordflow">if</span> (*firstItr &gt; 0)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                <span class="keyword">typename</span> std::vector&lt;T&gt;::iterator tempItr = secondItr;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                <span class="keywordflow">while</span>(tempItr != stopItr)</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                    <span class="keywordflow">if</span> (*++tempItr &lt; -threshold)</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                    {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                        <span class="keywordflow">if</span> (*tempItr &lt; *secondItr) secondItr = tempItr;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                    }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (secondItr != firstItr) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="comment">// Otherwise it goes the other way</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                <span class="keyword">typename</span> std::vector&lt;T&gt;::iterator tempItr = secondItr;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                <span class="keywordflow">while</span>(tempItr != startItr)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                    <span class="keywordflow">if</span> (*--tempItr &gt; threshold)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                    {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                        <span class="keywordflow">if</span> (*tempItr &gt; *secondItr) secondItr = tempItr;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                    }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (secondItr != firstItr) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                std::swap(firstItr,secondItr);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="comment">// It might that no real pulse was found</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="keywordflow">if</span> (firstItr != secondItr)</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                <span class="comment">// Get the &quot;peak&quot; position</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                <span class="keywordtype">size_t</span> peakBin = std::distance(startItr,firstItr) + std::distance(firstItr,secondItr) / 2;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                <span class="comment">// Advance (forward or backward) the first and second iterators to get back to zero crossing</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                <span class="keywordflow">while</span>(firstItr  != startItr) <span class="keywordflow">if</span> (*--firstItr  &lt; 0.) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                <span class="keywordflow">while</span>(secondItr != stopItr)  <span class="keywordflow">if</span> (*++secondItr &gt; 0.) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <span class="keywordtype">size_t</span> firstBin = std::distance(startItr,firstItr);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                <span class="keywordtype">size_t</span> lastBin  = std::distance(startItr,secondItr);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                <span class="comment">// Find leading peaks</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#af654231994e67677e8844c0c92858747">findPeaks</a>(startItr, firstItr, peakTupleVec, threshold, firstTick);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                <span class="comment">// Save this peak</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                peakTupleVec.push_back(std::tuple&lt;size_t,size_t,size_t&gt;(firstBin+firstTick,peakBin+firstTick,lastBin+firstTick));</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <span class="comment">// Find downstream peaks</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#af654231994e67677e8844c0c92858747">findPeaks</a>(secondItr, stopItr, peakTupleVec, threshold, firstTick + std::distance(startItr,secondItr));</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div>
<div class="ttc" id="selectors_8fcl_html_a9453748558088ae22499027391c13aaf"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a9453748558088ae22499027391c13aaf">right</a></div><div class="ttdeci">walls no right</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_af654231994e67677e8844c0c92858747"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#af654231994e67677e8844c0c92858747">caldata::RawDigitCorrelatedCorrectionAlg::findPeaks</a></div><div class="ttdeci">void findPeaks(typename std::vector&lt; T &gt;::iterator startItr, typename std::vector&lt; T &gt;::iterator stopItr, std::vector&lt; std::tuple&lt; size_t, size_t, size_t &gt;&gt; &amp;peakTupleVec, T threshold, size_t firstTick) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html#l00274">RawDigitCorrelatedCorrectionAlg.cc:274</a></div></div>
<div class="ttc" id="selectors_8fcl_html_a1abc6b9e279feba048394f49a85218c9"><div class="ttname"><a href="../../d9/dd2/selectors_8fcl.html#a1abc6b9e279feba048394f49a85218c9">left</a></div><div class="ttdeci">walls no left</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/selectors_8fcl_source.html#l00105">selectors.fcl:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a85540d8ac0c5b53e4522948f1db63b0e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T caldata::RawDigitCorrelatedCorrectionAlg::getMedian </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>valuesVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>defaultValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html#l00256">256</a> of file <a class="el" href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html">RawDigitCorrelatedCorrectionAlg.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;{</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    T medianValue(defaultValue);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">if</span> (!valuesVec.empty())</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        std::sort(valuesVec.begin(),valuesVec.end());</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordtype">size_t</span> medianIdx = valuesVec.size() / 2;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        medianValue = valuesVec[medianIdx];</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">if</span> (valuesVec.size() &gt; 1 &amp;&amp; medianIdx % 2) medianValue = (medianValue + valuesVec[medianIdx+1]) / 2;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">std::max</a>(medianValue,defaultValue);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div>
<div class="ttc" id="pmttriggerproducer_8fcl_html_a527d89be40c3c20ca8162df059180fd9"><div class="ttname"><a href="../../d7/d5a/pmttriggerproducer_8fcl.html#a527d89be40c3c20ca8162df059180fd9">max</a></div><div class="ttdeci">BEGIN_PROLOG pmt_uncoated ideal single PE test page of manual option are OR or AND window for pmt trigger time start window for pmt trigger time end etc then what events all hists are saved for max</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/pmttriggerproducer_8fcl_source.html#l00023">pmttriggerproducer.fcl:23</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abba2a03e4af37b949bc5ca540bf6ef6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void caldata::RawDigitCorrelatedCorrectionAlg::initializeHists </td>
          <td>(</td>
          <td class="paramtype">art::ServiceHandle&lt; art::TFileService &gt; &amp;&#160;</td>
          <td class="paramname"><em>tfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begin job method. </p>

<p>Definition at line <a class="el" href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html#l00066">66</a> of file <a class="el" href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html">RawDigitCorrelatedCorrectionAlg.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;{</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a61892f5b4c3a47e231b73b48cc620e44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void caldata::RawDigitCorrelatedCorrectionAlg::reconfigure </td>
          <td>(</td>
          <td class="paramtype">fhicl::ParameterSet const &amp;&#160;</td>
          <td class="paramname"><em>pset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reconfigure method.</p>
<p>Arguments:</p>
<p>pset - Fcl parameter set. </p>

<p>Definition at line <a class="el" href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html#l00048">48</a> of file <a class="el" href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html">RawDigitCorrelatedCorrectionAlg.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;{</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a6540a56ac3349cd472ca22cc017bf580">fTruncMeanFraction</a>     = pset.get&lt;<span class="keywordtype">float</span>&gt;              (<span class="stringliteral">&quot;TruncMeanFraction&quot;</span>,                                        0.15);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a493230d682b4eec0e3a82c5baa5a35cb">fApplyCorSmoothing</a>     = pset.get&lt;<span class="keywordtype">bool</span>&gt;               (<span class="stringliteral">&quot;ApplyCorSmoothing&quot;</span>,                                        <span class="keyword">true</span>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a4e3d30ef980eadeb1db3466d05846457">fApplyFFTCorrection</a>    = pset.get&lt;<span class="keywordtype">bool</span>&gt;               (<span class="stringliteral">&quot;ApplyFFTCorrection&quot;</span>,                                       <span class="keyword">true</span>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a2a051be80ed6904f4b70296401e27bb6">fFillFFTHistograms</a>     = pset.get&lt;<span class="keywordtype">bool</span>&gt;               (<span class="stringliteral">&quot;FillFFTHistograms&quot;</span>,                                       <span class="keyword">false</span>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a00b97fb6b74a3eb0e09389fe019bc72b">fFFTHistsWireGroup</a>     = pset.get&lt;std::vector&lt;size_t&gt;&gt;(<span class="stringliteral">&quot;FFTHistsWireGroup&quot;</span>,         std::vector&lt;size_t&gt;() = {1, 33, 34});</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a0767bd8cef997a22dbb9b649512927d0">fFFTNumHists</a>           = pset.get&lt;std::vector&lt;size_t&gt;&gt;(<span class="stringliteral">&quot;FFTNumWaveHistograms&quot;</span>,       std::vector&lt;size_t&gt;() = {10,48,48});</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#aa4098426cb3f3484a13acaea11e0ac2f">fFFTHistsStartTick</a>     = pset.get&lt;std::vector&lt;double&gt;&gt;(<span class="stringliteral">&quot;FFTWaveHistsStartTick&quot;</span>, std::vector&lt;double&gt;() = {96.,96.,7670.});</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a64973e1870aa74ca69b50e9d03da5b23">fFFTMinPowerThreshold</a>  = pset.get&lt;std::vector&lt;double&gt;&gt;(<span class="stringliteral">&quot;FFTPowerThreshold&quot;</span>,     std::vector&lt;double&gt;() = {100.,75.,500.});</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#abbeafa1a2184f569c9d4cdb4bae10439">fNumWiresToGroup</a>       = pset.get&lt;std::vector&lt;size_t&gt;&gt;(<span class="stringliteral">&quot;NumWiresToGroup&quot;</span>,          std::vector&lt;size_t&gt;() = {48, 48, 96});</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a52d175c1e4532c29221709583a286f9a">fFillHistograms</a>        = pset.get&lt;<span class="keywordtype">bool</span>&gt;               (<span class="stringliteral">&quot;FillHistograms&quot;</span>,                                          <span class="keyword">false</span>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a01d19a81465850247e6d61c6086ae81e">fRunFFTCorrected</a>       = pset.get&lt;<span class="keywordtype">bool</span>&gt;               (<span class="stringliteral">&quot;RunFFTCorrectedWires&quot;</span>,                                    <span class="keyword">false</span>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a499a123613eac5e08e40c643c35e05be">fNumRmsToSmoothVec</a>     = pset.get&lt;std::vector&lt;float&gt;&gt; (<span class="stringliteral">&quot;NumRmsToSmooth&quot;</span>,          std::vector&lt;float&gt;() = {3.6, 3.6, 4.});</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_a4e3d30ef980eadeb1db3466d05846457"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a4e3d30ef980eadeb1db3466d05846457">caldata::RawDigitCorrelatedCorrectionAlg::fApplyFFTCorrection</a></div><div class="ttdeci">bool fApplyFFTCorrection</div><div class="ttdoc">Use an FFT to get the correlated noise correction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00086">RawDigitCorrelatedCorrectionAlg.h:86</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_aa4098426cb3f3484a13acaea11e0ac2f"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#aa4098426cb3f3484a13acaea11e0ac2f">caldata::RawDigitCorrelatedCorrectionAlg::fFFTHistsStartTick</a></div><div class="ttdeci">std::vector&lt; double &gt; fFFTHistsStartTick</div><div class="ttdoc">Starting tick for histograms. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00090">RawDigitCorrelatedCorrectionAlg.h:90</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_a2a051be80ed6904f4b70296401e27bb6"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a2a051be80ed6904f4b70296401e27bb6">caldata::RawDigitCorrelatedCorrectionAlg::fFillFFTHistograms</a></div><div class="ttdeci">bool fFillFFTHistograms</div><div class="ttdoc">Fill associated FFT histograms. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00087">RawDigitCorrelatedCorrectionAlg.h:87</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_a493230d682b4eec0e3a82c5baa5a35cb"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a493230d682b4eec0e3a82c5baa5a35cb">caldata::RawDigitCorrelatedCorrectionAlg::fApplyCorSmoothing</a></div><div class="ttdeci">bool fApplyCorSmoothing</div><div class="ttdoc">Attempt to smooth the correlated noise correction? </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00085">RawDigitCorrelatedCorrectionAlg.h:85</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_a00b97fb6b74a3eb0e09389fe019bc72b"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a00b97fb6b74a3eb0e09389fe019bc72b">caldata::RawDigitCorrelatedCorrectionAlg::fFFTHistsWireGroup</a></div><div class="ttdeci">std::vector&lt; size_t &gt; fFFTHistsWireGroup</div><div class="ttdoc">Wire Group to pick on. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00088">RawDigitCorrelatedCorrectionAlg.h:88</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_a6540a56ac3349cd472ca22cc017bf580"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a6540a56ac3349cd472ca22cc017bf580">caldata::RawDigitCorrelatedCorrectionAlg::fTruncMeanFraction</a></div><div class="ttdeci">float fTruncMeanFraction</div><div class="ttdoc">Fraction for truncated mean. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00083">RawDigitCorrelatedCorrectionAlg.h:83</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_a52d175c1e4532c29221709583a286f9a"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a52d175c1e4532c29221709583a286f9a">caldata::RawDigitCorrelatedCorrectionAlg::fFillHistograms</a></div><div class="ttdeci">bool fFillHistograms</div><div class="ttdoc">if true then will fill diagnostic hists </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00093">RawDigitCorrelatedCorrectionAlg.h:93</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_a01d19a81465850247e6d61c6086ae81e"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a01d19a81465850247e6d61c6086ae81e">caldata::RawDigitCorrelatedCorrectionAlg::fRunFFTCorrected</a></div><div class="ttdeci">bool fRunFFTCorrected</div><div class="ttdoc">Should we run FFT&amp;#39;s on corrected wires? </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00094">RawDigitCorrelatedCorrectionAlg.h:94</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_a0767bd8cef997a22dbb9b649512927d0"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a0767bd8cef997a22dbb9b649512927d0">caldata::RawDigitCorrelatedCorrectionAlg::fFFTNumHists</a></div><div class="ttdeci">std::vector&lt; size_t &gt; fFFTNumHists</div><div class="ttdoc">Number of hists total per view. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00089">RawDigitCorrelatedCorrectionAlg.h:89</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_abbeafa1a2184f569c9d4cdb4bae10439"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#abbeafa1a2184f569c9d4cdb4bae10439">caldata::RawDigitCorrelatedCorrectionAlg::fNumWiresToGroup</a></div><div class="ttdeci">std::vector&lt; size_t &gt; fNumWiresToGroup</div><div class="ttdoc">If smoothing, the number of wires to look at. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00092">RawDigitCorrelatedCorrectionAlg.h:92</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_a499a123613eac5e08e40c643c35e05be"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a499a123613eac5e08e40c643c35e05be">caldata::RawDigitCorrelatedCorrectionAlg::fNumRmsToSmoothVec</a></div><div class="ttdeci">std::vector&lt; float &gt; fNumRmsToSmoothVec</div><div class="ttdoc">&amp;quot;sigma&amp;quot; to smooth correlated correction vec</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00095">RawDigitCorrelatedCorrectionAlg.h:95</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_a64973e1870aa74ca69b50e9d03da5b23"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a64973e1870aa74ca69b50e9d03da5b23">caldata::RawDigitCorrelatedCorrectionAlg::fFFTMinPowerThreshold</a></div><div class="ttdeci">std::vector&lt; double &gt; fFFTMinPowerThreshold</div><div class="ttdoc">Threshold for trimming FFT power spectrum. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00091">RawDigitCorrelatedCorrectionAlg.h:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad7e72beb8b97c284000802f49ae92d4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void caldata::RawDigitCorrelatedCorrectionAlg::removeCorrelatedNoise </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d6d/namespacecaldata.html#a10a6be5fe4b0c54bb157aabdeda5d8d8">RawDigitAdcIdxPair</a> &amp;&#160;</td>
          <td class="paramname"><em>digitIdxPair</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>viewIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>truncMeanWireVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>truncRmsWireVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; short &gt; &amp;&#160;</td>
          <td class="paramname"><em>minMaxWireVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; short &gt; &amp;&#160;</td>
          <td class="paramname"><em>meanWireVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>skewnessWireVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>neighborRatioWireVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>pedCorWireVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>fftSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>halfFFTSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>fplan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rplan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html#l00119">119</a> of file <a class="el" href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html">RawDigitCorrelatedCorrectionAlg.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;{</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// This method represents and enhanced implementation of &quot;Corey&#39;s Algorithm&quot; for correcting the</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">// correlated noise across a group of wires. The primary enhancement involves using a FFT to</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">// &quot;fit&quot; for the underlying noise as a way to reduce the impact on the signal.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="../../db/d6d/namespacecaldata.html#a788ff201f1c9c2c1b3c34b97de1e8de6">WireToRawDigitVecMap</a>&amp; wireToRawDigitVecMap = digitIdxPair.first;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="../../db/d6d/namespacecaldata.html#a28d5fa2b0935f52b7a8a5b15b81f07a8">WireToAdcIdxMap</a>&amp;      wireToAdcIdxMap      = digitIdxPair.second;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordtype">size_t</span> maxTimeSamples(wireToRawDigitVecMap.begin()-&gt;second.size());</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordtype">size_t</span> baseWireIdx(wireToRawDigitVecMap.begin()-&gt;first - wireToRawDigitVecMap.begin()-&gt;first % <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#abbeafa1a2184f569c9d4cdb4bae10439">fNumWiresToGroup</a>[planeIdx]);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    std::vector&lt;float&gt; corValVec(maxTimeSamples);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// First step is to get the correction values to apply to this set of input waveforms</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">// Don&#39;t try to do correction if too few wires unless they have gaps</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> (wireToAdcIdxMap.size() &gt; 2) <span class="comment">// || largestGapSize &gt; 2)</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="comment">// Zero? This is probably not necessary</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <a class="code" href="../../d0/da2/namespacetrkf.html#a70c1b5920b45babb363628ea6e073ea8">std::fill</a>(corValVec.begin(),corValVec.end(),0.);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="comment">// Build the vector of corrections for each time bin</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> sampleIdx = 0; sampleIdx &lt; maxTimeSamples; sampleIdx++)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="comment">// Define a vector for accumulating values...</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="comment">// Loop over the wires at this time bin and get their pedestal corrected ADC values</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="comment">// We&#39;ll use a simple stl vector for this</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            std::vector&lt;float&gt; adcValuesVec;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; wireAdcItr : wireToAdcIdxMap)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                <span class="comment">// Check that we should be doing something in this range</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <span class="comment">// Note that if the wire is not to be considered then the &quot;start&quot; bin will be after the last bin</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <span class="keywordflow">if</span> (sampleIdx &lt; wireAdcItr.second.first || sampleIdx &gt;= wireAdcItr.second.second) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <span class="keywordtype">int</span> wireIdx(wireAdcItr.first - baseWireIdx);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                <span class="comment">// Accumulate</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                adcValuesVec.push_back(<span class="keywordtype">float</span>(wireToRawDigitVecMap.at(wireAdcItr.first)[sampleIdx]) - truncMeanWireVec[wireIdx]);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">//            float medianValue = getMedian(adcValuesVec, float(-10000.));</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keywordtype">float</span> aveValue    = std::accumulate(adcValuesVec.begin(),adcValuesVec.end(),0.) / float(adcValuesVec.size());</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">//            corValVec[sampleIdx] = medianValue;</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            corValVec[sampleIdx] = aveValue;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="comment">// Try to eliminate any real outliers</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a493230d682b4eec0e3a82c5baa5a35cb">fApplyCorSmoothing</a>) <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a86a8c40c14717bfc6b7a83593cf32d9a">smoothCorrectionVec</a>(corValVec, planeIdx);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="comment">// Get the FFT correction</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a4e3d30ef980eadeb1db3466d05846457">fApplyFFTCorrection</a>) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;          std::vector&lt;std::complex&lt;double&gt;&gt; fftOutputVec(halfFFTSize);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;          <a class="code" href="../../d7/d15/classutil_1_1LArFFTW.html">util::LArFFTW</a> lfftw(fftSize, fplan, rplan, 0);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;          lfftw.DoFFT(corValVec, fftOutputVec);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;          std::vector&lt;double&gt; powerVec(halfFFTSize);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;          <a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">std::transform</a>(fftOutputVec.begin(), fftOutputVec.begin() + halfFFTSize, powerVec.begin(), [](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; val){<span class="keywordflow">return</span> <a class="code" href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">std::abs</a>(val);});</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;          <span class="comment">// Want the first derivative</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;          std::vector&lt;double&gt; firstDerivVec(powerVec.size(), 0.);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;          <span class="comment">//fWaveformTool-&gt;firstDerivative(powerVec, firstDerivVec);</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;          <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> idx = 1; idx &lt; firstDerivVec.size() - 1; idx++)</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;              firstDerivVec.at(idx) = 0.5 * (powerVec.at(idx + 1) - powerVec.at(idx - 1));</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;          <span class="comment">// Find the peaks</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;          std::vector&lt;std::tuple&lt;size_t,size_t,size_t&gt;&gt; peakTupleVec;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;          <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#af654231994e67677e8844c0c92858747">findPeaks</a>(firstDerivVec.begin(),firstDerivVec.end(),peakTupleVec,<a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a64973e1870aa74ca69b50e9d03da5b23">fFFTMinPowerThreshold</a>[planeIdx],0);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;          <span class="keywordflow">if</span> (!peakTupleVec.empty())</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;          {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;              <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; peakTuple : peakTupleVec)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;              {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                  <span class="keywordtype">size_t</span> startTick = std::get&lt;0&gt;(peakTuple);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                  <span class="keywordtype">size_t</span> stopTick  = std::get&lt;2&gt;(peakTuple);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                  <span class="keywordflow">if</span> (stopTick &gt; startTick)</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                  {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                      std::complex&lt;double&gt; slope = (fftOutputVec[stopTick] - fftOutputVec[startTick]) / <span class="keywordtype">double</span>(stopTick - startTick);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                      <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">tick</a> = startTick; <a class="code" href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">tick</a> &lt; stopTick; <a class="code" href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">tick</a>++)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                      {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                          std::complex&lt;double&gt; interpVal = fftOutputVec[startTick] + double(<a class="code" href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">tick</a> - startTick) * slope;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                    </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                          fftOutputVec[<a class="code" href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">tick</a>]                   = interpVal;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                          <span class="comment">//fftOutputVec[fftDataSize - tick - 1] = interpVal;</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                      }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                  }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;              }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;              std::vector&lt;double&gt; tmpVec(corValVec.size());</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;              lfftw.DoInvFFT(fftOutputVec, tmpVec);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;              <a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">std::transform</a>(corValVec.begin(),corValVec.end(),tmpVec.begin(),corValVec.begin(),std::minus&lt;double&gt;());</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;          }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        } <span class="comment">// fApplyFFTCorrection</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="comment">// Now go through and apply the correction</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> sampleIdx = 0; sampleIdx &lt; maxTimeSamples; sampleIdx++)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <span class="comment">// Now run through and apply correction</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; wireAdcItr : wireToAdcIdxMap)</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                <span class="keywordtype">float</span> corVal(corValVec[sampleIdx]);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <span class="keywordtype">int</span>   wireIdx(wireAdcItr.first - baseWireIdx);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <span class="comment">// If the &quot;start&quot; bin is after the &quot;stop&quot; bin then we are meant to skip this wire in the averaging process</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                <span class="comment">// Or if the sample index is in a chirping section then no correction is applied.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                <span class="comment">// Both cases are handled by looking at the sampleIdx</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                <span class="keywordflow">if</span> (sampleIdx &lt; wireAdcItr.second.first || sampleIdx &gt;= wireAdcItr.second.second)</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                    corVal = 0.;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <span class="comment">//RawDigitVector&amp; rawDataTimeVec = wireToRawDigitVecMap.at(wireIdx);</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                <span class="keywordtype">short</span>&amp; rawDataTimeVal = wireToRawDigitVecMap.at(wireAdcItr.first)[sampleIdx];</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <span class="comment">// Probably doesn&#39;t matter, but try to get slightly more accuracy by doing float math and rounding</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                <span class="keywordtype">float</span> newAdcValueFloat = float(rawDataTimeVal) - corVal - pedCorWireVec[wireIdx];</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                rawDataTimeVal = std::round(newAdcValueFloat);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_a4e3d30ef980eadeb1db3466d05846457"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a4e3d30ef980eadeb1db3466d05846457">caldata::RawDigitCorrelatedCorrectionAlg::fApplyFFTCorrection</a></div><div class="ttdeci">bool fApplyFFTCorrection</div><div class="ttdoc">Use an FFT to get the correlated noise correction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00086">RawDigitCorrelatedCorrectionAlg.h:86</a></div></div>
<div class="ttc" id="namespaceicarus_1_1waveform__operations_1_1details_html_ae295d3f6cb2f9181dccdf0e3492d44e0"><div class="ttname"><a href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">icarus::waveform_operations::details::transform</a></div><div class="ttdeci">static constexpr Sample_t transform(Sample_t sample)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8e/WaveformOperations_8h_source.html#l00145">WaveformOperations.h:145</a></div></div>
<div class="ttc" id="classutil_1_1LArFFTW_html"><div class="ttname"><a href="../../d7/d15/classutil_1_1LArFFTW.html">util::LArFFTW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd8/LArFFTW_8h_source.html#l00018">LArFFTW.h:18</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_a493230d682b4eec0e3a82c5baa5a35cb"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a493230d682b4eec0e3a82c5baa5a35cb">caldata::RawDigitCorrelatedCorrectionAlg::fApplyCorSmoothing</a></div><div class="ttdeci">bool fApplyCorSmoothing</div><div class="ttdoc">Attempt to smooth the correlated noise correction? </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00085">RawDigitCorrelatedCorrectionAlg.h:85</a></div></div>
<div class="ttc" id="sparse__vector__test_8cc_html_a39f16bf854ba527dee7eba5bbbd93f3f"><div class="ttname"><a href="../../dd/d59/sparse__vector__test_8cc.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a></div><div class="ttdeci">T abs(T value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d59/sparse__vector__test_8cc_source.html#l00030">sparse_vector_test.cc:30</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_af654231994e67677e8844c0c92858747"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#af654231994e67677e8844c0c92858747">caldata::RawDigitCorrelatedCorrectionAlg::findPeaks</a></div><div class="ttdeci">void findPeaks(typename std::vector&lt; T &gt;::iterator startItr, typename std::vector&lt; T &gt;::iterator stopItr, std::vector&lt; std::tuple&lt; size_t, size_t, size_t &gt;&gt; &amp;peakTupleVec, T threshold, size_t firstTick) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html#l00274">RawDigitCorrelatedCorrectionAlg.cc:274</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_a86a8c40c14717bfc6b7a83593cf32d9a"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a86a8c40c14717bfc6b7a83593cf32d9a">caldata::RawDigitCorrelatedCorrectionAlg::smoothCorrectionVec</a></div><div class="ttdeci">void smoothCorrectionVec(std::vector&lt; float &gt; &amp;, unsigned int &amp;) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html#l00070">RawDigitCorrelatedCorrectionAlg.cc:70</a></div></div>
<div class="ttc" id="namespaceutil_1_1quantities_html_a1a08bc762b79d6e1d7816c34d3e36f78"><div class="ttname"><a href="../../d3/d63/namespaceutil_1_1quantities.html#a1a08bc762b79d6e1d7816c34d3e36f78">util::quantities::tick</a></div><div class="ttdeci">tick_as&lt;&gt; tick</div><div class="ttdoc">Tick number, represented by std::ptrdiff_t. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d57/electronics_8h_source.html#l00075">electronics.h:75</a></div></div>
<div class="ttc" id="namespacetrkf_html_a70c1b5920b45babb363628ea6e073ea8"><div class="ttname"><a href="../../d0/da2/namespacetrkf.html#a70c1b5920b45babb363628ea6e073ea8">trkf::fill</a></div><div class="ttdeci">void fill(const art::PtrVector&lt; recob::Hit &gt; &amp;hits, int only_plane)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/KHitContainer_8cxx_source.html#l00018">KHitContainer.cxx:18</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_abbeafa1a2184f569c9d4cdb4bae10439"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#abbeafa1a2184f569c9d4cdb4bae10439">caldata::RawDigitCorrelatedCorrectionAlg::fNumWiresToGroup</a></div><div class="ttdeci">std::vector&lt; size_t &gt; fNumWiresToGroup</div><div class="ttdoc">If smoothing, the number of wires to look at. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00092">RawDigitCorrelatedCorrectionAlg.h:92</a></div></div>
<div class="ttc" id="namespacecaldata_html_a788ff201f1c9c2c1b3c34b97de1e8de6"><div class="ttname"><a href="../../db/d6d/namespacecaldata.html#a788ff201f1c9c2c1b3c34b97de1e8de6">caldata::WireToRawDigitVecMap</a></div><div class="ttdeci">std::map&lt; size_t, RawDigitVector &amp; &gt; WireToRawDigitVecMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d31/RawDigitNoiseFilterDefs_8h_source.html#l00031">RawDigitNoiseFilterDefs.h:31</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_a64973e1870aa74ca69b50e9d03da5b23"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a64973e1870aa74ca69b50e9d03da5b23">caldata::RawDigitCorrelatedCorrectionAlg::fFFTMinPowerThreshold</a></div><div class="ttdeci">std::vector&lt; double &gt; fFFTMinPowerThreshold</div><div class="ttdoc">Threshold for trimming FFT power spectrum. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00091">RawDigitCorrelatedCorrectionAlg.h:91</a></div></div>
<div class="ttc" id="namespacecaldata_html_a28d5fa2b0935f52b7a8a5b15b81f07a8"><div class="ttname"><a href="../../db/d6d/namespacecaldata.html#a28d5fa2b0935f52b7a8a5b15b81f07a8">caldata::WireToAdcIdxMap</a></div><div class="ttdeci">std::map&lt; size_t, RawDigitVectorIdxPair &gt; WireToAdcIdxMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d31/RawDigitNoiseFilterDefs_8h_source.html#l00029">RawDigitNoiseFilterDefs.h:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a86a8c40c14717bfc6b7a83593cf32d9a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void caldata::RawDigitCorrelatedCorrectionAlg::smoothCorrectionVec </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>corValVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>viewIdx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html#l00070">70</a> of file <a class="el" href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html">RawDigitCorrelatedCorrectionAlg.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment">// First get the truncated mean and rms for the input vector (noting that it is not in same format as raw data)</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// We need a local copy so we can sort it</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    std::vector&lt;float&gt; localCorValVec = corValVec;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    std::sort(localCorValVec.begin(),localCorValVec.end());</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordtype">int</span>   nTruncVal  = (1. - <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a6540a56ac3349cd472ca22cc017bf580">fTruncMeanFraction</a>) * localCorValVec.size();</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordtype">float</span> corValSum  = std::accumulate(localCorValVec.begin(),localCorValVec.begin() + nTruncVal,0.);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordtype">float</span> meanCorVal = corValSum / float(nTruncVal);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    std::vector&lt;float&gt; diffVec(nTruncVal);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">std::transform</a>(localCorValVec.begin(),localCorValVec.begin() + nTruncVal, diffVec.begin(), std::bind(std::minus&lt;float&gt;(),std::placeholders::_1,meanCorVal));</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordtype">float</span> rmsValSq   = std::inner_product(diffVec.begin(),diffVec.end(),diffVec.begin(),0.);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordtype">float</span> rmsVal     = std::sqrt(rmsValSq / <span class="keywordtype">float</span>(nTruncVal));</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// Now set up to run through and do a &quot;simple&quot; interpolation over outliers</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    std::vector&lt;float&gt;::iterator lastGoodItr = corValVec.begin();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordtype">bool</span> wasOutlier(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">for</span>(std::vector&lt;float&gt;::iterator corValItr = lastGoodItr+1; corValItr != corValVec.end(); corValItr++)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">if</span> (fabs(*corValItr - meanCorVal) &lt; <a class="code" href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a499a123613eac5e08e40c643c35e05be">fNumRmsToSmoothVec</a>.at(viewIdx)*rmsVal)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="keywordflow">if</span> (wasOutlier)</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                <span class="keywordtype">float</span> lastVal  = *lastGoodItr;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                <span class="keywordtype">float</span> curVal   = *corValItr;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="keywordtype">float</span> numTicks = std::distance(lastGoodItr,corValItr);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                <span class="keywordtype">float</span> slope    = (curVal - lastVal) / numTicks;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                <span class="keywordflow">while</span>(lastGoodItr != corValItr)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                    *lastGoodItr++ = (numTicks - std::distance(lastGoodItr,corValItr)) * slope + lastVal;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            wasOutlier  = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            lastGoodItr = corValItr;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">else</span> wasOutlier = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
<div class="ttc" id="namespaceicarus_1_1waveform__operations_1_1details_html_ae295d3f6cb2f9181dccdf0e3492d44e0"><div class="ttname"><a href="../../d5/d45/namespaceicarus_1_1waveform__operations_1_1details.html#ae295d3f6cb2f9181dccdf0e3492d44e0">icarus::waveform_operations::details::transform</a></div><div class="ttdeci">static constexpr Sample_t transform(Sample_t sample)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8e/WaveformOperations_8h_source.html#l00145">WaveformOperations.h:145</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_a6540a56ac3349cd472ca22cc017bf580"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a6540a56ac3349cd472ca22cc017bf580">caldata::RawDigitCorrelatedCorrectionAlg::fTruncMeanFraction</a></div><div class="ttdeci">float fTruncMeanFraction</div><div class="ttdoc">Fraction for truncated mean. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00083">RawDigitCorrelatedCorrectionAlg.h:83</a></div></div>
<div class="ttc" id="classcaldata_1_1RawDigitCorrelatedCorrectionAlg_html_a499a123613eac5e08e40c643c35e05be"><div class="ttname"><a href="../../d3/d20/classcaldata_1_1RawDigitCorrelatedCorrectionAlg.html#a499a123613eac5e08e40c643c35e05be">caldata::RawDigitCorrelatedCorrectionAlg::fNumRmsToSmoothVec</a></div><div class="ttdeci">std::vector&lt; float &gt; fNumRmsToSmoothVec</div><div class="ttdoc">&amp;quot;sigma&amp;quot; to smooth correlated correction vec</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00095">RawDigitCorrelatedCorrectionAlg.h:95</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a493230d682b4eec0e3a82c5baa5a35cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool caldata::RawDigitCorrelatedCorrectionAlg::fApplyCorSmoothing</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempt to smooth the correlated noise correction? </p>

<p>Definition at line <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00085">85</a> of file <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html">RawDigitCorrelatedCorrectionAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4e3d30ef980eadeb1db3466d05846457"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool caldata::RawDigitCorrelatedCorrectionAlg::fApplyFFTCorrection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Use an FFT to get the correlated noise correction. </p>

<p>Definition at line <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00086">86</a> of file <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html">RawDigitCorrelatedCorrectionAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae72086043da36c5125bb69a4a584ccdf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::set&lt;size_t&gt; &gt; caldata::RawDigitCorrelatedCorrectionAlg::fBadWiresbyViewAndWire</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00097">97</a> of file <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html">RawDigitCorrelatedCorrectionAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa4098426cb3f3484a13acaea11e0ac2f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; caldata::RawDigitCorrelatedCorrectionAlg::fFFTHistsStartTick</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starting tick for histograms. </p>

<p>Definition at line <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00090">90</a> of file <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html">RawDigitCorrelatedCorrectionAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a00b97fb6b74a3eb0e09389fe019bc72b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;size_t&gt; caldata::RawDigitCorrelatedCorrectionAlg::fFFTHistsWireGroup</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wire Group to pick on. </p>

<p>Definition at line <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00088">88</a> of file <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html">RawDigitCorrelatedCorrectionAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a64973e1870aa74ca69b50e9d03da5b23"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; caldata::RawDigitCorrelatedCorrectionAlg::fFFTMinPowerThreshold</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Threshold for trimming FFT power spectrum. </p>

<p>Definition at line <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00091">91</a> of file <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html">RawDigitCorrelatedCorrectionAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0767bd8cef997a22dbb9b649512927d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;size_t&gt; caldata::RawDigitCorrelatedCorrectionAlg::fFFTNumHists</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of hists total per view. </p>

<p>Definition at line <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00089">89</a> of file <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html">RawDigitCorrelatedCorrectionAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2a051be80ed6904f4b70296401e27bb6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool caldata::RawDigitCorrelatedCorrectionAlg::fFillFFTHistograms</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fill associated FFT histograms. </p>

<p>Definition at line <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00087">87</a> of file <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html">RawDigitCorrelatedCorrectionAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a52d175c1e4532c29221709583a286f9a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool caldata::RawDigitCorrelatedCorrectionAlg::fFillHistograms</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>if true then will fill diagnostic hists </p>

<p>Definition at line <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00093">93</a> of file <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html">RawDigitCorrelatedCorrectionAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0894073e38315a20d36fb4143a6bd45a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">art::ServiceHandle&lt;<a class="el" href="../../d8/df3/classgeo_1_1Geometry.html">geo::Geometry</a>&gt; caldata::RawDigitCorrelatedCorrectionAlg::fGeometry</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>pointer to Geometry service </p>

<p>Definition at line <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00100">100</a> of file <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html">RawDigitCorrelatedCorrectionAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a499a123613eac5e08e40c643c35e05be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;float&gt; caldata::RawDigitCorrelatedCorrectionAlg::fNumRmsToSmoothVec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><h1>"sigma" to smooth correlated correction vec</h1>
</p>

<p>Definition at line <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00095">95</a> of file <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html">RawDigitCorrelatedCorrectionAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="abbeafa1a2184f569c9d4cdb4bae10439"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;size_t&gt; caldata::RawDigitCorrelatedCorrectionAlg::fNumWiresToGroup</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If smoothing, the number of wires to look at. </p>

<p>Definition at line <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00092">92</a> of file <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html">RawDigitCorrelatedCorrectionAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a01d19a81465850247e6d61c6086ae81e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool caldata::RawDigitCorrelatedCorrectionAlg::fRunFFTCorrected</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Should we run FFT's on corrected wires? </p>

<p>Definition at line <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00094">94</a> of file <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html">RawDigitCorrelatedCorrectionAlg.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6540a56ac3349cd472ca22cc017bf580"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float caldata::RawDigitCorrelatedCorrectionAlg::fTruncMeanFraction</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fraction for truncated mean. </p>

<p>Definition at line <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html#l00083">83</a> of file <a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html">RawDigitCorrelatedCorrectionAlg.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d2/d61/RawDigitCorrelatedCorrectionAlg_8h_source.html">RawDigitCorrelatedCorrectionAlg.h</a></li>
<li><a class="el" href="../../d3/dff/RawDigitCorrelatedCorrectionAlg_8cc_source.html">RawDigitCorrelatedCorrectionAlg.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
